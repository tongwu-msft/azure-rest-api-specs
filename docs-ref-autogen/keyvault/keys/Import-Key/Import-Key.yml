### YamlMime:RESTOperation
uid: keyvault.keys.importkey.importkey
name: Import Key
service: Key Vault
groupName: Import Key
apiVersion: "7.3"
summary: "Imports an externally created key, stores it, and returns key parameters and attributes to the client.  \nThe import key operation may be used to import any key type into an Azure Key Vault. If the named key already exists, Azure Key Vault creates a new version of the key. This operation requires the keys/import permission."
consumes:
- application/json
produces:
- application/json
paths:
- content: PUT {vaultBaseUrl}/keys/{key-name}?api-version=7.3
uriParameters:
- name: vaultBaseUrl
  in: path
  isRequired: true
  skipUrlEncoding: true
  description: The vault name, for example https://myvault.vault.azure.net.
  types:
  - uid: string
- name: key-name
  in: path
  isRequired: true
  description: Name for the imported key.
  types:
  - uid: string
  pattern: ^[0-9a-zA-Z-]+$
- name: api-version
  in: query
  isRequired: true
  description: Client API version.
  types:
  - uid: string
responses:
- name: 200 OK
  description: Imported key bundle to the vault.
  types:
  - uid: KeyBundle
- name: Other Status Codes
  description: Key Vault error response describing why the operation failed.
  types:
  - uid: KeyVaultError
requestBody:
- name: default
  parameters:
  - name: Hsm
    in: body
    description: Whether to import as a hardware key (HSM) or software key.
    types:
    - uid: boolean
  - name: key
    in: body
    isRequired: true
    description: The Json web key
    types:
    - uid: JsonWebKey
  - name: attributes
    in: body
    description: The key management attributes.
    types:
    - uid: KeyAttributes
  - name: tags
    in: body
    description: Application specific metadata in the form of key-value pairs.
    types:
    - uid: object
      isDictionary: true
      additionalTypes:
      - uid: string
      - uid: string
  - name: release_policy
    in: body
    description: The policy rules under which the key can be exported.
    types:
    - uid: KeyReleasePolicy
requestHeader: []
definitions:
- name: JsonWebKey
  description: As of http://tools.ietf.org/html/draft-ietf-jose-json-web-key-18
  kind: object
  properties:
  - name: kid
    description: Key identifier.
    types:
    - uid: string
  - name: kty
    description: JsonWebKey Key Type (kty), as defined in https://tools.ietf.org/html/draft-ietf-jose-json-web-algorithms-40.
    types:
    - uid: JsonWebKeyType
  - name: key_ops
    description: Supported key operations.
    types:
    - uid: string
      isArray: true
  - name: n
    description: RSA modulus.
    types:
    - uid: string
  - name: e
    description: RSA public exponent.
    types:
    - uid: string
  - name: d
    description: RSA private exponent, or the D component of an EC private key.
    types:
    - uid: string
  - name: dp
    description: RSA private key parameter.
    types:
    - uid: string
  - name: dq
    description: RSA private key parameter.
    types:
    - uid: string
  - name: qi
    description: RSA private key parameter.
    types:
    - uid: string
  - name: p
    description: RSA secret prime.
    types:
    - uid: string
  - name: q
    description: RSA secret prime, with p < q.
    types:
    - uid: string
  - name: k
    description: Symmetric key.
    types:
    - uid: string
  - name: key_hsm
    description: Protected Key, used with 'Bring Your Own Key'.
    types:
    - uid: string
  - name: crv
    description: Elliptic curve name. For valid values, see JsonWebKeyCurveName.
    types:
    - uid: JsonWebKeyCurveName
  - name: x
    description: X component of an EC public key.
    types:
    - uid: string
  - name: y
    description: Y component of an EC public key.
    types:
    - uid: string
- name: KeyAttributes
  description: The attributes of a key managed by the key vault service.
  kind: object
  properties:
  - name: recoverableDays
    isReadyOnly: true
    description: softDelete data retention days. Value should be >=7 and <=90 when softDelete enabled, otherwise 0.
    types:
    - uid: integer
  - name: recoveryLevel
    isReadyOnly: true
    description: Reflects the deletion recovery level currently in effect for keys in the current vault. If it contains 'Purgeable' the key can be permanently deleted by a privileged user; otherwise, only the system can purge the key, at the end of the retention interval.
    types:
    - uid: DeletionRecoveryLevel
  - name: exportable
    description: Indicates if the private key can be exported.
    types:
    - uid: boolean
  - name: enabled
    description: Determines whether the object is enabled.
    types:
    - uid: boolean
  - name: nbf
    description: Not before date in UTC.
    types:
    - uid: integer
  - name: exp
    description: Expiry date in UTC.
    types:
    - uid: integer
  - name: created
    isReadyOnly: true
    description: Creation time in UTC.
    types:
    - uid: integer
  - name: updated
    isReadyOnly: true
    description: Last updated time in UTC.
    types:
    - uid: integer
- name: KeyReleasePolicy
  kind: object
  properties:
  - name: contentType
    description: Content type and version of key release policy
    types:
    - uid: string
    defaultValue: application/json; charset=utf-8
  - name: immutable
    description: Defines the mutability state of the policy. Once marked immutable, this flag cannot be reset and the policy cannot be changed under any circumstances.
    types:
    - uid: boolean
  - name: data
    description: Blob encoding the policy rules under which the key can be released.
    types:
    - uid: string
- name: KeyBundle
  description: A KeyBundle consisting of a WebKey plus its attributes.
  kind: object
  properties:
  - name: key
    description: The Json web key.
    types:
    - uid: JsonWebKey
  - name: attributes
    description: The key management attributes.
    types:
    - uid: KeyAttributes
  - name: tags
    description: Application specific metadata in the form of key-value pairs.
    types:
    - uid: object
      isDictionary: true
      additionalTypes:
      - uid: string
      - uid: string
  - name: managed
    isReadyOnly: true
    description: True if the key's lifetime is managed by key vault. If this is a key backing a certificate, then managed will be true.
    types:
    - uid: boolean
  - name: release_policy
    description: The policy rules under which the key can be exported.
    types:
    - uid: KeyReleasePolicy
- name: KeyVaultError
  description: The key vault error exception.
  kind: object
  properties:
  - name: error
    isReadyOnly: true
    description: The key vault server error.
    types:
    - uid: Error
- name: KeyImportParameters
  description: The key import parameters.
  kind: object
  properties:
  - name: Hsm
    description: Whether to import as a hardware key (HSM) or software key.
    types:
    - uid: boolean
  - name: key
    description: The Json web key
    types:
    - uid: JsonWebKey
  - name: attributes
    description: The key management attributes.
    types:
    - uid: KeyAttributes
  - name: tags
    description: Application specific metadata in the form of key-value pairs.
    types:
    - uid: object
      isDictionary: true
      additionalTypes:
      - uid: string
      - uid: string
  - name: release_policy
    description: The policy rules under which the key can be exported.
    types:
    - uid: KeyReleasePolicy
- name: JsonWebKeyType
  description: JsonWebKey Key Type (kty), as defined in https://tools.ietf.org/html/draft-ietf-jose-json-web-algorithms-40.
  kind: enum
  properties:
  - name: EC
    description: Elliptic Curve.
    types:
    - uid: string
  - name: EC-HSM
    description: Elliptic Curve with a private key which is stored in the HSM.
    types:
    - uid: string
  - name: RSA
    description: RSA (https://tools.ietf.org/html/rfc3447)
    types:
    - uid: string
  - name: RSA-HSM
    description: RSA with a private key which is stored in the HSM.
    types:
    - uid: string
  - name: oct
    description: Octet sequence (used to represent symmetric keys)
    types:
    - uid: string
  - name: oct-HSM
    description: Octet sequence (used to represent symmetric keys) which is stored the HSM.
    types:
    - uid: string
- name: JsonWebKeyCurveName
  description: Elliptic curve name. For valid values, see JsonWebKeyCurveName.
  kind: enum
  properties:
  - name: P-256
    description: The NIST P-256 elliptic curve, AKA SECG curve SECP256R1.
    types:
    - uid: string
  - name: P-384
    description: The NIST P-384 elliptic curve, AKA SECG curve SECP384R1.
    types:
    - uid: string
  - name: P-521
    description: The NIST P-521 elliptic curve, AKA SECG curve SECP521R1.
    types:
    - uid: string
  - name: P-256K
    description: The SECG SECP256K1 elliptic curve.
    types:
    - uid: string
- name: DeletionRecoveryLevel
  description: Reflects the deletion recovery level currently in effect for keys in the current vault. If it contains 'Purgeable' the key can be permanently deleted by a privileged user; otherwise, only the system can purge the key, at the end of the retention interval.
  kind: enum
  properties:
  - name: Purgeable
    description: Denotes a vault state in which deletion is an irreversible operation, without the possibility for recovery. This level corresponds to no protection being available against a Delete operation; the data is irretrievably lost upon accepting a Delete operation at the entity level or higher (vault, resource group, subscription etc.)
    types:
    - uid: string
  - name: Recoverable+Purgeable
    description: Denotes a vault state in which deletion is recoverable, and which also permits immediate and permanent deletion (i.e. purge). This level guarantees the recoverability of the deleted entity during the retention interval (90 days), unless a Purge operation is requested, or the subscription is cancelled. System wil permanently delete it after 90 days, if not recovered
    types:
    - uid: string
  - name: Recoverable
    description: Denotes a vault state in which deletion is recoverable without the possibility for immediate and permanent deletion (i.e. purge). This level guarantees the recoverability of the deleted entity during the retention interval(90 days) and while the subscription is still available. System wil permanently delete it after 90 days, if not recovered
    types:
    - uid: string
  - name: Recoverable+ProtectedSubscription
    description: Denotes a vault and subscription state in which deletion is recoverable within retention interval (90 days), immediate and permanent deletion (i.e. purge) is not permitted, and in which the subscription itself  cannot be permanently canceled. System wil permanently delete it after 90 days, if not recovered
    types:
    - uid: string
  - name: CustomizedRecoverable+Purgeable
    description: Denotes a vault state in which deletion is recoverable, and which also permits immediate and permanent deletion (i.e. purge when 7<= SoftDeleteRetentionInDays < 90). This level guarantees the recoverability of the deleted entity during the retention interval, unless a Purge operation is requested, or the subscription is cancelled.
    types:
    - uid: string
  - name: CustomizedRecoverable
    description: Denotes a vault state in which deletion is recoverable without the possibility for immediate and permanent deletion (i.e. purge when 7<= SoftDeleteRetentionInDays < 90).This level guarantees the recoverability of the deleted entity during the retention interval and while the subscription is still available.
    types:
    - uid: string
  - name: CustomizedRecoverable+ProtectedSubscription
    description: Denotes a vault and subscription state in which deletion is recoverable, immediate and permanent deletion (i.e. purge) is not permitted, and in which the subscription itself cannot be permanently canceled when 7<= SoftDeleteRetentionInDays < 90. This level guarantees the recoverability of the deleted entity during the retention interval, and also reflects the fact that the subscription itself cannot be cancelled.
    types:
    - uid: string
- name: Error
  description: The key vault server error.
  kind: object
  properties:
  - name: code
    isReadyOnly: true
    description: The error code.
    types:
    - uid: string
  - name: message
    isReadyOnly: true
    description: The error message.
    types:
    - uid: string
  - name: innererror
    isReadyOnly: true
    description: The key vault server error.
    types:
    - uid: Error
examples:
- name: Import key
  request:
    uri: PUT https://myvault.vault.azure.net//keys/ImportSoftKeyTest?api-version=7.3
    body: >-
      {
        "key": {
          "kty": "RSA",
          "n": "nKAwarTrOpzd1hhH4cQNdVTgRF-b0ubPD8ZNVf0UXjb62QuAk3Dn68ESThcF7SoDYRx2QVcfoMC9WCcuQUQDieJF-lvJTSer1TwH72NBovwKlHvrXqEI0a6_uVYY5n-soGt7qFZNbwQLdWWA6PrbqTLIkv6r01dcuhTiQQAn6OWEa0JbFvWfF1kILQIaSBBBaaQ4R7hZs7-VQTHGD7J1xGteof4gw2VTiwNdcE8p5UG5b6S9KQwAeET4yB4KFPwQ3TDdzxJQ89mwYVi_sgAIggN54hTq4oEKYJHBOMtFGIN0_HQ60ZSUnpOi87xNC-8VFqnv4rfTQ7nkK6XMvjMVfw",
          "e": "AQAB",
          "d": "GeT1_D5LAZa7qlC7WZ0DKJnOth8kcPrN0urTEFtWCbmHQWkAad_px_VUpGp0BWDDzENbXbQcu4QCCdf4crve5eXt8dVI86OSah-RpEdBq8OFsETIhg2Tmq8MbYTJexoynRcIC62xAaCmkFMmu931gQSvWnYWTEuOPgmD2oE_F-bP9TFlGRc69a6MSbtcSRyFTsd5KsUr40QS4zf2W4kZCOWejyLuxk88SXgUqcJx86Ulc1Ol1KkTBLadvReAZCyCMwKBlNRGw46BU_iK0vK7rTD9fmEd639Gjti6eLpnyQYpnVe8uGgwVU1fHBkAKyapWoEG6VMhMntcrvgukKLIsQ",
          "dp": "ZGnmWx-Nca71z9a9vvT4g02iv3S-3kSgmhl8JST09YQwK8tfiK7nXnNMtXJi2K4dLKKnLicGtCzB6W3mXdLcP2SUOWDOeStoBt8HEBT4MrI1psCKqnBum78WkHju90rBFj99amkP6UeQy5EASAzgmKQu2nUaUnRV0lYP8LHMCkE",
          "dq": "dtpke0foFs04hPS6XYLA5lc7-1MAHfZKN4CkMAofwDqPmRQzCxpDJUk0gMWGJEdU_Lqfbg22Py44cci0dczH36NW3UU5BL86T2_SPPDOuyX7kDscrIJCdowxQCGJHGRBEozM_uTL46wu6UnUIv7m7cuGgodJyZBcdwpo6ziFink",
          "qi": "Y9KD5GaHkAYmAqpOfAQUMr71QuAAaBb0APzMuUvoEYw39PD3_vJeh9HZ15QmJ8zCX10-nlzUB-bWwvK-rGcJXbK4pArilr5MiaYv7e8h5eW2zs2_itDJ6Oebi-wVbMhg7DvUTBbkCvPhhIedE4UlDQmMYP7RhzVVs7SfmkGs_DQ",
          "p": "v1jeCPnuJQM2PW2690Q9KJk0Ulok8VFGjkcHUHVi3orKdy7y_TCIWM6ZGvgFzI6abinzYbTEPKV4wFdMAwvOWmawXj5YrsoeB44_HXJ0ak_5_iP6XXR8MLGXbd0ZqsxvAZyzMj9vyle7EN2cBod6aenI2QZoRDucPvjPwZsZotk",
          "q": "0Yv-Dj6qnvx_LL70lUnKA6MgHE_bUC4drl5ZNDDsUdUUYfxIK4G1rGU45kHGtp-Qg-Uyf9s52ywLylhcVE3jfbjOgEozlSwKyhqfXkLpMLWHqOKj9fcfYd4PWKPOgpzWsqjA6fJbBUMYo0CU2G9cWCtVodO7sBJVSIZunWrAlBc"
        },
        "tags": {
          "purpose": "unit test"
        }
      }
  responses:
  - statusCode: "200"
    body: >-
      {
        "key": {
          "kid": "https://myvault.vault.azure.net/keys/ImportSoftKeyTest/2eb4a15d74184c6f84159c3ca90f0f4b",
          "kty": "RSA",
          "key_ops": [
            "encrypt",
            "decrypt",
            "sign",
            "verify",
            "wrapKey",
            "unwrapKey"
          ],
          "n": "nKAwarTrOpzd1hhH4cQNdVTgRF-b0ubPD8ZNVf0UXjb62QuAk3Dn68ESThcF7SoDYRx2QVcfoMC9WCcuQUQDieJF-lvJTSer1TwH72NBovwKlHvrXqEI0a6_uVYY5n-soGt7qFZNbwQLdWWA6PrbqTLIkv6r01dcuhTiQQAn6OWEa0JbFvWfF1kILQIaSBBBaaQ4R7hZs7-VQTHGD7J1xGteof4gw2VTiwNdcE8p5UG5b6S9KQwAeET4yB4KFPwQ3TDdzxJQ89mwYVi_sgAIggN54hTq4oEKYJHBOMtFGIN0_HQ60ZSUnpOi87xNC-8VFqnv4rfTQ7nkK6XMvjMVfw",
          "e": "AQAB"
        },
        "attributes": {
          "enabled": true,
          "created": 1493942691,
          "updated": 1493942691,
          "recoveryLevel": "Recoverable+Purgeable"
        },
        "tags": {
          "purpose": "unit test"
        }
      }
security: []
metadata:
  description: Imports an externally created key, stores it, and returns key parameters and attributes to the client.
errorCodes: []
