### YamlMime:RESTOperation
uid: management.azure.com.cosmos-db-resource-provider.2021-10-15.restorablemongodbdatabases.list
name: List
service: Cosmos DB Resource Provider
groupName: Restorable Mongodb Databases
apiVersion: 2021-10-15
summary: Show the event feed of all mutations done on all the Azure Cosmos DB MongoDB databases under the restorable account.  This helps in scenario where database was accidentally deleted to get the deletion time.  This API requires  'Microsoft.DocumentDB/locations/restorableDatabaseAccounts/.../read' permission
consumes:
- application/json
produces:
- application/json
paths:
- content: GET https://management.azure.com/subscriptions/{subscriptionId}/providers/Microsoft.DocumentDB/locations/{location}/restorableDatabaseAccounts/{instanceId}/restorableMongodbDatabases?api-version=2021-10-15
uriParameters:
- name: subscriptionId
  in: path
  isRequired: true
  description: The ID of the target subscription.
  types:
  - uid: string
- name: location
  in: path
  isRequired: true
  description: Cosmos DB region, with spaces between words and each word capitalized.
  types:
  - uid: string
- name: instanceId
  in: path
  isRequired: true
  description: The instanceId GUID of a restorable database account.
  types:
  - uid: string
- name: api-version
  in: query
  isRequired: true
  description: The API version to use for this operation.
  types:
  - uid: string
responses:
- name: 200 OK
  description: The operation completed successfully.
  types:
  - uid: RestorableMongodbDatabasesListResult
- name: Other Status Codes
  description: Error response describing why the operation failed.
  types:
  - uid: CloudError
requestHeader: []
definitions:
- name: RestorableMongodbDatabasesListResult
  description: The List operation response, that contains the MongoDB database events and their properties.
  kind: object
  properties:
  - name: value
    isReadyOnly: true
    description: List of MongoDB database events and their properties.
    types:
    - uid: RestorableMongodbDatabaseGetResult
      isArray: true
- name: CloudError
  description: An error response from the service.
  kind: object
  properties:
  - name: error
    description: Error Response.
    types:
    - uid: ErrorResponse
- name: RestorableMongodbDatabaseGetResult
  description: An Azure Cosmos DB MongoDB database event
  kind: object
  properties:
  - name: id
    isReadyOnly: true
    description: The unique resource Identifier of the ARM resource.
    types:
    - uid: string
  - name: name
    isReadyOnly: true
    description: The name of the ARM resource.
    types:
    - uid: string
  - name: type
    isReadyOnly: true
    description: The type of Azure resource.
    types:
    - uid: string
  - name: properties.resource
    description: The resource of an Azure Cosmos DB MongoDB database event
    types:
    - uid: Resource
- name: ErrorResponse
  description: Error Response.
  kind: object
  properties:
  - name: code
    description: Error code.
    types:
    - uid: string
  - name: message
    description: Error message indicating why the operation failed.
    types:
    - uid: string
- name: Resource
  description: The resource of an Azure Cosmos DB MongoDB database event
  kind: object
  properties:
  - name: _rid
    isReadyOnly: true
    description: A system generated property. A unique identifier.
    types:
    - uid: string
  - name: operationType
    isReadyOnly: true
    description: The operation type of this database event.
    types:
    - uid: OperationType
  - name: eventTimestamp
    isReadyOnly: true
    description: The time when this database event happened.
    types:
    - uid: string
  - name: ownerId
    isReadyOnly: true
    description: The name of this MongoDB database.
    types:
    - uid: string
  - name: ownerResourceId
    isReadyOnly: true
    description: The resource ID of this MongoDB database.
    types:
    - uid: string
- name: OperationType
  description: Enum to indicate the operation type of the event.
  kind: enum
  properties:
  - name: Create
    types:
    - uid: string
  - name: Replace
    types:
    - uid: string
  - name: Delete
    types:
    - uid: string
  - name: SystemOperation
    types:
    - uid: string
examples:
- name: CosmosDBRestorableMongodbDatabaseList
  request:
    uri: GET https://management.azure.com/subscriptions/2296c272-5d55-40d9-bc05-4d56dc2d7588/providers/Microsoft.DocumentDB/locations/WestUS/restorableDatabaseAccounts/d9b26648-2f53-4541-b3d8-3044f4f9810d/restorableMongodbDatabases?api-version=2021-10-15
    codeTab: |+
      # [HTTP](#tab/HTTP)
      ``` http
      GET https://management.azure.com/subscriptions/2296c272-5d55-40d9-bc05-4d56dc2d7588/providers/Microsoft.DocumentDB/locations/WestUS/restorableDatabaseAccounts/d9b26648-2f53-4541-b3d8-3044f4f9810d/restorableMongodbDatabases?api-version=2021-10-15
      ```

      # [Java](#tab/Java)
      ``` java
      import com.azure.core.util.Context;

      /** Samples for RestorableMongodbDatabases List. */
      public final class Main {
          /*
           * x-ms-original-file: specification/cosmos-db/resource-manager/Microsoft.DocumentDB/stable/2021-10-15/examples/CosmosDBRestorableMongodbDatabaseList.json
           */
          /**
           * Sample code: CosmosDBRestorableMongodbDatabaseList.
           *
           * @param azure The entry point for accessing resource management APIs in Azure.
           */
          public static void cosmosDBRestorableMongodbDatabaseList(com.azure.resourcemanager.AzureResourceManager azure) {
              azure
                  .cosmosDBAccounts()
                  .manager()
                  .serviceClient()
                  .getRestorableMongodbDatabases()
                  .list("WestUS", "d9b26648-2f53-4541-b3d8-3044f4f9810d", Context.NONE);
          }
      }

      ```
      Read this [SDK documentation](https://github.com/Azure/azure-sdk-for-java/blob/azure-resourcemanager_2.16.0/sdk/resourcemanager/azure-resourcemanager/README.md) on how to add the SDK to your project and authenticate.
      # [Go](#tab/Go)
      ``` go
      package armcosmos_test

      import (
      	"context"
      	"log"

      	"github.com/Azure/azure-sdk-for-go/sdk/azidentity"
      	"github.com/Azure/azure-sdk-for-go/sdk/resourcemanager/cosmos/armcosmos"
      )

      // Generated from example definition: https://github.com/Azure/azure-rest-api-specs/tree/main/specification/cosmos-db/resource-manager/Microsoft.DocumentDB/stable/2021-10-15/examples/CosmosDBRestorableMongodbDatabaseList.json
      func ExampleRestorableMongodbDatabasesClient_NewListPager() {
      	cred, err := azidentity.NewDefaultAzureCredential(nil)
      	if err != nil {
      		log.Fatalf("failed to obtain a credential: %v", err)
      	}
      	ctx := context.Background()
      	client, err := armcosmos.NewRestorableMongodbDatabasesClient("2296c272-5d55-40d9-bc05-4d56dc2d7588", cred, nil)
      	if err != nil {
      		log.Fatalf("failed to create client: %v", err)
      	}
      	pager := client.NewListPager("WestUS",
      		"d9b26648-2f53-4541-b3d8-3044f4f9810d",
      		nil)
      	for pager.More() {
      		nextResult, err := pager.NextPage(ctx)
      		if err != nil {
      			log.Fatalf("failed to advance page: %v", err)
      		}
      		for _, v := range nextResult.Value {
      			// TODO: use page item
      			_ = v
      		}
      	}
      }

      ```
      Read this [SDK documentation](https://github.com/Azure/azure-sdk-for-go/blob/sdk%2Fresourcemanager%2Fcosmos%2Farmcosmos%2Fv1.0.0/sdk/resourcemanager/cosmos/armcosmos/README.md) on how to add the SDK to your project and authenticate.
  responses:
  - statusCode: "200"
    body: >-
      {
        "value": [
          {
            "id": "/subscriptions/2296c272-5d55-40d9-bc05-4d56dc2d7588/providers/Microsoft.DocumentDb/locations/westus/restorableDatabaseAccounts/36f09704-6be3-4f33-aa05-17b73e504c75/restorableMongodbDatabases/59c21367-b98b-4a8e-abb7-b6f46600decc",
            "type": "Microsoft.DocumentDB/locations/restorableDatabaseAccounts/restorableMongodbDatabases",
            "name": "59c21367-b98b-4a8e-abb7-b6f46600decc",
            "properties": {
              "resource": {
                "_rid": "DLB14gAAAA==",
                "eventTimestamp": "2020-09-02T19:45:03Z",
                "ownerId": "Database1",
                "ownerResourceId": "PD5DALigDgw=",
                "operationType": "Create"
              }
            }
          },
          {
            "id": "/subscriptions/2296c272-5d55-40d9-bc05-4d56dc2d7588/providers/Microsoft.DocumentDb/locations/westus/restorableDatabaseAccounts/d9b26648-2f53-4541-b3d8-3044f4f9810d/restorableMongodbDatabases/8456cb17-cdb0-4c6a-8db8-d0ff3f886257",
            "type": "Microsoft.DocumentDB/locations/restorableDatabaseAccounts/restorableMongodbDatabases",
            "name": "8456cb17-cdb0-4c6a-8db8-d0ff3f886257",
            "properties": {
              "resource": {
                "_rid": "ESXNLAAAAA==",
                "eventTimestamp": "2020-09-02T19:53:42Z",
                "ownerId": "Database1",
                "ownerResourceId": "PD5DALigDgw=",
                "operationType": "Delete"
              }
            }
          }
        ]
      }
security:
- name: azure_auth
  type: oauth2
  description: Azure Active Directory OAuth2 Flow
  flow: implicit
  authorizationUrl: https://login.microsoftonline.com/common/oauth2/authorize
  scopes:
  - name: user_impersonation
    description: Impersonate your user account
metadata:
  description: Show the event feed of all mutations done on all the Azure Cosmos DB MongoDB databases under the restorable account.
errorCodes: []
