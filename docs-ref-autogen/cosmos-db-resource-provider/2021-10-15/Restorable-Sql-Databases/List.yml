### YamlMime:RESTOperation
uid: management.azure.com.cosmos-db-resource-provider.2021-10-15.restorablesqldatabases.list
name: List
service: Cosmos DB Resource Provider
groupName: Restorable Sql Databases
apiVersion: 2021-10-15
summary: Show the event feed of all mutations done on all the Azure Cosmos DB SQL databases under the restorable account.  This helps in scenario where database was accidentally deleted to get the deletion time.  This API requires 'Microsoft.DocumentDB/locations/restorableDatabaseAccounts/.../read' permission
consumes:
- application/json
produces:
- application/json
paths:
- content: GET https://management.azure.com/subscriptions/{subscriptionId}/providers/Microsoft.DocumentDB/locations/{location}/restorableDatabaseAccounts/{instanceId}/restorableSqlDatabases?api-version=2021-10-15
uriParameters:
- name: subscriptionId
  in: path
  isRequired: true
  description: The ID of the target subscription.
  types:
  - uid: string
- name: location
  in: path
  isRequired: true
  description: Cosmos DB region, with spaces between words and each word capitalized.
  types:
  - uid: string
- name: instanceId
  in: path
  isRequired: true
  description: The instanceId GUID of a restorable database account.
  types:
  - uid: string
- name: api-version
  in: query
  isRequired: true
  description: The API version to use for this operation.
  types:
  - uid: string
responses:
- name: 200 OK
  description: The operation completed successfully.
  types:
  - uid: RestorableSqlDatabasesListResult
- name: Other Status Codes
  description: Error response describing why the operation failed.
  types:
  - uid: CloudError
requestHeader: []
definitions:
- name: RestorableSqlDatabasesListResult
  description: The List operation response, that contains the SQL database events and their properties.
  kind: object
  properties:
  - name: value
    isReadyOnly: true
    description: List of SQL database events and their properties.
    types:
    - uid: RestorableSqlDatabaseGetResult
      isArray: true
- name: CloudError
  description: An error response from the service.
  kind: object
  properties:
  - name: error
    description: Error Response.
    types:
    - uid: ErrorResponse
- name: RestorableSqlDatabaseGetResult
  description: An Azure Cosmos DB SQL database event
  kind: object
  properties:
  - name: id
    isReadyOnly: true
    description: The unique resource Identifier of the ARM resource.
    types:
    - uid: string
  - name: name
    isReadyOnly: true
    description: The name of the ARM resource.
    types:
    - uid: string
  - name: type
    isReadyOnly: true
    description: The type of Azure resource.
    types:
    - uid: string
  - name: properties.resource
    description: The resource of an Azure Cosmos DB SQL database event
    types:
    - uid: Resource
- name: ErrorResponse
  description: Error Response.
  kind: object
  properties:
  - name: code
    description: Error code.
    types:
    - uid: string
  - name: message
    description: Error message indicating why the operation failed.
    types:
    - uid: string
- name: Resource
  description: The resource of an Azure Cosmos DB SQL database event
  kind: object
  properties:
  - name: _rid
    isReadyOnly: true
    description: A system generated property. A unique identifier.
    types:
    - uid: string
  - name: operationType
    isReadyOnly: true
    description: The operation type of this database event.
    types:
    - uid: OperationType
  - name: eventTimestamp
    isReadyOnly: true
    description: The time when this database event happened.
    types:
    - uid: string
  - name: ownerId
    isReadyOnly: true
    description: The name of the SQL database.
    types:
    - uid: string
  - name: ownerResourceId
    isReadyOnly: true
    description: The resource ID of the SQL database.
    types:
    - uid: string
  - name: database
    description: Cosmos DB SQL database resource object
    types:
    - uid: Database
- name: OperationType
  description: Enum to indicate the operation type of the event.
  kind: enum
  properties:
  - name: Create
    types:
    - uid: string
  - name: Replace
    types:
    - uid: string
  - name: Delete
    types:
    - uid: string
  - name: SystemOperation
    types:
    - uid: string
- name: Database
  description: Cosmos DB SQL database resource object
  kind: object
  properties:
  - name: _colls
    isReadyOnly: true
    description: A system generated property that specified the addressable path of the collections resource.
    types:
    - uid: string
  - name: _users
    isReadyOnly: true
    description: A system generated property that specifies the addressable path of the users resource.
    types:
    - uid: string
  - name: _self
    isReadyOnly: true
    description: A system generated property that specifies the addressable path of the database resource.
    types:
    - uid: string
  - name: id
    description: Name of the Cosmos DB SQL database
    types:
    - uid: string
  - name: _rid
    isReadyOnly: true
    description: A system generated property. A unique identifier.
    types:
    - uid: string
  - name: _ts
    isReadyOnly: true
    description: A system generated property that denotes the last updated timestamp of the resource.
    types:
    - uid: number
  - name: _etag
    isReadyOnly: true
    description: A system generated property representing the resource etag required for optimistic concurrency control.
    types:
    - uid: string
examples:
- name: CosmosDBRestorableSqlDatabaseList
  request:
    uri: GET https://management.azure.com/subscriptions/2296c272-5d55-40d9-bc05-4d56dc2d7588/providers/Microsoft.DocumentDB/locations/WestUS/restorableDatabaseAccounts/d9b26648-2f53-4541-b3d8-3044f4f9810d/restorableSqlDatabases?api-version=2021-10-15
    codeTab: |+
      # [HTTP](#tab/HTTP)
      ``` http
      GET https://management.azure.com/subscriptions/2296c272-5d55-40d9-bc05-4d56dc2d7588/providers/Microsoft.DocumentDB/locations/WestUS/restorableDatabaseAccounts/d9b26648-2f53-4541-b3d8-3044f4f9810d/restorableSqlDatabases?api-version=2021-10-15
      ```

  responses:
  - statusCode: "200"
    body: >-
      {
        "value": [
          {
            "id": "/subscriptions/2296c272-5d55-40d9-bc05-4d56dc2d7588/providers/Microsoft.DocumentDb/locations/westus/restorableDatabaseAccounts/36f09704-6be3-4f33-aa05-17b73e504c75/restorableSqlDatabases/59c21367-b98b-4a8e-abb7-b6f46600decc",
            "type": "Microsoft.DocumentDB/locations/restorableDatabaseAccounts/restorableSqlDatabases",
            "name": "59c21367-b98b-4a8e-abb7-b6f46600decc",
            "properties": {
              "resource": {
                "_rid": "DLB14gAAAA==",
                "eventTimestamp": "2020-09-02T19:45:03Z",
                "ownerId": "Database1",
                "ownerResourceId": "3fu-hg==",
                "operationType": "Create",
                "database": {
                  "id": "Database1",
                  "_rid": "3fu-hg==",
                  "_self": "dbs/3fu-hg==/",
                  "_etag": "\"0000c20a-0000-0700-0000-5f4ff63f0000\"",
                  "_colls": "colls/",
                  "_users": "users/"
                }
              }
            }
          },
          {
            "id": "/subscriptions/2296c272-5d55-40d9-bc05-4d56dc2d7588/providers/Microsoft.DocumentDb/locations/westus/restorableDatabaseAccounts/d9b26648-2f53-4541-b3d8-3044f4f9810d/restorableSqlDatabases/8456cb17-cdb0-4c6a-8db8-d0ff3f886257",
            "type": "Microsoft.DocumentDB/locations/restorableDatabaseAccounts/restorableSqlDatabases",
            "name": "8456cb17-cdb0-4c6a-8db8-d0ff3f886257",
            "properties": {
              "resource": {
                "_rid": "ESXNLAAAAA==",
                "eventTimestamp": "2020-09-02T19:53:42Z",
                "ownerId": "Database1",
                "ownerResourceId": "3fu-hg==",
                "database": {
                  "id": "Database1",
                  "_rid": "3fu-hg==",
                  "_self": "dbs/3fu-hg==/",
                  "_etag": "\"0000c20a-0000-0700-0000-5f4ff63f0000\"",
                  "_colls": "colls/",
                  "_users": "users/",
                  "_ts": 1599075903
                },
                "operationType": "Delete"
              }
            }
          },
          {
            "id": "/subscriptions/2296c272-5d55-40d9-bc05-4d56dc2d7588/providers/Microsoft.DocumentDb/locations/westus/restorableDatabaseAccounts/d9b26648-2f53-4541-b3d8-3044f4f9810d/restorableSqlDatabases/2c07991b-9c7c-4e85-be68-b18c1f2ff326",
            "type": "Microsoft.DocumentDB/locations/restorableDatabaseAccounts/restorableSqlDatabases",
            "name": "2c07991b-9c7c-4e85-be68-b18c1f2ff326",
            "properties": {
              "resource": {
                "_rid": "aXFqUQAAAA==",
                "eventTimestamp": "2020-09-02T19:53:15Z",
                "ownerId": "Database2",
                "ownerResourceId": "0SziSg==",
                "database": {
                  "id": "Database2",
                  "_rid": "0SziSg==",
                  "_self": "dbs/0SziSg==/",
                  "_etag": "\"0000ca0a-0000-0700-0000-5f4ff82b0000\"",
                  "_colls": "colls/",
                  "_users": "users/"
                },
                "operationType": "Create"
              }
            }
          }
        ]
      }
security:
- name: azure_auth
  type: oauth2
  description: Azure Active Directory OAuth2 Flow
  flow: implicit
  authorizationUrl: https://login.microsoftonline.com/common/oauth2/authorize
  scopes:
  - name: user_impersonation
    description: Impersonate your user account
metadata:
  description: Show the event feed of all mutations done on all the Azure Cosmos DB SQL databases under the restorable account.
errorCodes: []
