### YamlMime:RESTOperation
uid: management.azure.com.cosmos-db-resource-provider.2022-05-15.sqlresources2.listsqlroledefinitions
name: List Sql Role Definitions
service: Cosmos DB Resource Provider
groupName: SqlResources2
apiVersion: 2022-05-15
summary: Retrieves the list of all Azure Cosmos DB SQL Role Definitions.
consumes:
- application/json
produces:
- application/json
paths:
- content: GET https://management.azure.com/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.DocumentDB/databaseAccounts/{accountName}/sqlRoleDefinitions?api-version=2022-05-15
uriParameters:
- name: subscriptionId
  in: path
  isRequired: true
  description: The ID of the target subscription.
  types:
  - uid: string
- name: resourceGroupName
  in: path
  isRequired: true
  description: The name of the resource group. The name is case insensitive.
  types:
  - uid: string
- name: accountName
  in: path
  isRequired: true
  description: Cosmos DB database account name.
  types:
  - uid: string
  pattern: ^[a-z0-9]+(-[a-z0-9]+)*
- name: api-version
  in: query
  isRequired: true
  description: The API version to use for this operation.
  types:
  - uid: string
responses:
- name: 200 OK
  description: The list operation completed successfully.
  types:
  - uid: SqlRoleDefinitionListResult
- name: Other Status Codes
  description: Error response describing why the operation failed.
  types:
  - uid: CloudError
requestHeader: []
definitions:
- name: SqlRoleDefinitionListResult
  description: The relevant Role Definitions.
  kind: object
  properties:
  - name: value
    isReadyOnly: true
    description: List of Role Definitions and their properties.
    types:
    - uid: SqlRoleDefinitionGetResults
      isArray: true
- name: CloudError
  description: An error response from the service.
  kind: object
  properties:
  - name: error
    description: Error Response.
    types:
    - uid: ErrorResponse
- name: SqlRoleDefinitionGetResults
  description: An Azure Cosmos DB SQL Role Definition.
  kind: object
  properties:
  - name: properties.roleName
    description: A user-friendly name for the Role Definition. Must be unique for the database account.
    types:
    - uid: string
  - name: properties.type
    description: Indicates whether the Role Definition was built-in or user created.
    types:
    - uid: RoleDefinitionType
  - name: properties.assignableScopes
    description: A set of fully qualified Scopes at or below which Role Assignments may be created using this Role Definition. This will allow application of this Role Definition on the entire database account or any underlying Database / Collection. Must have at least one element. Scopes higher than Database account are not enforceable as assignable Scopes. Note that resources referenced in assignable Scopes need not exist.
    types:
    - uid: string
      isArray: true
  - name: properties.permissions
    description: The set of operations allowed through this Role Definition.
    types:
    - uid: Permission
      isArray: true
  - name: id
    isReadyOnly: true
    description: The unique resource identifier of the database account.
    types:
    - uid: string
  - name: name
    isReadyOnly: true
    description: The name of the database account.
    types:
    - uid: string
  - name: type
    isReadyOnly: true
    description: The type of Azure resource.
    types:
    - uid: string
- name: ErrorResponse
  description: Error Response.
  kind: object
  properties:
  - name: code
    description: Error code.
    types:
    - uid: string
  - name: message
    description: Error message indicating why the operation failed.
    types:
    - uid: string
- name: RoleDefinitionType
  description: Indicates whether the Role Definition was built-in or user created.
  kind: enum
  properties:
  - name: BuiltInRole
    types:
    - uid: string
  - name: CustomRole
    types:
    - uid: string
- name: Permission
  description: The set of data plane operations permitted through this Role Definition.
  kind: object
  properties:
  - name: dataActions
    description: An array of data actions that are allowed.
    types:
    - uid: string
      isArray: true
  - name: notDataActions
    description: An array of data actions that are denied.
    types:
    - uid: string
      isArray: true
examples:
- name: CosmosDBSqlRoleDefinitionList
  request:
    uri: GET https://management.azure.com/subscriptions/mySubscriptionId/resourceGroups/myResourceGroupName/providers/Microsoft.DocumentDB/databaseAccounts/myAccountName/sqlRoleDefinitions?api-version=2022-05-15
    codeTab: |+
      # [HTTP](#tab/HTTP)
      ``` http
      GET https://management.azure.com/subscriptions/mySubscriptionId/resourceGroups/myResourceGroupName/providers/Microsoft.DocumentDB/databaseAccounts/myAccountName/sqlRoleDefinitions?api-version=2022-05-15
      ```

      # [Java](#tab/Java)
      ``` java
      import com.azure.core.util.Context;

      /** Samples for SqlResources ListSqlRoleDefinitions. */
      public final class Main {
          /*
           * x-ms-original-file: specification/cosmos-db/resource-manager/Microsoft.DocumentDB/stable/2022-05-15/examples/CosmosDBSqlRoleDefinitionList.json
           */
          /**
           * Sample code: CosmosDBSqlRoleDefinitionList.
           *
           * @param azure The entry point for accessing resource management APIs in Azure.
           */
          public static void cosmosDBSqlRoleDefinitionList(com.azure.resourcemanager.AzureResourceManager azure) {
              azure
                  .cosmosDBAccounts()
                  .manager()
                  .serviceClient()
                  .getSqlResources()
                  .listSqlRoleDefinitions("myResourceGroupName", "myAccountName", Context.NONE);
          }
      }

      ```
      Read this [SDK documentation](https://github.com/Azure/azure-sdk-for-java/blob/azure-resourcemanager_2.18.0/sdk/resourcemanager/azure-resourcemanager/README.md) on how to add the SDK to your project and authenticate.
      # [JavaScript](#tab/JavaScript)
      ``` js
      const { CosmosDBManagementClient } = require("@azure/arm-cosmosdb");
      const { DefaultAzureCredential } = require("@azure/identity");

      /**
       * This sample demonstrates how to Retrieves the list of all Azure Cosmos DB SQL Role Definitions.
       *
       * @summary Retrieves the list of all Azure Cosmos DB SQL Role Definitions.
       * x-ms-original-file: specification/cosmos-db/resource-manager/Microsoft.DocumentDB/stable/2022-05-15/examples/CosmosDBSqlRoleDefinitionList.json
       */
      async function cosmosDbSqlRoleDefinitionList() {
        const subscriptionId = "mySubscriptionId";
        const resourceGroupName = "myResourceGroupName";
        const accountName = "myAccountName";
        const credential = new DefaultAzureCredential();
        const client = new CosmosDBManagementClient(credential, subscriptionId);
        const resArray = new Array();
        for await (let item of client.sqlResources.listSqlRoleDefinitions(
          resourceGroupName,
          accountName
        )) {
          resArray.push(item);
        }
        console.log(resArray);
      }

      cosmosDbSqlRoleDefinitionList().catch(console.error);

      ```
      Read this [SDK documentation](https://github.com/Azure/azure-sdk-for-js/blob/%40azure%2Farm-cosmosdb_15.1.0/sdk/cosmosdb/arm-cosmosdb/README.md) on how to add the SDK to your project and authenticate.
  responses:
  - statusCode: "200"
    body: >-
      {
        "value": [
          {
            "id": "/subscriptions/mySubscriptionId/resourceGroups/myResourceGroupName/providers/Microsoft.DocumentDB/databaseAccounts/myAccountName/sqlRoleDefinitions/myRoleDefinitionId",
            "name": "myRoleDefinitionId",
            "type": "Microsoft.DocumentDB/databaseAccounts/sqlRoleDefinitions",
            "properties": {
              "roleName": "myRoleName",
              "type": "CustomRole",
              "assignableScopes": [
                "/subscriptions/mySubscriptionId/resourceGroups/myResourceGroupName/providers/Microsoft.DocumentDB/databaseAccounts/myAccountName/dbs/sales",
                "/subscriptions/mySubscriptionId/resourceGroups/myResourceGroupName/providers/Microsoft.DocumentDB/databaseAccounts/myAccountName/dbs/purchases"
              ],
              "permissions": [
                {
                  "dataActions": [
                    "Microsoft.DocumentDB/databaseAccounts/sqlDatabases/containers/items/create",
                    "Microsoft.DocumentDB/databaseAccounts/sqlDatabases/containers/items/read"
                  ],
                  "notDataActions": []
                }
              ]
            }
          }
        ]
      }
security:
- name: azure_auth
  type: oauth2
  description: Azure Active Directory OAuth2 Flow
  flow: implicit
  authorizationUrl: https://login.microsoftonline.com/common/oauth2/authorize
  scopes:
  - name: user_impersonation
    description: Impersonate your user account
metadata:
  description: >
    Learn more about Cosmos DB Resource Provider service - Retrieves the list of all Azure Cosmos DB SQL Role Definitions.
errorCodes: []
