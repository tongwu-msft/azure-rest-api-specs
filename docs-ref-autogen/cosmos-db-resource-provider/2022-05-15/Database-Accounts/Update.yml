### YamlMime:RESTOperation
uid: management.azure.com.cosmos-db-resource-provider.2022-05-15.databaseaccounts.update
name: Update
service: Cosmos DB Resource Provider
groupName: Database Accounts
apiVersion: 2022-05-15
summary: Updates the properties of an existing Azure Cosmos DB database account.
consumes:
- application/json
produces:
- application/json
paths:
- content: PATCH https://management.azure.com/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.DocumentDB/databaseAccounts/{accountName}?api-version=2022-05-15
uriParameters:
- name: subscriptionId
  in: path
  isRequired: true
  description: The ID of the target subscription.
  types:
  - uid: string
- name: resourceGroupName
  in: path
  isRequired: true
  description: The name of the resource group. The name is case insensitive.
  types:
  - uid: string
- name: accountName
  in: path
  isRequired: true
  description: Cosmos DB database account name.
  types:
  - uid: string
  pattern: ^[a-z0-9]+(-[a-z0-9]+)*
- name: api-version
  in: query
  isRequired: true
  description: The API version to use for this operation.
  types:
  - uid: string
responses:
- name: 200 OK
  description: The database account update operation will complete asynchronously.
  types:
  - uid: DatabaseAccountGetResults
requestBody:
- name: default
  parameters:
  - name: tags
    in: body
    description: 'Tags are a list of key-value pairs that describe the resource. These tags can be used in viewing and grouping this resource (across resource groups). A maximum of 15 tags can be provided for a resource. Each tag must have a key no greater than 128 characters and value no greater than 256 characters. For example, the default experience for a template type is set with "defaultExperience": "Cassandra". Current "defaultExperience" values also include "Table", "Graph", "DocumentDB", and "MongoDB".'
    types:
    - uid: object
      isDictionary: true
      additionalTypes:
      - uid: string
      - uid: string
  - name: location
    in: body
    description: The location of the resource group to which the resource belongs.
    types:
    - uid: string
  - name: identity
    in: body
    description: Identity for the resource.
    types:
    - uid: ManagedServiceIdentity
  - name: properties.consistencyPolicy
    in: body
    description: The consistency policy for the Cosmos DB account.
    types:
    - uid: ConsistencyPolicy
  - name: properties.locations
    in: body
    description: An array that contains the georeplication locations enabled for the Cosmos DB account.
    types:
    - uid: Location
      isArray: true
  - name: properties.ipRules
    in: body
    description: List of IpRules.
    types:
    - uid: IpAddressOrRange
      isArray: true
  - name: properties.isVirtualNetworkFilterEnabled
    in: body
    description: Flag to indicate whether to enable/disable Virtual Network ACL rules.
    types:
    - uid: boolean
  - name: properties.enableAutomaticFailover
    in: body
    description: Enables automatic failover of the write region in the rare event that the region is unavailable due to an outage. Automatic failover will result in a new write region for the account and is chosen based on the failover priorities configured for the account.
    types:
    - uid: boolean
  - name: properties.capabilities
    in: body
    description: List of Cosmos DB capabilities for the account
    types:
    - uid: Capability
      isArray: true
  - name: properties.virtualNetworkRules
    in: body
    description: List of Virtual Network ACL rules configured for the Cosmos DB account.
    types:
    - uid: VirtualNetworkRule
      isArray: true
  - name: properties.enableMultipleWriteLocations
    in: body
    description: Enables the account to write in multiple locations
    types:
    - uid: boolean
  - name: properties.enableCassandraConnector
    in: body
    description: Enables the cassandra connector on the Cosmos DB C* account
    types:
    - uid: boolean
  - name: properties.connectorOffer
    in: body
    description: The cassandra connector offer type for the Cosmos DB database C* account.
    types:
    - uid: ConnectorOffer
  - name: properties.disableKeyBasedMetadataWriteAccess
    in: body
    description: Disable write operations on metadata resources (databases, containers, throughput) via account keys
    types:
    - uid: boolean
  - name: properties.keyVaultKeyUri
    in: body
    description: The URI of the key vault
    types:
    - uid: string
  - name: properties.defaultIdentity
    in: body
    description: The default identity for accessing key vault used in features like customer managed keys. The default identity needs to be explicitly set by the users. It can be "FirstPartyIdentity", "SystemAssignedIdentity" and more.
    types:
    - uid: string
  - name: properties.publicNetworkAccess
    in: body
    description: Whether requests from Public Network are allowed
    types:
    - uid: PublicNetworkAccess
  - name: properties.enableFreeTier
    in: body
    description: Flag to indicate whether Free Tier is enabled.
    types:
    - uid: boolean
  - name: properties.apiProperties
    in: body
    description: API specific properties. Currently, supported only for MongoDB API.
    types:
    - uid: ApiProperties
  - name: properties.enableAnalyticalStorage
    in: body
    description: Flag to indicate whether to enable storage analytics.
    types:
    - uid: boolean
  - name: properties.analyticalStorageConfiguration
    in: body
    description: Analytical storage specific properties.
    types:
    - uid: AnalyticalStorageConfiguration
  - name: properties.backupPolicy
    in: body
    description: The object representing the policy for taking backups on an account.
    types:
    - uid: PeriodicModeBackupPolicy
    - uid: ContinuousModeBackupPolicy
    typesTitle: BackupPolicy
  - name: properties.cors
    in: body
    description: The CORS policy for the Cosmos DB database account.
    types:
    - uid: CorsPolicy
      isArray: true
  - name: properties.networkAclBypass
    in: body
    description: Indicates what services are allowed to bypass firewall checks.
    types:
    - uid: NetworkAclBypass
  - name: properties.networkAclBypassResourceIds
    in: body
    description: An array that contains the Resource Ids for Network Acl Bypass for the Cosmos DB account.
    types:
    - uid: string
      isArray: true
  - name: properties.disableLocalAuth
    in: body
    description: Opt-out of local authentication and ensure only MSI and AAD can be used exclusively for authentication.
    types:
    - uid: boolean
  - name: properties.capacity
    in: body
    description: The object that represents all properties related to capacity enforcement on an account.
    types:
    - uid: Capacity
requestHeader: []
definitions:
- name: ManagedServiceIdentity
  description: Identity for the resource.
  kind: object
  properties:
  - name: principalId
    isReadyOnly: true
    description: The principal id of the system assigned identity. This property will only be provided for a system assigned identity.
    types:
    - uid: string
  - name: tenantId
    isReadyOnly: true
    description: The tenant id of the system assigned identity. This property will only be provided for a system assigned identity.
    types:
    - uid: string
  - name: type
    description: The type of identity used for the resource. The type 'SystemAssigned,UserAssigned' includes both an implicitly created identity and a set of user assigned identities. The type 'None' will remove any identities from the service.
    types:
    - uid: ResourceIdentityType
  - name: userAssignedIdentities
    description: "The list of user identities associated with resource. The user identity dictionary key references will be ARM resource ids in the form: '/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.ManagedIdentity/userAssignedIdentities/{identityName}'."
    types:
    - uid: UserAssignedIdentities
- name: ConsistencyPolicy
  description: The consistency policy for the Cosmos DB database account.
  kind: object
  properties:
  - name: defaultConsistencyLevel
    description: The default consistency level and configuration settings of the Cosmos DB account.
    types:
    - uid: DefaultConsistencyLevel
  - name: maxStalenessPrefix
    description: When used with the Bounded Staleness consistency level, this value represents the number of stale requests tolerated. Accepted range for this value is 1 – 2,147,483,647. Required when defaultConsistencyPolicy is set to 'BoundedStaleness'.
    types:
    - uid: integer
  - name: maxIntervalInSeconds
    description: When used with the Bounded Staleness consistency level, this value represents the time amount of staleness (in seconds) tolerated. Accepted range for this value is 5 - 86400. Required when defaultConsistencyPolicy is set to 'BoundedStaleness'.
    types:
    - uid: integer
- name: Location
  description: A region in which the Azure Cosmos DB database account is deployed.
  kind: object
  properties:
  - name: id
    isReadyOnly: true
    description: 'The unique identifier of the region within the database account. Example: &lt;accountName&gt;-&lt;locationName&gt;.'
    types:
    - uid: string
  - name: locationName
    description: The name of the region.
    types:
    - uid: string
  - name: documentEndpoint
    isReadyOnly: true
    description: 'The connection endpoint for the specific region. Example: https://&lt;accountName&gt;-&lt;locationName&gt;.documents.azure.com:443/'
    types:
    - uid: string
  - name: provisioningState
    isReadyOnly: true
    description: The status of the Cosmos DB account at the time the operation was called. The status can be one of following. 'Creating' – the Cosmos DB account is being created. When an account is in Creating state, only properties that are specified as input for the Create Cosmos DB account operation are returned. 'Succeeded' – the Cosmos DB account is active for use. 'Updating' – the Cosmos DB account is being updated. 'Deleting' – the Cosmos DB account is being deleted. 'Failed' – the Cosmos DB account failed creation. 'DeletionFailed' – the Cosmos DB account deletion failed.
    types:
    - uid: string
  - name: failoverPriority
    description: The failover priority of the region. A failover priority of 0 indicates a write region. The maximum value for a failover priority = (total number of regions - 1). Failover priority values must be unique for each of the regions in which the database account exists.
    types:
    - uid: integer
  - name: isZoneRedundant
    description: Flag to indicate whether or not this region is an AvailabilityZone region
    types:
    - uid: boolean
- name: IpAddressOrRange
  description: IpAddressOrRange object
  kind: object
  properties:
  - name: ipAddressOrRange
    description: 'A single IPv4 address or a single IPv4 address range in CIDR format. Provided IPs must be well-formatted and cannot be contained in one of the following ranges: 10.0.0.0/8, 100.64.0.0/10, 172.16.0.0/12, 192.168.0.0/16, since these are not enforceable by the IP address filter. Example of valid inputs: “23.40.210.245” or “23.40.210.0/8”.'
    types:
    - uid: string
- name: Capability
  description: Cosmos DB capability object
  kind: object
  properties:
  - name: name
    description: 'Name of the Cosmos DB capability. For example, "name": "EnableCassandra". Current values also include "EnableTable" and "EnableGremlin".'
    types:
    - uid: string
- name: VirtualNetworkRule
  description: Virtual Network ACL Rule object
  kind: object
  properties:
  - name: id
    description: 'Resource ID of a subnet, for example: /subscriptions/{subscriptionId}/resourceGroups/{groupName}/providers/Microsoft.Network/virtualNetworks/{virtualNetworkName}/subnets/{subnetName}.'
    types:
    - uid: string
  - name: ignoreMissingVNetServiceEndpoint
    description: Create firewall rule before the virtual network has vnet service endpoint enabled.
    types:
    - uid: boolean
- name: ApiProperties
  kind: object
  properties:
  - name: serverVersion
    description: Describes the ServerVersion of an a MongoDB account.
    types:
    - uid: ServerVersion
- name: AnalyticalStorageConfiguration
  description: Analytical storage specific properties.
  kind: object
  properties:
  - name: schemaType
    description: Describes the types of schema for analytical storage.
    types:
    - uid: AnalyticalStorageSchemaType
- name: CorsPolicy
  description: The CORS policy for the Cosmos DB database account.
  kind: object
  properties:
  - name: allowedOrigins
    description: The origin domains that are permitted to make a request against the service via CORS.
    types:
    - uid: string
  - name: allowedMethods
    description: The methods (HTTP request verbs) that the origin domain may use for a CORS request.
    types:
    - uid: string
  - name: allowedHeaders
    description: The request headers that the origin domain may specify on the CORS request.
    types:
    - uid: string
  - name: exposedHeaders
    description: The response headers that may be sent in the response to the CORS request and exposed by the browser to the request issuer.
    types:
    - uid: string
  - name: maxAgeInSeconds
    description: The maximum amount time that a browser should cache the preflight OPTIONS request.
    types:
    - uid: integer
- name: Capacity
  description: The object that represents all properties related to capacity enforcement on an account.
  kind: object
  properties:
  - name: totalThroughputLimit
    description: The total throughput limit imposed on the account. A totalThroughputLimit of 2000 imposes a strict limit of max throughput that can be provisioned on that account to be 2000. A totalThroughputLimit of -1 indicates no limits on provisioning of throughput.
    types:
    - uid: integer
- name: DatabaseAccountGetResults
  description: An Azure Cosmos DB database account.
  kind: object
  properties:
  - name: kind
    description: Indicates the type of database account. This can only be set at database account creation.
    types:
    - uid: DatabaseAccountKind
    defaultValue: GlobalDocumentDB
  - name: identity
    description: Identity for the resource.
    types:
    - uid: ManagedServiceIdentity
  - name: systemData
    isReadyOnly: true
    description: The system meta data relating to this resource.
    types:
    - uid: systemData
  - name: properties.provisioningState
    isReadyOnly: true
    description: The status of the Cosmos DB account at the time the operation was called. The status can be one of following. 'Creating' – the Cosmos DB account is being created. When an account is in Creating state, only properties that are specified as input for the Create Cosmos DB account operation are returned. 'Succeeded' – the Cosmos DB account is active for use. 'Updating' – the Cosmos DB account is being updated. 'Deleting' – the Cosmos DB account is being deleted. 'Failed' – the Cosmos DB account failed creation. 'DeletionFailed' – the Cosmos DB account deletion failed.
    types:
    - uid: string
  - name: properties.documentEndpoint
    isReadyOnly: true
    description: The connection endpoint for the Cosmos DB database account.
    types:
    - uid: string
  - name: properties.databaseAccountOfferType
    isReadyOnly: true
    description: 'The offer type for the Cosmos DB database account. Default value: Standard.'
    types:
    - uid: DatabaseAccountOfferType
  - name: properties.ipRules
    description: List of IpRules.
    types:
    - uid: IpAddressOrRange
      isArray: true
  - name: properties.isVirtualNetworkFilterEnabled
    description: Flag to indicate whether to enable/disable Virtual Network ACL rules.
    types:
    - uid: boolean
  - name: properties.enableAutomaticFailover
    description: Enables automatic failover of the write region in the rare event that the region is unavailable due to an outage. Automatic failover will result in a new write region for the account and is chosen based on the failover priorities configured for the account.
    types:
    - uid: boolean
  - name: properties.consistencyPolicy
    description: The consistency policy for the Cosmos DB database account.
    types:
    - uid: ConsistencyPolicy
  - name: properties.capabilities
    description: List of Cosmos DB capabilities for the account
    types:
    - uid: Capability
      isArray: true
  - name: properties.writeLocations
    isReadyOnly: true
    description: An array that contains the write location for the Cosmos DB account.
    types:
    - uid: Location
      isArray: true
  - name: properties.readLocations
    isReadyOnly: true
    description: An array that contains of the read locations enabled for the Cosmos DB account.
    types:
    - uid: Location
      isArray: true
  - name: properties.locations
    isReadyOnly: true
    description: An array that contains all of the locations enabled for the Cosmos DB account.
    types:
    - uid: Location
      isArray: true
  - name: properties.failoverPolicies
    isReadyOnly: true
    description: An array that contains the regions ordered by their failover priorities.
    types:
    - uid: FailoverPolicy
      isArray: true
  - name: properties.virtualNetworkRules
    description: List of Virtual Network ACL rules configured for the Cosmos DB account.
    types:
    - uid: VirtualNetworkRule
      isArray: true
  - name: properties.privateEndpointConnections
    isReadyOnly: true
    description: List of Private Endpoint Connections configured for the Cosmos DB account.
    types:
    - uid: PrivateEndpointConnection
      isArray: true
  - name: properties.enableMultipleWriteLocations
    description: Enables the account to write in multiple locations
    types:
    - uid: boolean
  - name: properties.enableCassandraConnector
    description: Enables the cassandra connector on the Cosmos DB C* account
    types:
    - uid: boolean
  - name: properties.connectorOffer
    description: The cassandra connector offer type for the Cosmos DB database C* account.
    types:
    - uid: ConnectorOffer
  - name: properties.disableKeyBasedMetadataWriteAccess
    description: Disable write operations on metadata resources (databases, containers, throughput) via account keys
    types:
    - uid: boolean
  - name: properties.keyVaultKeyUri
    description: The URI of the key vault
    types:
    - uid: string
  - name: properties.defaultIdentity
    description: The default identity for accessing key vault used in features like customer managed keys. The default identity needs to be explicitly set by the users. It can be "FirstPartyIdentity", "SystemAssignedIdentity" and more.
    types:
    - uid: string
  - name: properties.publicNetworkAccess
    description: Whether requests from Public Network are allowed
    types:
    - uid: PublicNetworkAccess
  - name: properties.enableFreeTier
    description: Flag to indicate whether Free Tier is enabled.
    types:
    - uid: boolean
  - name: properties.apiProperties
    description: API specific properties.
    types:
    - uid: ApiProperties
  - name: properties.enableAnalyticalStorage
    description: Flag to indicate whether to enable storage analytics.
    types:
    - uid: boolean
  - name: properties.analyticalStorageConfiguration
    description: Analytical storage specific properties.
    types:
    - uid: AnalyticalStorageConfiguration
  - name: properties.instanceId
    isReadyOnly: true
    description: A unique identifier assigned to the database account
    types:
    - uid: string
  - name: properties.createMode
    description: Enum to indicate the mode of account creation.
    types:
    - uid: CreateMode
    defaultValue: Default
  - name: properties.restoreParameters
    description: Parameters to indicate the information about the restore.
    types:
    - uid: RestoreParameters
  - name: properties.backupPolicy
    description: The object representing the policy for taking backups on an account.
    types:
    - uid: PeriodicModeBackupPolicy
    - uid: ContinuousModeBackupPolicy
    typesTitle: BackupPolicy
  - name: properties.cors
    description: The CORS policy for the Cosmos DB database account.
    types:
    - uid: CorsPolicy
      isArray: true
  - name: properties.networkAclBypass
    description: Indicates what services are allowed to bypass firewall checks.
    types:
    - uid: NetworkAclBypass
  - name: properties.networkAclBypassResourceIds
    description: An array that contains the Resource Ids for Network Acl Bypass for the Cosmos DB account.
    types:
    - uid: string
      isArray: true
  - name: properties.disableLocalAuth
    description: Opt-out of local authentication and ensure only MSI and AAD can be used exclusively for authentication.
    types:
    - uid: boolean
  - name: properties.capacity
    description: The object that represents all properties related to capacity enforcement on an account.
    types:
    - uid: Capacity
  - name: id
    isReadyOnly: true
    description: The unique resource identifier of the ARM resource.
    types:
    - uid: string
  - name: name
    isReadyOnly: true
    description: The name of the ARM resource.
    types:
    - uid: string
  - name: type
    isReadyOnly: true
    description: The type of Azure resource.
    types:
    - uid: string
  - name: location
    description: The location of the resource group to which the resource belongs.
    types:
    - uid: string
  - name: tags
    description: 'Tags are a list of key-value pairs that describe the resource. These tags can be used in viewing and grouping this resource (across resource groups). A maximum of 15 tags can be provided for a resource. Each tag must have a key no greater than 128 characters and value no greater than 256 characters. For example, the default experience for a template type is set with "defaultExperience": "Cassandra". Current "defaultExperience" values also include "Table", "Graph", "DocumentDB", and "MongoDB".'
    types:
    - uid: object
      isDictionary: true
      additionalTypes:
      - uid: string
      - uid: string
- name: DatabaseAccountUpdateParameters
  description: Parameters for patching Azure Cosmos DB database account properties.
  kind: object
  properties:
  - name: tags
    description: 'Tags are a list of key-value pairs that describe the resource. These tags can be used in viewing and grouping this resource (across resource groups). A maximum of 15 tags can be provided for a resource. Each tag must have a key no greater than 128 characters and value no greater than 256 characters. For example, the default experience for a template type is set with "defaultExperience": "Cassandra". Current "defaultExperience" values also include "Table", "Graph", "DocumentDB", and "MongoDB".'
    types:
    - uid: object
      isDictionary: true
      additionalTypes:
      - uid: string
      - uid: string
  - name: location
    description: The location of the resource group to which the resource belongs.
    types:
    - uid: string
  - name: identity
    description: Identity for the resource.
    types:
    - uid: ManagedServiceIdentity
  - name: properties.consistencyPolicy
    description: The consistency policy for the Cosmos DB account.
    types:
    - uid: ConsistencyPolicy
  - name: properties.locations
    description: An array that contains the georeplication locations enabled for the Cosmos DB account.
    types:
    - uid: Location
      isArray: true
  - name: properties.ipRules
    description: List of IpRules.
    types:
    - uid: IpAddressOrRange
      isArray: true
  - name: properties.isVirtualNetworkFilterEnabled
    description: Flag to indicate whether to enable/disable Virtual Network ACL rules.
    types:
    - uid: boolean
  - name: properties.enableAutomaticFailover
    description: Enables automatic failover of the write region in the rare event that the region is unavailable due to an outage. Automatic failover will result in a new write region for the account and is chosen based on the failover priorities configured for the account.
    types:
    - uid: boolean
  - name: properties.capabilities
    description: List of Cosmos DB capabilities for the account
    types:
    - uid: Capability
      isArray: true
  - name: properties.virtualNetworkRules
    description: List of Virtual Network ACL rules configured for the Cosmos DB account.
    types:
    - uid: VirtualNetworkRule
      isArray: true
  - name: properties.enableMultipleWriteLocations
    description: Enables the account to write in multiple locations
    types:
    - uid: boolean
  - name: properties.enableCassandraConnector
    description: Enables the cassandra connector on the Cosmos DB C* account
    types:
    - uid: boolean
  - name: properties.connectorOffer
    description: The cassandra connector offer type for the Cosmos DB database C* account.
    types:
    - uid: ConnectorOffer
  - name: properties.disableKeyBasedMetadataWriteAccess
    description: Disable write operations on metadata resources (databases, containers, throughput) via account keys
    types:
    - uid: boolean
  - name: properties.keyVaultKeyUri
    description: The URI of the key vault
    types:
    - uid: string
  - name: properties.defaultIdentity
    description: The default identity for accessing key vault used in features like customer managed keys. The default identity needs to be explicitly set by the users. It can be "FirstPartyIdentity", "SystemAssignedIdentity" and more.
    types:
    - uid: string
  - name: properties.publicNetworkAccess
    description: Whether requests from Public Network are allowed
    types:
    - uid: PublicNetworkAccess
  - name: properties.enableFreeTier
    description: Flag to indicate whether Free Tier is enabled.
    types:
    - uid: boolean
  - name: properties.apiProperties
    description: API specific properties. Currently, supported only for MongoDB API.
    types:
    - uid: ApiProperties
  - name: properties.enableAnalyticalStorage
    description: Flag to indicate whether to enable storage analytics.
    types:
    - uid: boolean
  - name: properties.analyticalStorageConfiguration
    description: Analytical storage specific properties.
    types:
    - uid: AnalyticalStorageConfiguration
  - name: properties.backupPolicy
    description: The object representing the policy for taking backups on an account.
    types:
    - uid: PeriodicModeBackupPolicy
    - uid: ContinuousModeBackupPolicy
    typesTitle: BackupPolicy
  - name: properties.cors
    description: The CORS policy for the Cosmos DB database account.
    types:
    - uid: CorsPolicy
      isArray: true
  - name: properties.networkAclBypass
    description: Indicates what services are allowed to bypass firewall checks.
    types:
    - uid: NetworkAclBypass
  - name: properties.networkAclBypassResourceIds
    description: An array that contains the Resource Ids for Network Acl Bypass for the Cosmos DB account.
    types:
    - uid: string
      isArray: true
  - name: properties.disableLocalAuth
    description: Opt-out of local authentication and ensure only MSI and AAD can be used exclusively for authentication.
    types:
    - uid: boolean
  - name: properties.capacity
    description: The object that represents all properties related to capacity enforcement on an account.
    types:
    - uid: Capacity
- name: ResourceIdentityType
  description: The type of identity used for the resource. The type 'SystemAssigned,UserAssigned' includes both an implicitly created identity and a set of user assigned identities. The type 'None' will remove any identities from the service.
  kind: enum
  properties:
  - name: SystemAssigned
    types:
    - uid: string
  - name: UserAssigned
    types:
    - uid: string
  - name: SystemAssigned,UserAssigned
    types:
    - uid: string
  - name: None
    types:
    - uid: string
- name: UserAssignedIdentities
  description: "The list of user identities associated with resource. The user identity dictionary key references will be ARM resource ids in the form: '/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.ManagedIdentity/userAssignedIdentities/{identityName}'."
  kind: object
  properties:
  - name: ''
    description: ''
    types:
    - uid: ''
- name: DefaultConsistencyLevel
  description: The default consistency level and configuration settings of the Cosmos DB account.
  kind: enum
  properties:
  - name: Eventual
    types:
    - uid: string
  - name: Session
    types:
    - uid: string
  - name: BoundedStaleness
    types:
    - uid: string
  - name: Strong
    types:
    - uid: string
  - name: ConsistentPrefix
    types:
    - uid: string
- name: ServerVersion
  description: Describes the ServerVersion of an a MongoDB account.
  kind: enum
  properties:
  - name: "3.2"
    types:
    - uid: string
  - name: "3.6"
    types:
    - uid: string
  - name: "4.0"
    types:
    - uid: string
  - name: "4.2"
    types:
    - uid: string
- name: AnalyticalStorageSchemaType
  description: Describes the types of schema for analytical storage.
  kind: enum
  properties:
  - name: WellDefined
    types:
    - uid: string
  - name: FullFidelity
    types:
    - uid: string
- name: PeriodicModeBackupPolicy
  description: The object representing periodic mode backup policy.
  kind: object
  properties:
  - name: periodicModeProperties
    description: Configuration values for periodic mode backup
    types:
    - uid: PeriodicModeProperties
  - name: type
    description: Describes the mode of backups.
    types:
    - uid: Periodic
    typesTitle: string
  - name: migrationState
    description: The object representing the state of the migration between the backup policies.
    types:
    - uid: BackupPolicyMigrationState
- name: ContinuousModeBackupPolicy
  description: The object representing continuous mode backup policy.
  kind: object
  properties:
  - name: type
    description: Describes the mode of backups.
    types:
    - uid: Continuous
    typesTitle: string
  - name: migrationState
    description: The object representing the state of the migration between the backup policies.
    types:
    - uid: BackupPolicyMigrationState
- name: DatabaseAccountKind
  description: Indicates the type of database account. This can only be set at database account creation.
  kind: enum
  properties:
  - name: GlobalDocumentDB
    types:
    - uid: string
  - name: MongoDB
    types:
    - uid: string
  - name: Parse
    types:
    - uid: string
- name: systemData
  description: Metadata pertaining to creation and last modification of the resource.
  kind: object
  properties:
  - name: createdBy
    description: The identity that created the resource.
    types:
    - uid: string
  - name: createdByType
    description: The type of identity that created the resource.
    types:
    - uid: createdByType
  - name: createdAt
    description: The timestamp of resource creation (UTC).
    types:
    - uid: string
  - name: lastModifiedBy
    description: The identity that last modified the resource.
    types:
    - uid: string
  - name: lastModifiedByType
    description: The type of identity that last modified the resource.
    types:
    - uid: createdByType
  - name: lastModifiedAt
    description: The timestamp of resource last modification (UTC)
    types:
    - uid: string
- name: DatabaseAccountOfferType
  description: The offer type for the Cosmos DB database account.
  kind: enum
  properties:
  - name: Standard
    types:
    - uid: string
- name: FailoverPolicy
  description: The failover policy for a given region of a database account.
  kind: object
  properties:
  - name: id
    isReadyOnly: true
    description: 'The unique identifier of the region in which the database account replicates to. Example: &lt;accountName&gt;-&lt;locationName&gt;.'
    types:
    - uid: string
  - name: locationName
    description: The name of the region in which the database account exists.
    types:
    - uid: string
  - name: failoverPriority
    description: The failover priority of the region. A failover priority of 0 indicates a write region. The maximum value for a failover priority = (total number of regions - 1). Failover priority values must be unique for each of the regions in which the database account exists.
    types:
    - uid: integer
- name: PrivateEndpointConnection
  description: A private endpoint connection
  kind: object
  properties:
  - name: properties.privateEndpoint
    description: Private endpoint which the connection belongs to.
    types:
    - uid: PrivateEndpointProperty
  - name: properties.privateLinkServiceConnectionState
    description: Connection State of the Private Endpoint Connection.
    types:
    - uid: PrivateLinkServiceConnectionStateProperty
  - name: properties.groupId
    description: Group id of the private endpoint.
    types:
    - uid: string
  - name: properties.provisioningState
    description: Provisioning state of the private endpoint.
    types:
    - uid: string
  - name: id
    isReadyOnly: true
    description: Fully qualified resource ID for the resource. Ex - /subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/{resourceProviderNamespace}/{resourceType}/{resourceName}
    types:
    - uid: string
  - name: name
    isReadyOnly: true
    description: The name of the resource
    types:
    - uid: string
  - name: type
    isReadyOnly: true
    description: The type of the resource. E.g. "Microsoft.Compute/virtualMachines" or "Microsoft.Storage/storageAccounts"
    types:
    - uid: string
- name: ConnectorOffer
  description: The cassandra connector offer type for the Cosmos DB C* database account.
  kind: enum
  properties:
  - name: Small
    types:
    - uid: string
- name: PublicNetworkAccess
  description: Whether requests from Public Network are allowed
  kind: enum
  properties:
  - name: Enabled
    types:
    - uid: string
  - name: Disabled
    types:
    - uid: string
- name: CreateMode
  description: Enum to indicate the mode of account creation.
  kind: enum
  properties:
  - name: Default
    types:
    - uid: string
  - name: Restore
    types:
    - uid: string
- name: RestoreParameters
  description: Parameters to indicate the information about the restore.
  kind: object
  properties:
  - name: restoreMode
    description: Describes the mode of the restore.
    types:
    - uid: RestoreMode
  - name: restoreSource
    description: 'The id of the restorable database account from which the restore has to be initiated. For example: /subscriptions/{subscriptionId}/providers/Microsoft.DocumentDB/locations/{location}/restorableDatabaseAccounts/{restorableDatabaseAccountName}'
    types:
    - uid: string
  - name: restoreTimestampInUtc
    description: Time to which the account has to be restored (ISO-8601 format).
    types:
    - uid: string
  - name: databasesToRestore
    description: List of specific databases available for restore.
    types:
    - uid: DatabaseRestoreResource
      isArray: true
- name: NetworkAclBypass
  description: Indicates what services are allowed to bypass firewall checks.
  kind: enum
  properties:
  - name: None
    types:
    - uid: string
  - name: AzureServices
    types:
    - uid: string
- name: PeriodicModeProperties
  description: Configuration values for periodic mode backup
  kind: object
  properties:
  - name: backupIntervalInMinutes
    description: An integer representing the interval in minutes between two backups
    types:
    - uid: integer
  - name: backupRetentionIntervalInHours
    description: An integer representing the time (in hours) that each backup is retained
    types:
    - uid: integer
  - name: backupStorageRedundancy
    description: Enum to indicate type of backup residency
    types:
    - uid: BackupStorageRedundancy
- name: BackupPolicyType
  description: Describes the mode of backups.
  kind: enum
  properties:
  - name: Periodic
    types:
    - uid: string
  - name: Continuous
    types:
    - uid: string
- name: BackupPolicyMigrationState
  description: The object representing the state of the migration between the backup policies.
  kind: object
  properties:
  - name: status
    description: Describes the status of migration between backup policy types.
    types:
    - uid: BackupPolicyMigrationStatus
  - name: targetType
    description: Describes the target backup policy type of the backup policy migration.
    types:
    - uid: BackupPolicyType
  - name: startTime
    description: Time at which the backup policy migration started (ISO-8601 format).
    types:
    - uid: string
- name: createdByType
  description: The type of identity that created the resource.
  kind: enum
  properties:
  - name: User
    types:
    - uid: string
  - name: Application
    types:
    - uid: string
  - name: ManagedIdentity
    types:
    - uid: string
  - name: Key
    types:
    - uid: string
- name: PrivateEndpointProperty
  description: Private endpoint which the connection belongs to.
  kind: object
  properties:
  - name: id
    description: Resource id of the private endpoint.
    types:
    - uid: string
- name: PrivateLinkServiceConnectionStateProperty
  description: Connection State of the Private Endpoint Connection.
  kind: object
  properties:
  - name: status
    description: The private link service connection status.
    types:
    - uid: string
  - name: description
    description: The private link service connection description.
    types:
    - uid: string
  - name: actionsRequired
    isReadyOnly: true
    description: Any action that is required beyond basic workflow (approve/ reject/ disconnect)
    types:
    - uid: string
- name: RestoreMode
  description: Describes the mode of the restore.
  kind: enum
  properties:
  - name: PointInTime
    types:
    - uid: string
- name: DatabaseRestoreResource
  description: Specific Databases to restore.
  kind: object
  properties:
  - name: databaseName
    description: The name of the database available for restore.
    types:
    - uid: string
  - name: collectionNames
    description: The names of the collections available for restore.
    types:
    - uid: string
      isArray: true
- name: BackupStorageRedundancy
  description: Enum to indicate type of backup storage redundancy.
  kind: enum
  properties:
  - name: Geo
    types:
    - uid: string
  - name: Local
    types:
    - uid: string
  - name: Zone
    types:
    - uid: string
- name: BackupPolicyMigrationStatus
  description: Describes the status of migration between backup policy types.
  kind: enum
  properties:
  - name: Invalid
    types:
    - uid: string
  - name: InProgress
    types:
    - uid: string
  - name: Completed
    types:
    - uid: string
  - name: Failed
    types:
    - uid: string
examples:
- name: CosmosDBDatabaseAccountPatch
  request:
    uri: PATCH https://management.azure.com/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.DocumentDB/databaseAccounts/ddb1?api-version=2022-05-15
    body: >-
      {
        "location": "westus",
        "tags": {
          "dept": "finance"
        },
        "identity": {
          "type": "SystemAssigned,UserAssigned",
          "userAssignedIdentities": {
            "/subscriptions/fa5fc227-a624-475e-b696-cdd604c735bc/resourceGroups/eu2cgroup/providers/Microsoft.ManagedIdentity/userAssignedIdentities/id1": {}
          }
        },
        "properties": {
          "ipRules": [
            {
              "ipAddressOrRange": "23.43.230.120"
            },
            {
              "ipAddressOrRange": "110.12.240.0/12"
            }
          ],
          "isVirtualNetworkFilterEnabled": true,
          "virtualNetworkRules": [
            {
              "id": "/subscriptions/subId/resourceGroups/rg/providers/Microsoft.Network/virtualNetworks/vnet1/subnets/subnet1",
              "ignoreMissingVNetServiceEndpoint": false
            }
          ],
          "consistencyPolicy": {
            "defaultConsistencyLevel": "BoundedStaleness",
            "maxIntervalInSeconds": 10,
            "maxStalenessPrefix": 200
          },
          "defaultIdentity": "FirstPartyIdentity",
          "enableFreeTier": false,
          "enableAnalyticalStorage": true,
          "analyticalStorageConfiguration": {
            "schemaType": "WellDefined"
          },
          "backupPolicy": {
            "type": "Periodic",
            "periodicModeProperties": {
              "backupIntervalInMinutes": 240,
              "backupRetentionIntervalInHours": 720,
              "backupStorageRedundancy": "Local"
            }
          },
          "networkAclBypass": "AzureServices",
          "networkAclBypassResourceIds": [
            "/subscriptions/subId/resourcegroups/rgName/providers/Microsoft.Synapse/workspaces/workspaceName"
          ],
          "capacity": {
            "totalThroughputLimit": 2000
          }
        }
      }
    codeTab: |+
      # [HTTP](#tab/HTTP)
      ``` http
      PATCH https://management.azure.com/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.DocumentDB/databaseAccounts/ddb1?api-version=2022-05-15

      {
        "location": "westus",
        "tags": {
          "dept": "finance"
        },
        "identity": {
          "type": "SystemAssigned,UserAssigned",
          "userAssignedIdentities": {
            "/subscriptions/fa5fc227-a624-475e-b696-cdd604c735bc/resourceGroups/eu2cgroup/providers/Microsoft.ManagedIdentity/userAssignedIdentities/id1": {}
          }
        },
        "properties": {
          "ipRules": [
            {
              "ipAddressOrRange": "23.43.230.120"
            },
            {
              "ipAddressOrRange": "110.12.240.0/12"
            }
          ],
          "isVirtualNetworkFilterEnabled": true,
          "virtualNetworkRules": [
            {
              "id": "/subscriptions/subId/resourceGroups/rg/providers/Microsoft.Network/virtualNetworks/vnet1/subnets/subnet1",
              "ignoreMissingVNetServiceEndpoint": false
            }
          ],
          "consistencyPolicy": {
            "defaultConsistencyLevel": "BoundedStaleness",
            "maxIntervalInSeconds": 10,
            "maxStalenessPrefix": 200
          },
          "defaultIdentity": "FirstPartyIdentity",
          "enableFreeTier": false,
          "enableAnalyticalStorage": true,
          "analyticalStorageConfiguration": {
            "schemaType": "WellDefined"
          },
          "backupPolicy": {
            "type": "Periodic",
            "periodicModeProperties": {
              "backupIntervalInMinutes": 240,
              "backupRetentionIntervalInHours": 720,
              "backupStorageRedundancy": "Local"
            }
          },
          "networkAclBypass": "AzureServices",
          "networkAclBypassResourceIds": [
            "/subscriptions/subId/resourcegroups/rgName/providers/Microsoft.Synapse/workspaces/workspaceName"
          ],
          "capacity": {
            "totalThroughputLimit": 2000
          }
        }
      }

      ```

      # [Java](#tab/Java)
      ``` java
      import com.azure.core.util.Context;
      import com.azure.resourcemanager.cosmos.models.AnalyticalStorageConfiguration;
      import com.azure.resourcemanager.cosmos.models.AnalyticalStorageSchemaType;
      import com.azure.resourcemanager.cosmos.models.BackupStorageRedundancy;
      import com.azure.resourcemanager.cosmos.models.Capacity;
      import com.azure.resourcemanager.cosmos.models.ConsistencyPolicy;
      import com.azure.resourcemanager.cosmos.models.DatabaseAccountUpdateParameters;
      import com.azure.resourcemanager.cosmos.models.DefaultConsistencyLevel;
      import com.azure.resourcemanager.cosmos.models.IpAddressOrRange;
      import com.azure.resourcemanager.cosmos.models.ManagedServiceIdentity;
      import com.azure.resourcemanager.cosmos.models.ManagedServiceIdentityUserAssignedIdentities;
      import com.azure.resourcemanager.cosmos.models.NetworkAclBypass;
      import com.azure.resourcemanager.cosmos.models.PeriodicModeBackupPolicy;
      import com.azure.resourcemanager.cosmos.models.PeriodicModeProperties;
      import com.azure.resourcemanager.cosmos.models.ResourceIdentityType;
      import com.azure.resourcemanager.cosmos.models.VirtualNetworkRule;
      import java.util.Arrays;
      import java.util.HashMap;
      import java.util.Map;

      /** Samples for DatabaseAccounts Update. */
      public final class Main {
          /*
           * x-ms-original-file: specification/cosmos-db/resource-manager/Microsoft.DocumentDB/stable/2022-05-15/examples/CosmosDBDatabaseAccountPatch.json
           */
          /**
           * Sample code: CosmosDBDatabaseAccountPatch.
           *
           * @param azure The entry point for accessing resource management APIs in Azure.
           */
          public static void cosmosDBDatabaseAccountPatch(com.azure.resourcemanager.AzureResourceManager azure) {
              azure
                  .cosmosDBAccounts()
                  .manager()
                  .serviceClient()
                  .getDatabaseAccounts()
                  .update(
                      "rg1",
                      "ddb1",
                      new DatabaseAccountUpdateParameters()
                          .withTags(mapOf("dept", "finance"))
                          .withLocation("westus")
                          .withIdentity(
                              new ManagedServiceIdentity()
                                  .withType(ResourceIdentityType.SYSTEM_ASSIGNED_USER_ASSIGNED)
                                  .withUserAssignedIdentities(
                                      mapOf(
                                          "/subscriptions/fa5fc227-a624-475e-b696-cdd604c735bc/resourceGroups/eu2cgroup/providers/Microsoft.ManagedIdentity/userAssignedIdentities/id1",
                                          new ManagedServiceIdentityUserAssignedIdentities())))
                          .withConsistencyPolicy(
                              new ConsistencyPolicy()
                                  .withDefaultConsistencyLevel(DefaultConsistencyLevel.BOUNDED_STALENESS)
                                  .withMaxStalenessPrefix(200L)
                                  .withMaxIntervalInSeconds(10))
                          .withIpRules(
                              Arrays
                                  .asList(
                                      new IpAddressOrRange().withIpAddressOrRange("23.43.230.120"),
                                      new IpAddressOrRange().withIpAddressOrRange("110.12.240.0/12")))
                          .withIsVirtualNetworkFilterEnabled(true)
                          .withVirtualNetworkRules(
                              Arrays
                                  .asList(
                                      new VirtualNetworkRule()
                                          .withId(
                                              "/subscriptions/subId/resourceGroups/rg/providers/Microsoft.Network/virtualNetworks/vnet1/subnets/subnet1")
                                          .withIgnoreMissingVNetServiceEndpoint(false)))
                          .withDefaultIdentity("FirstPartyIdentity")
                          .withEnableFreeTier(false)
                          .withEnableAnalyticalStorage(true)
                          .withAnalyticalStorageConfiguration(
                              new AnalyticalStorageConfiguration().withSchemaType(AnalyticalStorageSchemaType.WELL_DEFINED))
                          .withBackupPolicy(
                              new PeriodicModeBackupPolicy()
                                  .withPeriodicModeProperties(
                                      new PeriodicModeProperties()
                                          .withBackupIntervalInMinutes(240)
                                          .withBackupRetentionIntervalInHours(720)
                                          .withBackupStorageRedundancy(BackupStorageRedundancy.LOCAL)))
                          .withNetworkAclBypass(NetworkAclBypass.AZURE_SERVICES)
                          .withNetworkAclBypassResourceIds(
                              Arrays
                                  .asList(
                                      "/subscriptions/subId/resourcegroups/rgName/providers/Microsoft.Synapse/workspaces/workspaceName"))
                          .withCapacity(new Capacity().withTotalThroughputLimit(2000)),
                      Context.NONE);
          }

          @SuppressWarnings("unchecked")
          private static <T> Map<String, T> mapOf(Object... inputs) {
              Map<String, T> map = new HashMap<>();
              for (int i = 0; i < inputs.length; i += 2) {
                  String key = (String) inputs[i];
                  T value = (T) inputs[i + 1];
                  map.put(key, value);
              }
              return map;
          }
      }

      ```
      Read this [SDK documentation](https://github.com/Azure/azure-sdk-for-java/blob/azure-resourcemanager_2.18.0/sdk/resourcemanager/azure-resourcemanager/README.md) on how to add the SDK to your project and authenticate.
      # [Go](#tab/Go)
      ``` go
      package armcosmos_test

      import (
      	"context"
      	"log"

      	"github.com/Azure/azure-sdk-for-go/sdk/azcore/to"
      	"github.com/Azure/azure-sdk-for-go/sdk/azidentity"
      	"github.com/Azure/azure-sdk-for-go/sdk/resourcemanager/cosmos/armcosmos/v2"
      )

      // Generated from example definition: https://github.com/Azure/azure-rest-api-specs/tree/main/specification/cosmos-db/resource-manager/Microsoft.DocumentDB/stable/2022-05-15/examples/CosmosDBDatabaseAccountPatch.json
      func ExampleDatabaseAccountsClient_BeginUpdate() {
      	cred, err := azidentity.NewDefaultAzureCredential(nil)
      	if err != nil {
      		log.Fatalf("failed to obtain a credential: %v", err)
      	}
      	ctx := context.Background()
      	client, err := armcosmos.NewDatabaseAccountsClient("subid", cred, nil)
      	if err != nil {
      		log.Fatalf("failed to create client: %v", err)
      	}
      	poller, err := client.BeginUpdate(ctx,
      		"rg1",
      		"ddb1",
      		armcosmos.DatabaseAccountUpdateParameters{
      			Identity: &armcosmos.ManagedServiceIdentity{
      				Type: to.Ptr(armcosmos.ResourceIdentityTypeSystemAssignedUserAssigned),
      				UserAssignedIdentities: map[string]*armcosmos.Components1Jq1T4ISchemasManagedserviceidentityPropertiesUserassignedidentitiesAdditionalproperties{
      					"/subscriptions/fa5fc227-a624-475e-b696-cdd604c735bc/resourceGroups/eu2cgroup/providers/Microsoft.ManagedIdentity/userAssignedIdentities/id1": {},
      				},
      			},
      			Location: to.Ptr("westus"),
      			Properties: &armcosmos.DatabaseAccountUpdateProperties{
      				AnalyticalStorageConfiguration: &armcosmos.AnalyticalStorageConfiguration{
      					SchemaType: to.Ptr(armcosmos.AnalyticalStorageSchemaTypeWellDefined),
      				},
      				BackupPolicy: &armcosmos.PeriodicModeBackupPolicy{
      					Type: to.Ptr(armcosmos.BackupPolicyTypePeriodic),
      					PeriodicModeProperties: &armcosmos.PeriodicModeProperties{
      						BackupIntervalInMinutes:        to.Ptr[int32](240),
      						BackupRetentionIntervalInHours: to.Ptr[int32](720),
      						BackupStorageRedundancy:        to.Ptr(armcosmos.BackupStorageRedundancyLocal),
      					},
      				},
      				Capacity: &armcosmos.Capacity{
      					TotalThroughputLimit: to.Ptr[int32](2000),
      				},
      				ConsistencyPolicy: &armcosmos.ConsistencyPolicy{
      					DefaultConsistencyLevel: to.Ptr(armcosmos.DefaultConsistencyLevelBoundedStaleness),
      					MaxIntervalInSeconds:    to.Ptr[int32](10),
      					MaxStalenessPrefix:      to.Ptr[int64](200),
      				},
      				DefaultIdentity:         to.Ptr("FirstPartyIdentity"),
      				EnableAnalyticalStorage: to.Ptr(true),
      				EnableFreeTier:          to.Ptr(false),
      				IPRules: []*armcosmos.IPAddressOrRange{
      					{
      						IPAddressOrRange: to.Ptr("23.43.230.120"),
      					},
      					{
      						IPAddressOrRange: to.Ptr("110.12.240.0/12"),
      					}},
      				IsVirtualNetworkFilterEnabled: to.Ptr(true),
      				NetworkACLBypass:              to.Ptr(armcosmos.NetworkACLBypassAzureServices),
      				NetworkACLBypassResourceIDs: []*string{
      					to.Ptr("/subscriptions/subId/resourcegroups/rgName/providers/Microsoft.Synapse/workspaces/workspaceName")},
      				VirtualNetworkRules: []*armcosmos.VirtualNetworkRule{
      					{
      						ID:                               to.Ptr("/subscriptions/subId/resourceGroups/rg/providers/Microsoft.Network/virtualNetworks/vnet1/subnets/subnet1"),
      						IgnoreMissingVNetServiceEndpoint: to.Ptr(false),
      					}},
      			},
      			Tags: map[string]*string{
      				"dept": to.Ptr("finance"),
      			},
      		},
      		nil)
      	if err != nil {
      		log.Fatalf("failed to finish the request: %v", err)
      	}
      	res, err := poller.PollUntilDone(ctx, nil)
      	if err != nil {
      		log.Fatalf("failed to pull the result: %v", err)
      	}
      	// TODO: use response item
      	_ = res
      }

      ```
      Read this [SDK documentation](https://github.com/Azure/azure-sdk-for-go/blob/sdk%2Fresourcemanager%2Fcosmos%2Farmcosmos%2Fv2.0.0/sdk/resourcemanager/cosmos/armcosmos/README.md) on how to add the SDK to your project and authenticate.
      # [JavaScript](#tab/JavaScript)
      ``` js
      const { CosmosDBManagementClient } = require("@azure/arm-cosmosdb");
      const { DefaultAzureCredential } = require("@azure/identity");

      /**
       * This sample demonstrates how to Updates the properties of an existing Azure Cosmos DB database account.
       *
       * @summary Updates the properties of an existing Azure Cosmos DB database account.
       * x-ms-original-file: specification/cosmos-db/resource-manager/Microsoft.DocumentDB/stable/2022-05-15/examples/CosmosDBDatabaseAccountPatch.json
       */
      async function cosmosDbDatabaseAccountPatch() {
        const subscriptionId = "subid";
        const resourceGroupName = "rg1";
        const accountName = "ddb1";
        const updateParameters = {
          analyticalStorageConfiguration: { schemaType: "WellDefined" },
          backupPolicy: {
            type: "Periodic",
            periodicModeProperties: {
              backupIntervalInMinutes: 240,
              backupRetentionIntervalInHours: 720,
              backupStorageRedundancy: "Local",
            },
          },
          capacity: { totalThroughputLimit: 2000 },
          consistencyPolicy: {
            defaultConsistencyLevel: "BoundedStaleness",
            maxIntervalInSeconds: 10,
            maxStalenessPrefix: 200,
          },
          defaultIdentity: "FirstPartyIdentity",
          enableAnalyticalStorage: true,
          enableFreeTier: false,
          identity: {
            type: "SystemAssigned,UserAssigned",
            userAssignedIdentities: {
              "/subscriptions/fa5fc227A624475eB696Cdd604c735bc/resourceGroups/eu2cgroup/providers/MicrosoftManagedIdentity/userAssignedIdentities/id1":
                {},
            },
          },
          ipRules: [{ ipAddressOrRange: "23.43.230.120" }, { ipAddressOrRange: "110.12.240.0/12" }],
          isVirtualNetworkFilterEnabled: true,
          location: "westus",
          networkAclBypass: "AzureServices",
          networkAclBypassResourceIds: [
            "/subscriptions/subId/resourcegroups/rgName/providers/Microsoft.Synapse/workspaces/workspaceName",
          ],
          tags: { dept: "finance" },
          virtualNetworkRules: [
            {
              id: "/subscriptions/subId/resourceGroups/rg/providers/Microsoft.Network/virtualNetworks/vnet1/subnets/subnet1",
              ignoreMissingVNetServiceEndpoint: false,
            },
          ],
        };
        const credential = new DefaultAzureCredential();
        const client = new CosmosDBManagementClient(credential, subscriptionId);
        const result = await client.databaseAccounts.beginUpdateAndWait(
          resourceGroupName,
          accountName,
          updateParameters
        );
        console.log(result);
      }

      cosmosDbDatabaseAccountPatch().catch(console.error);

      ```
      Read this [SDK documentation](https://github.com/Azure/azure-sdk-for-js/blob/%40azure%2Farm-cosmosdb_15.1.0/sdk/cosmosdb/arm-cosmosdb/README.md) on how to add the SDK to your project and authenticate.
  responses:
  - statusCode: "200"
    body: >-
      {
        "id": "/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.DocumentDB/databaseAccounts/ddb1",
        "name": "ddb1",
        "location": "West US",
        "type": "Microsoft.DocumentDB/databaseAccounts",
        "kind": "GlobalDocumentDB",
        "tags": {
          "dept": "finance"
        },
        "identity": {
          "type": "SystemAssigned,UserAssigned",
          "principalId": "52f4fef3-3c3f-4ff3-b52e-b5c9eeb68656",
          "tenantId": "33e01921-4d64-4f8c-a055-5bdaffd5e33d",
          "userAssignedIdentities": {
            "/subscriptions/fa5fc227-a624-475e-b696-cdd604c735bc/resourceGroups/eu2cgroup/providers/Microsoft.ManagedIdentity/userAssignedIdentities/id1": {
              "clientId": "fbe75b66-01c5-4f87-a220-233af3270436",
              "principalId": "33e01921-4d64-4f8c-a055-5bdaffd5e33d"
            }
          }
        },
        "properties": {
          "provisioningState": "Succeeded",
          "documentEndpoint": "https://ddb1.documents.azure.com:443/",
          "databaseAccountOfferType": "Standard",
          "ipRules": [
            {
              "ipAddressOrRange": "23.43.230.120"
            },
            {
              "ipAddressOrRange": "110.12.240.0/12"
            }
          ],
          "isVirtualNetworkFilterEnabled": true,
          "disableKeyBasedMetadataWriteAccess": false,
          "consistencyPolicy": {
            "defaultConsistencyLevel": "BoundedStaleness",
            "maxIntervalInSeconds": 10,
            "maxStalenessPrefix": 200
          },
          "writeLocations": [
            {
              "id": "ddb1-eastus",
              "locationName": "East US",
              "documentEndpoint": "https://ddb1-eastus.documents.azure.com:443/",
              "provisioningState": "Succeeded",
              "failoverPriority": 0
            }
          ],
          "readLocations": [
            {
              "id": "ddb1-eastus",
              "locationName": "East US",
              "documentEndpoint": "https://ddb1-eastus.documents.azure.com:443/",
              "provisioningState": "Succeeded",
              "failoverPriority": 0
            }
          ],
          "locations": [
            {
              "id": "ddb1-eastus",
              "locationName": "East US",
              "documentEndpoint": "https://ddb1-eastus.documents.azure.com:443/",
              "provisioningState": "Succeeded",
              "failoverPriority": 0
            }
          ],
          "failoverPolicies": [
            {
              "id": "ddb1-eastus",
              "locationName": "East US",
              "failoverPriority": 0
            }
          ],
          "virtualNetworkRules": [
            {
              "id": "/subscriptions/subId/resourceGroups/rg/providers/Microsoft.Network/virtualNetworks/vnet1/subnets/subnet1",
              "ignoreMissingVNetServiceEndpoint": false
            }
          ],
          "privateEndpointConnections": [
            {
              "id": "/subscriptions/subId/resourceGroups/rg/providers/Microsoft.DocumentDB/databaseAccounts/account1/privateEndpointConnections/pe1",
              "properties": {
                "privateEndpoint": {
                  "id": "/subscriptions/subId/resourceGroups/rg/providers/Microsoft.Network/privateEndpoints/pe1"
                },
                "privateLinkServiceConnectionState": {
                  "status": "Approved",
                  "actionsRequired": "None"
                }
              }
            }
          ],
          "cors": [],
          "defaultIdentity": "FirstPartyIdentity",
          "enableFreeTier": false,
          "apiProperties": {},
          "enableAnalyticalStorage": true,
          "analyticalStorageConfiguration": {
            "schemaType": "WellDefined"
          },
          "backupPolicy": {
            "type": "Periodic",
            "periodicModeProperties": {
              "backupIntervalInMinutes": 240,
              "backupRetentionIntervalInHours": 720,
              "backupStorageRedundancy": "Local"
            }
          },
          "networkAclBypass": "AzureServices",
          "networkAclBypassResourceIds": [
            "/subscriptions/subId/resourcegroups/rgName/providers/Microsoft.Synapse/workspaces/workspaceName"
          ],
          "capacity": {
            "totalThroughputLimit": 2000
          }
        }
      }
security:
- name: azure_auth
  type: oauth2
  description: Azure Active Directory OAuth2 Flow
  flow: implicit
  authorizationUrl: https://login.microsoftonline.com/common/oauth2/authorize
  scopes:
  - name: user_impersonation
    description: Impersonate your user account
metadata:
  description: >
    Learn more about Cosmos DB Resource Provider service - Updates the properties of an existing Azure Cosmos DB database account.
errorCodes: []
