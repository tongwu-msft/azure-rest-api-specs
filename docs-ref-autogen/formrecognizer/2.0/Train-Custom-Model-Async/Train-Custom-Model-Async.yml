### YamlMime:RESTOperation
uid: formrecognizer.2.0.traincustommodelasync.traincustommodelasync
name: Train Custom Model Async
service: Cognitive Services - Form Recognizer
groupName: Train Custom Model Async
apiVersion: "2.0"
summary: "Train Custom Model  \nCreate and train a custom model. The request must include a source parameter that is either an externally accessible Azure storage blob container Uri (preferably a Shared Access Signature Uri) or valid path to a data folder in a locally mounted drive. When local paths are specified, they must follow the Linux/Unix path format and be an absolute path rooted to the input mount configuration setting value e.g., if '{Mounts:Input}' configuration setting value is '/input' then a valid source path would be '/input/contosodataset'. All data to be trained is expected to be under the source folder or sub folders under it. Models are trained using documents that are of the following content type - 'application/pdf', 'image/jpeg', 'image/png', 'image/tiff'. Other type of content is ignored."
consumes:
- application/json
produces:
- application/json
paths:
- content: POST {endpoint}/formrecognizer/v2.0/custom/models
uriParameters:
- name: endpoint
  in: path
  isRequired: true
  skipUrlEncoding: true
  description: 'Supported Cognitive Services endpoints (protocol and hostname, for example: https://westus2.api.cognitive.microsoft.com).'
  types:
  - uid: string
responses:
- name: 201 Created
  headers:
  - name: Location
    value: string
  description: Request is queued successfully.
- name: Other Status Codes
  description: Response entity accompanying non-successful responses containing additional details about the error.
  types:
  - uid: ErrorResponse
requestBody:
- name: default
  parameters:
  - name: source
    in: body
    isRequired: true
    description: Source path containing the training documents.
    types:
    - uid: string
  - name: sourceFilter
    in: body
    description: Filter to apply to the documents in the source path for training.
    types:
    - uid: TrainSourceFilter
  - name: useLabelFile
    in: body
    description: Use label file for training a model.
    types:
    - uid: boolean
requestHeader:
- name: Ocp-Apim-Subscription-Key
  in: header
  isRequired: true
  types:
  - uid: string
definitions:
- name: TrainSourceFilter
  description: Filter to apply to the documents in the source path for training.
  kind: object
  properties:
  - name: prefix
    description: A case-sensitive prefix string to filter documents in the source path for training. For example, when using a Azure storage blob Uri, use the prefix to restrict sub folders for training.
    types:
    - uid: string
  - name: includeSubFolders
    description: A flag to indicate if sub folders within the set of prefix folders will also need to be included when searching for content to be preprocessed.
    types:
    - uid: boolean
    defaultValue: false
- name: ErrorResponse
  kind: object
  properties:
  - name: error
    description: ''
    types:
    - uid: ErrorInformation
- name: TrainRequest
  description: Request parameter to train a new custom model.
  kind: object
  properties:
  - name: source
    description: Source path containing the training documents.
    types:
    - uid: string
  - name: sourceFilter
    description: Filter to apply to the documents in the source path for training.
    types:
    - uid: TrainSourceFilter
  - name: useLabelFile
    description: Use label file for training a model.
    types:
    - uid: boolean
    defaultValue: false
- name: ErrorInformation
  kind: object
  properties:
  - name: code
    description: ''
    types:
    - uid: string
  - name: message
    description: ''
    types:
    - uid: string
examples:
- name: Train custom model
  request:
    uri: POST {endpoint}/formrecognizer/v2.0/custom/models
    body: >-
      {
        "source": "/input/data1"
      }
    codeTab: |+
      # [HTTP](#tab/HTTP)
      ``` http
      POST {endpoint}/formrecognizer/v2.0/custom/models


      {
        "source": "/input/data1"
      }

      ```

    headers:
    - name: Ocp-Apim-Subscription-Key
      value: '{API key}'
  responses:
  - statusCode: "201"
    headers:
    - name: Location
      value: '{endpoint}/formrecognizer/v2.0/custom/models/{modelId}'
- name: Train custom model with subfolder filter options
  request:
    uri: POST {endpoint}/formrecognizer/v2.0/custom/models
    body: >-
      {
        "source": "/input/data1",
        "sourceFilter": {
          "prefix": "",
          "includeSubFolders": false
        },
        "useLabelFile": false
      }
    codeTab: |+
      # [HTTP](#tab/HTTP)
      ``` http
      POST {endpoint}/formrecognizer/v2.0/custom/models


      {
        "source": "/input/data1",
        "sourceFilter": {
          "prefix": "",
          "includeSubFolders": false
        },
        "useLabelFile": false
      }

      ```

    headers:
    - name: Ocp-Apim-Subscription-Key
      value: '{API key}'
  responses:
  - statusCode: "201"
    headers:
    - name: Location
      value: '{endpoint}/formrecognizer/v2.0/custom/models/{modelId}'
security:
- name: Ocp-Apim-Subscription-Key
  type: apiKey
  in: header
metadata:
  description: >-
    Train Custom Model

    Create and train a custom model. The request must include a source parameter that is either an externally accessible Azure storage blob conta
errorCodes: []
