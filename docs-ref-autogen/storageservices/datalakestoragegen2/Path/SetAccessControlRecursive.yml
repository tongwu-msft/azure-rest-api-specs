### YamlMime:RESTOperation
uid: storageservices.datalakestoragegen2.path.setaccesscontrolrecursive
name: Set Access Control Recursive
service: Storage Services
groupName: Path
apiVersion: 2020-06-12
summary: Set the access control list for a path and subpaths.
consumes:
- application/json
produces:
- application/json
paths:
- content: PATCH {url}/{filesystem}/{path}?mode={mode}&action=setAccessControlRecursive
- content: PATCH {url}/{filesystem}/{path}?timeout={timeout}&continuation={continuation}&mode={mode}&forceFlag={forceFlag}&maxRecords={maxRecords}&action=setAccessControlRecursive
  isOptional: true
uriParameters:
- name: url
  in: path
  isRequired: true
  skipUrlEncoding: true
  description: The URL of the service account, container, or blob that is the targe of the desired operation.
  types:
  - uid: string
- name: timeout
  in: query
  description: The timeout parameter is expressed in seconds. For more information, see <a href="https://docs.microsoft.com/en-us/rest/api/storageservices/fileservices/setting-timeouts-for-blob-service-operations">Setting Timeouts for Blob Service Operations.</a>
  types:
  - uid: integer
- name: continuation
  in: query
  description: Optional.  When deleting a directory, the number of paths that are deleted with each invocation is limited.  If the number of paths to be deleted exceeds this limit, a continuation token is returned in this response header.  When a continuation token is returned in the response, it must be specified in a subsequent invocation of the delete operation to continue deleting the directory.
  types:
  - uid: string
- name: mode
  in: query
  isRequired: true
  description: Mode "set" sets POSIX access control rights on files and directories, "modify" modifies one or more POSIX access control rights  that pre-exist on files and directories, "remove" removes one or more POSIX access control rights  that were present earlier on files and directories
  types:
  - uid: PathSetAccessControlRecursiveMode
- name: forceFlag
  in: query
  description: Optional. Valid for "SetAccessControlRecursive" operation. If set to false, the operation will terminate quickly on encountering user errors (4XX). If true, the operation will ignore user errors and proceed with the operation on other sub-entities of the directory. Continuation token will only be returned when forceFlag is true in case of user errors. If not set the default value is false for this.
  types:
  - uid: boolean
- name: maxRecords
  in: query
  description: Optional. It specifies the maximum number of files or directories on which the acl change will be applied. If omitted or greater than 2,000, the request will process up to 2,000 items
  types:
  - uid: integer
  format: int32
- name: action
  in: query
  isRequired: true
  types:
  - uid: string
responses:
- name: 200 OK
  headers:
  - name: Date
    value: string
  - name: x-ms-client-request-id
    value: string
  - name: x-ms-continuation
    value: string
  - name: x-ms-request-id
    value: string
  - name: x-ms-version
    value: string
  description: Set directory access control recursive response.
  types:
  - uid: SetAccessControlRecursiveResponse
- name: Other Status Codes
  headers:
  - name: x-ms-client-request-id
    value: string
  - name: x-ms-request-id
    value: string
  - name: x-ms-version
    value: string
  description: Failure
  types:
  - uid: StorageError
requestHeader:
- name: x-ms-acl
  in: header
  description: Sets POSIX access control rights on files and directories. The value is a comma-separated list of access control entries. Each access control entry (ACE) consists of a scope, a type, a user or group identifier, and permissions in the format "[scope:][type]:[id]:[permissions]".
  types:
  - uid: string
- name: x-ms-client-request-id
  in: header
  description: Provides a client-generated, opaque value with a 1 KB character limit that is recorded in the analytics logs when storage analytics logging is enabled.
  types:
  - uid: string
- name: x-ms-version
  in: header
  isRequired: true
  description: Specifies the version of the operation to use for this request.
  types:
  - uid: string
definitions:
- name: PathSetAccessControlRecursiveMode
  description: Mode "set" sets POSIX access control rights on files and directories, "modify" modifies one or more POSIX access control rights  that pre-exist on files and directories, "remove" removes one or more POSIX access control rights  that were present earlier on files and directories
  kind: enum
  properties:
  - name: set
    types:
    - uid: string
  - name: modify
    types:
    - uid: string
  - name: remove
    types:
    - uid: string
- name: SetAccessControlRecursiveResponse
  kind: object
  properties:
  - name: directoriesSuccessful
    description: ''
    types:
    - uid: integer
  - name: filesSuccessful
    description: ''
    types:
    - uid: integer
  - name: failureCount
    description: ''
    types:
    - uid: integer
  - name: failedEntries
    description: ''
    types:
    - uid: AclFailedEntry
      isArray: true
- name: StorageError
  kind: object
  properties:
  - name: error
    description: The service error response object.
    types:
    - uid: Error
- name: AclFailedEntry
  kind: object
  properties:
  - name: name
    description: ''
    types:
    - uid: string
  - name: type
    description: ''
    types:
    - uid: string
  - name: errorMessage
    description: ''
    types:
    - uid: string
- name: Error
  description: The service error response object.
  kind: object
  properties:
  - name: Code
    description: The service error code.
    types:
    - uid: string
  - name: Message
    description: The service error message.
    types:
    - uid: string
examples: []
security: []
errorCodes: []
