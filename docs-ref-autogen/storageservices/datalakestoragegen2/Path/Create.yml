### YamlMime:RESTOperation
uid: storageservices.datalakestoragegen2.path.create
name: Create
service: Storage Services
groupName: Path
apiVersion: 2020-06-12
summary: "Create File | Create Directory | Rename File | Rename Directory  \nCreate or rename a file or directory.    By default, the destination is overwritten and if the destination already exists and has a lease the lease is broken.  This operation supports conditional HTTP requests.  For more information, see [Specifying Conditional Headers for Blob Service Operations](https://docs.microsoft.com/en-us/rest/api/storageservices/specifying-conditional-headers-for-blob-service-operations).  To fail if the destination already exists, use a conditional request with If-None-Match: \"*\"."
consumes:
- application/octet-stream
produces:
- application/json
paths:
- content: PUT {url}/{filesystem}/{path}
- content: PUT {url}/{filesystem}/{path}?resource={resource}&continuation={continuation}&mode={mode}&timeout={timeout}
  isOptional: true
uriParameters:
- name: url
  in: path
  isRequired: true
  skipUrlEncoding: true
  description: The URL of the service account, container, or blob that is the targe of the desired operation.
  types:
  - uid: string
- name: resource
  in: query
  description: Required only for Create File and Create Directory. The value must be "file" or "directory".
  types:
  - uid: PathResourceType
- name: continuation
  in: query
  description: Optional.  When deleting a directory, the number of paths that are deleted with each invocation is limited.  If the number of paths to be deleted exceeds this limit, a continuation token is returned in this response header.  When a continuation token is returned in the response, it must be specified in a subsequent invocation of the delete operation to continue deleting the directory.
  types:
  - uid: string
- name: mode
  in: query
  description: Optional. Valid only when namespace is enabled. This parameter determines the behavior of the rename operation. The value must be "legacy" or "posix", and the default value will be "posix".
  types:
  - uid: PathRenameMode
- name: timeout
  in: query
  description: The timeout parameter is expressed in seconds. For more information, see <a href="https://docs.microsoft.com/en-us/rest/api/storageservices/fileservices/setting-timeouts-for-blob-service-operations">Setting Timeouts for Blob Service Operations.</a>
  types:
  - uid: integer
responses:
- name: 201 Created
  headers:
  - name: Date
    value: string
  - name: ETag
    value: string
  - name: Last-Modified
    value: string
  - name: x-ms-request-id
    value: string
  - name: x-ms-version
    value: string
  - name: x-ms-continuation
    value: string
  - name: Content-Length
    value: integer
  description: The file or directory was created.
- name: Other Status Codes
  headers:
  - name: x-ms-error-code
    value: string
  description: Failure
  types:
  - uid: StorageError
requestHeader:
- name: x-ms-cache-control
  in: header
  description: Optional. Sets the blob's cache control. If specified, this property is stored with the blob and returned with a read request.
  types:
  - uid: string
- name: x-ms-content-encoding
  in: header
  description: Optional. Sets the blob's content encoding. If specified, this property is stored with the blob and returned with a read request.
  types:
  - uid: string
- name: x-ms-content-language
  in: header
  description: Optional. Set the blob's content language. If specified, this property is stored with the blob and returned with a read request.
  types:
  - uid: string
- name: x-ms-content-disposition
  in: header
  description: Optional. Sets the blob's Content-Disposition header.
  types:
  - uid: string
- name: x-ms-content-type
  in: header
  description: Optional. Sets the blob's content type. If specified, this property is stored with the blob and returned with a read request.
  types:
  - uid: string
- name: x-ms-rename-source
  in: header
  description: 'An optional file or directory to be renamed.  The value must have the following format: "/{filesystem}/{path}".  If "x-ms-properties" is specified, the properties will overwrite the existing properties; otherwise, the existing properties will be preserved. This value must be a URL percent-encoded string. Note that the string may only contain ASCII characters in the ISO-8859-1 character set.'
  types:
  - uid: string
- name: x-ms-lease-id
  in: header
  description: If specified, the operation only succeeds if the resource's lease is active and matches this ID.
  types:
  - uid: string
- name: x-ms-source-lease-id
  in: header
  description: A lease ID for the source path. If specified, the source path must have an active lease and the lease ID must match.
  types:
  - uid: string
- name: x-ms-properties
  in: header
  description: Optional. User-defined properties to be stored with the filesystem, in the format of a comma-separated list of name and value pairs "n1=v1, n2=v2, ...", where each value is a base64 encoded string. Note that the string may only contain ASCII characters in the ISO-8859-1 character set.  If the filesystem exists, any properties not included in the list will be removed.  All properties are removed if the header is omitted.  To merge new and existing properties, first get all existing properties and the current E-Tag, then make a conditional request with the E-Tag and include values for all properties.
  types:
  - uid: string
- name: x-ms-permissions
  in: header
  description: Optional and only valid if Hierarchical Namespace is enabled for the account. Sets POSIX access permissions for the file owner, the file owning group, and others. Each class may be granted read, write, or execute permission.  The sticky bit is also supported.  Both symbolic (rwxrw-rw-) and 4-digit octal notation (e.g. 0766) are supported.
  types:
  - uid: string
- name: x-ms-umask
  in: header
  description: Optional and only valid if Hierarchical Namespace is enabled for the account. When creating a file or directory and the parent folder does not have a default ACL, the umask restricts the permissions of the file or directory to be created.  The resulting permission is given by p bitwise and not u, where p is the permission and u is the umask.  For example, if p is 0777 and u is 0057, then the resulting permission is 0720.  The default permission is 0777 for a directory and 0666 for a file.  The default umask is 0027.  The umask must be specified in 4-digit octal notation (e.g. 0766).
  types:
  - uid: string
- name: If-Match
  in: header
  description: Specify an ETag value to operate only on blobs with a matching value.
  types:
  - uid: string
  format: etag
- name: If-None-Match
  in: header
  description: Specify an ETag value to operate only on blobs without a matching value.
  types:
  - uid: string
  format: etag
- name: If-Modified-Since
  in: header
  description: Specify this header value to operate only on a blob if it has been modified since the specified date/time.
  types:
  - uid: string
  format: date-time-rfc1123
- name: If-Unmodified-Since
  in: header
  description: Specify this header value to operate only on a blob if it has not been modified since the specified date/time.
  types:
  - uid: string
  format: date-time-rfc1123
- name: x-ms-source-if-match
  in: header
  description: Specify an ETag value to operate only on blobs with a matching value.
  types:
  - uid: string
  format: etag
- name: x-ms-source-if-none-match
  in: header
  description: Specify an ETag value to operate only on blobs without a matching value.
  types:
  - uid: string
  format: etag
- name: x-ms-source-if-modified-since
  in: header
  description: Specify this header value to operate only on a blob if it has been modified since the specified date/time.
  types:
  - uid: string
  format: date-time-rfc1123
- name: x-ms-source-if-unmodified-since
  in: header
  description: Specify this header value to operate only on a blob if it has not been modified since the specified date/time.
  types:
  - uid: string
  format: date-time-rfc1123
- name: x-ms-client-request-id
  in: header
  description: Provides a client-generated, opaque value with a 1 KB character limit that is recorded in the analytics logs when storage analytics logging is enabled.
  types:
  - uid: string
- name: x-ms-version
  in: header
  isRequired: true
  description: Specifies the version of the operation to use for this request.
  types:
  - uid: string
definitions:
- name: PathResourceType
  description: Required only for Create File and Create Directory. The value must be "file" or "directory".
  kind: enum
  properties:
  - name: directory
    types:
    - uid: string
  - name: file
    types:
    - uid: string
- name: PathRenameMode
  description: Optional. Valid only when namespace is enabled. This parameter determines the behavior of the rename operation. The value must be "legacy" or "posix", and the default value will be "posix".
  kind: enum
  properties:
  - name: legacy
    types:
    - uid: string
  - name: posix
    types:
    - uid: string
- name: StorageError
  kind: object
  properties:
  - name: error
    description: The service error response object.
    types:
    - uid: Error
- name: Error
  description: The service error response object.
  kind: object
  properties:
  - name: Code
    description: The service error code.
    types:
    - uid: string
  - name: Message
    description: The service error message.
    types:
    - uid: string
examples: []
security: []
errorCodes: []
