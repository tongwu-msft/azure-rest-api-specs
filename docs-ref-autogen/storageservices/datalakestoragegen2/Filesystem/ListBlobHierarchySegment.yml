### YamlMime:RESTOperation
uid: storageservices.datalakestoragegen2.filesystem.listblobhierarchysegment
name: List Blob Hierarchy Segment
service: Storage Services
groupName: File System
apiVersion: 2020-06-12
summary: The List Blobs operation returns a list of the blobs under the specified container
consumes:
- application/json
produces:
- application/xml
paths:
- content: GET {url}/{filesystem}?hierarchy&restype=container&comp=list
- content: GET {url}/{filesystem}?hierarchy&prefix={prefix}&delimiter={delimiter}&marker={marker}&maxResults={maxResults}&include={include}&showonly=deleted&timeout={timeout}&restype=container&comp=list
  isOptional: true
uriParameters:
- name: url
  in: path
  isRequired: true
  skipUrlEncoding: true
  description: The URL of the service account, container, or blob that is the targe of the desired operation.
  types:
  - uid: string
- name: prefix
  in: query
  description: Filters results to filesystems within the specified prefix.
  types:
  - uid: string
- name: delimiter
  in: query
  description: When the request includes this parameter, the operation returns a BlobPrefix element in the response body that acts as a placeholder for all blobs whose names begin with the same substring up to the appearance of the delimiter character. The delimiter may be a single character or a string.
  types:
  - uid: string
- name: marker
  in: query
  description: A string value that identifies the portion of the list of containers to be returned with the next listing operation. The operation returns the NextMarker value within the response body if the listing operation did not return all containers remaining to be listed with the current page. The NextMarker value can be used as the value for the marker parameter in a subsequent call to request the next page of list items. The marker value is opaque to the client.
  types:
  - uid: string
- name: maxResults
  in: query
  description: An optional value that specifies the maximum number of items to return. If omitted or greater than 5,000, the response will include up to 5,000 items.
  types:
  - uid: integer
  format: int32
- name: include
  in: query
  description: Include this parameter to specify one or more datasets to include in the response.
  types:
  - uid: array
- name: showonly
  in: query
  description: Include this parameter to specify one or more datasets to include in the response.
  types:
  - uid: ListBlobsShowOnly
- name: timeout
  in: query
  description: The timeout parameter is expressed in seconds. For more information, see <a href="https://docs.microsoft.com/en-us/rest/api/storageservices/fileservices/setting-timeouts-for-blob-service-operations">Setting Timeouts for Blob Service Operations.</a>
  types:
  - uid: integer
- name: restype
  in: query
  isRequired: true
  types:
  - uid: string
- name: comp
  in: query
  isRequired: true
  types:
  - uid: string
responses:
- name: 200 OK
  headers:
  - name: Content-Type
    value: string
  - name: x-ms-client-request-id
    value: string
  - name: x-ms-request-id
    value: string
  - name: x-ms-version
    value: string
  - name: Date
    value: string
  description: Success.
  types:
  - uid: ListBlobsHierarchySegmentResponse
- name: Other Status Codes
  headers:
  - name: x-ms-error-code
    value: string
  description: Failure
  types:
  - uid: StorageError
requestHeader:
- name: x-ms-version
  in: header
  isRequired: true
  description: Specifies the version of the operation to use for this request.
  types:
  - uid: string
- name: x-ms-client-request-id
  in: header
  description: Provides a client-generated, opaque value with a 1 KB character limit that is recorded in the analytics logs when storage analytics logging is enabled.
  types:
  - uid: string
definitions:
- name: ListBlobsShowOnly
  description: Include this parameter to specify one or more datasets to include in the response.
  kind: enum
  properties:
  - name: deleted
    types:
    - uid: string
- name: ListBlobsHierarchySegmentResponse
  description: An enumeration of blobs
  kind: object
  properties:
  - name: ServiceEndpoint
    description: ''
    types:
    - uid: string
  - name: ContainerName
    description: ''
    types:
    - uid: string
  - name: Prefix
    description: ''
    types:
    - uid: string
  - name: Marker
    description: ''
    types:
    - uid: string
  - name: MaxResults
    description: ''
    types:
    - uid: integer
  - name: Delimiter
    description: ''
    types:
    - uid: string
  - name: Segment
    description: ''
    types:
    - uid: BlobHierarchyListSegment
  - name: NextMarker
    description: ''
    types:
    - uid: string
- name: StorageError
  kind: object
  properties:
  - name: error
    description: The service error response object.
    types:
    - uid: Error
- name: BlobHierarchyListSegment
  kind: object
  properties:
  - name: BlobPrefixes
    description: ''
    types:
    - uid: BlobPrefix
      isArray: true
  - name: BlobItems
    description: An Azure Storage blob
    types:
    - uid: BlobItemInternal
      isArray: true
- name: Error
  description: The service error response object.
  kind: object
  properties:
  - name: Code
    description: The service error code.
    types:
    - uid: string
  - name: Message
    description: The service error message.
    types:
    - uid: string
- name: BlobPrefix
  kind: object
  properties:
  - name: Name
    description: ''
    types:
    - uid: string
- name: BlobItemInternal
  description: An Azure Storage blob
  kind: object
  properties:
  - name: Name
    description: ''
    types:
    - uid: string
  - name: Deleted
    description: ''
    types:
    - uid: boolean
  - name: Snapshot
    description: ''
    types:
    - uid: string
  - name: VersionId
    description: ''
    types:
    - uid: string
  - name: IsCurrentVersion
    description: ''
    types:
    - uid: boolean
  - name: Properties
    description: Properties of a blob
    types:
    - uid: BlobPropertiesInternal
  - name: DeletionId
    description: ''
    types:
    - uid: string
- name: BlobPropertiesInternal
  description: Properties of a blob
  kind: object
  properties:
  - name: Creation-Time
    description: ''
    types:
    - uid: string
  - name: Last-Modified
    description: ''
    types:
    - uid: string
  - name: Etag
    description: ''
    types:
    - uid: string
  - name: Content-Length
    description: Size in bytes
    types:
    - uid: integer
  - name: Content-Type
    description: ''
    types:
    - uid: string
  - name: Content-Encoding
    description: ''
    types:
    - uid: string
  - name: Content-Language
    description: ''
    types:
    - uid: string
  - name: Content-MD5
    description: ''
    types:
    - uid: string
  - name: Content-Disposition
    description: ''
    types:
    - uid: string
  - name: Cache-Control
    description: ''
    types:
    - uid: string
  - name: x-ms-blob-sequence-number
    description: ''
    types:
    - uid: integer
  - name: CopyId
    description: ''
    types:
    - uid: string
  - name: CopySource
    description: ''
    types:
    - uid: string
  - name: CopyProgress
    description: ''
    types:
    - uid: string
  - name: CopyCompletionTime
    description: ''
    types:
    - uid: string
  - name: CopyStatusDescription
    description: ''
    types:
    - uid: string
  - name: ServerEncrypted
    description: ''
    types:
    - uid: boolean
  - name: IncrementalCopy
    description: ''
    types:
    - uid: boolean
  - name: DestinationSnapshot
    description: ''
    types:
    - uid: string
  - name: DeletedTime
    description: ''
    types:
    - uid: string
  - name: RemainingRetentionDays
    description: ''
    types:
    - uid: integer
  - name: AccessTierInferred
    description: ''
    types:
    - uid: boolean
  - name: CustomerProvidedKeySha256
    description: ''
    types:
    - uid: string
  - name: EncryptionScope
    description: The name of the encryption scope under which the blob is encrypted.
    types:
    - uid: string
  - name: AccessTierChangeTime
    description: ''
    types:
    - uid: string
  - name: TagCount
    description: ''
    types:
    - uid: integer
  - name: Expiry-Time
    description: ''
    types:
    - uid: string
  - name: Sealed
    description: ''
    types:
    - uid: boolean
  - name: LastAccessTime
    description: ''
    types:
    - uid: string
  - name: DeleteTime
    description: ''
    types:
    - uid: string
examples: []
security: []
errorCodes: []
