### YamlMime:RESTOperation
uid: management.azure.com.azurespringapps.deployments.list
name: List
service: Azure Spring Apps
groupName: Deployments
apiVersion: 2022-05-01-preview
summary: Handles requests to list all resources in an App.
consumes:
- application/json
produces:
- application/json
paths:
- content: GET https://management.azure.com/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.AppPlatform/Spring/{serviceName}/apps/{appName}/deployments?api-version=2022-05-01-preview
- content: GET https://management.azure.com/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.AppPlatform/Spring/{serviceName}/apps/{appName}/deployments?api-version=2022-05-01-preview&version={version}
  isOptional: true
uriParameters:
- name: subscriptionId
  in: path
  isRequired: true
  description: Gets subscription ID which uniquely identify the Microsoft Azure subscription. The subscription ID forms part of the URI for every service call.
  types:
  - uid: string
- name: resourceGroupName
  in: path
  isRequired: true
  description: The name of the resource group that contains the resource. You can obtain this value from the Azure Resource Manager API or the portal.
  types:
  - uid: string
- name: serviceName
  in: path
  isRequired: true
  description: The name of the Service resource.
  types:
  - uid: string
- name: appName
  in: path
  isRequired: true
  description: The name of the App resource.
  types:
  - uid: string
- name: api-version
  in: query
  isRequired: true
  description: The API version to use for this operation.
  types:
  - uid: string
- name: version
  in: query
  description: Version of the deployments to be listed
  types:
  - uid: array
responses:
- name: 200 OK
  description: Success. The response describes the list of Deployments in the App.
  types:
  - uid: DeploymentResourceCollection
- name: Other Status Codes
  description: Error response describing why the operation failed.
  types:
  - uid: CloudError
requestHeader: []
definitions:
- name: DeploymentResourceCollection
  description: Object that includes an array of App resources and a possible link for next set
  kind: object
  properties:
  - name: value
    description: Collection of Deployment resources
    types:
    - uid: DeploymentResource
      isArray: true
  - name: nextLink
    description: >-
      URL client should use to fetch the next page (per server side paging).

      It's null for now, added for future use.
    types:
    - uid: string
- name: CloudError
  description: An error response from the service.
  kind: object
  properties:
  - name: error
    description: An error response from the service.
    types:
    - uid: CloudErrorBody
- name: DeploymentResource
  description: Deployment resource payload
  kind: object
  properties:
  - name: properties
    description: Properties of the Deployment resource
    types:
    - uid: DeploymentResourceProperties
  - name: sku
    description: Sku of the Deployment resource
    types:
    - uid: Sku
  - name: id
    isReadyOnly: true
    description: Fully qualified resource Id for the resource.
    types:
    - uid: string
  - name: name
    isReadyOnly: true
    description: The name of the resource.
    types:
    - uid: string
  - name: type
    isReadyOnly: true
    description: The type of the resource.
    types:
    - uid: string
  - name: systemData
    isReadyOnly: true
    description: Metadata pertaining to creation and last modification of the resource.
    types:
    - uid: SystemData
- name: CloudErrorBody
  description: An error response from the service.
  kind: object
  properties:
  - name: code
    description: An identifier for the error. Codes are invariant and are intended to be consumed programmatically.
    types:
    - uid: string
  - name: message
    description: A message describing the error, intended to be suitable for display in a user interface.
    types:
    - uid: string
  - name: target
    description: The target of the particular error. For example, the name of the property in error.
    types:
    - uid: string
  - name: details
    description: A list of additional details about the error.
    types:
    - uid: CloudErrorBody
      isArray: true
- name: DeploymentResourceProperties
  description: Deployment resource properties payload
  kind: object
  properties:
  - name: source
    description: Uploaded source information of the deployment.
    types:
    - uid: BuildResultUserSourceInfo
    - uid: CustomContainerUserSourceInfo
    typesTitle: UserSourceInfo
  - name: deploymentSettings
    description: Deployment settings of the Deployment
    types:
    - uid: DeploymentSettings
  - name: provisioningState
    isReadyOnly: true
    description: Provisioning state of the Deployment
    types:
    - uid: DeploymentResourceProvisioningState
  - name: status
    isReadyOnly: true
    description: Status of the Deployment
    types:
    - uid: DeploymentResourceStatus
  - name: active
    description: Indicates whether the Deployment is active
    types:
    - uid: boolean
  - name: instances
    isReadyOnly: true
    description: Collection of instances belong to the Deployment
    types:
    - uid: DeploymentInstance
      isArray: true
- name: Sku
  description: Sku of Azure Spring Apps
  kind: object
  properties:
  - name: name
    description: Name of the Sku
    types:
    - uid: string
    defaultValue: S0
  - name: tier
    description: Tier of the Sku
    types:
    - uid: string
    defaultValue: Standard
  - name: capacity
    description: Current capacity of the target resource
    types:
    - uid: integer
- name: SystemData
  description: Metadata pertaining to creation and last modification of the resource.
  kind: object
  properties:
  - name: createdBy
    description: The identity that created the resource.
    types:
    - uid: string
  - name: createdByType
    description: The type of identity that created the resource.
    types:
    - uid: createdByType
  - name: createdAt
    description: The timestamp of resource creation (UTC).
    types:
    - uid: string
  - name: lastModifiedBy
    description: The identity that last modified the resource.
    types:
    - uid: string
  - name: lastModifiedByType
    description: The type of identity that last modified the resource.
    types:
    - uid: lastModifiedByType
  - name: lastModifiedAt
    description: The timestamp of resource modification (UTC).
    types:
    - uid: string
- name: DeploymentSettings
  description: Deployment settings payload
  kind: object
  properties:
  - name: resourceRequests
    description: The requested resource quantity for required CPU and Memory. It is recommended that using this field to represent the required CPU and Memory, the old field cpu and memoryInGB will be deprecated later.
    types:
    - uid: ResourceRequests
  - name: environmentVariables
    description: Collection of environment variables
    types:
    - uid: object
      isDictionary: true
      additionalTypes:
      - uid: string
      - uid: string
  - name: addonConfigs
    description: Collection of addons
    types:
    - uid: object
      isDictionary: true
      additionalTypes:
      - uid: string
      - uid: object
  - name: livenessProbe
    description: 'Periodic probe of App Instance liveness. App Instance will be restarted if the probe fails. More info: https://kubernetes.io/docs/concepts/workloads/pods/pod-lifecycle#container-probes'
    types:
    - uid: Probe
  - name: readinessProbe
    description: 'Periodic probe of App Instance service readiness. App Instance will be removed from service endpoints if the probe fails. More info: https://kubernetes.io/docs/concepts/workloads/pods/pod-lifecycle#container-probes'
    types:
    - uid: Probe
  - name: startupProbe
    description: "StartupProbe indicates that the App Instance has successfully initialized. If specified, no other probes are executed until this completes successfully. If this probe fails, the Pod will be restarted, just as if the livenessProbe failed. This can be used to provide different probe parameters at the beginning of a App Instance's lifecycle, when it might take a long time to load data or warm a cache, than during steady-state operation. This cannot be updated. More info: https://kubernetes.io/docs/concepts/workloads/pods/pod-lifecycle#container-probes"
    types:
    - uid: Probe
  - name: terminationGracePeriodSeconds
    description: Optional duration in seconds the App Instance needs to terminate gracefully. May be decreased in delete request. Value must be non-negative integer. The value zero indicates stop immediately via the kill signal (no opportunity to shut down). If this value is nil, the default grace period will be used instead. The grace period is the duration in seconds after the processes running in the App Instance are sent a termination signal and the time when the processes are forcibly halted with a kill signal. Set this value longer than the expected cleanup time for your process. Defaults to 90 seconds.
    types:
    - uid: integer
    defaultValue: 90
  - name: containerProbeSettings
    description: Container liveness and readiness probe settings
    types:
    - uid: ContainerProbeSettings
- name: DeploymentResourceProvisioningState
  description: Provisioning state of the Deployment
  kind: enum
  properties:
  - name: Creating
    types:
    - uid: string
  - name: Updating
    types:
    - uid: string
  - name: Succeeded
    types:
    - uid: string
  - name: Failed
    types:
    - uid: string
- name: DeploymentResourceStatus
  description: Status of the Deployment
  kind: enum
  properties:
  - name: Stopped
    types:
    - uid: string
  - name: Running
    types:
    - uid: string
- name: DeploymentInstance
  description: Deployment instance payload
  kind: object
  properties:
  - name: name
    isReadyOnly: true
    description: Name of the deployment instance
    types:
    - uid: string
  - name: status
    isReadyOnly: true
    description: Status of the deployment instance
    types:
    - uid: string
  - name: reason
    isReadyOnly: true
    description: Failed reason of the deployment instance
    types:
    - uid: string
  - name: discoveryStatus
    isReadyOnly: true
    description: Discovery status of the deployment instance
    types:
    - uid: string
  - name: startTime
    isReadyOnly: true
    description: Start time of the deployment instance
    types:
    - uid: string
  - name: zone
    isReadyOnly: true
    description: Availability zone information of the deployment instance
    types:
    - uid: string
- name: createdByType
  description: The type of identity that created the resource.
  kind: enum
  properties:
  - name: User
    types:
    - uid: string
  - name: Application
    types:
    - uid: string
  - name: ManagedIdentity
    types:
    - uid: string
  - name: Key
    types:
    - uid: string
- name: lastModifiedByType
  description: The type of identity that last modified the resource.
  kind: enum
  properties:
  - name: User
    types:
    - uid: string
  - name: Application
    types:
    - uid: string
  - name: ManagedIdentity
    types:
    - uid: string
  - name: Key
    types:
    - uid: string
- name: BuildResultUserSourceInfo
  description: Reference to a build result
  kind: object
  properties:
  - name: buildResultId
    description: Resource id of an existing succeeded build result under the same Spring instance.
    types:
    - uid: string
  - name: type
    description: Type of the source uploaded
    types:
    - uid: BuildResult
    typesTitle: string
  - name: version
    description: Version of the source
    types:
    - uid: string
- name: CustomContainerUserSourceInfo
  description: Custom container user source info
  kind: object
  properties:
  - name: customContainer
    description: Custom container payload
    types:
    - uid: CustomContainer
  - name: type
    description: Type of the source uploaded
    types:
    - uid: Container
    typesTitle: string
  - name: version
    description: Version of the source
    types:
    - uid: string
- name: ResourceRequests
  description: Deployment resource request payload
  kind: object
  properties:
  - name: cpu
    description: Required CPU. 1 core can be represented by 1 or 1000m. This should be 500m or 1 for Basic tier, and {500m, 1, 2, 3, 4} for Standard tier.
    types:
    - uid: string
  - name: memory
    description: Required memory. 1 GB can be represented by 1Gi or 1024Mi. This should be {512Mi, 1Gi, 2Gi} for Basic tier, and {512Mi, 1Gi, 2Gi, ..., 8Gi} for Standard tier.
    types:
    - uid: string
- name: Probe
  description: Probe describes a health check to be performed against an App Instance to determine whether it is alive or ready to receive traffic.
  kind: object
  properties:
  - name: probeAction
    description: The action of the probe.
    types:
    - uid: HTTPGetAction
    - uid: ExecAction
    - uid: TCPSocketAction
    typesTitle: ProbeAction
  - name: disableProbe
    description: Indicate whether the probe is disabled.
    types:
    - uid: boolean
    defaultValue: false
  - name: initialDelaySeconds
    description: 'Number of seconds after the App Instance has started before probes are initiated. More info: https://kubernetes.io/docs/concepts/workloads/pods/pod-lifecycle#container-probes'
    types:
    - uid: integer
  - name: periodSeconds
    description: How often (in seconds) to perform the probe. Minimum value is 1.
    types:
    - uid: integer
  - name: timeoutSeconds
    description: Number of seconds after which the probe times out. Minimum value is 1.
    types:
    - uid: integer
  - name: failureThreshold
    description: Minimum consecutive failures for the probe to be considered failed after having succeeded. Minimum value is 1.
    types:
    - uid: integer
  - name: successThreshold
    description: Minimum consecutive successes for the probe to be considered successful after having failed. Must be 1 for liveness and startup. Minimum value is 1.
    types:
    - uid: integer
- name: ContainerProbeSettings
  description: Container liveness and readiness probe settings
  kind: object
  properties:
  - name: disableProbe
    description: Indicates whether disable the liveness and readiness probe
    types:
    - uid: boolean
- name: CustomContainer
  description: Custom container payload
  kind: object
  properties:
  - name: server
    description: The name of the registry that contains the container image
    types:
    - uid: string
  - name: containerImage
    description: Container image of the custom container. This should be in the form of <repository>:<tag> without the server name of the registry
    types:
    - uid: string
  - name: command
    description: Entrypoint array. Not executed within a shell. The docker image's ENTRYPOINT is used if this is not provided.
    types:
    - uid: string
      isArray: true
  - name: args
    description: Arguments to the entrypoint. The docker image's CMD is used if this is not provided.
    types:
    - uid: string
      isArray: true
  - name: imageRegistryCredential
    description: Credential of the image registry
    types:
    - uid: ImageRegistryCredential
  - name: languageFramework
    description: Language framework of the container image uploaded
    types:
    - uid: string
- name: ImageRegistryCredential
  description: Credential of the image registry
  kind: object
  properties:
  - name: username
    description: The username of the image registry credential
    types:
    - uid: string
  - name: password
    description: The password of the image registry credential
    types:
    - uid: string
- name: HTTPGetAction
  description: HTTPGetAction describes an action based on HTTP Get requests.
  kind: object
  properties:
  - name: path
    description: Path to access on the HTTP server.
    types:
    - uid: string
  - name: scheme
    description: >-
      Scheme to use for connecting to the host. Defaults to HTTP.


      Possible enum values:
       - `"HTTP"` means that the scheme used will be http://
       - `"HTTPS"` means that the scheme used will be https://
    types:
    - uid: HTTPSchemeType
  - name: type
    description: The type of the action to take to perform the health check.
    types:
    - uid: HTTPGetAction
    typesTitle: string
- name: ExecAction
  description: ExecAction describes a "run in container" action.
  kind: object
  properties:
  - name: command
    description: Command is the command line to execute inside the container, the working directory for the command is root ('/') in the container's filesystem. The command is not run inside a shell, so traditional shell instructions ('|', etc) won't work. To use a shell, you need to explicitly call out to that shell. Exit status of 0 is treated as live/healthy and non-zero is unhealthy.
    types:
    - uid: string
      isArray: true
  - name: type
    description: The type of the action to take to perform the health check.
    types:
    - uid: ExecAction
    typesTitle: string
- name: TCPSocketAction
  description: TCPSocketAction describes an action based on opening a socket
  kind: object
  properties:
  - name: type
    description: The type of the action to take to perform the health check.
    types:
    - uid: TCPSocketAction
    typesTitle: string
- name: HTTPSchemeType
  description: >-
    Scheme to use for connecting to the host. Defaults to HTTP.


    Possible enum values:
     - `"HTTP"` means that the scheme used will be http://
     - `"HTTPS"` means that the scheme used will be https://
  kind: enum
  properties:
  - name: HTTP
    types:
    - uid: string
  - name: HTTPS
    types:
    - uid: string
examples:
- name: Deployments_List
  request:
    uri: GET https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/myResourceGroup/providers/Microsoft.AppPlatform/Spring/myservice/apps/myapp/deployments?api-version=2022-05-01-preview
    codeTab: |+
      # [HTTP](#tab/HTTP)
      ``` http
      GET https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/myResourceGroup/providers/Microsoft.AppPlatform/Spring/myservice/apps/myapp/deployments?api-version=2022-05-01-preview
      ```

  responses:
  - statusCode: "200"
    body: >-
      {
        "value": [
          {
            "properties": {
              "source": {
                "type": "Source",
                "relativePath": "resources/a172cedcae47474b615c54d510a5d84a8dea3032e958587430b413538be3f333-2019082605-e3095339-1723-44b7-8b5e-31b1003978bc",
                "version": "1.0",
                "artifactSelector": "sub-module-1"
              },
              "deploymentSettings": {
                "resourceRequests": {
                  "cpu": "1000m",
                  "memory": "3Gi"
                },
                "environmentVariables": {
                  "env": "test"
                }
              },
              "provisioningState": "Succeeded",
              "status": "Running",
              "active": true,
              "instances": [
                {
                  "name": "instance1",
                  "status": "Running",
                  "discoveryStatus": "pending",
                  "startTime": "2020-08-26T01:55:02Z"
                }
              ]
            },
            "sku": {
              "name": "S0",
              "tier": "Standard",
              "capacity": 1
            },
            "systemData": {
              "createdBy": "sample-user",
              "createdByType": "User",
              "createdAt": "2021-08-11T03:16:03.944Z",
              "lastModifiedBy": "sample-user",
              "lastModifiedByType": "User",
              "lastModifiedAt": "2021-08-11T03:17:03.944Z"
            },
            "type": "Microsoft.AppPlatform/Spring/apps/deployments",
            "id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/myResourceGroup/providers/Microsoft.AppPlatform/Spring/myservice/apps/myapp/deployments/mydeployment",
            "name": "mydeployment"
          }
        ]
      }
security:
- name: azure_auth
  type: oauth2
  description: Azure Active Directory OAuth2 Flow
  flow: implicit
  authorizationUrl: https://login.microsoftonline.com/common/oauth2/authorize
  scopes:
  - name: user_impersonation
    description: impersonate your user account
metadata:
  description: Learn more about Azure Spring Apps service - Handles requests to list all resources in an App.
errorCodes: []
