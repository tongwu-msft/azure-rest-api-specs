### YamlMime:RESTOperation
uid: management.azure.com.databoxedgegateway.triggers.createorupdate
name: Create Or Update
service: Data Box Edge/Data Box Gateway
groupName: Triggers
apiVersion: 2021-02-01
summary: Creates or updates a trigger.
consumes:
- application/json
produces:
- application/json
paths:
- content: PUT https://management.azure.com/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.DataBoxEdge/dataBoxEdgeDevices/{deviceName}/triggers/{name}?api-version=2021-02-01
uriParameters:
- name: subscriptionId
  in: path
  isRequired: true
  description: The subscription ID.
  types:
  - uid: string
- name: resourceGroupName
  in: path
  isRequired: true
  description: The resource group name.
  types:
  - uid: string
- name: deviceName
  in: path
  isRequired: true
  description: Creates or updates a trigger
  types:
  - uid: string
- name: name
  in: path
  isRequired: true
  description: The trigger name.
  types:
  - uid: string
- name: api-version
  in: query
  isRequired: true
  description: The API version.
  types:
  - uid: string
responses:
- name: 200 OK
  description: Successfully created or updated the trigger.
  types:
  - uid: FileEventTrigger
  - uid: PeriodicTimerEventTrigger
  typesTitle: Trigger
- name: 202 Accepted
  description: Accepted the request to create or update the trigger.
- name: Other Status Codes
  description: Error response describing why the operation failed.
  types:
  - uid: CloudError
requestBody:
- name: FileEventTrigger
  description: Trigger details.
  parameters:
  - name: properties.sourceInfo
    in: body
    isRequired: true
    description: File event source details.
    types:
    - uid: FileSourceInfo
  - name: properties.sinkInfo
    in: body
    isRequired: true
    description: Role sink info.
    types:
    - uid: RoleSinkInfo
  - name: properties.customContextTag
    in: body
    description: A custom context tag typically used to correlate the trigger against its usage. For example, if a periodic timer trigger is intended for certain specific IoT modules in the device, the tag can be the name or the image URL of the module.
    types:
    - uid: string
  - name: kind
    in: body
    isRequired: true
    description: Trigger Kind.
    types:
    - uid: FileEvent
    typesTitle: string
- name: PeriodicTimerEventTrigger
  description: Trigger details.
  parameters:
  - name: properties.sourceInfo
    in: body
    isRequired: true
    description: Periodic timer details.
    types:
    - uid: PeriodicTimerSourceInfo
  - name: properties.sinkInfo
    in: body
    isRequired: true
    description: Role Sink information.
    types:
    - uid: RoleSinkInfo
  - name: properties.customContextTag
    in: body
    description: A custom context tag typically used to correlate the trigger against its usage. For example, if a periodic timer trigger is intended for certain specific IoT modules in the device, the tag can be the name or the image URL of the module.
    types:
    - uid: string
  - name: kind
    in: body
    isRequired: true
    description: Trigger Kind.
    types:
    - uid: PeriodicTimerEvent
    typesTitle: string
requestHeader: []
definitions:
- name: FileEventTrigger
  description: Trigger details.
  kind: object
  properties:
  - name: id
    isReadyOnly: true
    description: The path ID that uniquely identifies the object.
    types:
    - uid: string
  - name: name
    isReadyOnly: true
    description: The object name.
    types:
    - uid: string
  - name: type
    isReadyOnly: true
    description: The hierarchical type of the object.
    types:
    - uid: string
  - name: properties.sourceInfo
    description: File event source details.
    types:
    - uid: FileSourceInfo
  - name: properties.sinkInfo
    description: Role sink info.
    types:
    - uid: RoleSinkInfo
  - name: properties.customContextTag
    description: A custom context tag typically used to correlate the trigger against its usage. For example, if a periodic timer trigger is intended for certain specific IoT modules in the device, the tag can be the name or the image URL of the module.
    types:
    - uid: string
  - name: systemData
    isReadyOnly: true
    description: Trigger in DataBoxEdge Resource
    types:
    - uid: SystemData
  - name: kind
    description: Trigger Kind.
    types:
    - uid: FileEvent
    typesTitle: string
- name: PeriodicTimerEventTrigger
  description: Trigger details.
  kind: object
  properties:
  - name: id
    isReadyOnly: true
    description: The path ID that uniquely identifies the object.
    types:
    - uid: string
  - name: name
    isReadyOnly: true
    description: The object name.
    types:
    - uid: string
  - name: type
    isReadyOnly: true
    description: The hierarchical type of the object.
    types:
    - uid: string
  - name: properties.sourceInfo
    description: Periodic timer details.
    types:
    - uid: PeriodicTimerSourceInfo
  - name: properties.sinkInfo
    description: Role Sink information.
    types:
    - uid: RoleSinkInfo
  - name: properties.customContextTag
    description: A custom context tag typically used to correlate the trigger against its usage. For example, if a periodic timer trigger is intended for certain specific IoT modules in the device, the tag can be the name or the image URL of the module.
    types:
    - uid: string
  - name: systemData
    isReadyOnly: true
    description: Trigger in DataBoxEdge Resource
    types:
    - uid: SystemData
  - name: kind
    description: Trigger Kind.
    types:
    - uid: PeriodicTimerEvent
    typesTitle: string
- name: SystemData
  description: Metadata pertaining to creation and last modification of the resource.
  kind: object
  properties:
  - name: createdBy
    description: The identity that created the resource.
    types:
    - uid: string
  - name: createdByType
    description: The type of identity that created the resource.
    types:
    - uid: createdByType
  - name: createdAt
    description: The timestamp of resource creation (UTC).
    types:
    - uid: string
  - name: lastModifiedBy
    description: The identity that last modified the resource.
    types:
    - uid: string
  - name: lastModifiedByType
    description: The type of identity that last modified the resource.
    types:
    - uid: createdByType
  - name: lastModifiedAt
    description: The type of identity that last modified the resource.
    types:
    - uid: string
- name: CloudError
  description: An error response from the service.
  kind: object
  properties:
  - name: error
    description: The error details.
    types:
    - uid: CloudErrorBody
- name: FileSourceInfo
  description: File source details.
  kind: object
  properties:
  - name: shareId
    description: File share ID.
    types:
    - uid: string
- name: RoleSinkInfo
  description: Compute role against which events will be raised.
  kind: object
  properties:
  - name: roleId
    description: Compute role ID.
    types:
    - uid: string
- name: PeriodicTimerSourceInfo
  description: Periodic timer event source.
  kind: object
  properties:
  - name: startTime
    description: The time of the day that results in a valid trigger. Schedule is computed with reference to the time specified upto seconds. If timezone is not specified the time will considered to be in device timezone. The value will always be returned as UTC time.
    types:
    - uid: string
  - name: schedule
    description: Periodic frequency at which timer event needs to be raised. Supports daily, hourly, minutes, and seconds.
    types:
    - uid: string
  - name: topic
    description: Topic where periodic events are published to IoT device.
    types:
    - uid: string
- name: createdByType
  description: The type of identity that created the resource.
  kind: enum
  properties:
  - name: User
    types:
    - uid: string
  - name: Application
    types:
    - uid: string
  - name: ManagedIdentity
    types:
    - uid: string
  - name: Key
    types:
    - uid: string
- name: CloudErrorBody
  description: An error response from the service.
  kind: object
  properties:
  - name: code
    description: An identifier for the error. Codes are invariant and are intended to be consumed programmatically.
    types:
    - uid: string
  - name: message
    description: A message describing the error, intended to be suitable for display in a user interface.
    types:
    - uid: string
  - name: details
    description: A list of additional details about the error.
    types:
    - uid: CloudErrorBody
      isArray: true
examples:
- name: TriggerPut
  request:
    uri: PUT https://management.azure.com/subscriptions/4385cf00-2d3a-425a-832f-f4285b1c9dce/resourceGroups/GroupForEdgeAutomation/providers/Microsoft.DataBoxEdge/dataBoxEdgeDevices/testedgedevice/triggers/trigger1?api-version=2021-02-01
    body: >-
      {
        "properties": {
          "customContextTag": "CustomContextTags-1235346475",
          "sourceInfo": {
            "shareId": "/subscriptions/4385cf00-2d3a-425a-832f-f4285b1c9dce/resourceGroups/GroupForEdgeAutomation/providers/Microsoft.DataBoxEdge/dataBoxEdgeDevices/testedgedevice/shares/share1"
          },
          "sinkInfo": {
            "roleId": "/subscriptions/4385cf00-2d3a-425a-832f-f4285b1c9dce/resourceGroups/GroupForEdgeAutomation/providers/Microsoft.DataBoxEdge/dataBoxEdgeDevices/testedgedevice/roles/role1"
          }
        },
        "kind": "FileEvent"
      }
    codeTab: |+
      # [HTTP](#tab/HTTP)
      ``` http
      PUT https://management.azure.com/subscriptions/4385cf00-2d3a-425a-832f-f4285b1c9dce/resourceGroups/GroupForEdgeAutomation/providers/Microsoft.DataBoxEdge/dataBoxEdgeDevices/testedgedevice/triggers/trigger1?api-version=2021-02-01

      {
        "properties": {
          "customContextTag": "CustomContextTags-1235346475",
          "sourceInfo": {
            "shareId": "/subscriptions/4385cf00-2d3a-425a-832f-f4285b1c9dce/resourceGroups/GroupForEdgeAutomation/providers/Microsoft.DataBoxEdge/dataBoxEdgeDevices/testedgedevice/shares/share1"
          },
          "sinkInfo": {
            "roleId": "/subscriptions/4385cf00-2d3a-425a-832f-f4285b1c9dce/resourceGroups/GroupForEdgeAutomation/providers/Microsoft.DataBoxEdge/dataBoxEdgeDevices/testedgedevice/roles/role1"
          }
        },
        "kind": "FileEvent"
      }

      ```

  responses:
  - statusCode: "200"
    body: >-
      {
        "properties": {
          "customContextTag": "CustomContextTags-1235346475",
          "sourceInfo": {
            "shareId": "/subscriptions/4385cf00-2d3a-425a-832f-f4285b1c9dce/resourceGroups/GroupForEdgeAutomation/providers/Microsoft.DataBoxEdge/dataBoxEdgeDevices/testedgedevice/shares/share1"
          },
          "sinkInfo": {
            "roleId": "/subscriptions/4385cf00-2d3a-425a-832f-f4285b1c9dce/resourceGroups/GroupForEdgeAutomation/providers/Microsoft.DataBoxEdge/dataBoxEdgeDevices/testedgedevice/roles/role1"
          }
        },
        "id": "/subscriptions/4385cf00-2d3a-425a-832f-f4285b1c9dce/resourceGroups/GroupForEdgeAutomation/providers/Microsoft.DataBoxEdge/dataBoxEdgeDevices/testedgedevice/triggers/trigger1",
        "name": "trigger1",
        "type": "dataBoxEdgeDevices/triggers",
        "kind": "FileEvent"
      }
  - statusCode: "202"
security:
- name: azure_auth
  type: oauth2
  description: Azure Active Directory OAuth2 Flow
  flow: implicit
  authorizationUrl: https://login.microsoftonline.com/common/oauth2/authorize
  scopes:
  - name: user_impersonation
    description: impersonate your user account
metadata:
  description: >
    Learn more about Data Box Edge/Data Box Gateway service - Creates or updates a trigger.
errorCodes: []
