### YamlMime:RESTOperation
uid: cognitiveservices.snapshot.take
name: Take
service: Cognitive Services
groupName: Snapshot
apiVersion: "1.0"
summary: >-
  Submit an operation to take a snapshot of face list, large face list, person group or large person group, with user-specified snapshot type, source object id, apply scope and an optional user data.<br />

  The snapshot interfaces are for users to backup and restore their face data from one face subscription to another, inside same region or across regions. The workflow contains two phases, user first calls Snapshot - Take to create a copy of the source object and store it as a snapshot, then calls Snapshot - Apply to paste the snapshot to target subscription. The snapshots are stored in a centralized location (per Azure instance), so that they can be applied cross accounts and regions.<br />

  Taking snapshot is an asynchronous operation. An operation id can be obtained from the "Operation-Location" field in response header, to be used in OperationStatus - Get for tracking the progress of creating the snapshot. The snapshot id will be included in the "resourceLocation" field in OperationStatus - Get response when the operation status is "succeeded".<br />

  Snapshot taking time depends on the number of person and face entries in the source object. It could be in seconds, or up to several hours for 1,000,000 persons with multiple faces.<br />

  Snapshots will be automatically expired and cleaned in 48 hours after it is created by Snapshot - Take. User can delete the snapshot using Snapshot - Delete by themselves any time before expiration.<br />

  Taking snapshot for a certain object will not block any other operations against the object. All read-only operations (Get/List and Identify/FindSimilar/Verify) can be conducted as usual. For all writable operations, including Add/Update/Delete the source object or its persons/faces and Train, they are not blocked but not recommended because writable updates may not be reflected on the snapshot during its taking. After snapshot taking is completed, all readable and writable operations can work as normal. Snapshot will also include the training results of the source object, which means target subscription the snapshot applied to does not need re-train the target object before calling Identify/FindSimilar.<br />

  * Free-tier subscription quota: 100 take operations per month.

  * S0-tier subscription quota: 100 take operations per day.
consumes:
- application/json
produces:
- application/json
paths:
- content: POST {Endpoint}/face/v1.0/snapshots
uriParameters:
- name: Endpoint
  in: path
  isRequired: true
  description: 'Supported Cognitive Services endpoints (protocol and hostname, for example: https://westus.api.cognitive.microsoft.com).'
  types:
  - uid: string
responses:
- name: 202 Accepted
  headers:
  - name: Operation-Location
    value: string
  description: The snapshot taking task was queued successfully.
- name: Other Status Codes
  description: Error response.
  types:
  - uid: APIError
requestBody:
- name: default
  parameters:
  - name: type
    in: body
    isRequired: true
    description: User specified type for the source object to take snapshot from. Currently FaceList, PersonGroup, LargeFaceList and LargePersonGroup are supported.
    types:
    - uid: SnapshotObjectType
  - name: objectId
    in: body
    isRequired: true
    description: User specified source object id to take snapshot from.
    types:
    - uid: string
  - name: applyScope
    in: body
    isRequired: true
    description: User specified array of target Face subscription ids for the snapshot. For each snapshot, only subscriptions included in the applyScope of Snapshot - Take can apply it.
    types:
    - uid: string
      isArray: true
  - name: userData
    in: body
    description: User specified data about the snapshot for any purpose. Length should not exceed 16KB.
    types:
    - uid: string
requestHeader: []
definitions:
- name: APIError
  description: Error information returned by the API
  kind: object
  properties:
  - name: error
    description: Error body.
    types:
    - uid: Error
- name: TakeSnapshotRequest
  description: Request body for taking snapshot operation.
  kind: object
  properties:
  - name: type
    description: User specified type for the source object to take snapshot from. Currently FaceList, PersonGroup, LargeFaceList and LargePersonGroup are supported.
    types:
    - uid: SnapshotObjectType
  - name: objectId
    description: User specified source object id to take snapshot from.
    types:
    - uid: string
  - name: applyScope
    description: User specified array of target Face subscription ids for the snapshot. For each snapshot, only subscriptions included in the applyScope of Snapshot - Take can apply it.
    types:
    - uid: string
      isArray: true
  - name: userData
    description: User specified data about the snapshot for any purpose. Length should not exceed 16KB.
    types:
    - uid: string
- name: Error
  description: Error body.
  kind: object
  properties:
  - name: code
    description: ''
    types:
    - uid: string
  - name: message
    description: ''
    types:
    - uid: string
- name: SnapshotObjectType
  description: Type of the source object in the snapshot, specified by the subscriber who created the snapshot when calling Snapshot - Take. Currently FaceList, PersonGroup, LargeFaceList and LargePersonGroup are supported.
  kind: enum
  properties:
  - name: FaceList
    types:
    - uid: string
  - name: LargeFaceList
    types:
    - uid: string
  - name: LargePersonGroup
    types:
    - uid: string
  - name: PersonGroup
    types:
    - uid: string
examples:
- name: Take a snapshot example
  request:
    uri: POST {Endpoint}/face/v1.0/snapshots
    body: >-
      {
        "type": "FaceList",
        "objectId": "source-face-list-id",
        "applyScope": [
          "35230F59-AA9C-45E0-AB5E-C859BF1A5429",
          "64084E07-9B7F-4A98-BEA4-9986D3A1EDEB"
        ],
        "userData": "User-provided data attached to the snapshot."
      }
  responses:
  - statusCode: "202"
    body: "\"\""
security:
- name: Ocp-Apim-Subscription-Key
  type: apiKey
  in: header
errorCodes: []
