### YamlMime:RESTOperation
uid: cognitiveservices.translator.documenttranslation.getoperations
name: Get Operations
service: Cognitive Services
groupName: Document Translation
apiVersion: v1.0-preview.1
summary: "Returns a list of batch requests submitted and the status for each request  \nReturns a list of batch requests submitted and the status for each request.\nThis list only contains batch requests submitted by the user (based on the resource).\n            \nIf the number of requests exceeds our paging limit, server-side paging is used. Paginated responses indicate a partial result and include a continuation token in the response.\nThe absence of a continuation token means that no additional pages are available.\n            \n$top, $skip and $maxpagesize query parameters can be used to specify a number of results to return and an offset for the collection.\n            \n$top indicates the total number of records the user wants to be returned across all pages.\n$skip indicates the number of records to skip from the list of batches based on the sorting method specified.  By default, we sort by descending start time.\n$maxpagesize is the maximum items returned in a page.  If more items are requested via $top (or $top is not specified and there are more items to be returned), @nextLink will contain the link to the next page.\n            \n$orderBy query parameter can be used to sort the returned list (ex \"$orderBy=createdDateTimeUtc asc\" or \"$orderBy=createdDateTimeUtc desc\").\nThe default sorting is descending by createdDateTimeUtc.\nSome query parameters can be used to filter the returned list (ex: \"status=Succeeded,Cancelled\") will only return succeeded and cancelled operations.\ncreatedDateTimeUtcStart and createdDateTimeUtcEnd can be used combined or separately to specify a range of datetime to filter the returned list by.\nThe supported filtering query parameters are (status, ids, createdDateTimeUtcStart, createdDateTimeUtcEnd).\n            \nThe server honors the values specified by the client. However, clients must be prepared to handle responses that contain a different page size or contain a continuation token.\n            \nWhen both $top and $skip are included, the server should first apply $skip and then $top on the collection.\nNote: If the server can't honor $top and/or $skip, the server must return an error to the client informing about it instead of just ignoring the query options.\nThis reduces the risk of the client making assumptions about the data returned."
produces:
- application/json
paths:
- content: GET {endpoint}/translator/text/batch/v1.0-preview.1/batches
- content: GET {endpoint}/translator/text/batch/v1.0-preview.1/batches?$top={$top}&$skip={$skip}&$maxpagesize={$maxpagesize}&ids={ids}&statuses={statuses}&createdDateTimeUtcStart={createdDateTimeUtcStart}&createdDateTimeUtcEnd={createdDateTimeUtcEnd}&$orderBy={$orderBy}
  isOptional: true
uriParameters:
- name: endpoint
  in: path
  isRequired: true
  skipUrlEncoding: true
  description: 'Supported Cognitive Services endpoints (protocol and hostname, for example: https://westus.api.cognitive.microsoft.com).'
  types:
  - uid: string
- name: $top
  in: query
  description: "$top indicates the total number of records the user wants to be returned across all pages.\r\n            \r\nClients MAY use $top and $skip query parameters to specify a number of results to return and an offset into the collection.\r\nWhen both $top and $skip are given by a client, the server SHOULD first apply $skip and then $top on the collection.\r\n            \r\nNote: If the server can't honor $top and/or $skip, the server MUST return an error to the client informing about it instead of just ignoring the query options."
  types:
  - uid: integer
  format: int32
- name: $skip
  in: query
  description: "$skip indicates the number of records to skip from the list of records held by the server based on the sorting method specified.  By default, we sort by descending start time.\r\n            \r\nClients MAY use $top and $skip query parameters to specify a number of results to return and an offset into the collection.\r\nWhen both $top and $skip are given by a client, the server SHOULD first apply $skip and then $top on the collection.\r\n            \r\nNote: If the server can't honor $top and/or $skip, the server MUST return an error to the client informing about it instead of just ignoring the query options."
  types:
  - uid: integer
  format: int32
- name: $maxpagesize
  in: query
  description: "$maxpagesize is the maximum items returned in a page.  If more items are requested via $top (or $top is not specified and there are more items to be returned), @nextLink will contain the link to the next page.\r\n            \r\nClients MAY request server-driven paging with a specific page size by specifying a $maxpagesize preference. The server SHOULD honor this preference if the specified page size is smaller than the server's default page size."
  types:
  - uid: integer
  format: int32
- name: ids
  in: query
  description: Ids to use in filtering
  types:
  - uid: array
- name: statuses
  in: query
  description: Statuses to use in filtering
  types:
  - uid: array
- name: createdDateTimeUtcStart
  in: query
  description: the start datetime to get items after
  types:
  - uid: string
  format: date-time
- name: createdDateTimeUtcEnd
  in: query
  description: the end datetime to get items before
  types:
  - uid: string
  format: date-time
- name: $orderBy
  in: query
  description: "the sorting query for the collection (ex: 'CreatedDateTimeUtc asc', 'CreatedDateTimeUtc desc')"
  types:
  - uid: array
responses:
- name: 200 OK
  headers:
  - name: Retry-After
    value: integer
  - name: ETag
    value: string
  description: Successful request and returns the status of the all the operations
  types:
  - uid: BatchStatusResponse
- name: 400 Bad Request
  description: Invalid request.  Check input parameters
  types:
  - uid: ErrorResponseV2
- name: 401 Unauthorized
  description: Unauthorized.  Please check your credentials
  types:
  - uid: ErrorResponseV2
- name: Other Status Codes
  description: Too many requests
  types:
  - uid: ErrorResponseV2
- name: 500 Internal Server Error
  description: Internal Server Error
  types:
  - uid: ErrorResponseV2
- name: Other Status Codes
  description: Server temporary unavailable
  types:
  - uid: ErrorResponseV2
requestHeader:
- name: Ocp-Apim-Subscription-Key
  in: header
  isRequired: true
  description: Provide your cognitive services subscription key here.
  types:
  - uid: string
definitions:
- name: BatchStatusResponse
  description: Document Status Response
  kind: object
  properties:
  - name: value
    description: The summary status of individual operation
    types:
    - uid: BatchStatusDetail
      isArray: true
  - name: '@nextLink'
    description: Url for the next page.  Null if no more pages available
    types:
    - uid: string
- name: ErrorResponseV2
  description: >-
    Contains unified error information used for HTTP responses across any Cognitive Service. Instances

    can be created either through Microsoft.CloudAI.Containers.HttpStatusExceptionV2 or by returning it directly from

    a controller.
  kind: object
  properties:
  - name: error
    description: This contains an outer error with error code, message, details, target and an inner error with more descriptive details.
    types:
    - uid: ErrorV2
- name: BatchStatusDetail
  description: Job status response
  kind: object
  properties:
  - name: id
    description: Id of the operation.
    types:
    - uid: string
  - name: createdDateTimeUtc
    description: Operation created date time
    types:
    - uid: string
  - name: lastActionDateTimeUtc
    description: Date time in which the operation's status has been updated
    types:
    - uid: string
  - name: status
    description: List of possible statuses for job or document
    types:
    - uid: Status
  - name: error
    description: This contains an outer error with error code, message, details, target and an inner error with more descriptive details.
    types:
    - uid: ErrorV2
  - name: summary
    description: ''
    types:
    - uid: StatusSummary
- name: ErrorV2
  description: This contains an outer error with error code, message, details, target and an inner error with more descriptive details.
  kind: object
  properties:
  - name: code
    description: Enums containing high level error codes.
    types:
    - uid: ErrorCodeV2
  - name: message
    description: Gets high level error message.
    types:
    - uid: string
  - name: target
    isReadyOnly: true
    description: "Gets the source of the error. \nFor example it would be \"documents\" or \"document id\" in case of invalid document."
    types:
    - uid: string
  - name: innerError
    description: >-
      New Inner Error format which conforms to Cognitive Services API Guidelines which is available at https://microsoft.sharepoint.com/%3Aw%3A/t/CognitiveServicesPMO/EUoytcrjuJdKpeOKIK_QRC8BPtUYQpKBi8JsWyeDMRsWlQ?e=CPq8ow.

      This contains required properties ErrorCode, message and optional properties target, details(key value pair), inner error(this can be nested).
    types:
    - uid: InnerErrorV2
- name: Status
  description: List of possible statuses for job or document
  kind: enum
  properties:
  - name: NotStarted
    types:
    - uid: string
  - name: Running
    types:
    - uid: string
  - name: Succeeded
    types:
    - uid: string
  - name: Failed
    types:
    - uid: string
  - name: Cancelled
    types:
    - uid: string
  - name: Cancelling
    types:
    - uid: string
  - name: ValidationFailed
    types:
    - uid: string
- name: StatusSummary
  kind: object
  properties:
  - name: total
    description: Total count
    types:
    - uid: integer
  - name: failed
    description: Failed count
    types:
    - uid: integer
  - name: success
    description: Number of Success
    types:
    - uid: integer
  - name: inProgress
    description: Number of in progress
    types:
    - uid: integer
  - name: notYetStarted
    description: Count of not yet started
    types:
    - uid: integer
  - name: cancelled
    description: Number of cancelled
    types:
    - uid: integer
  - name: totalCharacterCharged
    description: Total characters charged by the API
    types:
    - uid: integer
- name: ErrorCodeV2
  description: Enums containing high level error codes.
  kind: enum
  properties:
  - name: InvalidRequest
    types:
    - uid: string
  - name: InvalidArgument
    types:
    - uid: string
  - name: InternalServerError
    types:
    - uid: string
  - name: ServiceUnavailable
    types:
    - uid: string
  - name: ResourceNotFound
    types:
    - uid: string
  - name: Unauthorized
    types:
    - uid: string
  - name: RequestRateTooHigh
    types:
    - uid: string
- name: InnerErrorV2
  description: >-
    New Inner Error format which conforms to Cognitive Services API Guidelines which is available at https://microsoft.sharepoint.com/%3Aw%3A/t/CognitiveServicesPMO/EUoytcrjuJdKpeOKIK_QRC8BPtUYQpKBi8JsWyeDMRsWlQ?e=CPq8ow.

    This contains required properties ErrorCode, message and optional properties target, details(key value pair), inner error(this can be nested).
  kind: object
  properties:
  - name: code
    description: Gets code error string.
    types:
    - uid: string
  - name: message
    description: Gets high level error message.
    types:
    - uid: string
  - name: target
    isReadyOnly: true
    description: "Gets the source of the error. \nFor example it would be \"documents\" or \"document id\" in case of invalid document."
    types:
    - uid: string
  - name: innerError
    description: >-
      New Inner Error format which conforms to Cognitive Services API Guidelines which is available at https://microsoft.sharepoint.com/%3Aw%3A/t/CognitiveServicesPMO/EUoytcrjuJdKpeOKIK_QRC8BPtUYQpKBi8JsWyeDMRsWlQ?e=CPq8ow.

      This contains required properties ErrorCode, message and optional properties target, details(key value pair), inner error(this can be nested).
    types:
    - uid: InnerErrorV2
examples:
- name: Get status for batch operations
  request:
    uri: >-
      GET {endpoint}/translator/text/batch/v1.0-preview.1/batches?$top=1&$skip=0&$maxpagesize=10&ids=[

        "273622bd-835c-4946-9798-fd8f19f6bbf2"

      ]&statuses=[

        "Succeeded"

      ]&createdDateTimeUtcStart=2021-03-23T07:03:38.0136316Z&createdDateTimeUtcEnd=2021-03-25T07:03:38.0136316Z&$orderBy=CreatedDateTime asc
    headers:
    - name: Ocp-Apim-Subscription-Key
      value: '{API key}'
  responses:
  - statusCode: "401"
    body: >-
      {
        "error": {
          "code": "Unauthorized",
          "message": "User is not authorized",
          "target": "Operation",
          "innerError": {
            "code": "Unauthorized",
            "message": "Operation is not authorized"
          }
        }
      }
  - statusCode: "429"
    body: >-
      {
        "error": {
          "code": "RequestRateTooHigh",
          "message": "User's request rate is too high",
          "target": "Operation",
          "innerError": {
            "code": "RateTooHigh",
            "message": "Request rate is too high"
          }
        }
      }
  - statusCode: "500"
    body: >-
      {
        "error": {
          "code": "InternalServerError",
          "message": "Internal Server Error",
          "target": "Operation",
          "innerError": {
            "code": "InternalServerError",
            "message": "Unexpected internal server error has occurred"
          }
        }
      }
  - statusCode: "503"
    body: >-
      {
        "error": {
          "code": "ServiceUnavailable",
          "message": "Service is temporary unavailable",
          "target": "Operation",
          "innerError": {
            "code": "ServiceTemporaryUnavailable",
            "message": "Service is currently unavailable.  Please try again later"
          }
        }
      }
  - statusCode: "200"
    headers:
    - name: retry-after
      value: "30"
    - name: ETag
      value: 686897696a7c876b7e
    body: >-
      {
        "value": [
          {
            "id": "273622bd-835c-4946-9798-fd8f19f6bbf2",
            "createdDateTimeUtc": "2021-03-23T07:03:30.013631Z",
            "lastActionDateTimeUtc": "2021-03-26T01:00:00Z",
            "status": "Succeeded",
            "summary": {
              "total": 10,
              "failed": 1,
              "success": 9,
              "inProgress": 0,
              "notYetStarted": 0,
              "cancelled": 0,
              "totalCharacterCharged": 1000
            }
          }
        ]
      }
  - statusCode: "400"
    body: >-
      {
        "error": {
          "code": "InvalidRequest",
          "message": "Some argument is incorrect",
          "target": "Operation",
          "innerError": {
            "code": "SASTokenInvalid",
            "message": "SAS token for storage is invalid"
          }
        }
      }
security:
- name: Ocp-Apim-Subscription-Key
  type: apiKey
  description: Provide your cognitive services subscription key here.
  in: header
errorCodes: []
