### YamlMime:RESTOperation
uid: cognitiveservices.translator.documenttranslation.getdocumentsstatus
name: Get Documents Status
service: Cognitive Services
groupName: Document Translation
apiVersion: v1.0
summary: "Returns the status for all documents in a batch document translation request.\r\n            \r\nIf the number of documents in the response exceeds our paging limit, server-side paging is used.\r\nPaginated responses indicate a partial result and include a continuation token in the response. The absence of a continuation token means that no additional pages are available.\r\n            \r\n$top, $skip and $maxpagesize query parameters can be used to specify a number of results to return and an offset for the collection.\r\n            \r\n$top indicates the total number of records the user wants to be returned across all pages.\r\n$skip indicates the number of records to skip from the list of document status held by the server based on the sorting method specified.  By default, we sort by descending start time.\r\n$maxpagesize is the maximum items returned in a page.  If more items are requested via $top (or $top is not specified and there are more items to be returned), @nextLink will contain the link to the next page.\r\n            \r\n$orderBy query parameter can be used to sort the returned list (ex \"$orderBy=createdDateTimeUtc asc\" or \"$orderBy=createdDateTimeUtc desc\").\r\nThe default sorting is descending by createdDateTimeUtc.\r\nSome query parameters can be used to filter the returned list (ex: \"status=Succeeded,Cancelled\") will only return succeeded and cancelled documents.\r\ncreatedDateTimeUtcStart and createdDateTimeUtcEnd can be used combined or separately to specify a range of datetime to filter the returned list by.\r\nThe supported filtering query parameters are (status, ids, createdDateTimeUtcStart, createdDateTimeUtcEnd).\r\n            \r\nWhen both $top and $skip are included, the server should first apply $skip and then $top on the collection.\r\nNote: If the server can't honor $top and/or $skip, the server must return an error to the client informing about it instead of just ignoring the query options.\r\nThis reduces the risk of the client making assumptions about the data returned."
produces:
- application/json
paths:
- content: GET {endpoint}/translator/text/batch/v1.0/batches/{id}/documents
- content: GET {endpoint}/translator/text/batch/v1.0/batches/{id}/documents?$top={$top}&$skip={$skip}&$maxpagesize={$maxpagesize}&ids={ids}&statuses={statuses}&createdDateTimeUtcStart={createdDateTimeUtcStart}&createdDateTimeUtcEnd={createdDateTimeUtcEnd}&$orderBy={$orderBy}
  isOptional: true
uriParameters:
- name: endpoint
  in: path
  isRequired: true
  skipUrlEncoding: true
  description: 'Supported Cognitive Services endpoints (protocol and hostname, for example: https://westus.api.cognitive.microsoft.com).'
  types:
  - uid: string
- name: id
  in: path
  isRequired: true
  description: Format - uuid.  The operation id
  types:
  - uid: string
  format: uuid
- name: $top
  in: query
  description: "$top indicates the total number of records the user wants to be returned across all pages.\r\n            \r\nClients MAY use $top and $skip query parameters to specify a number of results to return and an offset into the collection.\r\nWhen both $top and $skip are given by a client, the server SHOULD first apply $skip and then $top on the collection.\r\n            \r\nNote: If the server can't honor $top and/or $skip, the server MUST return an error to the client informing about it instead of just ignoring the query options."
  types:
  - uid: integer
  format: int32
- name: $skip
  in: query
  description: "$skip indicates the number of records to skip from the list of records held by the server based on the sorting method specified.  By default, we sort by descending start time.\r\n            \r\nClients MAY use $top and $skip query parameters to specify a number of results to return and an offset into the collection.\r\nWhen both $top and $skip are given by a client, the server SHOULD first apply $skip and then $top on the collection.\r\n            \r\nNote: If the server can't honor $top and/or $skip, the server MUST return an error to the client informing about it instead of just ignoring the query options."
  types:
  - uid: integer
  format: int32
- name: $maxpagesize
  in: query
  description: "$maxpagesize is the maximum items returned in a page.  If more items are requested via $top (or $top is not specified and there are more items to be returned), @nextLink will contain the link to the next page.\r\n            \r\nClients MAY request server-driven paging with a specific page size by specifying a $maxpagesize preference. The server SHOULD honor this preference if the specified page size is smaller than the server's default page size."
  types:
  - uid: integer
  format: int32
- name: ids
  in: query
  description: Ids to use in filtering
  types:
  - uid: array
- name: statuses
  in: query
  description: Statuses to use in filtering
  types:
  - uid: array
- name: createdDateTimeUtcStart
  in: query
  description: the start datetime to get items after
  types:
  - uid: string
  format: date-time
- name: createdDateTimeUtcEnd
  in: query
  description: the end datetime to get items before
  types:
  - uid: string
  format: date-time
- name: $orderBy
  in: query
  description: "the sorting query for the collection (ex: 'CreatedDateTimeUtc asc', 'CreatedDateTimeUtc desc')"
  types:
  - uid: array
responses:
- name: 200 OK
  headers:
  - name: Retry-After
    value: integer
  - name: ETag
    value: string
  description: Successful request and returns the status of the documents
  types:
  - uid: DocumentsStatus
- name: 400 Bad Request
  description: Invalid request.  Check input parameters
  types:
  - uid: TranslationErrorResponse
- name: 401 Unauthorized
  description: Unauthorized.  Please check your credentials
  types:
  - uid: TranslationErrorResponse
- name: 404 Not Found
  description: Resource is not found
  types:
  - uid: TranslationErrorResponse
- name: Other Status Codes
  description: Too many requests
  types:
  - uid: TranslationErrorResponse
- name: 500 Internal Server Error
  description: Internal Server Error
  types:
  - uid: TranslationErrorResponse
- name: Other Status Codes
  description: Server temporary unavailable
  types:
  - uid: TranslationErrorResponse
requestHeader:
- name: Ocp-Apim-Subscription-Key
  in: header
  isRequired: true
  description: Provide your cognitive services subscription key here.
  types:
  - uid: string
definitions:
- name: DocumentsStatus
  description: Documents Status Response
  kind: object
  properties:
  - name: value
    description: The detail status of individual documents
    types:
    - uid: DocumentStatus
      isArray: true
  - name: '@nextLink'
    description: Url for the next page.  Null if no more pages available
    types:
    - uid: string
- name: TranslationErrorResponse
  description: >-
    Contains unified error information used for HTTP responses across any Cognitive Service. Instances

    can be created either through Microsoft.CloudAI.Containers.HttpStatusExceptionV2 or by returning it directly from

    a controller.
  kind: object
  properties:
  - name: error
    description: This contains an outer error with error code, message, details, target and an inner error with more descriptive details.
    types:
    - uid: TranslationError
- name: DocumentStatus
  description: Document Status Response
  kind: object
  properties:
  - name: path
    description: Location of the document or folder
    types:
    - uid: string
  - name: sourcePath
    description: Location of the source document
    types:
    - uid: string
  - name: createdDateTimeUtc
    description: Operation created date time
    types:
    - uid: string
  - name: lastActionDateTimeUtc
    description: Date time in which the operation's status has been updated
    types:
    - uid: string
  - name: status
    description: List of possible statuses for job or document
    types:
    - uid: Status
  - name: to
    description: To language
    types:
    - uid: string
  - name: error
    description: This contains an outer error with error code, message, details, target and an inner error with more descriptive details.
    types:
    - uid: TranslationError
  - name: progress
    description: Progress of the translation if available
    types:
    - uid: number
  - name: id
    description: Document Id
    types:
    - uid: string
  - name: characterCharged
    description: Character charged by the API
    types:
    - uid: integer
- name: TranslationError
  description: This contains an outer error with error code, message, details, target and an inner error with more descriptive details.
  kind: object
  properties:
  - name: code
    description: Enums containing high level error codes.
    types:
    - uid: TranslationErrorCode
  - name: message
    description: Gets high level error message.
    types:
    - uid: string
  - name: target
    isReadyOnly: true
    description: "Gets the source of the error. \nFor example it would be \"documents\" or \"document id\" in case of invalid document."
    types:
    - uid: string
  - name: innerError
    description: >-
      New Inner Error format which conforms to Cognitive Services API Guidelines which is available at https://microsoft.sharepoint.com/%3Aw%3A/t/CognitiveServicesPMO/EUoytcrjuJdKpeOKIK_QRC8BPtUYQpKBi8JsWyeDMRsWlQ?e=CPq8ow.

      This contains required properties ErrorCode, message and optional properties target, details(key value pair), inner error(this can be nested).
    types:
    - uid: InnerTranslationError
- name: Status
  description: List of possible statuses for job or document
  kind: enum
  properties:
  - name: NotStarted
    types:
    - uid: string
  - name: Running
    types:
    - uid: string
  - name: Succeeded
    types:
    - uid: string
  - name: Failed
    types:
    - uid: string
  - name: Cancelled
    types:
    - uid: string
  - name: Cancelling
    types:
    - uid: string
  - name: ValidationFailed
    types:
    - uid: string
- name: TranslationErrorCode
  description: Enums containing high level error codes.
  kind: enum
  properties:
  - name: InvalidRequest
    types:
    - uid: string
  - name: InvalidArgument
    types:
    - uid: string
  - name: InternalServerError
    types:
    - uid: string
  - name: ServiceUnavailable
    types:
    - uid: string
  - name: ResourceNotFound
    types:
    - uid: string
  - name: Unauthorized
    types:
    - uid: string
  - name: RequestRateTooHigh
    types:
    - uid: string
- name: InnerTranslationError
  description: >-
    New Inner Error format which conforms to Cognitive Services API Guidelines which is available at https://microsoft.sharepoint.com/%3Aw%3A/t/CognitiveServicesPMO/EUoytcrjuJdKpeOKIK_QRC8BPtUYQpKBi8JsWyeDMRsWlQ?e=CPq8ow.

    This contains required properties ErrorCode, message and optional properties target, details(key value pair), inner error(this can be nested).
  kind: object
  properties:
  - name: code
    description: Gets code error string.
    types:
    - uid: string
  - name: message
    description: Gets high level error message.
    types:
    - uid: string
  - name: target
    isReadyOnly: true
    description: "Gets the source of the error. \nFor example it would be \"documents\" or \"document id\" in case of invalid document."
    types:
    - uid: string
  - name: innerError
    description: >-
      New Inner Error format which conforms to Cognitive Services API Guidelines which is available at https://microsoft.sharepoint.com/%3Aw%3A/t/CognitiveServicesPMO/EUoytcrjuJdKpeOKIK_QRC8BPtUYQpKBi8JsWyeDMRsWlQ?e=CPq8ow.

      This contains required properties ErrorCode, message and optional properties target, details(key value pair), inner error(this can be nested).
    types:
    - uid: InnerTranslationError
examples:
- name: Get Documents Status for the operation batch id
  request:
    uri: GET {endpoint}/translator/text/batch/v1.0/batches/727BF148-F327-47A0-9481-ABAE6362F11E/documents?$top=2&$skip=0&$maxpagesize=1&ids=273622bd-835c-4946-9798-fd8f19f6bbf2&ids=511b6a66-a6f8-4640-83e1-48c325e9fa29&statuses=Succeeded&createdDateTimeUtcStart=2021-03-23T07:03:38.0136316Z&createdDateTimeUtcEnd=2021-03-25T07:03:38.0136316Z&$orderBy=CreatedDateTimeUtc asc
    headers:
    - name: Ocp-Apim-Subscription-Key
      value: '{API key}'
  responses:
  - statusCode: "401"
    body: >-
      {
        "error": {
          "code": "Unauthorized",
          "message": "User is not authorized",
          "target": "Document",
          "innerError": {
            "code": "Unauthorized",
            "message": "Operation is not authorized"
          }
        }
      }
  - statusCode: "429"
    body: >-
      {
        "error": {
          "code": "RequestRateTooHigh",
          "message": "User's request rate is too high",
          "target": "Document",
          "innerError": {
            "code": "RateTooHigh",
            "message": "Request rate is too high"
          }
        }
      }
  - statusCode: "500"
    body: >-
      {
        "error": {
          "code": "InternalServerError",
          "message": "Internal Server Error",
          "target": "Document",
          "innerError": {
            "code": "InternalServerError",
            "message": "Unexpected internal server error has occurred"
          }
        }
      }
  - statusCode: "503"
    body: >-
      {
        "error": {
          "code": "ServiceUnavailable",
          "message": "Service is temporary unavailable",
          "target": "Document",
          "innerError": {
            "code": "ServiceTemporaryUnavailable",
            "message": "Service is currently unavailable.  Please try again later"
          }
        }
      }
  - statusCode: "404"
    body: >-
      {
        "error": {
          "code": "ResourceNotFound",
          "message": "id not found",
          "target": "Document",
          "innerError": {
            "code": "ResourceNotFound",
            "message": "Resource requested is not found"
          }
        }
      }
  - statusCode: "200"
    headers:
    - name: retry-after
      value: "30"
    - name: ETag
      value: 686897696a7c876b7e
    body: >-
      {
        "value": [
          {
            "path": "https://myblob.blob.core.windows.net/destinationContainer/fr/mydoc.txt",
            "sourcePath": "https://myblob.blob.core.windows.net/sourceContainer/fr/mydoc.txt",
            "createdDateTimeUtc": "2021-03-23T07:03:39.013631Z",
            "lastActionDateTimeUtc": "2021-03-23T07:03:41.012452Z",
            "status": "Running",
            "to": "fr",
            "progress": 0.1,
            "id": "273622bd-835c-4946-9798-fd8f19f6bbf2",
            "characterCharged": 0
          }
        ],
        "@nextLink": "https://westus.cognitiveservices.azure.com/translator/text/batch/v1.0/operation/0FA2822F-4C2A-4317-9C20-658C801E0E55/documents?$top=1&$skip=1&$maxpagesize=1&$orderBy=CreatedDateTimeUtc%20asc&createdDateTimeUtcStart=2021-03-23T00:03:38.0136316Z&createdDateTimeUtcEnd=2021-03-25T00:03:38.0136316&statuses=Succeeded&ids=273622BD-835C-4946-9798-FD8F19F6BBF2,511B6A66-A6F8-4640-83E1-48C325E9FA29"
      }
  - statusCode: "400"
    body: >-
      {
        "error": {
          "code": "InvalidRequest",
          "message": "Some argument is incorrect",
          "target": "Document",
          "innerError": {
            "code": "SASTokenInvalid",
            "message": "SAS token for storage is invalid"
          }
        }
      }
security:
- name: Ocp-Apim-Subscription-Key
  type: apiKey
  description: Provide your cognitive services subscription key here.
  in: header
metadata:
  description: "Returns the status for all documents in a batch document translation request.\r\n            \r\nIf the number of documents in the response exceeds our paging limit"
errorCodes: []
