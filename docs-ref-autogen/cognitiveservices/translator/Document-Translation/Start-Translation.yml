### YamlMime:RESTOperation
uid: cognitiveservices.translator.documenttranslation.starttranslation
name: Start Translation
service: Cognitive Services
groupName: Document Translation
apiVersion: v1.0
summary: "Submit a document translation request to the Document Translation service  \nUse this API to submit a bulk (batch) translation request to the Document Translation service.\nEach request can contain multiple documents and must contain a source and destination container for each document.\n            \nThe prefix and suffix filter (if supplied) are used to filter folders. The prefix is applied to the subpath after the container name.\n            \nGlossaries / Translation memory can be included in the request and are applied by the service when the document is translated.\n            \nIf the glossary is invalid or unreachable during translation, an error is indicated in the document status.\nIf a file with the same name already exists at the destination, it will be overwritten. The targetUrl for each target language must be unique."
consumes:
- application/json
- text/json
- application/*+json
produces:
- application/json
paths:
- content: POST {endpoint}/translator/text/batch/v1.0/batches
uriParameters:
- name: endpoint
  in: path
  isRequired: true
  skipUrlEncoding: true
  description: 'Supported Cognitive Services endpoints (protocol and hostname, for example: https://westus.api.cognitive.microsoft.com).'
  types:
  - uid: string
responses:
- name: 202 Accepted
  headers:
  - name: Operation-Location
    value: string
  description: Successful request and the batch request is created by the service.  The header Operation-Location will indicate a status url with the operation id.
- name: 400 Bad Request
  description: Invalid request.  Check input parameters
  types:
  - uid: TranslationErrorResponse
- name: 401 Unauthorized
  description: Unauthorized.  Please check your credentials
  types:
  - uid: TranslationErrorResponse
- name: Other Status Codes
  description: Too many requests
  types:
  - uid: TranslationErrorResponse
- name: 500 Internal Server Error
  description: Internal Server Error
  types:
  - uid: TranslationErrorResponse
- name: Other Status Codes
  description: Server temporary unavailable
  types:
  - uid: TranslationErrorResponse
requestBody:
- name: default
  parameters:
  - name: inputs
    in: body
    isRequired: true
    description: The input list of documents or folders containing documents
    types:
    - uid: BatchRequest
      isArray: true
requestHeader:
- name: Ocp-Apim-Subscription-Key
  in: header
  isRequired: true
  description: Provide your cognitive services subscription key here.
  types:
  - uid: string
definitions:
- name: BatchRequest
  description: Definition for the input batch translation request
  kind: object
  properties:
  - name: source
    description: Source of the input documents
    types:
    - uid: SourceInput
  - name: targets
    description: Location of the destination for the output
    types:
    - uid: TargetInput
      isArray: true
  - name: storageType
    description: Storage type of the input documents source string
    types:
    - uid: StorageInputType
- name: TranslationErrorResponse
  description: >-
    Contains unified error information used for HTTP responses across any Cognitive Service. Instances

    can be created either through Microsoft.CloudAI.Containers.HttpStatusExceptionV2 or by returning it directly from

    a controller.
  kind: object
  properties:
  - name: error
    description: This contains an outer error with error code, message, details, target and an inner error with more descriptive details.
    types:
    - uid: TranslationError
- name: StartTranslationDetails
  description: Translation job submission batch request
  kind: object
  properties:
  - name: inputs
    description: The input list of documents or folders containing documents
    types:
    - uid: BatchRequest
      isArray: true
- name: SourceInput
  description: Source of the input documents
  kind: object
  properties:
  - name: sourceUrl
    description: Location of the folder / container or single file with your documents
    types:
    - uid: string
  - name: filter
    description: ''
    types:
    - uid: DocumentFilter
  - name: language
    description: >-
      Language code

      If none is specified, we will perform auto detect on the document
    types:
    - uid: string
  - name: storageSource
    description: Storage Source
    types:
    - uid: StorageSource
- name: TargetInput
  description: Destination for the finished translated documents
  kind: object
  properties:
  - name: targetUrl
    description: Location of the folder / container with your documents
    types:
    - uid: string
  - name: category
    description: Category / custom system for translation request
    types:
    - uid: string
  - name: language
    description: Target Language
    types:
    - uid: string
  - name: glossaries
    description: List of Glossary
    types:
    - uid: Glossary
      isArray: true
  - name: storageSource
    description: Storage Source
    types:
    - uid: StorageSource
- name: StorageInputType
  description: Storage type of the input documents source string
  kind: enum
  properties:
  - name: Folder
    types:
    - uid: string
  - name: File
    types:
    - uid: string
- name: TranslationError
  description: This contains an outer error with error code, message, details, target and an inner error with more descriptive details.
  kind: object
  properties:
  - name: code
    description: Enums containing high level error codes.
    types:
    - uid: TranslationErrorCode
  - name: message
    description: Gets high level error message.
    types:
    - uid: string
  - name: target
    isReadyOnly: true
    description: "Gets the source of the error. \nFor example it would be \"documents\" or \"document id\" in case of invalid document."
    types:
    - uid: string
  - name: innerError
    description: >-
      New Inner Error format which conforms to Cognitive Services API Guidelines which is available at https://microsoft.sharepoint.com/%3Aw%3A/t/CognitiveServicesPMO/EUoytcrjuJdKpeOKIK_QRC8BPtUYQpKBi8JsWyeDMRsWlQ?e=CPq8ow.

      This contains required properties ErrorCode, message and optional properties target, details(key value pair), inner error(this can be nested).
    types:
    - uid: InnerTranslationError
- name: DocumentFilter
  kind: object
  properties:
  - name: prefix
    description: "A case-sensitive prefix string to filter documents in the source path for translation. \nFor example, when using a Azure storage blob Uri, use the prefix to restrict sub folders for translation."
    types:
    - uid: string
  - name: suffix
    description: "A case-sensitive suffix string to filter documents in the source path for translation. \nThis is most often use for file extensions"
    types:
    - uid: string
- name: StorageSource
  description: Storage Source
  kind: enum
  properties:
  - name: AzureBlob
    types:
    - uid: string
- name: Glossary
  description: Glossary / translation memory for the request
  kind: object
  properties:
  - name: glossaryUrl
    description: "Location of the glossary. \nWe will use the file extension to extract the formatting if the format parameter is not supplied.\n\nIf the translation language pair is not present in the glossary, it will not be applied"
    types:
    - uid: string
  - name: format
    description: Format
    types:
    - uid: string
  - name: version
    description: Optional Version.  If not specified, default is used.
    types:
    - uid: string
  - name: storageSource
    description: Storage Source
    types:
    - uid: StorageSource
- name: TranslationErrorCode
  description: Enums containing high level error codes.
  kind: enum
  properties:
  - name: InvalidRequest
    types:
    - uid: string
  - name: InvalidArgument
    types:
    - uid: string
  - name: InternalServerError
    types:
    - uid: string
  - name: ServiceUnavailable
    types:
    - uid: string
  - name: ResourceNotFound
    types:
    - uid: string
  - name: Unauthorized
    types:
    - uid: string
  - name: RequestRateTooHigh
    types:
    - uid: string
- name: InnerTranslationError
  description: >-
    New Inner Error format which conforms to Cognitive Services API Guidelines which is available at https://microsoft.sharepoint.com/%3Aw%3A/t/CognitiveServicesPMO/EUoytcrjuJdKpeOKIK_QRC8BPtUYQpKBi8JsWyeDMRsWlQ?e=CPq8ow.

    This contains required properties ErrorCode, message and optional properties target, details(key value pair), inner error(this can be nested).
  kind: object
  properties:
  - name: code
    description: Gets code error string.
    types:
    - uid: string
  - name: message
    description: Gets high level error message.
    types:
    - uid: string
  - name: target
    isReadyOnly: true
    description: "Gets the source of the error. \nFor example it would be \"documents\" or \"document id\" in case of invalid document."
    types:
    - uid: string
  - name: innerError
    description: >-
      New Inner Error format which conforms to Cognitive Services API Guidelines which is available at https://microsoft.sharepoint.com/%3Aw%3A/t/CognitiveServicesPMO/EUoytcrjuJdKpeOKIK_QRC8BPtUYQpKBi8JsWyeDMRsWlQ?e=CPq8ow.

      This contains required properties ErrorCode, message and optional properties target, details(key value pair), inner error(this can be nested).
    types:
    - uid: InnerTranslationError
examples:
- name: Batch Submit
  request:
    uri: POST {endpoint}/translator/text/batch/v1.0/batches
    body: >-
      {
        "inputs": [
          {
            "source": {
              "sourceUrl": "https://myblob.blob.core.windows.net/sourceContainer",
              "filter": {
                "prefix": "pre",
                "suffix": ".txt"
              },
              "language": "en",
              "storageSource": "AzureBlob"
            },
            "targets": [
              {
                "targetUrl": "https://myblob.blob.core.windows.net/destinationContainer1",
                "category": "general",
                "language": "fr",
                "glossaries": [
                  {
                    "glossaryUrl": "https://myblob.blob.core.windows.net/myglossary/en_fr_glossary.xlf",
                    "storageSource": "AzureBlob",
                    "format": "XLIFF"
                  }
                ],
                "storageSource": "AzureBlob"
              },
              {
                "targetUrl": "https://myblob.blob.core.windows.net/destinationContainer2",
                "category": "general",
                "language": "es",
                "storageSource": "AzureBlob"
              }
            ],
            "storageType": "Folder"
          }
        ]
      }
    headers:
    - name: Ocp-Apim-Subscription-Key
      value: '{API key}'
  responses:
  - statusCode: "401"
    body: >-
      {
        "error": {
          "code": "Unauthorized",
          "message": "User is not authorized",
          "innerError": {
            "code": "Unauthorized",
            "message": "Operation is not authorized"
          }
        }
      }
  - statusCode: "429"
    body: >-
      {
        "error": {
          "code": "RequestRateTooHigh",
          "message": "User's request rate is too high",
          "innerError": {
            "code": "RateTooHigh",
            "message": "Request rate is too high"
          }
        }
      }
  - statusCode: "500"
    body: >-
      {
        "error": {
          "code": "InternalServerError",
          "message": "Internal Server Error",
          "innerError": {
            "code": "InternalServerError",
            "message": "Unexpected internal server error has occurred"
          }
        }
      }
  - statusCode: "503"
    body: >-
      {
        "error": {
          "code": "ServiceUnavailable",
          "message": "Service is temporary unavailable",
          "innerError": {
            "code": "ServiceTemporaryUnavailable",
            "message": "Service is currently unavailable.  Please try again later"
          }
        }
      }
  - statusCode: "202"
    headers:
    - name: Operation-Location
      value: https://westus.cognitiveservices.azure.com/translator/text/batch/v1.0/operation/0FA2822F-4C2A-4317-9C20-658C801E0E55
  - statusCode: "400"
    body: >-
      {
        "error": {
          "code": "InvalidRequest",
          "message": "Some argument is incorrect",
          "innerError": {
            "code": "SASTokenInvalid",
            "message": "SAS token for storage is invalid"
          }
        }
      }
security:
- name: Ocp-Apim-Subscription-Key
  type: apiKey
  description: Provide your cognitive services subscription key here.
  in: header
metadata:
  description: "Submit a document translation request to the Document Translation service  \nUse this API to submit a bulk (batch) translation request to the Document Translatio"
errorCodes: []
