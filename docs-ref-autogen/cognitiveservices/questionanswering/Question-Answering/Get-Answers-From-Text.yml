### YamlMime:RESTOperation
uid: cognitiveservices.questionanswering.questionanswering.getanswersfromtext
name: Get Answers From Text
service: Cognitive Services
groupName: Question Answering
apiVersion: 2021-10-01
summary: Answers the specified question using the provided text in the body.
consumes:
- application/json
produces:
- application/json
paths:
- content: POST {Endpoint}/language/:query-text?api-version=2021-10-01
uriParameters:
- name: Endpoint
  in: path
  isRequired: true
  skipUrlEncoding: true
  description: Supported Cognitive Services endpoint (e.g., https://<resource-name>.api.cognitiveservices.azure.com).
  types:
  - uid: string
- name: api-version
  in: query
  isRequired: true
  description: Client API version.
  types:
  - uid: string
responses:
- name: 200 OK
  description: A successful response to get answers from input text.
  types:
  - uid: AnswersFromTextResult
- name: Other Status Codes
  description: Error response.
  types:
  - uid: ErrorResponse
requestBody:
- name: default
  parameters:
  - name: question
    in: body
    isRequired: true
    description: User question to query against the given text records.
    types:
    - uid: string
  - name: records
    in: body
    isRequired: true
    description: Text records to be searched for given question.
    types:
    - uid: TextDocument
      isArray: true
  - name: language
    in: body
    description: Language of the text records. This is BCP-47 representation of a language. For example, use "en" for English; "es" for Spanish etc. If not set, use "en" for English as default.
    types:
    - uid: string
  - name: stringIndexType
    in: body
    description: Specifies the method used to interpret string offsets.  Defaults to Text Elements (Graphemes) according to Unicode v8.0.0. For additional information see https://aka.ms/text-analytics-offsets.
    types:
    - uid: StringIndexType
requestHeader:
- name: Ocp-Apim-Subscription-Key
  in: header
  isRequired: true
  types:
  - uid: string
definitions:
- name: TextDocument
  description: Represent input text record to be queried.
  kind: object
  properties:
  - name: id
    description: Unique identifier for the text record.
    types:
    - uid: string
  - name: text
    description: Text contents of the record.
    types:
    - uid: string
- name: AnswersFromTextResult
  description: Represents the answer results.
  kind: object
  properties:
  - name: answers
    description: Represents the answer results.
    types:
    - uid: TextAnswer
      isArray: true
- name: ErrorResponse
  description: Error response.
  kind: object
  properties:
  - name: error
    description: The error object.
    types:
    - uid: Error
- name: AnswersFromTextOptions
  description: The question and text record parameters to answer.
  kind: object
  properties:
  - name: question
    description: User question to query against the given text records.
    types:
    - uid: string
  - name: records
    description: Text records to be searched for given question.
    types:
    - uid: TextDocument
      isArray: true
  - name: language
    description: Language of the text records. This is BCP-47 representation of a language. For example, use "en" for English; "es" for Spanish etc. If not set, use "en" for English as default.
    types:
    - uid: string
  - name: stringIndexType
    description: Specifies the method used to interpret string offsets.  Defaults to Text Elements (Graphemes) according to Unicode v8.0.0. For additional information see https://aka.ms/text-analytics-offsets.
    types:
    - uid: StringIndexType
- name: TextAnswer
  description: Represents answer result.
  kind: object
  properties:
  - name: answer
    description: Answer.
    types:
    - uid: string
  - name: confidenceScore
    description: answer confidence score, value ranges from 0 to 1.
    types:
    - uid: number
  - name: id
    description: record ID.
    types:
    - uid: string
  - name: answerSpan
    description: Answer span object with respect to user's question.
    types:
    - uid: AnswerSpan
  - name: offset
    description: The sentence offset from the start of the document.
    types:
    - uid: integer
  - name: length
    description: The length of the sentence.
    types:
    - uid: integer
- name: Error
  description: The error object.
  kind: object
  properties:
  - name: code
    description: One of a server-defined set of error codes.
    types:
    - uid: ErrorCode
  - name: message
    description: A human-readable representation of the error.
    types:
    - uid: string
  - name: target
    description: The target of the error.
    types:
    - uid: string
  - name: details
    description: An array of details about specific errors that led to this reported error.
    types:
    - uid: Error
      isArray: true
  - name: innererror
    description: An object containing more specific information than the current object about the error.
    types:
    - uid: InnerErrorModel
- name: StringIndexType
  description: Specifies the method used to interpret string offsets.  Defaults to Text Elements (Graphemes) according to Unicode v8.0.0. For additional information see https://aka.ms/text-analytics-offsets.
  kind: enum
  properties:
  - name: TextElements_v8
    description: Returned offset and length values will correspond to TextElements (Graphemes and Grapheme clusters) confirming to the Unicode 8.0.0 standard. Use this option if your application is written in .Net Framework or .Net Core and you will be using StringInfo.
    types:
    - uid: string
  - name: UnicodeCodePoint
    description: Returned offset and length values will correspond to Unicode code points. Use this option if your application is written in a language that support Unicode, for example Python.
    types:
    - uid: string
  - name: Utf16CodeUnit
    description: Returned offset and length values will correspond to UTF-16 code units. Use this option if your application is written in a language that support Unicode, for example Java, JavaScript.
    types:
    - uid: string
- name: AnswerSpan
  description: Answer span object of QnA.
  kind: object
  properties:
  - name: text
    description: Predicted text of answer span.
    types:
    - uid: string
  - name: confidenceScore
    description: Predicted score of answer span, value ranges from 0 to 1.
    types:
    - uid: number
  - name: offset
    description: The answer span offset from the start of answer.
    types:
    - uid: integer
  - name: length
    description: The length of the answer span.
    types:
    - uid: integer
- name: ErrorCode
  description: Human-readable error code.
  kind: enum
  properties:
  - name: InvalidRequest
    types:
    - uid: string
  - name: InvalidArgument
    types:
    - uid: string
  - name: Unauthorized
    types:
    - uid: string
  - name: Forbidden
    types:
    - uid: string
  - name: NotFound
    types:
    - uid: string
  - name: ProjectNotFound
    types:
    - uid: string
  - name: OperationNotFound
    types:
    - uid: string
  - name: AzureCognitiveSearchNotFound
    types:
    - uid: string
  - name: AzureCognitiveSearchIndexNotFound
    types:
    - uid: string
  - name: TooManyRequests
    types:
    - uid: string
  - name: AzureCognitiveSearchThrottling
    types:
    - uid: string
  - name: AzureCognitiveSearchIndexLimitReached
    types:
    - uid: string
  - name: InternalServerError
    types:
    - uid: string
  - name: ServiceUnavailable
    types:
    - uid: string
- name: InnerErrorModel
  description: An object containing more specific information about the error. As per Microsoft One API guidelines - https://github.com/Microsoft/api-guidelines/blob/vNext/Guidelines.md#7102-error-condition-responses.
  kind: object
  properties:
  - name: code
    description: One of a server-defined set of error codes.
    types:
    - uid: InnerErrorCode
  - name: message
    description: Error message.
    types:
    - uid: string
  - name: details
    description: Error details.
    types:
    - uid: object
      isDictionary: true
      additionalTypes:
      - uid: string
      - uid: string
  - name: target
    description: Error target.
    types:
    - uid: string
  - name: innererror
    description: An object containing more specific information than the current object about the error.
    types:
    - uid: InnerErrorModel
- name: InnerErrorCode
  description: Human-readable error code.
  kind: enum
  properties:
  - name: InvalidRequest
    types:
    - uid: string
  - name: InvalidParameterValue
    types:
    - uid: string
  - name: KnowledgeBaseNotFound
    types:
    - uid: string
  - name: AzureCognitiveSearchNotFound
    types:
    - uid: string
  - name: AzureCognitiveSearchThrottling
    types:
    - uid: string
  - name: ExtractionFailure
    types:
    - uid: string
examples:
- name: Successful query
  request:
    uri: POST {Endpoint}/language/:query-text?api-version=2021-10-01
    body: >-
      {
        "question": "how long it takes to charge surface?",
        "records": [
          {
            "id": "1",
            "text": "Power and charging. It takes two to four hours to charge the Surface Pro 4 battery fully from an empty state. It can take longer if you’re using your Surface for power-intensive activities like gaming or video streaming while you’re charging it."
          },
          {
            "id": "2",
            "text": "You can use the USB port on your Surface Pro 4 power supply to charge other devices, like a phone, while your Surface charges. The USB port on the power supply is only for charging, not for data transfer. If you want to use a USB device, plug it into the USB port on your Surface."
          }
        ],
        "language": "en"
      }
    headers:
    - name: Ocp-Apim-Subscription-Key
      value: '{API key}'
  responses:
  - statusCode: "200"
    body: >-
      {
        "answers": [
          {
            "answer": "Power and charging. It takes two to four hours to charge the Surface Pro 4 battery fully from an empty state. It can take longer if you’re using your Surface for power-intensive activities like gaming or video streaming while you’re charging it.",
            "confidenceScore": 0.93,
            "id": "1",
            "answerSpan": {
              "text": "two to four hours",
              "confidenceScore": 0,
              "offset": 28,
              "length": 45
            },
            "offset": 0,
            "length": 224
          },
          {
            "answer": "It takes two to four hours to charge the Surface Pro 4 battery fully from an empty state. It can take longer if you’re using your Surface for power-intensive activities like gaming or video streaming while you’re charging it.",
            "confidenceScore": 0.92,
            "id": "1",
            "answerSpan": {
              "text": "two to four hours",
              "confidenceScore": 0,
              "offset": 8,
              "length": 25
            },
            "offset": 20,
            "length": 224
          },
          {
            "answer": "It can take longer if you’re using your Surface for power-intensive activities like gaming or video streaming while you’re charging it.",
            "confidenceScore": 0.05,
            "id": "1",
            "answerSpan": null,
            "offset": 110,
            "length": 244
          }
        ]
      }
security:
- name: Ocp-Apim-Subscription-Key
  type: apiKey
  in: header
metadata:
  description: Learn more about Cognitive Services service - Answers the specified question using the provided text in the body.
errorCodes: []
