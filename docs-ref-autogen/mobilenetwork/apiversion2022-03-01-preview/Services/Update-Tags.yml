### YamlMime:RESTOperation
uid: management.azure.com.mobilenetwork.apiversion2022-03-01-preview.services.updatetags
name: Update Tags
service: Mobile Network
groupName: Services
apiVersion: 2022-03-01-preview
summary: Update service tags.
consumes:
- application/json
produces:
- application/json
paths:
- content: PATCH https://management.azure.com/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.MobileNetwork/mobileNetworks/{mobileNetworkName}/services/{serviceName}?api-version=2022-03-01-preview
uriParameters:
- name: subscriptionId
  in: path
  isRequired: true
  description: The ID of the target subscription.
  types:
  - uid: string
- name: resourceGroupName
  in: path
  isRequired: true
  description: The name of the resource group. The name is case insensitive.
  types:
  - uid: string
- name: mobileNetworkName
  in: path
  isRequired: true
  description: The name of the mobile network.
  types:
  - uid: string
  pattern: ^[a-zA-Z0-9][a-zA-Z0-9_-]*$
- name: serviceName
  in: path
  isRequired: true
  description: The name of the service. You must not use any of the following reserved strings - `default`, `requested` or `service`
  types:
  - uid: string
  pattern: ^(?!(default|requested|service)$)[a-zA-Z0-9][a-zA-Z0-9_-]*$
- name: api-version
  in: query
  isRequired: true
  description: The API version to use for this operation.
  types:
  - uid: string
responses:
- name: 200 OK
  description: Update successful. The operation returns the resulting service resource.
  types:
  - uid: Service
- name: Other Status Codes
  description: Error response describing why the operation failed.
  types:
  - uid: ErrorResponse
requestBody:
- name: default
  parameters:
  - name: tags
    in: body
    description: Resource tags.
    types:
    - uid: object
      isDictionary: true
      additionalTypes:
      - uid: string
      - uid: string
requestHeader: []
definitions:
- name: Service
  description: Service resource.
  kind: object
  properties:
  - name: properties.provisioningState
    isReadyOnly: true
    description: The provisioning state of the service resource.
    types:
    - uid: ProvisioningState
  - name: properties.servicePrecedence
    description: A precedence value that is used to decide between services when identifying the QoS values to use for a particular Sim. A lower value means a higher priority. This value should be unique among all services configured in the Mobile Network.
    types:
    - uid: integer
  - name: properties.serviceQosPolicy
    description: The QoS policy to use for packets matching this service. This can be overridden for particular flows using the ruleQosPolicy field in a PccRuleConfiguration. If this field is null then the UE's simPolicy will define the QoS settings.
    types:
    - uid: QosPolicy
  - name: properties.pccRules
    description: The set of PCC Rules that make up this service.
    types:
    - uid: PccRuleConfiguration
      isArray: true
  - name: systemData.createdBy
    description: The identity that created the resource.
    types:
    - uid: string
  - name: systemData.createdByType
    description: The type of identity that created the resource.
    types:
    - uid: createdByType
  - name: systemData.createdAt
    description: The timestamp of resource creation (UTC).
    types:
    - uid: string
  - name: systemData.lastModifiedBy
    description: The identity that last modified the resource.
    types:
    - uid: string
  - name: systemData.lastModifiedByType
    description: The type of identity that last modified the resource.
    types:
    - uid: createdByType
  - name: systemData.lastModifiedAt
    description: The timestamp of resource last modification (UTC)
    types:
    - uid: string
  - name: tags
    description: Resource tags.
    types:
    - uid: object
      isDictionary: true
      additionalTypes:
      - uid: string
      - uid: string
  - name: location
    description: The geo-location where the resource lives
    types:
    - uid: string
  - name: id
    isReadyOnly: true
    description: Fully qualified resource ID for the resource. Ex - /subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/{resourceProviderNamespace}/{resourceType}/{resourceName}
    types:
    - uid: string
  - name: name
    isReadyOnly: true
    description: The name of the resource
    types:
    - uid: string
  - name: type
    isReadyOnly: true
    description: The type of the resource. E.g. "Microsoft.Compute/virtualMachines" or "Microsoft.Storage/storageAccounts"
    types:
    - uid: string
  - name: systemData
    isReadyOnly: true
    description: Azure Resource Manager metadata containing createdBy and modifiedBy information.
    types:
    - uid: systemData
- name: ErrorResponse
  description: Error response
  kind: object
  properties:
  - name: error
    description: The error object.
    types:
    - uid: ErrorDetail
- name: TagsObject
  description: Tags object for patch operations.
  kind: object
  properties:
  - name: tags
    description: Resource tags.
    types:
    - uid: object
      isDictionary: true
      additionalTypes:
      - uid: string
      - uid: string
- name: ProvisioningState
  description: The current provisioning state.
  kind: enum
  properties:
  - name: Unknown
    types:
    - uid: string
  - name: Succeeded
    types:
    - uid: string
  - name: Accepted
    types:
    - uid: string
  - name: Deleting
    types:
    - uid: string
  - name: Failed
    types:
    - uid: string
  - name: Canceled
    types:
    - uid: string
  - name: Deleted
    types:
    - uid: string
- name: QosPolicy
  description: QoS policy
  kind: object
  properties:
  - name: 5qi
    description: 'QoS Flow 5G QoS Indicator value.  The 5QI identifies a specific QoS forwarding treatment to be provided to a flow. This must not be a standardized 5QI value selecting a GBR (Guaranteed Bit Rate) QoS.  The illegal GBR 5QI values are: 1, 2, 3, 4, 65, 66, 67, 71, 72, 73, 74, 75, 76, 82, 83, 84, and 85. See 3GPP TS23.501 section 5.7.2.1 for a full description of the 5Qi parameter, and table 5.7.4-1 for the definition of which are the GBR 5QI values.'
    types:
    - uid: integer
    defaultValue: 9
  - name: allocationAndRetentionPriorityLevel
    description: QoS Flow allocation and retention priority (ARP) level. Flows with higher priority preempt flows with lower priority, if the settings of `preemptionCapability` and `preemptionVulnerability` allow it. 1 is the highest level of priority. If this field is not specified then `5qi` is used to derive the ARP value. See 3GPP TS23.501 section 5.7.2.2 for a full description of the ARP parameters.
    types:
    - uid: integer
    defaultValue: 9
  - name: preemptionCapability
    description: QoS Flow preemption capability.  The Preemption Capability of a QoS Flow controls whether it can preempt another QoS Flow with a lower priority level. See 3GPP TS23.501 section 5.7.2.2 for a full description of the ARP parameters.
    types:
    - uid: PreemptionCapability
    defaultValue: NotPreempt
  - name: preemptionVulnerability
    description: QoS Flow preemption vulnerability.  The Preemption Vulnerability of a QoS Flow controls whether it can be preempted by QoS Flow with a higher priority level. See 3GPP TS23.501 section 5.7.2.2 for a full description of the ARP parameters.
    types:
    - uid: PreemptionVulnerability
    defaultValue: Preemptable
  - name: maximumBitRate
    description: The Maximum Bit Rate (MBR) for all service data flows that use this PCC Rule or Service.
    types:
    - uid: Ambr
- name: PccRuleConfiguration
  description: PCC rule configuration
  kind: object
  properties:
  - name: ruleName
    description: The name of the rule. This must be unique within the parent Service. You must not use any of the following reserved strings - `default`, `requested` or `service`.
    types:
    - uid: string
  - name: rulePrecedence
    description: A precedence value that is used to decide between PCC Rules when identifying the QoS values to use for a particular Sim. A lower value means a higher priority. This value should be unique among all PCC Rules configured in the Mobile Network.
    types:
    - uid: integer
  - name: ruleQosPolicy
    description: The QoS policy to use for packets matching this rule. If this field is null then the Service will define the QoS settings.
    types:
    - uid: PccRuleQosPolicy
  - name: trafficControl
    description: Determines whether flows that match this PCC Rule are permitted.
    types:
    - uid: TrafficControlPermission
    defaultValue: Enabled
  - name: serviceDataFlowTemplates
    description: The set of service data flow templates to use for this PCC Rule.
    types:
    - uid: ServiceDataFlowTemplate
      isArray: true
- name: createdByType
  description: The type of identity that created the resource.
  kind: enum
  properties:
  - name: User
    types:
    - uid: string
  - name: Application
    types:
    - uid: string
  - name: ManagedIdentity
    types:
    - uid: string
  - name: Key
    types:
    - uid: string
- name: systemData
  description: Metadata pertaining to creation and last modification of the resource.
  kind: object
  properties:
  - name: createdBy
    description: The identity that created the resource.
    types:
    - uid: string
  - name: createdByType
    description: The type of identity that created the resource.
    types:
    - uid: createdByType
  - name: createdAt
    description: The timestamp of resource creation (UTC).
    types:
    - uid: string
  - name: lastModifiedBy
    description: The identity that last modified the resource.
    types:
    - uid: string
  - name: lastModifiedByType
    description: The type of identity that last modified the resource.
    types:
    - uid: createdByType
  - name: lastModifiedAt
    description: The timestamp of resource last modification (UTC)
    types:
    - uid: string
- name: ErrorDetail
  description: The error detail.
  kind: object
  properties:
  - name: code
    isReadyOnly: true
    description: The error code.
    types:
    - uid: string
  - name: message
    isReadyOnly: true
    description: The error message.
    types:
    - uid: string
  - name: target
    isReadyOnly: true
    description: The error target.
    types:
    - uid: string
  - name: details
    isReadyOnly: true
    description: The error details.
    types:
    - uid: ErrorDetail
      isArray: true
  - name: additionalInfo
    isReadyOnly: true
    description: The error additional info.
    types:
    - uid: ErrorAdditionalInfo
      isArray: true
- name: PreemptionCapability
  description: Preemption capability.
  kind: enum
  properties:
  - name: NotPreempt
    description: Cannot preempt
    types:
    - uid: string
  - name: MayPreempt
    description: May preempt
    types:
    - uid: string
- name: PreemptionVulnerability
  description: Preemption vulnerability.
  kind: enum
  properties:
  - name: NotPreemptable
    description: Cannot be preempted
    types:
    - uid: string
  - name: Preemptable
    description: May be preempted
    types:
    - uid: string
- name: Ambr
  description: Aggregate Maximum Bit Rate.
  kind: object
  properties:
  - name: uplink
    description: Uplink bit rate.
    types:
    - uid: string
  - name: downlink
    description: Downlink bit rate.
    types:
    - uid: string
- name: PccRuleQosPolicy
  description: PCC rule QoS policy
  kind: object
  properties:
  - name: guaranteedBitRate
    description: The Guaranteed Bit Rate (GBR) for all service data flows that use this PCC Rule. This is an optional setting. If you do not provide a value, there will be no GBR set for the PCC Rule that uses this QoS definition.
    types:
    - uid: Ambr
  - name: 5qi
    description: 'QoS Flow 5G QoS Indicator value.  The 5QI identifies a specific QoS forwarding treatment to be provided to a flow. This must not be a standardized 5QI value selecting a GBR (Guaranteed Bit Rate) QoS.  The illegal GBR 5QI values are: 1, 2, 3, 4, 65, 66, 67, 71, 72, 73, 74, 75, 76, 82, 83, 84, and 85. See 3GPP TS23.501 section 5.7.2.1 for a full description of the 5Qi parameter, and table 5.7.4-1 for the definition of which are the GBR 5QI values.'
    types:
    - uid: integer
    defaultValue: 9
  - name: allocationAndRetentionPriorityLevel
    description: QoS Flow allocation and retention priority (ARP) level. Flows with higher priority preempt flows with lower priority, if the settings of `preemptionCapability` and `preemptionVulnerability` allow it. 1 is the highest level of priority. If this field is not specified then `5qi` is used to derive the ARP value. See 3GPP TS23.501 section 5.7.2.2 for a full description of the ARP parameters.
    types:
    - uid: integer
    defaultValue: 9
  - name: preemptionCapability
    description: QoS Flow preemption capability.  The Preemption Capability of a QoS Flow controls whether it can preempt another QoS Flow with a lower priority level. See 3GPP TS23.501 section 5.7.2.2 for a full description of the ARP parameters.
    types:
    - uid: PreemptionCapability
    defaultValue: NotPreempt
  - name: preemptionVulnerability
    description: QoS Flow preemption vulnerability.  The Preemption Vulnerability of a QoS Flow controls whether it can be preempted by QoS Flow with a higher priority level. See 3GPP TS23.501 section 5.7.2.2 for a full description of the ARP parameters.
    types:
    - uid: PreemptionVulnerability
    defaultValue: Preemptable
  - name: maximumBitRate
    description: The Maximum Bit Rate (MBR) for all service data flows that use this PCC Rule or Service.
    types:
    - uid: Ambr
- name: TrafficControlPermission
  description: Traffic control permission.
  kind: enum
  properties:
  - name: Enabled
    description: Traffic matching this rule is allowed to flow.
    types:
    - uid: string
  - name: Blocked
    description: Traffic matching this rule is not allowed to flow.
    types:
    - uid: string
- name: ServiceDataFlowTemplate
  description: Service data flow (SDF) template
  kind: object
  properties:
  - name: templateName
    description: The name of the SDF template. This must be unique within the parent PccRuleConfiguration. You must not use any of the following reserved strings - `default`, `requested` or `service`.
    types:
    - uid: string
  - name: direction
    description: The direction of this flow.
    types:
    - uid: SdfDirection
  - name: protocol
    description: A list of the allowed protocol(s) for this flow. If you want this flow to be able to use any protocol within the internet protocol suite, use the value `ip`. If you only want to allow a selection of protocols, you must use the corresponding IANA Assigned Internet Protocol Number for each protocol, as described in https://www.iana.org/assignments/protocol-numbers/protocol-numbers.xhtml. For example, for UDP, you must use 17. If you use the value `ip` then you must leave the field `port` unspecified.
    types:
    - uid: string
      isArray: true
  - name: remoteIpList
    description: The remote IP address(es) to which UEs will connect for this flow. If you want to allow connections on any IP address, use the value `any`. Otherwise, you must provide each of the remote IP addresses to which Fusion Core will connect for this flow. You must provide each IP address in CIDR notation, including the netmask (for example, 192.0.2.54/24).
    types:
    - uid: string
      isArray: true
  - name: ports
    description: 'The port(s) to which UEs will connect for this flow. You can specify zero or more ports or port ranges. If you specify one or more ports or port ranges then you must specify a value other than `ip` in the `protocol` field. This is an optional setting. If you do not specify it then connections will be allowed on all ports. Port ranges must be specified as <FirstPort>-<LastPort>. For example: [`8080`, `8082-8085`].'
    types:
    - uid: string
      isArray: true
- name: ErrorAdditionalInfo
  description: The resource management error additional info.
  kind: object
  properties:
  - name: type
    isReadyOnly: true
    description: The additional info type.
    types:
    - uid: string
  - name: info
    isReadyOnly: true
    description: The additional info.
    types:
    - uid: object
- name: SdfDirection
  description: Service data flow direction.
  kind: enum
  properties:
  - name: Uplink
    description: Traffic flowing from the UE to the data network.
    types:
    - uid: string
  - name: Downlink
    description: Traffic flowing from the data network to the UE.
    types:
    - uid: string
  - name: Bidirectional
    description: Traffic flowing both to and from the UE.
    types:
    - uid: string
examples:
- name: Update service tags
  request:
    uri: PATCH https://management.azure.com/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.MobileNetwork/mobileNetworks/testMobileNetwork/services/TestService?api-version=2022-03-01-preview
    body: >-
      {
        "tags": {
          "tag1": "value1",
          "tag2": "value2"
        }
      }
    codeTab: |+
      # [HTTP](#tab/HTTP)
      ``` http
      PATCH https://management.azure.com/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.MobileNetwork/mobileNetworks/testMobileNetwork/services/TestService?api-version=2022-03-01-preview

      {
        "tags": {
          "tag1": "value1",
          "tag2": "value2"
        }
      }

      ```

  responses:
  - statusCode: "200"
    body: >-
      {
        "name": "TestService",
        "id": "/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.MobileNetwork/mobileNetworks/testMobileNetwork/services/TestService",
        "type": "Microsoft.MobileNetwork/service",
        "systemData": {
          "createdBy": "user1",
          "createdByType": "User",
          "createdAt": "2020-01-01T17:18:19.1234567Z",
          "lastModifiedBy": "user2",
          "lastModifiedByType": "User",
          "lastModifiedAt": "2020-01-02T17:18:19.1234567Z"
        },
        "location": "eastus",
        "tags": {
          "tag1": "value1",
          "tag2": "value2"
        },
        "properties": {
          "provisioningState": "Succeeded",
          "servicePrecedence": 255,
          "serviceQosPolicy": {
            "5qi": 9,
            "allocationAndRetentionPriorityLevel": 9,
            "preemptionCapability": "NotPreempt",
            "preemptionVulnerability": "Preemptable",
            "maximumBitRate": {
              "uplink": "500 Mbps",
              "downlink": "1 Gbps"
            }
          },
          "pccRules": [
            {
              "ruleName": "default-rule",
              "rulePrecedence": 255,
              "ruleQosPolicy": {
                "5qi": 9,
                "allocationAndRetentionPriorityLevel": 9,
                "preemptionCapability": "NotPreempt",
                "preemptionVulnerability": "Preemptable",
                "maximumBitRate": {
                  "uplink": "500 Mbps",
                  "downlink": "1 Gbps"
                }
              },
              "trafficControl": "Enabled",
              "serviceDataFlowTemplates": [
                {
                  "templateName": "IP-to-server",
                  "direction": "Uplink",
                  "protocol": [
                    "ip"
                  ],
                  "remoteIpList": [
                    "10.3.4.0/24"
                  ],
                  "ports": []
                }
              ]
            }
          ]
        }
      }
security:
- name: azure_auth
  type: oauth2
  description: Azure Active Directory OAuth2 Flow.
  flow: implicit
  authorizationUrl: https://login.microsoftonline.com/common/oauth2/authorize
  scopes:
  - name: user_impersonation
    description: impersonate your user account
metadata:
  description: Learn more about Mobile Network service - Update service tags.
errorCodes: []
