### YamlMime:RESTOperation
uid: management.azure.com.synapse.workspaces.createorupdate
name: Create Or Update
service: Synapse
groupName: Workspaces
apiVersion: 2019-06-01-preview
summary: Creates or updates a workspace
consumes:
- application/json
produces:
- application/json
paths:
- content: PUT https://management.azure.com/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Synapse/workspaces/{workspaceName}?api-version=2019-06-01-preview
uriParameters:
- name: subscriptionId
  in: path
  isRequired: true
  description: The ID of the target subscription.
  types:
  - uid: string
- name: resourceGroupName
  in: path
  isRequired: true
  description: The name of the resource group. The name is case insensitive.
  types:
  - uid: string
  pattern: ^[-\w\._\(\)]+$
- name: workspaceName
  in: path
  isRequired: true
  description: The name of the workspace
  types:
  - uid: string
- name: api-version
  in: query
  isRequired: true
  description: The API version to use for this operation.
  types:
  - uid: string
responses:
- name: 200 OK
  description: ''
  types:
  - uid: Workspace
- name: 201 Created
  description: ''
  types:
  - uid: Workspace
- name: Other Status Codes
  description: ''
  types:
  - uid: ErrorContract
requestBody:
- name: default
  parameters:
  - name: identity
    in: body
    description: Identity of the workspace
    types:
    - uid: ManagedIdentity
  - name: properties.defaultDataLakeStorage
    in: body
    description: Workspace default data lake storage account details
    types:
    - uid: DataLakeStorageAccountDetails
  - name: properties.sqlAdministratorLoginPassword
    in: body
    description: SQL administrator login password
    types:
    - uid: string
  - name: properties.managedResourceGroupName
    in: body
    description: Workspace managed resource group. The resource group name uniquely identifies the resource group within the user subscriptionId. The resource group name must be no longer than 90 characters long, and must be alphanumeric characters (Char.IsLetterOrDigit()) and '-', '_', '(', ')' and'.'. Note that the name cannot end with '.'
    types:
    - uid: string
  - name: properties.sqlAdministratorLogin
    in: body
    description: Login for workspace SQL active directory administrator
    types:
    - uid: string
  - name: properties.virtualNetworkProfile
    in: body
    description: Virtual Network profile
    types:
    - uid: VirtualNetworkProfile
  - name: properties.connectivityEndpoints
    in: body
    description: Connectivity endpoints
    types:
    - uid: object
      isDictionary: true
      additionalTypes:
      - uid: string
      - uid: string
  - name: properties.managedVirtualNetwork
    in: body
    description: Setting this to 'default' will ensure that all compute for this workspace is in a virtual network managed on behalf of the user.
    types:
    - uid: string
  - name: properties.privateEndpointConnections
    in: body
    description: Private endpoint connections to the workspace
    types:
    - uid: PrivateEndpointConnection
      isArray: true
  - name: tags
    in: body
    description: Resource tags.
    types:
    - uid: object
      isDictionary: true
      additionalTypes:
      - uid: string
      - uid: string
  - name: location
    in: body
    isRequired: true
    description: The geo-location where the resource lives
    types:
    - uid: string
requestHeader: []
definitions:
- name: ManagedIdentity
  description: The workspace managed identity
  kind: object
  properties:
  - name: principalId
    isReadyOnly: true
    description: The principal ID of the workspace managed identity
    types:
    - uid: string
  - name: tenantId
    isReadyOnly: true
    description: The tenant ID of the workspace managed identity
    types:
    - uid: string
  - name: type
    description: The type of managed identity for the workspace
    types:
    - uid: ResourceIdentityType
- name: DataLakeStorageAccountDetails
  description: Details of the data lake storage account associated with the workspace
  kind: object
  properties:
  - name: accountUrl
    description: Account URL
    types:
    - uid: string
  - name: filesystem
    description: Filesystem name
    types:
    - uid: string
- name: VirtualNetworkProfile
  description: Virtual Network Profile
  kind: object
  properties:
  - name: computeSubnetId
    description: Subnet ID used for computes in workspace
    types:
    - uid: string
- name: PrivateEndpointConnection
  description: A private endpoint connection
  kind: object
  properties:
  - name: properties.privateEndpoint
    description: The private endpoint which the connection belongs to.
    types:
    - uid: PrivateEndpoint
  - name: properties.privateLinkServiceConnectionState
    description: Connection state of the private endpoint connection.
    types:
    - uid: PrivateLinkServiceConnectionState
  - name: properties.provisioningState
    isReadyOnly: true
    description: Provisioning state of the private endpoint connection.
    types:
    - uid: string
  - name: id
    isReadyOnly: true
    description: Fully qualified resource Id for the resource. Ex - /subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/{resourceProviderNamespace}/{resourceType}/{resourceName}
    types:
    - uid: string
  - name: name
    isReadyOnly: true
    description: The name of the resource
    types:
    - uid: string
  - name: type
    isReadyOnly: true
    description: The type of the resource. Ex- Microsoft.Compute/virtualMachines or Microsoft.Storage/storageAccounts.
    types:
    - uid: string
- name: Workspace
  description: A workspace
  kind: object
  properties:
  - name: identity
    description: Identity of the workspace
    types:
    - uid: ManagedIdentity
  - name: properties.defaultDataLakeStorage
    description: Workspace default data lake storage account details
    types:
    - uid: DataLakeStorageAccountDetails
  - name: properties.sqlAdministratorLoginPassword
    description: SQL administrator login password
    types:
    - uid: string
  - name: properties.managedResourceGroupName
    description: Workspace managed resource group. The resource group name uniquely identifies the resource group within the user subscriptionId. The resource group name must be no longer than 90 characters long, and must be alphanumeric characters (Char.IsLetterOrDigit()) and '-', '_', '(', ')' and'.'. Note that the name cannot end with '.'
    types:
    - uid: string
  - name: properties.provisioningState
    isReadyOnly: true
    description: Resource provisioning state
    types:
    - uid: string
  - name: properties.sqlAdministratorLogin
    description: Login for workspace SQL active directory administrator
    types:
    - uid: string
  - name: properties.virtualNetworkProfile
    description: Virtual Network profile
    types:
    - uid: VirtualNetworkProfile
  - name: properties.connectivityEndpoints
    description: Connectivity endpoints
    types:
    - uid: object
      isDictionary: true
      additionalTypes:
      - uid: string
      - uid: string
  - name: properties.managedVirtualNetwork
    description: Setting this to 'default' will ensure that all compute for this workspace is in a virtual network managed on behalf of the user.
    types:
    - uid: string
  - name: properties.privateEndpointConnections
    description: Private endpoint connections to the workspace
    types:
    - uid: PrivateEndpointConnection
      isArray: true
  - name: tags
    description: Resource tags.
    types:
    - uid: object
      isDictionary: true
      additionalTypes:
      - uid: string
      - uid: string
  - name: location
    description: The geo-location where the resource lives
    types:
    - uid: string
  - name: id
    isReadyOnly: true
    description: Fully qualified resource Id for the resource. Ex - /subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/{resourceProviderNamespace}/{resourceType}/{resourceName}
    types:
    - uid: string
  - name: name
    isReadyOnly: true
    description: The name of the resource
    types:
    - uid: string
  - name: type
    isReadyOnly: true
    description: The type of the resource. Ex- Microsoft.Compute/virtualMachines or Microsoft.Storage/storageAccounts.
    types:
    - uid: string
- name: ErrorContract
  description: Error details.
  kind: object
  properties:
  - name: error
    description: The error details.
    types:
    - uid: ErrorResponse
- name: ResourceIdentityType
  description: The type of managed identity for the workspace
  kind: enum
  properties:
  - name: None
    types:
    - uid: string
  - name: SystemAssigned
    types:
    - uid: string
- name: PrivateEndpoint
  description: Private endpoint details
  kind: object
  properties:
  - name: id
    isReadyOnly: true
    description: Resource id of the private endpoint.
    types:
    - uid: string
- name: PrivateLinkServiceConnectionState
  description: Connection state details of the private endpoint
  kind: object
  properties:
  - name: status
    description: The private link service connection status.
    types:
    - uid: Approved
    - uid: Pending
    - uid: Rejected
    - uid: Disconnected
    typesTitle: enum
  - name: description
    description: The private link service connection description.
    types:
    - uid: string
  - name: actionsRequired
    isReadyOnly: true
    description: The actions required for private link service connection.
    types:
    - uid: string
- name: ErrorResponse
  description: The resource management error response.
  kind: object
  properties:
  - name: code
    isReadyOnly: true
    description: The error code.
    types:
    - uid: string
  - name: message
    isReadyOnly: true
    description: The error message.
    types:
    - uid: string
  - name: target
    isReadyOnly: true
    description: The error target.
    types:
    - uid: string
  - name: details
    isReadyOnly: true
    description: The error details.
    types:
    - uid: ErrorResponse
      isArray: true
  - name: additionalInfo
    isReadyOnly: true
    description: The error additional info.
    types:
    - uid: ErrorAdditionalInfo
      isArray: true
- name: ErrorAdditionalInfo
  description: The resource management error additional info.
  kind: object
  properties:
  - name: type
    isReadyOnly: true
    description: The additional info type.
    types:
    - uid: string
  - name: info
    isReadyOnly: true
    description: The additional info.
    types:
    - uid: object
examples:
- name: Create or update a workspace
  request:
    uri: PUT https://management.azure.com/subscriptions/00000000-1111-2222-3333-444444444444/resourceGroups/resourceGroup1/providers/Microsoft.Synapse/workspaces/workspace1?api-version=2019-06-01-preview
    body: >-
      {
        "identity": {
          "type": "SystemAssigned"
        },
        "properties": {
          "defaultDataLakeStorage": {
            "accountUrl": "https://accountname.dfs.core.windows.net",
            "filesystem": "default"
          },
          "sqlAdministratorLogin": "login",
          "sqlAdministratorLoginPassword": "password",
          "managedVirtualNetwork": "default",
          "managedResourceGroupName": "workspaceManagedResourceGroupUnique"
        },
        "location": "East US",
        "tags": {
          "key": "value"
        }
      }
  responses:
  - statusCode: "200"
    body: >-
      {
        "id": "/subscriptions/00000000-1111-2222-3333-444444444444/resourceGroups/resourceGroup1/providers/Microsoft.Synapse/workspaces/workspace1",
        "name": "workspace1",
        "type": "Microsoft.Synapse/workspaces",
        "location": "East US",
        "identity": {
          "type": "SystemAssigned",
          "principalId": "f4b0f1c2-xxxx-43db-xxxx-ccd99e1afd22",
          "tenantId": "72f988bf-xxxx-41af-xxxx-2d7cd011db47"
        },
        "properties": {
          "defaultDataLakeStorage": {
            "accountUrl": "https://accountname.dfs.core.windows.net",
            "filesystem": "default"
          },
          "connectivityEndpoints": {
            "dev": "workspace1.dev.projectarcadia.net",
            "sql": "workspace1.sql.projectarcadia.net"
          },
          "sqlAdministratorLogin": "login",
          "sqlAdministratorLoginPassword": "password",
          "managedResourceGroupName": "workspaceManagedResourceGroupUnique",
          "managedVirtualNetwork": "default",
          "provisioningState": "Succeeded",
          "privateEndpointConnections": [
            {
              "id": "/subscriptions/01234567-89ab-4def-0123-456789abcdef/resourceGroups/ExampleResourceGroup/providers/Microsoft.Synapse/workspaces/ExampleWorkspace/privateEndpointConnections/ExamplePrivateEndpointConnection",
              "name": "sql",
              "type": "Microsoft.Synapse/workspaces/privateEndpointConnections",
              "properties": {
                "provisioningState": "Succeeded",
                "privateEndpoint": {
                  "id": "/subscriptions/01234567-89ab-4def-0123-456789abcdef/resourceGroups/ExampleResourceGroup/providers/Microsoft.Network/privateEndpoints/ExamplePrivateEndpoint"
                },
                "privateLinkServiceConnectionState": {
                  "status": "Approved",
                  "description": "Auto-approved",
                  "actionsRequired": "None"
                }
              }
            }
          ]
        },
        "tags": {
          "key": "value"
        }
      }
  - statusCode: "201"
    body: >-
      {
        "id": "/subscriptions/00000000-1111-2222-3333-444444444444/resourceGroups/resourceGroup1/providers/Microsoft.Synapse/workspaces/workspace1",
        "name": "workspace1",
        "type": "Microsoft.Synapse/workspaces",
        "location": "East US",
        "properties": {
          "defaultDataLakeStorage": {
            "accountUrl": "https://accountname.dfs.core.windows.net",
            "filesystem": "default"
          },
          "connectivityEndpoints": {
            "dev": "workspace1.dev.projectarcadia.net",
            "sql": "workspace1.sql.projectarcadia.net"
          },
          "sqlAdministratorLogin": "login",
          "sqlAdministratorLoginPassword": "password",
          "managedResourceGroupName": "workspaceManagedResourceGroupUnique",
          "managedVirtualNetwork": "default",
          "provisioningState": "Provisioning"
        },
        "tags": {
          "key": "value"
        }
      }
  - statusCode: default
    body: >-
      {
        "error": {
          "code": "Error code",
          "message": "Error message"
        }
      }
security: []
errorCodes: []
