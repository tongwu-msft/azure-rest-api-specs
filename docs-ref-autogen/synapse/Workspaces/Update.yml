### YamlMime:RESTOperation
uid: management.azure.com.synapse.workspaces.update
name: Update
service: Synapse
groupName: Workspaces
apiVersion: 2021-03-01
summary: Updates a workspace
consumes:
- application/json
produces:
- application/json
paths:
- content: PATCH https://management.azure.com/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Synapse/workspaces/{workspaceName}?api-version=2021-03-01
uriParameters:
- name: subscriptionId
  in: path
  isRequired: true
  description: The ID of the target subscription.
  types:
  - uid: string
- name: resourceGroupName
  in: path
  isRequired: true
  description: The name of the resource group. The name is case insensitive.
  types:
  - uid: string
  pattern: ^[-\w\._\(\)]+$
- name: workspaceName
  in: path
  isRequired: true
  description: The name of the workspace
  types:
  - uid: string
- name: api-version
  in: query
  isRequired: true
  description: The API version to use for this operation.
  types:
  - uid: string
responses:
- name: 200 OK
  description: ''
  types:
  - uid: Workspace
- name: 201 Created
  description: ''
  types:
  - uid: Workspace
- name: Other Status Codes
  description: ''
  types:
  - uid: ErrorResponse
requestBody:
- name: default
  parameters:
  - name: tags
    in: body
    description: Resource tags
    types:
    - uid: object
      isDictionary: true
      additionalTypes:
      - uid: string
      - uid: string
  - name: identity
    in: body
    description: The identity of the workspace
    types:
    - uid: ManagedIdentity
  - name: properties.sqlAdministratorLoginPassword
    in: body
    description: SQL administrator login password
    types:
    - uid: string
  - name: properties.managedVirtualNetworkSettings
    in: body
    description: Managed Virtual Network Settings
    types:
    - uid: ManagedVirtualNetworkSettings
  - name: properties.workspaceRepositoryConfiguration
    in: body
    description: Git integration settings
    types:
    - uid: WorkspaceRepositoryConfiguration
  - name: properties.purviewConfiguration
    in: body
    description: Purview Configuration
    types:
    - uid: PurviewConfiguration
  - name: properties.encryption
    in: body
    description: The encryption details of the workspace
    types:
    - uid: EncryptionDetails
  - name: properties.publicNetworkAccess
    in: body
    description: Enable or Disable public network access to workspace
    types:
    - uid: WorkspacePublicNetworkAccess
requestHeader: []
definitions:
- name: ManagedIdentity
  description: The workspace managed identity
  kind: object
  properties:
  - name: principalId
    isReadyOnly: true
    description: The principal ID of the workspace managed identity
    types:
    - uid: string
  - name: tenantId
    isReadyOnly: true
    description: The tenant ID of the workspace managed identity
    types:
    - uid: string
  - name: type
    description: The type of managed identity for the workspace
    types:
    - uid: ResourceIdentityType
- name: ManagedVirtualNetworkSettings
  description: Managed Virtual Network Settings
  kind: object
  properties:
  - name: preventDataExfiltration
    description: Prevent Data Exfiltration
    types:
    - uid: boolean
  - name: linkedAccessCheckOnTargetResource
    description: Linked Access Check On Target Resource
    types:
    - uid: boolean
  - name: allowedAadTenantIdsForLinking
    description: Allowed Aad Tenant Ids For Linking
    types:
    - uid: string
      isArray: true
- name: WorkspaceRepositoryConfiguration
  description: Git integration settings
  kind: object
  properties:
  - name: type
    description: Type of workspace repositoryID configuration. Example WorkspaceVSTSConfiguration, WorkspaceGitHubConfiguration
    types:
    - uid: string
  - name: hostName
    description: 'GitHub Enterprise host name. For example: https://github.mydomain.com'
    types:
    - uid: string
  - name: accountName
    description: Account name
    types:
    - uid: string
  - name: projectName
    description: VSTS project name
    types:
    - uid: string
  - name: repositoryName
    description: Repository name
    types:
    - uid: string
  - name: collaborationBranch
    description: Collaboration branch
    types:
    - uid: string
  - name: rootFolder
    description: Root folder to use in the repository
    types:
    - uid: string
  - name: lastCommitId
    description: The last commit ID
    types:
    - uid: string
  - name: tenantId
    description: The VSTS tenant ID
    types:
    - uid: string
- name: PurviewConfiguration
  description: Purview Configuration
  kind: object
  properties:
  - name: purviewResourceId
    description: Purview Resource ID
    types:
    - uid: string
- name: EncryptionDetails
  description: Details of the encryption associated with the workspace
  kind: object
  properties:
  - name: doubleEncryptionEnabled
    isReadyOnly: true
    description: Double Encryption enabled
    types:
    - uid: boolean
  - name: cmk
    description: Customer Managed Key Details
    types:
    - uid: CustomerManagedKeyDetails
- name: Workspace
  description: A workspace
  kind: object
  properties:
  - name: identity
    description: Identity of the workspace
    types:
    - uid: ManagedIdentity
  - name: properties.defaultDataLakeStorage
    description: Workspace default data lake storage account details
    types:
    - uid: DataLakeStorageAccountDetails
  - name: properties.sqlAdministratorLoginPassword
    description: SQL administrator login password
    types:
    - uid: string
  - name: properties.managedResourceGroupName
    description: Workspace managed resource group. The resource group name uniquely identifies the resource group within the user subscriptionId. The resource group name must be no longer than 90 characters long, and must be alphanumeric characters (Char.IsLetterOrDigit()) and '-', '_', '(', ')' and'.'. Note that the name cannot end with '.'
    types:
    - uid: string
  - name: properties.provisioningState
    isReadyOnly: true
    description: Resource provisioning state
    types:
    - uid: string
  - name: properties.sqlAdministratorLogin
    description: Login for workspace SQL active directory administrator
    types:
    - uid: string
  - name: properties.virtualNetworkProfile
    description: Virtual Network profile
    types:
    - uid: VirtualNetworkProfile
  - name: properties.connectivityEndpoints
    description: Connectivity endpoints
    types:
    - uid: object
      isDictionary: true
      additionalTypes:
      - uid: string
      - uid: string
  - name: properties.managedVirtualNetwork
    description: Setting this to 'default' will ensure that all compute for this workspace is in a virtual network managed on behalf of the user.
    types:
    - uid: string
  - name: properties.privateEndpointConnections
    description: Private endpoint connections to the workspace
    types:
    - uid: PrivateEndpointConnection
      isArray: true
  - name: properties.encryption
    description: The encryption details of the workspace
    types:
    - uid: EncryptionDetails
  - name: properties.workspaceUID
    isReadyOnly: true
    description: The workspace unique identifier
    types:
    - uid: string
  - name: properties.extraProperties
    isReadyOnly: true
    description: Workspace level configs and feature flags
    types:
    - uid: object
      isDictionary: true
      additionalTypes:
      - uid: string
      - uid: object
  - name: properties.managedVirtualNetworkSettings
    description: Managed Virtual Network Settings
    types:
    - uid: ManagedVirtualNetworkSettings
  - name: properties.workspaceRepositoryConfiguration
    description: Git integration settings
    types:
    - uid: WorkspaceRepositoryConfiguration
  - name: properties.purviewConfiguration
    description: Purview Configuration
    types:
    - uid: PurviewConfiguration
  - name: properties.adlaResourceId
    isReadyOnly: true
    description: The ADLA resource ID.
    types:
    - uid: string
  - name: properties.publicNetworkAccess
    description: Enable or Disable public network access to workspace
    types:
    - uid: WorkspacePublicNetworkAccess
  - name: tags
    description: Resource tags.
    types:
    - uid: object
      isDictionary: true
      additionalTypes:
      - uid: string
      - uid: string
  - name: location
    description: The geo-location where the resource lives
    types:
    - uid: string
  - name: id
    isReadyOnly: true
    description: Fully qualified resource ID for the resource. Ex - /subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/{resourceProviderNamespace}/{resourceType}/{resourceName}
    types:
    - uid: string
  - name: name
    isReadyOnly: true
    description: The name of the resource
    types:
    - uid: string
  - name: type
    isReadyOnly: true
    description: The type of the resource. E.g. "Microsoft.Compute/virtualMachines" or "Microsoft.Storage/storageAccounts"
    types:
    - uid: string
- name: ErrorResponse
  description: Error response
  kind: object
  properties:
  - name: error
    description: The error object.
    types:
    - uid: ErrorDetail
- name: WorkspacePatchInfo
  description: Workspace patch details
  kind: object
  properties:
  - name: tags
    description: Resource tags
    types:
    - uid: object
      isDictionary: true
      additionalTypes:
      - uid: string
      - uid: string
  - name: identity
    description: The identity of the workspace
    types:
    - uid: ManagedIdentity
  - name: properties.sqlAdministratorLoginPassword
    description: SQL administrator login password
    types:
    - uid: string
  - name: properties.managedVirtualNetworkSettings
    description: Managed Virtual Network Settings
    types:
    - uid: ManagedVirtualNetworkSettings
  - name: properties.workspaceRepositoryConfiguration
    description: Git integration settings
    types:
    - uid: WorkspaceRepositoryConfiguration
  - name: properties.purviewConfiguration
    description: Purview Configuration
    types:
    - uid: PurviewConfiguration
  - name: properties.provisioningState
    isReadyOnly: true
    description: Resource provisioning state
    types:
    - uid: string
  - name: properties.encryption
    description: The encryption details of the workspace
    types:
    - uid: EncryptionDetails
  - name: properties.publicNetworkAccess
    description: Enable or Disable public network access to workspace
    types:
    - uid: WorkspacePublicNetworkAccess
- name: ResourceIdentityType
  description: The type of managed identity for the workspace
  kind: enum
  properties:
  - name: None
    types:
    - uid: string
  - name: SystemAssigned
    types:
    - uid: string
- name: CustomerManagedKeyDetails
  description: Details of the customer managed key associated with the workspace
  kind: object
  properties:
  - name: status
    isReadyOnly: true
    description: The customer managed key status on the workspace
    types:
    - uid: string
  - name: key
    description: The key object of the workspace
    types:
    - uid: WorkspaceKeyDetails
- name: DataLakeStorageAccountDetails
  description: Details of the data lake storage account associated with the workspace
  kind: object
  properties:
  - name: accountUrl
    description: Account URL
    types:
    - uid: string
  - name: filesystem
    description: Filesystem name
    types:
    - uid: string
- name: VirtualNetworkProfile
  description: Virtual Network Profile
  kind: object
  properties:
  - name: computeSubnetId
    description: Subnet ID used for computes in workspace
    types:
    - uid: string
- name: PrivateEndpointConnection
  description: A private endpoint connection
  kind: object
  properties:
  - name: properties.privateEndpoint
    description: The private endpoint which the connection belongs to.
    types:
    - uid: PrivateEndpoint
  - name: properties.privateLinkServiceConnectionState
    description: Connection state of the private endpoint connection.
    types:
    - uid: PrivateLinkServiceConnectionState
  - name: properties.provisioningState
    isReadyOnly: true
    description: Provisioning state of the private endpoint connection.
    types:
    - uid: string
  - name: id
    isReadyOnly: true
    description: Fully qualified resource ID for the resource. Ex - /subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/{resourceProviderNamespace}/{resourceType}/{resourceName}
    types:
    - uid: string
  - name: name
    isReadyOnly: true
    description: The name of the resource
    types:
    - uid: string
  - name: type
    isReadyOnly: true
    description: The type of the resource. E.g. "Microsoft.Compute/virtualMachines" or "Microsoft.Storage/storageAccounts"
    types:
    - uid: string
- name: WorkspacePublicNetworkAccess
  description: Enable or Disable public network access to workspace
  kind: enum
  properties:
  - name: Enabled
    types:
    - uid: string
  - name: Disabled
    types:
    - uid: string
- name: ErrorDetail
  description: The error detail.
  kind: object
  properties:
  - name: code
    isReadyOnly: true
    description: The error code.
    types:
    - uid: string
  - name: message
    isReadyOnly: true
    description: The error message.
    types:
    - uid: string
  - name: target
    isReadyOnly: true
    description: The error target.
    types:
    - uid: string
  - name: details
    isReadyOnly: true
    description: The error details.
    types:
    - uid: ErrorDetail
      isArray: true
  - name: additionalInfo
    isReadyOnly: true
    description: The error additional info.
    types:
    - uid: ErrorAdditionalInfo
      isArray: true
- name: WorkspaceKeyDetails
  description: Details of the customer managed key associated with the workspace
  kind: object
  properties:
  - name: name
    description: Workspace Key sub-resource name
    types:
    - uid: string
  - name: keyVaultUrl
    description: Workspace Key sub-resource key vault url
    types:
    - uid: string
- name: PrivateEndpoint
  description: Private endpoint details
  kind: object
  properties:
  - name: id
    isReadyOnly: true
    description: Resource id of the private endpoint.
    types:
    - uid: string
- name: PrivateLinkServiceConnectionState
  description: Connection state details of the private endpoint
  kind: object
  properties:
  - name: status
    description: The private link service connection status.
    types:
    - uid: string
  - name: description
    description: The private link service connection description.
    types:
    - uid: string
  - name: actionsRequired
    isReadyOnly: true
    description: The actions required for private link service connection.
    types:
    - uid: string
- name: ErrorAdditionalInfo
  description: The resource management error additional info.
  kind: object
  properties:
  - name: type
    isReadyOnly: true
    description: The additional info type.
    types:
    - uid: string
  - name: info
    isReadyOnly: true
    description: The additional info.
    types:
    - uid: object
examples:
- name: Update a workspace
  request:
    uri: PATCH https://management.azure.com/subscriptions/00000000-1111-2222-3333-444444444444/resourceGroups/resourceGroup1/providers/Microsoft.Synapse/workspaces/workspace1?api-version=2021-03-01
    body: >-
      {
        "tags": {
          "key": "value"
        },
        "identity": {
          "type": "SystemAssigned"
        },
        "properties": {
          "sqlAdministratorLoginPassword": "password",
          "managedVirtualNetworkSettings": {
            "preventDataExfiltration": false,
            "linkedAccessCheckOnTargetResource": false,
            "allowedAadTenantIdsForLinking": [
              "740239CE-A25B-485B-86A0-262F29F6EBDB"
            ]
          },
          "workspaceRepositoryConfiguration": {
            "type": "FactoryGitHubConfiguration",
            "hostName": "",
            "accountName": "adifferentacount",
            "projectName": "myproject",
            "repositoryName": "myrepository",
            "collaborationBranch": "master",
            "rootFolder": "/"
          },
          "purviewConfiguration": {
            "purviewResourceId": "/subscriptions/00000000-1111-2222-3333-444444444444/resourceGroups/resourceGroup1/providers/Microsoft.ProjectPurview/accounts/accountname1"
          },
          "encryption": {
            "cmk": {
              "key": {
                "name": "default",
                "keyVaultUrl": "https://vault.azure.net/keys/key1"
              }
            }
          },
          "publicNetworkAccess": "Enabled"
        }
      }
  responses:
  - statusCode: "200"
    body: >-
      {
        "id": "/subscriptions/00000000-1111-2222-3333-444444444444/resourceGroups/resourceGroup1/providers/Microsoft.Synapse/workspaces/workspace1",
        "name": "workspace1",
        "type": "Microsoft.Synapse/workspaces",
        "location": "East US",
        "properties": {
          "defaultDataLakeStorage": {
            "accountUrl": "https://accountname.dfs.core.windows.net",
            "filesystem": "default"
          },
          "managedVirtualNetworkSettings": {
            "preventDataExfiltration": false,
            "linkedAccessCheckOnTargetResource": false,
            "allowedAadTenantIdsForLinking": [
              "740239CE-A25B-485B-86A0-262F29F6EBDB"
            ]
          },
          "purviewConfiguration": {
            "purviewResourceId": "/subscriptions/00000000-1111-2222-3333-444444444444/resourceGroups/resourceGroup1/providers/Microsoft.ProjectPurview/accounts/accountname1"
          },
          "connectivityEndpoints": {
            "dev": "workspace1.dev.projectarcadia.net",
            "sql": "workspace1.sql.projectarcadia.net"
          },
          "sqlAdministratorLogin": "login",
          "managedResourceGroupName": "resourceGroup2",
          "provisioningState": "Succeeded",
          "workspaceUID": "999b999q-b888-4b44-bacd-2c222cc2222d",
          "encryption": {
            "doubleEncryptionEnabled": true,
            "cmk": {
              "status": "Consistent",
              "key": {
                "name": "default",
                "keyVaultUrl": "https://vault.azure.net/keys/key1"
              }
            }
          },
          "publicNetworkAccess": "Enabled"
        },
        "tags": {
          "key": "value"
        }
      }
  - statusCode: "201"
    body: >-
      {
        "id": "/subscriptions/00000000-1111-2222-3333-444444444444/resourceGroups/resourceGroup1/providers/Microsoft.Synapse/workspaces/workspace1",
        "name": "workspace1",
        "type": "Microsoft.Synapse/workspaces",
        "location": "East US",
        "properties": {
          "defaultDataLakeStorage": {
            "accountUrl": "https://accountname.dfs.core.windows.net",
            "filesystem": "default"
          },
          "managedVirtualNetworkSettings": {
            "preventDataExfiltration": false,
            "linkedAccessCheckOnTargetResource": false,
            "allowedAadTenantIdsForLinking": [
              "740239CE-A25B-485B-86A0-262F29F6EBDB"
            ]
          },
          "purviewConfiguration": {
            "purviewResourceId": "/subscriptions/00000000-1111-2222-3333-444444444444/resourceGroups/resourceGroup1/providers/Microsoft.ProjectPurview/accounts/accountname1"
          },
          "connectivityEndpoints": {
            "dev": "workspace1.dev.projectarcadia.net",
            "sql": "workspace1.sql.projectarcadia.net"
          },
          "sqlAdministratorLogin": "login",
          "managedResourceGroupName": "resourceGroup2",
          "provisioningState": "Provisioning",
          "workspaceUID": "999b999q-b888-4b44-bacd-2c222cc2222d",
          "encryption": {
            "doubleEncryptionEnabled": true,
            "cmk": {
              "status": "Updating",
              "key": {
                "name": "default",
                "keyVaultUrl": "https://vault.azure.net/keys/key1"
              }
            }
          },
          "publicNetworkAccess": "Enabled"
        },
        "tags": {
          "key": "value"
        }
      }
  - statusCode: default
    body: >-
      {
        "error": {
          "code": "Error code",
          "message": "Error message"
        }
      }
security: []
metadata:
  description: Learn more about Synapse service - Updates a workspace
errorCodes: []
