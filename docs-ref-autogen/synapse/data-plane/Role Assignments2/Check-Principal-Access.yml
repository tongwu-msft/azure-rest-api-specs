### YamlMime:RESTOperation
uid: synapse.data-plane.roleassignments2.checkprincipalaccess
name: Check Principal Access
service: Synapse
groupName: Role Assignments2
apiVersion: 2020-12-01
summary: Check if the given principalId has access to perform list of actions at a given scope.
consumes:
- application/json
- text/json
produces:
- application/json
- text/json
paths:
- content: POST {endpoint}/checkAccessSynapseRbac?api-version=2020-12-01
uriParameters:
- name: endpoint
  in: path
  isRequired: true
  skipUrlEncoding: true
  description: The workspace development endpoint, for example https://myworkspace.dev.azuresynapse.net.
  types:
  - uid: string
- name: api-version
  in: query
  isRequired: true
  description: The Synapse client API Version.
  types:
  - uid: string
responses:
- name: 200 OK
  description: Success response.
  types:
  - uid: CheckPrincipalAccessResponse
- name: Other Status Codes
  description: Error response describing why the operation failed.
  types:
  - uid: ErrorContract
requestBody:
- name: default
  parameters:
  - name: subject
    in: body
    isRequired: true
    description: Subject details
    types:
    - uid: SubjectInfo
  - name: actions
    in: body
    isRequired: true
    description: List of actions.
    types:
    - uid: RequiredAction
      isArray: true
  - name: scope
    in: body
    isRequired: true
    description: Scope at which the check access is done.
    types:
    - uid: string
requestHeader: []
definitions:
- name: SubjectInfo
  description: Subject details
  kind: object
  properties:
  - name: principalId
    description: Principal Id
    types:
    - uid: string
  - name: groupIds
    description: List of group Ids that the principalId is part of.
    types:
    - uid: string
      isArray: true
- name: RequiredAction
  description: Action Info
  kind: object
  properties:
  - name: id
    description: Action Id.
    types:
    - uid: string
  - name: isDataAction
    description: Is a data action or not.
    types:
    - uid: boolean
- name: CheckPrincipalAccessResponse
  description: Check access response details
  kind: object
  properties:
  - name: accessDecisions
    description: To check if the current user, group, or service principal has permission to read artifacts in the specified workspace.
    types:
    - uid: CheckAccessDecision
      isArray: true
- name: ErrorContract
  description: Error details.
  kind: object
  properties:
  - name: error
    description: "Error Response  \nThe error details."
    types:
    - uid: ErrorResponse
- name: CheckPrincipalAccessRequest
  description: Check access request details
  kind: object
  properties:
  - name: subject
    description: Subject details
    types:
    - uid: SubjectInfo
  - name: actions
    description: List of actions.
    types:
    - uid: RequiredAction
      isArray: true
  - name: scope
    description: Scope at which the check access is done.
    types:
    - uid: string
- name: CheckAccessDecision
  description: Check access response details
  kind: object
  properties:
  - name: accessDecision
    description: Access Decision.
    types:
    - uid: string
  - name: actionId
    description: Action Id.
    types:
    - uid: string
  - name: roleAssignment
    description: Role Assignment response details
    types:
    - uid: RoleAssignmentDetails
- name: ErrorResponse
  description: Error Response
  kind: object
  properties:
  - name: code
    isReadyOnly: true
    description: The error code.
    types:
    - uid: string
  - name: message
    isReadyOnly: true
    description: The error message.
    types:
    - uid: string
  - name: target
    isReadyOnly: true
    description: The error target.
    types:
    - uid: string
  - name: details
    isReadyOnly: true
    description: The error details.
    types:
    - uid: ErrorResponse
      isArray: true
  - name: additionalInfo
    isReadyOnly: true
    description: The error additional info.
    types:
    - uid: ErrorAdditionalInfo
      isArray: true
- name: RoleAssignmentDetails
  description: Role Assignment response details
  kind: object
  properties:
  - name: id
    description: Role Assignment ID
    types:
    - uid: string
  - name: roleDefinitionId
    description: Role ID of the Synapse Built-In Role
    types:
    - uid: string
  - name: principalId
    description: Object ID of the AAD principal or security-group
    types:
    - uid: string
  - name: scope
    description: Scope at the role assignment is created
    types:
    - uid: string
  - name: principalType
    description: 'Type of the principal Id: User, Group or ServicePrincipal'
    types:
    - uid: string
- name: ErrorAdditionalInfo
  description: The resource management error additional info.
  kind: object
  properties:
  - name: type
    isReadyOnly: true
    description: The additional info type.
    types:
    - uid: string
  - name: info
    isReadyOnly: true
    description: The additional info.
    types:
    - uid: object
examples:
- name: Check access
  request:
    uri: POST exampleWorkspace.dev.azuresynapse.net/checkAccessSynapseRbac?api-version=2020-12-01
    body: >-
      {
        "subject": {
          "principalId": "00000000-0000-0000-0000-000000000000",
          "groupIds": [
            "00000000-0000-0000-0000-000000000000",
            "00000000-0000-0000-0000-000000000000"
          ]
        },
        "scope": "workspaces/exampleWorkspace",
        "actions": [
          {
            "id": "Action 1",
            "isDataAction": true
          },
          {
            "id": "Action 2",
            "isDataAction": true
          }
        ]
      }
  responses:
  - statusCode: "200"
    body: >-
      {
        "accessDecisions": [
          {
            "accessDecision": "Allowed || NotAllowed",
            "actionId": "Action 1",
            "roleAssignment": {
              "id": "00000000-0000-0000-0000-000000000000",
              "roleDefinitionId": "00000000-0000-0000-0000-000000000000",
              "principalId": "00000000-0000-0000-0000-000000000000",
              "scope": "workspaces/exampleWorkspace",
              "principalType": "User || Group || ServicePrincipal"
            }
          },
          {
            "accessDecision": "Allowed || NotAllowed",
            "actionId": "Action 1",
            "roleAssignment": {
              "id": "00000000-0000-0000-0000-000000000000",
              "roleDefinitionId": "00000000-0000-0000-0000-000000000000",
              "principalId": "00000000-0000-0000-0000-000000000000",
              "scope": "workspaces/exampleWorkspace",
              "principalType": "User || Group || ServicePrincipal"
            }
          }
        ]
      }
  - statusCode: default
    body: >-
      {
        "error": {
          "code": "Error code",
          "message": "Error message"
        }
      }
security: []
metadata:
  description: Learn more about Synapse service - Check if the given principalId has access to perform list of actions at a given scope.
errorCodes: []
