### YamlMime:RESTOperation
uid: management.azure.com.azureml.2022-06-01-preview.compute.createorupdate
name: Create Or Update
service: Machine Learning
groupName: Compute
apiVersion: 2022-06-01-preview
summary: Creates or updates compute. This call will overwrite a compute if it exists. This is a nonrecoverable operation. If your intent is to create a new compute, do a GET first to verify that it does not exist yet.
consumes:
- application/json
produces:
- application/json
paths:
- content: PUT https://management.azure.com/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.MachineLearningServices/workspaces/{workspaceName}/computes/{computeName}?api-version=2022-06-01-preview
uriParameters:
- name: subscriptionId
  in: path
  isRequired: true
  description: The ID of the target subscription.
  types:
  - uid: string
- name: resourceGroupName
  in: path
  isRequired: true
  description: The name of the resource group. The name is case insensitive.
  types:
  - uid: string
- name: workspaceName
  in: path
  isRequired: true
  description: Name of Azure Machine Learning workspace.
  types:
  - uid: string
- name: computeName
  in: path
  isRequired: true
  description: Name of the Azure Machine Learning compute.
  types:
  - uid: string
- name: api-version
  in: query
  isRequired: true
  description: The API version to use for this operation.
  types:
  - uid: string
responses:
- name: 200 OK
  description: Compute creation or update initiated.
  types:
  - uid: ComputeResource
- name: 201 Created
  headers:
  - name: Azure-AsyncOperation
    value: string
  description: Compute creation or update initiated.
  types:
  - uid: ComputeResource
- name: Other Status Codes
  description: Error response describing why the request failed.
  types:
  - uid: ErrorResponse
requestBody:
- name: default
  parameters:
  - name: identity
    in: body
    description: The identity of the resource.
    types:
    - uid: ManagedServiceIdentity
  - name: location
    in: body
    description: Specifies the location of the resource.
    types:
    - uid: string
  - name: tags
    in: body
    description: Contains resource tags defined as key/value pairs.
    types:
    - uid: object
      isDictionary: true
      additionalTypes:
      - uid: string
      - uid: string
  - name: sku
    in: body
    description: The sku of the workspace.
    types:
    - uid: Sku
  - name: properties
    in: body
    description: Compute properties
    types:
    - uid: AKS
    - uid: Kubernetes
    - uid: AmlCompute
    - uid: ComputeInstance
    - uid: VirtualMachine
    - uid: HDInsight
    - uid: DataFactory
    - uid: Databricks
    - uid: DataLakeAnalytics
    - uid: SynapseSpark
    typesTitle: Compute
requestHeader: []
definitions:
- name: ManagedServiceIdentity
  description: Managed service identity (system assigned and/or user assigned identities)
  kind: object
  properties:
  - name: principalId
    isReadyOnly: true
    description: The service principal ID of the system assigned identity. This property will only be provided for a system assigned identity.
    types:
    - uid: string
  - name: tenantId
    isReadyOnly: true
    description: The tenant ID of the system assigned identity. This property will only be provided for a system assigned identity.
    types:
    - uid: string
  - name: type
    description: Type of managed service identity (where both SystemAssigned and UserAssigned types are allowed).
    types:
    - uid: ManagedServiceIdentityType
  - name: userAssignedIdentities
    description: "User-Assigned Identities  \nThe set of user assigned identities associated with the resource. The userAssignedIdentities dictionary keys will be ARM resource ids in the form: '/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.ManagedIdentity/userAssignedIdentities/{identityName}. The dictionary values can be empty objects ({}) in requests."
    types:
    - uid: object
      isDictionary: true
      additionalTypes:
      - uid: string
      - uid: UserAssignedIdentity
- name: Sku
  description: The resource model definition representing SKU
  kind: object
  properties:
  - name: name
    description: The name of the SKU. Ex - P3. It is typically a letter+number code
    types:
    - uid: string
  - name: tier
    description: This field is required to be implemented by the Resource Provider if the service has more than one tier, but is not required on a PUT.
    types:
    - uid: SkuTier
  - name: size
    description: 'The SKU size. When the name field is the combination of tier and some other value, this would be the standalone code. '
    types:
    - uid: string
  - name: family
    description: If the service has different generations of hardware, for the same SKU, then that can be captured here.
    types:
    - uid: string
  - name: capacity
    description: If the SKU supports scale out/in then the capacity integer should be included. If scale out/in is not possible for the resource this may be omitted.
    types:
    - uid: integer
- name: systemData
  description: Metadata pertaining to creation and last modification of the resource.
  kind: object
  properties:
  - name: createdBy
    description: The identity that created the resource.
    types:
    - uid: string
  - name: createdByType
    description: The type of identity that created the resource.
    types:
    - uid: createdByType
  - name: createdAt
    description: The timestamp of resource creation (UTC).
    types:
    - uid: string
  - name: lastModifiedBy
    description: The identity that last modified the resource.
    types:
    - uid: string
  - name: lastModifiedByType
    description: The type of identity that last modified the resource.
    types:
    - uid: createdByType
  - name: lastModifiedAt
    description: The timestamp of resource last modification (UTC)
    types:
    - uid: string
- name: ComputeResource
  description: Machine Learning compute object wrapped into ARM resource envelope.
  kind: object
  properties:
  - name: identity
    description: The identity of the resource.
    types:
    - uid: ManagedServiceIdentity
  - name: location
    description: Specifies the location of the resource.
    types:
    - uid: string
  - name: tags
    description: Contains resource tags defined as key/value pairs.
    types:
    - uid: object
      isDictionary: true
      additionalTypes:
      - uid: string
      - uid: string
  - name: sku
    description: The sku of the workspace.
    types:
    - uid: Sku
  - name: id
    isReadyOnly: true
    description: Fully qualified resource ID for the resource. Ex - /subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/{resourceProviderNamespace}/{resourceType}/{resourceName}
    types:
    - uid: string
  - name: name
    isReadyOnly: true
    description: The name of the resource
    types:
    - uid: string
  - name: type
    isReadyOnly: true
    description: The type of the resource. E.g. "Microsoft.Compute/virtualMachines" or "Microsoft.Storage/storageAccounts"
    types:
    - uid: string
  - name: systemData
    isReadyOnly: true
    description: Azure Resource Manager metadata containing createdBy and modifiedBy information.
    types:
    - uid: systemData
  - name: properties
    description: Compute properties
    types:
    - uid: AKS
    - uid: Kubernetes
    - uid: AmlCompute
    - uid: ComputeInstance
    - uid: VirtualMachine
    - uid: HDInsight
    - uid: DataFactory
    - uid: Databricks
    - uid: DataLakeAnalytics
    - uid: SynapseSpark
    typesTitle: Compute
- name: ErrorResponse
  description: Error response
  kind: object
  properties:
  - name: error
    description: The error object.
    types:
    - uid: ErrorDetail
- name: ManagedServiceIdentityType
  description: Type of managed service identity (where both SystemAssigned and UserAssigned types are allowed).
  kind: enum
  properties:
  - name: None
    types:
    - uid: string
  - name: SystemAssigned
    types:
    - uid: string
  - name: UserAssigned
    types:
    - uid: string
  - name: SystemAssigned,UserAssigned
    types:
    - uid: string
- name: UserAssignedIdentity
  description: User assigned identity properties
  kind: object
  properties:
  - name: principalId
    isReadyOnly: true
    description: The principal ID of the assigned identity.
    types:
    - uid: string
  - name: clientId
    isReadyOnly: true
    description: The client ID of the assigned identity.
    types:
    - uid: string
- name: SkuTier
  description: This field is required to be implemented by the Resource Provider if the service has more than one tier, but is not required on a PUT.
  kind: enum
  properties:
  - name: Free
    types:
    - uid: string
  - name: Basic
    types:
    - uid: string
  - name: Standard
    types:
    - uid: string
  - name: Premium
    types:
    - uid: string
- name: createdByType
  description: The type of identity that created the resource.
  kind: enum
  properties:
  - name: User
    types:
    - uid: string
  - name: Application
    types:
    - uid: string
  - name: ManagedIdentity
    types:
    - uid: string
  - name: Key
    types:
    - uid: string
- name: AKS
  description: A Machine Learning compute based on AKS.
  kind: object
  properties:
  - name: computeType
    description: The type of compute
    types:
    - uid: AKS
    typesTitle: string
  - name: computeLocation
    isReadyOnly: true
    description: Location for the underlying compute
    types:
    - uid: string
  - name: provisioningState
    isReadyOnly: true
    description: The provision state of the cluster. Valid values are Unknown, Updating, Provisioning, Succeeded, and Failed.
    types:
    - uid: ComputeProvisioningState
  - name: description
    description: The description of the Machine Learning compute.
    types:
    - uid: string
  - name: createdOn
    isReadyOnly: true
    description: The time at which the compute was created.
    types:
    - uid: string
  - name: modifiedOn
    isReadyOnly: true
    description: The time at which the compute was last modified.
    types:
    - uid: string
  - name: resourceId
    description: ARM resource id of the underlying compute
    types:
    - uid: string
  - name: provisioningErrors
    isReadyOnly: true
    description: Errors during provisioning
    types:
    - uid: ErrorResponse
      isArray: true
  - name: isAttachedCompute
    isReadyOnly: true
    description: Indicating whether the compute was provisioned by user and brought from outside if true, or machine learning service provisioned it if false.
    types:
    - uid: boolean
  - name: disableLocalAuth
    description: Opt-out of local authentication and ensure customers can use only MSI and AAD exclusively for authentication.
    types:
    - uid: boolean
  - name: properties
    description: AKS properties
    types:
    - uid: Properties
- name: Kubernetes
  description: A Machine Learning compute based on Kubernetes Compute.
  kind: object
  properties:
  - name: computeType
    description: The type of compute
    types:
    - uid: Kubernetes
    typesTitle: string
  - name: computeLocation
    isReadyOnly: true
    description: Location for the underlying compute
    types:
    - uid: string
  - name: provisioningState
    isReadyOnly: true
    description: The provision state of the cluster. Valid values are Unknown, Updating, Provisioning, Succeeded, and Failed.
    types:
    - uid: ComputeProvisioningState
  - name: description
    description: The description of the Machine Learning compute.
    types:
    - uid: string
  - name: createdOn
    isReadyOnly: true
    description: The time at which the compute was created.
    types:
    - uid: string
  - name: modifiedOn
    isReadyOnly: true
    description: The time at which the compute was last modified.
    types:
    - uid: string
  - name: resourceId
    description: ARM resource id of the underlying compute
    types:
    - uid: string
  - name: provisioningErrors
    isReadyOnly: true
    description: Errors during provisioning
    types:
    - uid: ErrorResponse
      isArray: true
  - name: isAttachedCompute
    isReadyOnly: true
    description: Indicating whether the compute was provisioned by user and brought from outside if true, or machine learning service provisioned it if false.
    types:
    - uid: boolean
  - name: disableLocalAuth
    description: Opt-out of local authentication and ensure customers can use only MSI and AAD exclusively for authentication.
    types:
    - uid: boolean
  - name: properties
    description: Properties of Kubernetes
    types:
    - uid: KubernetesProperties
- name: AmlCompute
  description: An Azure Machine Learning compute.
  kind: object
  properties:
  - name: computeType
    description: The type of compute
    types:
    - uid: AmlCompute
    typesTitle: string
  - name: computeLocation
    isReadyOnly: true
    description: Location for the underlying compute
    types:
    - uid: string
  - name: provisioningState
    isReadyOnly: true
    description: The provision state of the cluster. Valid values are Unknown, Updating, Provisioning, Succeeded, and Failed.
    types:
    - uid: ComputeProvisioningState
  - name: description
    description: The description of the Machine Learning compute.
    types:
    - uid: string
  - name: createdOn
    isReadyOnly: true
    description: The time at which the compute was created.
    types:
    - uid: string
  - name: modifiedOn
    isReadyOnly: true
    description: The time at which the compute was last modified.
    types:
    - uid: string
  - name: resourceId
    description: ARM resource id of the underlying compute
    types:
    - uid: string
  - name: provisioningErrors
    isReadyOnly: true
    description: Errors during provisioning
    types:
    - uid: ErrorResponse
      isArray: true
  - name: isAttachedCompute
    isReadyOnly: true
    description: Indicating whether the compute was provisioned by user and brought from outside if true, or machine learning service provisioned it if false.
    types:
    - uid: boolean
  - name: disableLocalAuth
    description: Opt-out of local authentication and ensure customers can use only MSI and AAD exclusively for authentication.
    types:
    - uid: boolean
  - name: properties
    description: Properties of AmlCompute
    types:
    - uid: AmlComputeProperties
- name: ComputeInstance
  description: An Azure Machine Learning compute instance.
  kind: object
  properties:
  - name: computeType
    description: The type of compute
    types:
    - uid: ComputeInstance
    typesTitle: string
  - name: computeLocation
    isReadyOnly: true
    description: Location for the underlying compute
    types:
    - uid: string
  - name: provisioningState
    isReadyOnly: true
    description: The provision state of the cluster. Valid values are Unknown, Updating, Provisioning, Succeeded, and Failed.
    types:
    - uid: ComputeProvisioningState
  - name: description
    description: The description of the Machine Learning compute.
    types:
    - uid: string
  - name: createdOn
    isReadyOnly: true
    description: The time at which the compute was created.
    types:
    - uid: string
  - name: modifiedOn
    isReadyOnly: true
    description: The time at which the compute was last modified.
    types:
    - uid: string
  - name: resourceId
    description: ARM resource id of the underlying compute
    types:
    - uid: string
  - name: provisioningErrors
    isReadyOnly: true
    description: Errors during provisioning
    types:
    - uid: ErrorResponse
      isArray: true
  - name: isAttachedCompute
    isReadyOnly: true
    description: Indicating whether the compute was provisioned by user and brought from outside if true, or machine learning service provisioned it if false.
    types:
    - uid: boolean
  - name: disableLocalAuth
    description: Opt-out of local authentication and ensure customers can use only MSI and AAD exclusively for authentication.
    types:
    - uid: boolean
  - name: properties
    description: Properties of ComputeInstance
    types:
    - uid: ComputeInstanceProperties
- name: VirtualMachine
  description: A Machine Learning compute based on Azure Virtual Machines.
  kind: object
  properties:
  - name: computeType
    description: The type of compute
    types:
    - uid: VirtualMachine
    typesTitle: string
  - name: computeLocation
    isReadyOnly: true
    description: Location for the underlying compute
    types:
    - uid: string
  - name: provisioningState
    isReadyOnly: true
    description: The provision state of the cluster. Valid values are Unknown, Updating, Provisioning, Succeeded, and Failed.
    types:
    - uid: ComputeProvisioningState
  - name: description
    description: The description of the Machine Learning compute.
    types:
    - uid: string
  - name: createdOn
    isReadyOnly: true
    description: The time at which the compute was created.
    types:
    - uid: string
  - name: modifiedOn
    isReadyOnly: true
    description: The time at which the compute was last modified.
    types:
    - uid: string
  - name: resourceId
    description: ARM resource id of the underlying compute
    types:
    - uid: string
  - name: provisioningErrors
    isReadyOnly: true
    description: Errors during provisioning
    types:
    - uid: ErrorResponse
      isArray: true
  - name: isAttachedCompute
    isReadyOnly: true
    description: Indicating whether the compute was provisioned by user and brought from outside if true, or machine learning service provisioned it if false.
    types:
    - uid: boolean
  - name: disableLocalAuth
    description: Opt-out of local authentication and ensure customers can use only MSI and AAD exclusively for authentication.
    types:
    - uid: boolean
  - name: properties
    description: ''
    types:
    - uid: Properties
- name: HDInsight
  description: A HDInsight compute.
  kind: object
  properties:
  - name: computeType
    description: The type of compute
    types:
    - uid: HDInsight
    typesTitle: string
  - name: computeLocation
    isReadyOnly: true
    description: Location for the underlying compute
    types:
    - uid: string
  - name: provisioningState
    isReadyOnly: true
    description: The provision state of the cluster. Valid values are Unknown, Updating, Provisioning, Succeeded, and Failed.
    types:
    - uid: ComputeProvisioningState
  - name: description
    description: The description of the Machine Learning compute.
    types:
    - uid: string
  - name: createdOn
    isReadyOnly: true
    description: The time at which the compute was created.
    types:
    - uid: string
  - name: modifiedOn
    isReadyOnly: true
    description: The time at which the compute was last modified.
    types:
    - uid: string
  - name: resourceId
    description: ARM resource id of the underlying compute
    types:
    - uid: string
  - name: provisioningErrors
    isReadyOnly: true
    description: Errors during provisioning
    types:
    - uid: ErrorResponse
      isArray: true
  - name: isAttachedCompute
    isReadyOnly: true
    description: Indicating whether the compute was provisioned by user and brought from outside if true, or machine learning service provisioned it if false.
    types:
    - uid: boolean
  - name: disableLocalAuth
    description: Opt-out of local authentication and ensure customers can use only MSI and AAD exclusively for authentication.
    types:
    - uid: boolean
  - name: properties
    description: HDInsight compute properties
    types:
    - uid: HDInsightProperties
- name: DataFactory
  description: A DataFactory compute.
  kind: object
  properties:
  - name: computeType
    description: The type of compute
    types:
    - uid: DataFactory
    typesTitle: string
  - name: computeLocation
    isReadyOnly: true
    description: Location for the underlying compute
    types:
    - uid: string
  - name: provisioningState
    isReadyOnly: true
    description: The provision state of the cluster. Valid values are Unknown, Updating, Provisioning, Succeeded, and Failed.
    types:
    - uid: ComputeProvisioningState
  - name: description
    description: The description of the Machine Learning compute.
    types:
    - uid: string
  - name: createdOn
    isReadyOnly: true
    description: The time at which the compute was created.
    types:
    - uid: string
  - name: modifiedOn
    isReadyOnly: true
    description: The time at which the compute was last modified.
    types:
    - uid: string
  - name: resourceId
    description: ARM resource id of the underlying compute
    types:
    - uid: string
  - name: provisioningErrors
    isReadyOnly: true
    description: Errors during provisioning
    types:
    - uid: ErrorResponse
      isArray: true
  - name: isAttachedCompute
    isReadyOnly: true
    description: Indicating whether the compute was provisioned by user and brought from outside if true, or machine learning service provisioned it if false.
    types:
    - uid: boolean
  - name: disableLocalAuth
    description: Opt-out of local authentication and ensure customers can use only MSI and AAD exclusively for authentication.
    types:
    - uid: boolean
- name: Databricks
  description: A DataFactory compute.
  kind: object
  properties:
  - name: computeType
    description: The type of compute
    types:
    - uid: Databricks
    typesTitle: string
  - name: computeLocation
    isReadyOnly: true
    description: Location for the underlying compute
    types:
    - uid: string
  - name: provisioningState
    isReadyOnly: true
    description: The provision state of the cluster. Valid values are Unknown, Updating, Provisioning, Succeeded, and Failed.
    types:
    - uid: ComputeProvisioningState
  - name: description
    description: The description of the Machine Learning compute.
    types:
    - uid: string
  - name: createdOn
    isReadyOnly: true
    description: The time at which the compute was created.
    types:
    - uid: string
  - name: modifiedOn
    isReadyOnly: true
    description: The time at which the compute was last modified.
    types:
    - uid: string
  - name: resourceId
    description: ARM resource id of the underlying compute
    types:
    - uid: string
  - name: provisioningErrors
    isReadyOnly: true
    description: Errors during provisioning
    types:
    - uid: ErrorResponse
      isArray: true
  - name: isAttachedCompute
    isReadyOnly: true
    description: Indicating whether the compute was provisioned by user and brought from outside if true, or machine learning service provisioned it if false.
    types:
    - uid: boolean
  - name: disableLocalAuth
    description: Opt-out of local authentication and ensure customers can use only MSI and AAD exclusively for authentication.
    types:
    - uid: boolean
  - name: properties
    description: Properties of Databricks
    types:
    - uid: DatabricksProperties
- name: DataLakeAnalytics
  description: A DataLakeAnalytics compute.
  kind: object
  properties:
  - name: computeType
    description: The type of compute
    types:
    - uid: DataLakeAnalytics
    typesTitle: string
  - name: computeLocation
    isReadyOnly: true
    description: Location for the underlying compute
    types:
    - uid: string
  - name: provisioningState
    isReadyOnly: true
    description: The provision state of the cluster. Valid values are Unknown, Updating, Provisioning, Succeeded, and Failed.
    types:
    - uid: ComputeProvisioningState
  - name: description
    description: The description of the Machine Learning compute.
    types:
    - uid: string
  - name: createdOn
    isReadyOnly: true
    description: The time at which the compute was created.
    types:
    - uid: string
  - name: modifiedOn
    isReadyOnly: true
    description: The time at which the compute was last modified.
    types:
    - uid: string
  - name: resourceId
    description: ARM resource id of the underlying compute
    types:
    - uid: string
  - name: provisioningErrors
    isReadyOnly: true
    description: Errors during provisioning
    types:
    - uid: ErrorResponse
      isArray: true
  - name: isAttachedCompute
    isReadyOnly: true
    description: Indicating whether the compute was provisioned by user and brought from outside if true, or machine learning service provisioned it if false.
    types:
    - uid: boolean
  - name: disableLocalAuth
    description: Opt-out of local authentication and ensure customers can use only MSI and AAD exclusively for authentication.
    types:
    - uid: boolean
  - name: properties
    description: ''
    types:
    - uid: Properties
- name: SynapseSpark
  description: A SynapseSpark compute.
  kind: object
  properties:
  - name: properties
    description: ''
    types:
    - uid: Properties
  - name: computeType
    description: The type of compute
    types:
    - uid: SynapseSpark
    typesTitle: string
  - name: computeLocation
    isReadyOnly: true
    description: Location for the underlying compute
    types:
    - uid: string
  - name: provisioningState
    isReadyOnly: true
    description: The provision state of the cluster. Valid values are Unknown, Updating, Provisioning, Succeeded, and Failed.
    types:
    - uid: ComputeProvisioningState
  - name: description
    description: The description of the Machine Learning compute.
    types:
    - uid: string
  - name: createdOn
    isReadyOnly: true
    description: The time at which the compute was created.
    types:
    - uid: string
  - name: modifiedOn
    isReadyOnly: true
    description: The time at which the compute was last modified.
    types:
    - uid: string
  - name: resourceId
    description: ARM resource id of the underlying compute
    types:
    - uid: string
  - name: provisioningErrors
    isReadyOnly: true
    description: Errors during provisioning
    types:
    - uid: ErrorResponse
      isArray: true
  - name: isAttachedCompute
    isReadyOnly: true
    description: Indicating whether the compute was provisioned by user and brought from outside if true, or machine learning service provisioned it if false.
    types:
    - uid: boolean
  - name: disableLocalAuth
    description: Opt-out of local authentication and ensure customers can use only MSI and AAD exclusively for authentication.
    types:
    - uid: boolean
- name: ErrorDetail
  description: The error detail.
  kind: object
  properties:
  - name: code
    isReadyOnly: true
    description: The error code.
    types:
    - uid: string
  - name: message
    isReadyOnly: true
    description: The error message.
    types:
    - uid: string
  - name: target
    isReadyOnly: true
    description: The error target.
    types:
    - uid: string
  - name: details
    isReadyOnly: true
    description: The error details.
    types:
    - uid: ErrorDetail
      isArray: true
  - name: additionalInfo
    isReadyOnly: true
    description: The error additional info.
    types:
    - uid: ErrorAdditionalInfo
      isArray: true
- name: ComputeType
  description: The type of compute
  kind: enum
  properties:
  - name: AKS
    types:
    - uid: string
  - name: Kubernetes
    types:
    - uid: string
  - name: AmlCompute
    types:
    - uid: string
  - name: ComputeInstance
    types:
    - uid: string
  - name: DataFactory
    types:
    - uid: string
  - name: VirtualMachine
    types:
    - uid: string
  - name: HDInsight
    types:
    - uid: string
  - name: Databricks
    types:
    - uid: string
  - name: DataLakeAnalytics
    types:
    - uid: string
  - name: SynapseSpark
    types:
    - uid: string
- name: ComputeProvisioningState
  description: The provision state of the cluster. Valid values are Unknown, Updating, Provisioning, Succeeded, and Failed.
  kind: enum
  properties:
  - name: Unknown
    types:
    - uid: string
  - name: Updating
    types:
    - uid: string
  - name: Creating
    types:
    - uid: string
  - name: Deleting
    types:
    - uid: string
  - name: Succeeded
    types:
    - uid: string
  - name: Failed
    types:
    - uid: string
  - name: Canceled
    types:
    - uid: string
- name: Properties
  description: AKS properties
  kind: object
  properties:
  - name: clusterFqdn
    description: Cluster full qualified domain name
    types:
    - uid: string
  - name: systemServices
    isReadyOnly: true
    description: System services
    types:
    - uid: SystemService
      isArray: true
  - name: agentCount
    description: Number of agents
    types:
    - uid: integer
  - name: agentVmSize
    description: Agent virtual machine size
    types:
    - uid: string
  - name: clusterPurpose
    description: Intended usage of the cluster
    types:
    - uid: ClusterPurpose
    defaultValue: FastProd
  - name: sslConfiguration
    description: SSL configuration
    types:
    - uid: SslConfiguration
  - name: aksNetworkingConfiguration
    description: AKS networking configuration for vnet
    types:
    - uid: AksNetworkingConfiguration
  - name: loadBalancerType
    description: Load Balancer Type
    types:
    - uid: LoadBalancerType
    defaultValue: PublicIp
  - name: loadBalancerSubnet
    description: Load Balancer Subnet
    types:
    - uid: string
- name: KubernetesProperties
  description: Kubernetes properties
  kind: object
  properties:
  - name: relayConnectionString
    description: Relay connection string.
    types:
    - uid: string
  - name: serviceBusConnectionString
    description: ServiceBus connection string.
    types:
    - uid: string
  - name: extensionPrincipalId
    description: Extension principal-id.
    types:
    - uid: string
  - name: extensionInstanceReleaseTrain
    description: Extension instance release train.
    types:
    - uid: string
  - name: vcName
    description: VC name.
    types:
    - uid: string
  - name: namespace
    description: Compute namespace
    types:
    - uid: string
    defaultValue: default
  - name: defaultInstanceType
    description: Default instance type
    types:
    - uid: string
  - name: instanceTypes
    description: Instance Type Schema
    types:
    - uid: object
      isDictionary: true
      additionalTypes:
      - uid: string
      - uid: InstanceTypeSchema
- name: AmlComputeProperties
  description: AML Compute properties
  kind: object
  properties:
  - name: osType
    description: Compute OS Type
    types:
    - uid: OsType
    defaultValue: Linux
  - name: vmSize
    description: Virtual Machine Size
    types:
    - uid: string
  - name: vmPriority
    description: Virtual Machine priority
    types:
    - uid: VmPriority
  - name: virtualMachineImage
    description: Virtual Machine image for AML Compute - windows only
    types:
    - uid: VirtualMachineImage
  - name: isolatedNetwork
    description: Network is isolated or not
    types:
    - uid: boolean
  - name: scaleSettings
    description: Scale settings for AML Compute
    types:
    - uid: ScaleSettings
  - name: userAccountCredentials
    description: "User account credentials.  \nCredentials for an administrator user account that will be created on each compute node."
    types:
    - uid: UserAccountCredentials
  - name: subnet
    description: "Subnet.  \nVirtual network subnet resource ID the compute nodes belong to."
    types:
    - uid: ResourceId
  - name: remoteLoginPortPublicAccess
    description: "Close remote Login Access Port  \nState of the public SSH port. Possible values are: Disabled - Indicates that the public ssh port is closed on all nodes of the cluster. Enabled - Indicates that the public ssh port is open on all nodes of the cluster. NotSpecified - Indicates that the public ssh port is closed on all nodes of the cluster if VNet is defined, else is open all public nodes. It can be default only during cluster creation time, after creation it will be either enabled or disabled."
    types:
    - uid: remoteLoginPortPublicAccess
    defaultValue: NotSpecified
  - name: allocationState
    isReadyOnly: true
    description: "Allocation state.  \nAllocation state of the compute. Possible values are: steady - Indicates that the compute is not resizing. There are no changes to the number of compute nodes in the compute in progress. A compute enters this state when it is created and when no operations are being performed on the compute to change the number of compute nodes. resizing - Indicates that the compute is resizing; that is, compute nodes are being added to or removed from the compute."
    types:
    - uid: AllocationState
  - name: allocationStateTransitionTime
    isReadyOnly: true
    description: "Allocation state transition time.  \nThe time at which the compute entered its current allocation state."
    types:
    - uid: string
  - name: errors
    isReadyOnly: true
    description: "Errors.  \nCollection of errors encountered by various compute nodes during node setup."
    types:
    - uid: ErrorResponse
      isArray: true
  - name: currentNodeCount
    isReadyOnly: true
    description: "Current node count.  \nThe number of compute nodes currently assigned to the compute."
    types:
    - uid: integer
  - name: targetNodeCount
    isReadyOnly: true
    description: "Target node count.  \nThe target number of compute nodes for the compute. If the allocationState is resizing, this property denotes the target node count for the ongoing resize operation. If the allocationState is steady, this property denotes the target node count for the previous resize operation."
    types:
    - uid: integer
  - name: nodeStateCounts
    isReadyOnly: true
    description: "Node state counts.  \nCounts of various node states on the compute."
    types:
    - uid: NodeStateCounts
  - name: enableNodePublicIp
    description: "Enable node public IP.  \nEnable or disable node public IP address provisioning. Possible values are: Possible values are: true - Indicates that the compute nodes will have public IPs provisioned. false - Indicates that the compute nodes will have a private endpoint and no public IPs."
    types:
    - uid: boolean
    defaultValue: true
  - name: propertyBag
    description: A property bag containing additional properties.
    types:
    - uid: object
- name: ComputeInstanceProperties
  description: Compute Instance properties
  kind: object
  properties:
  - name: vmSize
    description: Virtual Machine Size
    types:
    - uid: string
  - name: subnet
    description: "Subnet.  \nVirtual network subnet resource ID the compute nodes belong to."
    types:
    - uid: ResourceId
  - name: applicationSharingPolicy
    description: "Sharing policy for applications on this compute instance  \nPolicy for sharing applications on this compute instance among users of parent workspace. If Personal, only the creator can access applications on this compute instance. When Shared, any workspace user can access applications on this instance depending on his/her assigned role."
    types:
    - uid: applicationSharingPolicy
    defaultValue: Shared
  - name: sshSettings
    description: Specifies policy and settings for SSH access.
    types:
    - uid: ComputeInstanceSshSettings
  - name: customServices
    description: List of Custom Services added to the compute.
    types:
    - uid: CustomService
      isArray: true
  - name: connectivityEndpoints
    isReadyOnly: true
    description: Describes all connectivity endpoints available for this ComputeInstance.
    types:
    - uid: ComputeInstanceConnectivityEndpoints
  - name: applications
    isReadyOnly: true
    description: Describes available applications and their endpoints on this ComputeInstance.
    types:
    - uid: ComputeInstanceApplication
      isArray: true
  - name: createdBy
    isReadyOnly: true
    description: Describes information on user who created this ComputeInstance.
    types:
    - uid: ComputeInstanceCreatedBy
  - name: errors
    isReadyOnly: true
    description: "Errors.  \nCollection of errors encountered on this ComputeInstance."
    types:
    - uid: ErrorResponse
      isArray: true
  - name: state
    isReadyOnly: true
    description: The current state of this ComputeInstance.
    types:
    - uid: ComputeInstanceState
  - name: computeInstanceAuthorizationType
    description: "Compute Instance Authorization type.  \nThe Compute Instance Authorization type. Available values are personal (default)."
    types:
    - uid: ComputeInstanceAuthorizationType
    defaultValue: personal
  - name: personalComputeInstanceSettings
    description: "Personal Compute Instance settings.  \nSettings for a personal compute instance."
    types:
    - uid: PersonalComputeInstanceSettings
  - name: setupScripts
    description: Details of customized scripts to execute for setting up the cluster.
    types:
    - uid: SetupScripts
  - name: lastOperation
    isReadyOnly: true
    description: The last operation on ComputeInstance.
    types:
    - uid: ComputeInstanceLastOperation
  - name: schedules
    isReadyOnly: true
    description: The list of schedules to be applied on the computes.
    types:
    - uid: ComputeSchedules
  - name: idleTimeBeforeShutdown
    description: Stops compute instance after user defined period of inactivity. Time is defined in ISO8601 format. Minimum is 15 min, maximum is 3 days.
    types:
    - uid: string
  - name: enableNodePublicIp
    description: "Enable node public IP.  \nEnable or disable node public IP address provisioning. Possible values are: Possible values are: true - Indicates that the compute nodes will have public IPs provisioned. false - Indicates that the compute nodes will have a private endpoint and no public IPs."
    types:
    - uid: boolean
  - name: containers
    isReadyOnly: true
    description: Describes informations of containers on this ComputeInstance.
    types:
    - uid: ComputeInstanceContainer
      isArray: true
  - name: dataDisks
    isReadyOnly: true
    description: Describes informations of dataDisks on this ComputeInstance.
    types:
    - uid: ComputeInstanceDataDisk
      isArray: true
  - name: dataMounts
    isReadyOnly: true
    description: Describes informations of dataMounts on this ComputeInstance.
    types:
    - uid: ComputeInstanceDataMount
      isArray: true
  - name: versions
    isReadyOnly: true
    description: ComputeInstance version.
    types:
    - uid: ComputeInstanceVersion
- name: HDInsightProperties
  description: HDInsight compute properties
  kind: object
  properties:
  - name: sshPort
    description: Port open for ssh connections on the master node of the cluster.
    types:
    - uid: integer
  - name: address
    description: Public IP address of the master node of the cluster.
    types:
    - uid: string
  - name: administratorAccount
    description: Admin credentials for master node of the cluster
    types:
    - uid: VirtualMachineSshCredentials
- name: DatabricksProperties
  description: Properties of Databricks
  kind: object
  properties:
  - name: databricksAccessToken
    description: Databricks access token
    types:
    - uid: string
  - name: workspaceUrl
    description: Workspace Url
    types:
    - uid: string
- name: ErrorAdditionalInfo
  description: The resource management error additional info.
  kind: object
  properties:
  - name: type
    isReadyOnly: true
    description: The additional info type.
    types:
    - uid: string
  - name: info
    isReadyOnly: true
    description: The additional info.
    types:
    - uid: object
- name: SystemService
  description: A system service running on a compute.
  kind: object
  properties:
  - name: systemServiceType
    isReadyOnly: true
    description: The type of this system service.
    types:
    - uid: string
  - name: publicIpAddress
    isReadyOnly: true
    description: Public IP address
    types:
    - uid: string
  - name: version
    isReadyOnly: true
    description: The version for this type.
    types:
    - uid: string
- name: ClusterPurpose
  description: Intended usage of the cluster
  kind: enum
  properties:
  - name: FastProd
    types:
    - uid: string
  - name: DenseProd
    types:
    - uid: string
  - name: DevTest
    types:
    - uid: string
- name: SslConfiguration
  description: The ssl configuration for scoring
  kind: object
  properties:
  - name: status
    description: Enable or disable ssl for scoring
    types:
    - uid: SslConfigStatus
  - name: cert
    description: Cert data
    types:
    - uid: string
  - name: key
    description: Key data
    types:
    - uid: string
  - name: cname
    description: CNAME of the cert
    types:
    - uid: string
  - name: leafDomainLabel
    description: Leaf domain label of public endpoint
    types:
    - uid: string
  - name: overwriteExistingDomain
    description: Indicates whether to overwrite existing domain label.
    types:
    - uid: boolean
- name: AksNetworkingConfiguration
  description: Advance configuration for AKS networking
  kind: object
  properties:
  - name: subnetId
    description: Virtual network subnet resource ID the compute nodes belong to
    types:
    - uid: string
  - name: serviceCidr
    description: A CIDR notation IP range from which to assign service cluster IPs. It must not overlap with any Subnet IP ranges.
    types:
    - uid: string
  - name: dnsServiceIP
    description: An IP address assigned to the Kubernetes DNS service. It must be within the Kubernetes service address range specified in serviceCidr.
    types:
    - uid: string
  - name: dockerBridgeCidr
    description: A CIDR notation IP range assigned to the Docker bridge network. It must not overlap with any Subnet IP ranges or the Kubernetes service address range.
    types:
    - uid: string
- name: LoadBalancerType
  description: Load Balancer Type
  kind: enum
  properties:
  - name: PublicIp
    types:
    - uid: string
  - name: InternalLoadBalancer
    types:
    - uid: string
- name: InstanceTypeSchema
  description: Instance type schema.
  kind: object
  properties:
  - name: nodeSelector
    description: Node Selector
    types:
    - uid: object
      isDictionary: true
      additionalTypes:
      - uid: string
      - uid: string
  - name: resources
    description: Resource requests/limits for this instance type
    types:
    - uid: Resources
- name: OsType
  description: Compute OS Type
  kind: enum
  properties:
  - name: Linux
    types:
    - uid: string
  - name: Windows
    types:
    - uid: string
- name: VmPriority
  description: Virtual Machine priority
  kind: enum
  properties:
  - name: Dedicated
    types:
    - uid: string
  - name: LowPriority
    types:
    - uid: string
- name: VirtualMachineImage
  description: Virtual Machine image for Windows AML Compute
  kind: object
  properties:
  - name: id
    description: Virtual Machine image path
    types:
    - uid: string
- name: ScaleSettings
  description: scale settings for AML Compute
  kind: object
  properties:
  - name: maxNodeCount
    description: Max number of nodes to use
    types:
    - uid: integer
  - name: minNodeCount
    description: Min number of nodes to use
    types:
    - uid: integer
    defaultValue: 0
  - name: nodeIdleTimeBeforeScaleDown
    description: Node Idle Time before scaling down amlCompute. This string needs to be in the RFC Format.
    types:
    - uid: string
- name: UserAccountCredentials
  description: Settings for user account that gets created on each on the nodes of a compute.
  kind: object
  properties:
  - name: adminUserName
    description: "User name.  \nName of the administrator user account which can be used to SSH to nodes."
    types:
    - uid: string
  - name: adminUserSshPublicKey
    description: "SSH public key.  \nSSH public key of the administrator user account."
    types:
    - uid: string
  - name: adminUserPassword
    description: "Password.  \nPassword of the administrator user account."
    types:
    - uid: string
- name: ResourceId
  description: Represents a resource ID. For example, for a subnet, it is the resource URL for the subnet.
  kind: object
  properties:
  - name: id
    description: The ID of the resource
    types:
    - uid: string
- name: remoteLoginPortPublicAccess
  description: Close remote Login Access Port
  kind: enum
  properties:
  - name: Enabled
    types:
    - uid: string
  - name: Disabled
    types:
    - uid: string
  - name: NotSpecified
    types:
    - uid: string
- name: AllocationState
  description: Allocation state.
  kind: enum
  properties:
  - name: Steady
    types:
    - uid: string
  - name: Resizing
    types:
    - uid: string
- name: NodeStateCounts
  description: Counts of various compute node states on the amlCompute.
  kind: object
  properties:
  - name: idleNodeCount
    isReadyOnly: true
    description: "Idle node count.  \nNumber of compute nodes in idle state."
    types:
    - uid: integer
  - name: runningNodeCount
    isReadyOnly: true
    description: "Running node count.  \nNumber of compute nodes which are running jobs."
    types:
    - uid: integer
  - name: preparingNodeCount
    isReadyOnly: true
    description: "Preparing node count.  \nNumber of compute nodes which are being prepared."
    types:
    - uid: integer
  - name: unusableNodeCount
    isReadyOnly: true
    description: "Unusable node count.  \nNumber of compute nodes which are in unusable state."
    types:
    - uid: integer
  - name: leavingNodeCount
    isReadyOnly: true
    description: "Leaving node count.  \nNumber of compute nodes which are leaving the amlCompute."
    types:
    - uid: integer
  - name: preemptedNodeCount
    isReadyOnly: true
    description: "Preempted node count.  \nNumber of compute nodes which are in preempted state."
    types:
    - uid: integer
- name: applicationSharingPolicy
  description: Sharing policy for applications on this compute instance
  kind: enum
  properties:
  - name: Personal
    types:
    - uid: string
  - name: Shared
    types:
    - uid: string
- name: ComputeInstanceSshSettings
  description: Specifies policy and settings for SSH access.
  kind: object
  properties:
  - name: sshPublicAccess
    description: "Access policy for SSH  \nState of the public SSH port. Possible values are: Disabled - Indicates that the public ssh port is closed on this instance. Enabled - Indicates that the public ssh port is open and accessible according to the VNet/subnet policy if applicable."
    types:
    - uid: sshPublicAccess
    defaultValue: Disabled
  - name: adminUserName
    isReadyOnly: true
    description: Describes the admin user name.
    types:
    - uid: string
  - name: sshPort
    isReadyOnly: true
    description: Describes the port for connecting through SSH.
    types:
    - uid: integer
  - name: adminPublicKey
    description: Specifies the SSH rsa public key file as a string. Use "ssh-keygen -t rsa -b 2048" to generate your SSH key pairs.
    types:
    - uid: string
- name: CustomService
  description: Specifies the custom service configuration
  kind: object
  properties:
  - name: name
    description: Name of the Custom Service
    types:
    - uid: string
  - name: image
    description: Describes the Image Specifications
    types:
    - uid: Image
  - name: environmentVariables
    description: Environment Variable for the container
    types:
    - uid: object
      isDictionary: true
      additionalTypes:
      - uid: string
      - uid: EnvironmentVariable
  - name: docker
    description: Describes the docker settings for the image
    types:
    - uid: Docker
  - name: endpoints
    description: Configuring the endpoints for the container
    types:
    - uid: Endpoint
      isArray: true
  - name: volumes
    description: Configuring the volumes for the container
    types:
    - uid: VolumeDefinition
      isArray: true
- name: ComputeInstanceConnectivityEndpoints
  description: Defines all connectivity endpoints and properties for an ComputeInstance.
  kind: object
  properties:
  - name: publicIpAddress
    isReadyOnly: true
    description: Public IP Address of this ComputeInstance.
    types:
    - uid: string
  - name: privateIpAddress
    isReadyOnly: true
    description: Private IP Address of this ComputeInstance (local to the VNET in which the compute instance is deployed).
    types:
    - uid: string
- name: ComputeInstanceApplication
  description: Defines an Aml Instance application and its connectivity endpoint URI.
  kind: object
  properties:
  - name: displayName
    description: Name of the ComputeInstance application.
    types:
    - uid: string
  - name: endpointUri
    description: Application' endpoint URI.
    types:
    - uid: string
- name: ComputeInstanceCreatedBy
  description: Describes information on user who created this ComputeInstance.
  kind: object
  properties:
  - name: userName
    isReadyOnly: true
    description: Name of the user.
    types:
    - uid: string
  - name: userOrgId
    isReadyOnly: true
    description: Uniquely identifies user' Azure Active Directory organization.
    types:
    - uid: string
  - name: userId
    isReadyOnly: true
    description: Uniquely identifies the user within his/her organization.
    types:
    - uid: string
- name: ComputeInstanceState
  description: Current state of an ComputeInstance.
  kind: enum
  properties:
  - name: Creating
    types:
    - uid: string
  - name: CreateFailed
    types:
    - uid: string
  - name: Deleting
    types:
    - uid: string
  - name: Running
    types:
    - uid: string
  - name: Restarting
    types:
    - uid: string
  - name: JobRunning
    types:
    - uid: string
  - name: SettingUp
    types:
    - uid: string
  - name: SetupFailed
    types:
    - uid: string
  - name: Starting
    types:
    - uid: string
  - name: Stopped
    types:
    - uid: string
  - name: Stopping
    types:
    - uid: string
  - name: UserSettingUp
    types:
    - uid: string
  - name: UserSetupFailed
    types:
    - uid: string
  - name: Unknown
    types:
    - uid: string
  - name: Unusable
    types:
    - uid: string
- name: ComputeInstanceAuthorizationType
  description: Compute Instance Authorization type.
  kind: enum
  properties:
  - name: personal
    types:
    - uid: string
- name: PersonalComputeInstanceSettings
  description: Settings for a personal compute instance.
  kind: object
  properties:
  - name: assignedUser
    description: "Assigned User.  \nA user explicitly assigned to a personal compute instance."
    types:
    - uid: AssignedUser
- name: SetupScripts
  description: Details of customized scripts to execute for setting up the cluster.
  kind: object
  properties:
  - name: scripts
    description: Customized setup scripts
    types:
    - uid: ScriptsToExecute
- name: ComputeInstanceLastOperation
  description: The last operation on ComputeInstance.
  kind: object
  properties:
  - name: operationName
    description: Name of the last operation.
    types:
    - uid: OperationName
  - name: operationTime
    description: Time of the last operation.
    types:
    - uid: string
  - name: operationStatus
    description: Operation status.
    types:
    - uid: OperationStatus
  - name: operationTrigger
    description: Trigger of operation.
    types:
    - uid: operationTrigger
- name: ComputeSchedules
  description: The list of schedules to be applied on the computes
  kind: object
  properties:
  - name: computeStartStop
    description: The list of compute start stop schedules to be applied.
    types:
    - uid: ComputeStartStopSchedule
      isArray: true
- name: ComputeInstanceContainer
  description: Defines an Aml Instance container.
  kind: object
  properties:
  - name: name
    description: Name of the ComputeInstance container.
    types:
    - uid: string
  - name: autosave
    description: Auto save settings.
    types:
    - uid: autosave
  - name: gpu
    description: Information of GPU.
    types:
    - uid: string
  - name: network
    description: network of this container.
    types:
    - uid: network
  - name: environment
    description: Environment information of this container.
    types:
    - uid: ComputeInstanceEnvironmentInfo
  - name: services
    isReadyOnly: true
    description: services of this containers.
    types:
    - uid: object
      isArray: true
- name: ComputeInstanceDataDisk
  description: Defines an Aml Instance DataDisk.
  kind: object
  properties:
  - name: caching
    description: Caching type of Data Disk.
    types:
    - uid: caching
  - name: diskSizeGB
    description: "The initial disk size in gigabytes.  \nThe initial disk size in gigabytes."
    types:
    - uid: integer
  - name: lun
    description: "The logical unit number.  \nThe lun is used to uniquely identify each data disk. If attaching multiple disks, each should have a distinct lun."
    types:
    - uid: integer
  - name: storageAccountType
    description: type of this storage account.
    types:
    - uid: storageAccountType
    defaultValue: Standard_LRS
- name: ComputeInstanceDataMount
  description: Defines an Aml Instance DataMount.
  kind: object
  properties:
  - name: source
    description: Source of the ComputeInstance data mount.
    types:
    - uid: string
  - name: sourceType
    description: Data source type.
    types:
    - uid: sourceType
  - name: mountName
    description: name of the ComputeInstance data mount.
    types:
    - uid: string
  - name: mountAction
    description: Mount Action.
    types:
    - uid: mountAction
  - name: createdBy
    description: who this data mount created by.
    types:
    - uid: string
  - name: mountPath
    description: Path of this data mount.
    types:
    - uid: string
  - name: mountState
    description: Mount state.
    types:
    - uid: mountState
  - name: mountedOn
    description: "Mounted time.  \nThe time when the disk mounted."
    types:
    - uid: string
  - name: error
    description: Error of this data mount.
    types:
    - uid: string
- name: ComputeInstanceVersion
  description: Version of computeInstance.
  kind: object
  properties:
  - name: runtime
    description: Runtime of compute instance.
    types:
    - uid: string
- name: VirtualMachineSshCredentials
  description: Admin credentials for virtual machine
  kind: object
  properties:
  - name: username
    description: Username of admin account
    types:
    - uid: string
  - name: password
    description: Password of admin account
    types:
    - uid: string
  - name: publicKeyData
    description: Public key data
    types:
    - uid: string
  - name: privateKeyData
    description: Private key data
    types:
    - uid: string
- name: SslConfigStatus
  description: Enable or disable ssl for scoring
  kind: enum
  properties:
  - name: Disabled
    types:
    - uid: string
  - name: Enabled
    types:
    - uid: string
  - name: Auto
    types:
    - uid: string
- name: Resources
  description: Resource requests/limits for this instance type
  kind: object
  properties:
  - name: requests
    description: Resource requests for this instance type
    types:
    - uid: object
      isDictionary: true
      additionalTypes:
      - uid: string
      - uid: string
  - name: limits
    description: Resource limits for this instance type
    types:
    - uid: object
      isDictionary: true
      additionalTypes:
      - uid: string
      - uid: string
- name: sshPublicAccess
  description: Access policy for SSH
  kind: enum
  properties:
  - name: Enabled
    types:
    - uid: string
  - name: Disabled
    types:
    - uid: string
- name: Image
  kind: object
  properties:
  - name: type
    description: "Type of the image  \nType of the image. Possible values are: docker - For docker images. azureml - For AzureML images"
    types:
    - uid: ImageType
    defaultValue: docker
  - name: reference
    description: Image reference URL
    types:
    - uid: string
- name: EnvironmentVariable
  kind: object
  properties:
  - name: type
    description: "Type of Environment Variable  \nType of the Environment Variable. Possible values are: local - For local variable"
    types:
    - uid: EnvironmentVariableType
    defaultValue: local
  - name: value
    description: Value of the Environment variable
    types:
    - uid: string
- name: Docker
  kind: object
  properties:
  - name: privileged
    description: Indicate whether container shall run in privileged or non-privileged mode.
    types:
    - uid: boolean
- name: Endpoint
  kind: object
  properties:
  - name: protocol
    description: "Endpoint Communication Protocol  \nProtocol over which communication will happen over this endpoint"
    types:
    - uid: protocol
    defaultValue: tcp
  - name: name
    description: Name of the Endpoint
    types:
    - uid: string
  - name: target
    description: Application port inside the container.
    types:
    - uid: integer
  - name: published
    description: Port over which the application is exposed from container.
    types:
    - uid: integer
  - name: hostIp
    description: Host IP over which the application is exposed from the container
    types:
    - uid: string
- name: VolumeDefinition
  kind: object
  properties:
  - name: type
    description: "Type of Volume Definition  \nType of Volume Definition. Possible Values: bind,volume,tmpfs,npipe"
    types:
    - uid: VolumeDefinitionType
    defaultValue: bind
  - name: readOnly
    description: Indicate whether to mount volume as readOnly. Default value for this is false.
    types:
    - uid: boolean
  - name: source
    description: Source of the mount. For bind mounts this is the host path.
    types:
    - uid: string
  - name: target
    description: Target of the mount. For bind mounts this is the path in the container.
    types:
    - uid: string
  - name: consistency
    description: Consistency of the volume
    types:
    - uid: string
  - name: bind
    description: Bind Options of the mount
    types:
    - uid: BindOptions
  - name: volume
    description: Volume Options of the mount
    types:
    - uid: VolumeOptions
  - name: tmpfs
    description: tmpfs option of the mount
    types:
    - uid: TmpfsOptions
- name: AssignedUser
  description: A user that can be assigned to a compute instance.
  kind: object
  properties:
  - name: objectId
    description: User’s AAD Object Id.
    types:
    - uid: string
  - name: tenantId
    description: User’s AAD Tenant Id.
    types:
    - uid: string
- name: ScriptsToExecute
  description: Customized setup scripts
  kind: object
  properties:
  - name: startupScript
    description: Script that's run every time the machine starts.
    types:
    - uid: ScriptReference
  - name: creationScript
    description: Script that's run only once during provision of the compute.
    types:
    - uid: ScriptReference
- name: OperationName
  description: Name of the last operation.
  kind: enum
  properties:
  - name: Create
    types:
    - uid: string
  - name: Start
    types:
    - uid: string
  - name: Stop
    types:
    - uid: string
  - name: Restart
    types:
    - uid: string
  - name: Reimage
    types:
    - uid: string
  - name: Delete
    types:
    - uid: string
- name: OperationStatus
  description: Operation status.
  kind: enum
  properties:
  - name: InProgress
    types:
    - uid: string
  - name: Succeeded
    types:
    - uid: string
  - name: CreateFailed
    types:
    - uid: string
  - name: StartFailed
    types:
    - uid: string
  - name: StopFailed
    types:
    - uid: string
  - name: RestartFailed
    types:
    - uid: string
  - name: ReimageFailed
    types:
    - uid: string
  - name: DeleteFailed
    types:
    - uid: string
- name: operationTrigger
  description: Trigger of operation.
  kind: enum
  properties:
  - name: User
    types:
    - uid: string
  - name: Schedule
    types:
    - uid: string
  - name: IdleShutdown
    types:
    - uid: string
- name: ComputeStartStopSchedule
  description: Compute start stop schedule properties
  kind: object
  properties:
  - name: id
    isReadyOnly: true
    description: Schedule id.
    types:
    - uid: string
  - name: provisioningStatus
    isReadyOnly: true
    description: The current deployment state of schedule.
    types:
    - uid: provisioningStatus
  - name: action
    description: The compute power action.
    types:
    - uid: ComputePowerAction
  - name: schedule
    description: ''
    types:
    - uid: ScheduleBase
- name: autosave
  description: Auto save settings.
  kind: enum
  properties:
  - name: None
    types:
    - uid: string
  - name: Local
    types:
    - uid: string
  - name: Remote
    types:
    - uid: string
- name: network
  description: network of this container.
  kind: enum
  properties:
  - name: Bridge
    types:
    - uid: string
  - name: Host
    types:
    - uid: string
- name: ComputeInstanceEnvironmentInfo
  description: Environment information
  kind: object
  properties:
  - name: name
    description: name of environment.
    types:
    - uid: string
  - name: version
    description: version of environment.
    types:
    - uid: string
- name: caching
  description: Caching type of Data Disk.
  kind: enum
  properties:
  - name: None
    types:
    - uid: string
  - name: ReadOnly
    types:
    - uid: string
  - name: ReadWrite
    types:
    - uid: string
- name: storageAccountType
  description: type of this storage account.
  kind: enum
  properties:
  - name: Standard_LRS
    types:
    - uid: string
  - name: Premium_LRS
    types:
    - uid: string
- name: sourceType
  description: Data source type.
  kind: enum
  properties:
  - name: Dataset
    types:
    - uid: string
  - name: Datastore
    types:
    - uid: string
  - name: URI
    types:
    - uid: string
- name: mountAction
  description: Mount Action.
  kind: enum
  properties:
  - name: Mount
    types:
    - uid: string
  - name: Unmount
    types:
    - uid: string
- name: mountState
  description: Mount state.
  kind: enum
  properties:
  - name: MountRequested
    types:
    - uid: string
  - name: Mounted
    types:
    - uid: string
  - name: MountFailed
    types:
    - uid: string
  - name: UnmountRequested
    types:
    - uid: string
  - name: UnmountFailed
    types:
    - uid: string
  - name: Unmounted
    types:
    - uid: string
- name: ImageType
  description: Type of the image
  kind: enum
  properties:
  - name: docker
    types:
    - uid: string
  - name: azureml
    types:
    - uid: string
- name: EnvironmentVariableType
  description: Type of Environment Variable
  kind: enum
  properties:
  - name: local
    types:
    - uid: string
- name: protocol
  description: Endpoint Communication Protocol
  kind: enum
  properties:
  - name: tcp
    types:
    - uid: string
  - name: udp
    types:
    - uid: string
  - name: http
    types:
    - uid: string
- name: VolumeDefinitionType
  description: Type of Volume Definition
  kind: enum
  properties:
  - name: bind
    types:
    - uid: string
  - name: volume
    types:
    - uid: string
  - name: tmpfs
    types:
    - uid: string
  - name: npipe
    types:
    - uid: string
- name: BindOptions
  kind: object
  properties:
  - name: propagation
    description: Type of Bind Option
    types:
    - uid: string
  - name: createHostPath
    description: Indicate whether to create host path.
    types:
    - uid: boolean
  - name: selinux
    description: Mention the selinux options.
    types:
    - uid: string
- name: VolumeOptions
  kind: object
  properties:
  - name: nocopy
    description: Indicate whether volume is nocopy
    types:
    - uid: boolean
- name: TmpfsOptions
  kind: object
  properties:
  - name: size
    description: Mention the Tmpfs size
    types:
    - uid: integer
- name: ScriptReference
  description: Script reference
  kind: object
  properties:
  - name: scriptSource
    description: 'The storage source of the script: inline, workspace.'
    types:
    - uid: string
  - name: scriptData
    description: The location of scripts in the mounted volume.
    types:
    - uid: string
  - name: scriptArguments
    description: Optional command line arguments passed to the script to run.
    types:
    - uid: string
  - name: timeout
    description: Optional time period passed to timeout command.
    types:
    - uid: string
- name: provisioningStatus
  description: The current deployment state of schedule.
  kind: enum
  properties:
  - name: Completed
    types:
    - uid: string
  - name: Provisioning
    types:
    - uid: string
  - name: Failed
    types:
    - uid: string
- name: ComputePowerAction
  description: The compute power action.
  kind: enum
  properties:
  - name: Start
    types:
    - uid: string
  - name: Stop
    types:
    - uid: string
- name: ScheduleBase
  kind: object
  properties:
  - name: id
    description: ''
    types:
    - uid: string
  - name: provisioningStatus
    description: ''
    types:
    - uid: ScheduleProvisioningState
  - name: status
    description: ''
    types:
    - uid: ScheduleStatus
- name: ScheduleProvisioningState
  kind: enum
  properties:
  - name: Completed
    types:
    - uid: string
  - name: Provisioning
    types:
    - uid: string
  - name: Failed
    types:
    - uid: string
- name: ScheduleStatus
  kind: enum
  properties:
  - name: Enabled
    types:
    - uid: string
  - name: Disabled
    types:
    - uid: string
examples:
- name: Create a AML Compute
  request:
    uri: PUT https://management.azure.com/subscriptions/34adfa4f-cedf-4dc0-ba29-b6d1a69ab345/resourceGroups/testrg123/providers/Microsoft.MachineLearningServices/workspaces/workspaces123/computes/compute123?api-version=2022-06-01-preview
    body: >-
      {
        "location": "eastus",
        "properties": {
          "computeType": "AmlCompute",
          "properties": {
            "vmSize": "STANDARD_NC6",
            "vmPriority": "Dedicated",
            "osType": "Windows",
            "virtualMachineImage": {
              "id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/myResourceGroup/providers/Microsoft.Compute/galleries/myImageGallery/images/myImageDefinition/versions/0.0.1"
            },
            "isolatedNetwork": false,
            "scaleSettings": {
              "maxNodeCount": 1,
              "minNodeCount": 0,
              "nodeIdleTimeBeforeScaleDown": "PT5M"
            },
            "remoteLoginPortPublicAccess": "NotSpecified",
            "enableNodePublicIp": true
          }
        }
      }
    codeTab: |+
      # [HTTP](#tab/HTTP)
      ``` http
      PUT https://management.azure.com/subscriptions/34adfa4f-cedf-4dc0-ba29-b6d1a69ab345/resourceGroups/testrg123/providers/Microsoft.MachineLearningServices/workspaces/workspaces123/computes/compute123?api-version=2022-06-01-preview

      {
        "location": "eastus",
        "properties": {
          "computeType": "AmlCompute",
          "properties": {
            "vmSize": "STANDARD_NC6",
            "vmPriority": "Dedicated",
            "osType": "Windows",
            "virtualMachineImage": {
              "id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/myResourceGroup/providers/Microsoft.Compute/galleries/myImageGallery/images/myImageDefinition/versions/0.0.1"
            },
            "isolatedNetwork": false,
            "scaleSettings": {
              "maxNodeCount": 1,
              "minNodeCount": 0,
              "nodeIdleTimeBeforeScaleDown": "PT5M"
            },
            "remoteLoginPortPublicAccess": "NotSpecified",
            "enableNodePublicIp": true
          }
        }
      }

      ```

  responses:
  - statusCode: "200"
    body: >-
      {
        "id": "/subscriptions/34adfa4f-cedf-4dc0-ba29-b6d1a69ab345/resourceGroups/testrg123/providers/Microsoft.MachineLearningServices/workspaces/workspaces123/computes/compute123",
        "type": "Microsoft.MachineLearningServices/workspaces/computes",
        "name": "compute123",
        "location": "eastus",
        "properties": {
          "computeType": "AmlCompute",
          "provisioningState": "Creating"
        }
      }
  - statusCode: "201"
    headers:
    - name: Azure-AsyncOperation
      value: https://management.azure.com/subscriptions/...pathToOperationStatus...
    body: >-
      {
        "id": "/subscriptions/34adfa4f-cedf-4dc0-ba29-b6d1a69ab345/resourceGroups/testrg123/providers/Microsoft.MachineLearningServices/workspaces/workspaces123/computes/compute123",
        "type": "Microsoft.MachineLearningServices/workspaces/computes",
        "name": "compute123",
        "location": "eastus",
        "properties": {
          "computeType": "AmlCompute",
          "provisioningState": "Creating"
        }
      }
- name: Create an ComputeInstance Compute with minimal inputs
  request:
    uri: PUT https://management.azure.com/subscriptions/34adfa4f-cedf-4dc0-ba29-b6d1a69ab345/resourceGroups/testrg123/providers/Microsoft.MachineLearningServices/workspaces/workspaces123/computes/compute123?api-version=2022-06-01-preview
    body: >-
      {
        "location": "eastus",
        "properties": {
          "computeType": "ComputeInstance",
          "properties": {
            "vmSize": "STANDARD_NC6"
          }
        }
      }
    codeTab: |+
      # [HTTP](#tab/HTTP)
      ``` http
      PUT https://management.azure.com/subscriptions/34adfa4f-cedf-4dc0-ba29-b6d1a69ab345/resourceGroups/testrg123/providers/Microsoft.MachineLearningServices/workspaces/workspaces123/computes/compute123?api-version=2022-06-01-preview

      {
        "location": "eastus",
        "properties": {
          "computeType": "ComputeInstance",
          "properties": {
            "vmSize": "STANDARD_NC6"
          }
        }
      }

      ```

  responses:
  - statusCode: "200"
    body: >-
      {
        "id": "/subscriptions/34adfa4f-cedf-4dc0-ba29-b6d1a69ab345/resourceGroups/testrg123/providers/Microsoft.MachineLearningServices/workspaces/workspaces123/computes/compute123",
        "type": "Microsoft.MachineLearningServices/workspaces/computes",
        "name": "compute123",
        "location": "eastus",
        "properties": {
          "computeType": "ComputeInstance",
          "provisioningState": "Creating"
        }
      }
  - statusCode: "201"
    headers:
    - name: Azure-AsyncOperation
      value: https://management.azure.com/subscriptions/...pathToOperationStatus...
    body: >-
      {
        "id": "/subscriptions/34adfa4f-cedf-4dc0-ba29-b6d1a69ab345/resourceGroups/testrg123/providers/Microsoft.MachineLearningServices/workspaces/workspaces123/computes/compute123",
        "type": "Microsoft.MachineLearningServices/workspaces/computes",
        "name": "compute123",
        "location": "eastus",
        "properties": {
          "computeType": "ComputeInstance",
          "provisioningState": "Creating"
        }
      }
- name: Create an ComputeInstance Compute
  request:
    uri: PUT https://management.azure.com/subscriptions/34adfa4f-cedf-4dc0-ba29-b6d1a69ab345/resourceGroups/testrg123/providers/Microsoft.MachineLearningServices/workspaces/workspaces123/computes/compute123?api-version=2022-06-01-preview
    body: >-
      {
        "location": "eastus",
        "properties": {
          "computeType": "ComputeInstance",
          "properties": {
            "vmSize": "STANDARD_NC6",
            "subnet": {
              "id": "test-subnet-resource-id"
            },
            "applicationSharingPolicy": "Personal",
            "sshSettings": {
              "sshPublicAccess": "Disabled"
            },
            "customServices": [
              {
                "name": "rstudio-workbench",
                "image": {
                  "type": "docker",
                  "reference": "ghcr.io/azure/rstudio-workbench:latest"
                },
                "environmentVariables": {
                  "RSP_LICENSE": {
                    "type": "local",
                    "value": "XXXX-XXXX-XXXX-XXXX-XXXX-XXXX-XXXX"
                  }
                },
                "docker": {
                  "privileged": true
                },
                "endpoints": [
                  {
                    "protocol": "http",
                    "name": "connect",
                    "target": 8787,
                    "published": 4444,
                    "hostIp": null
                  }
                ],
                "volumes": [
                  {
                    "type": "bind",
                    "source": "/mnt/azureuser/",
                    "target": "/home/testuser/",
                    "readOnly": true
                  }
                ]
              }
            ],
            "computeInstanceAuthorizationType": "personal",
            "personalComputeInstanceSettings": {
              "assignedUser": {
                "objectId": "00000000-0000-0000-0000-000000000000",
                "tenantId": "00000000-0000-0000-0000-000000000000"
              }
            }
          }
        }
      }
    codeTab: |+
      # [HTTP](#tab/HTTP)
      ``` http
      PUT https://management.azure.com/subscriptions/34adfa4f-cedf-4dc0-ba29-b6d1a69ab345/resourceGroups/testrg123/providers/Microsoft.MachineLearningServices/workspaces/workspaces123/computes/compute123?api-version=2022-06-01-preview

      {
        "location": "eastus",
        "properties": {
          "computeType": "ComputeInstance",
          "properties": {
            "vmSize": "STANDARD_NC6",
            "subnet": {
              "id": "test-subnet-resource-id"
            },
            "applicationSharingPolicy": "Personal",
            "sshSettings": {
              "sshPublicAccess": "Disabled"
            },
            "customServices": [
              {
                "name": "rstudio-workbench",
                "image": {
                  "type": "docker",
                  "reference": "ghcr.io/azure/rstudio-workbench:latest"
                },
                "environmentVariables": {
                  "RSP_LICENSE": {
                    "type": "local",
                    "value": "XXXX-XXXX-XXXX-XXXX-XXXX-XXXX-XXXX"
                  }
                },
                "docker": {
                  "privileged": true
                },
                "endpoints": [
                  {
                    "protocol": "http",
                    "name": "connect",
                    "target": 8787,
                    "published": 4444,
                    "hostIp": null
                  }
                ],
                "volumes": [
                  {
                    "type": "bind",
                    "source": "/mnt/azureuser/",
                    "target": "/home/testuser/",
                    "readOnly": true
                  }
                ]
              }
            ],
            "computeInstanceAuthorizationType": "personal",
            "personalComputeInstanceSettings": {
              "assignedUser": {
                "objectId": "00000000-0000-0000-0000-000000000000",
                "tenantId": "00000000-0000-0000-0000-000000000000"
              }
            }
          }
        }
      }

      ```

  responses:
  - statusCode: "200"
    body: >-
      {
        "id": "/subscriptions/34adfa4f-cedf-4dc0-ba29-b6d1a69ab345/resourceGroups/testrg123/providers/Microsoft.MachineLearningServices/workspaces/workspaces123/computes/compute123",
        "type": "Microsoft.MachineLearningServices/workspaces/computes",
        "name": "compute123",
        "location": "eastus",
        "properties": {
          "computeType": "ComputeInstance",
          "provisioningState": "Creating"
        }
      }
  - statusCode: "201"
    headers:
    - name: Azure-AsyncOperation
      value: https://management.azure.com/subscriptions/...pathToOperationStatus...
    body: >-
      {
        "id": "/subscriptions/34adfa4f-cedf-4dc0-ba29-b6d1a69ab345/resourceGroups/testrg123/providers/Microsoft.MachineLearningServices/workspaces/workspaces123/computes/compute123",
        "type": "Microsoft.MachineLearningServices/workspaces/computes",
        "name": "compute123",
        "location": "eastus",
        "properties": {
          "computeType": "ComputeInstance",
          "provisioningState": "Creating"
        }
      }
- name: Create an AKS Compute
  request:
    uri: PUT https://management.azure.com/subscriptions/34adfa4f-cedf-4dc0-ba29-b6d1a69ab345/resourceGroups/testrg123/providers/Microsoft.MachineLearningServices/workspaces/workspaces123/computes/compute123?api-version=2022-06-01-preview
    body: >-
      {
        "location": "eastus",
        "properties": {
          "computeType": "AKS"
        }
      }
    codeTab: |+
      # [HTTP](#tab/HTTP)
      ``` http
      PUT https://management.azure.com/subscriptions/34adfa4f-cedf-4dc0-ba29-b6d1a69ab345/resourceGroups/testrg123/providers/Microsoft.MachineLearningServices/workspaces/workspaces123/computes/compute123?api-version=2022-06-01-preview

      {
        "location": "eastus",
        "properties": {
          "computeType": "AKS"
        }
      }

      ```

  responses:
  - statusCode: "200"
    body: >-
      {
        "id": "subscriptions/34adfa4f-cedf-4dc0-ba29-b6d1a69ab345/resourceGroups/testrg123/providers/Microsoft.MachineLearningServices/workspaces/workspaces123/computes/compute123",
        "type": "Microsoft.MachineLearningServices/workspaces/computes",
        "name": "compute123",
        "location": "eastus",
        "properties": {
          "computeType": "AKS",
          "provisioningState": "Creating"
        }
      }
  - statusCode: "201"
    headers:
    - name: Azure-AsyncOperation
      value: https://management.azure.com/subscriptions/...pathToOperationStatus...
    body: >-
      {
        "id": "subscriptions/34adfa4f-cedf-4dc0-ba29-b6d1a69ab345/resourceGroups/testrg123/providers/Microsoft.MachineLearningServices/workspaces/workspaces123/computes/compute123",
        "type": "Microsoft.MachineLearningServices/workspaces/computes",
        "name": "compute123",
        "location": "eastus",
        "properties": {
          "computeType": "AKS",
          "provisioningState": "Creating"
        }
      }
- name: Create a DataFactory Compute
  request:
    uri: PUT https://management.azure.com/subscriptions/34adfa4f-cedf-4dc0-ba29-b6d1a69ab345/resourceGroups/testrg123/providers/Microsoft.MachineLearningServices/workspaces/workspaces123/computes/compute123?api-version=2022-06-01-preview
    body: >-
      {
        "location": "eastus",
        "properties": {
          "computeType": "DataFactory"
        }
      }
    codeTab: |+
      # [HTTP](#tab/HTTP)
      ``` http
      PUT https://management.azure.com/subscriptions/34adfa4f-cedf-4dc0-ba29-b6d1a69ab345/resourceGroups/testrg123/providers/Microsoft.MachineLearningServices/workspaces/workspaces123/computes/compute123?api-version=2022-06-01-preview

      {
        "location": "eastus",
        "properties": {
          "computeType": "DataFactory"
        }
      }

      ```

  responses:
  - statusCode: "200"
    body: >-
      {
        "id": "/subscriptions/34adfa4f-cedf-4dc0-ba29-b6d1a69ab345/resourceGroups/testrg123/providers/Microsoft.MachineLearningServices/workspaces/workspaces123/computes/compute123",
        "type": "Microsoft.MachineLearningServices/workspaces/computes",
        "name": "compute123",
        "location": "eastus",
        "properties": {
          "computeType": "DataFactory",
          "provisioningState": "Creating"
        }
      }
  - statusCode: "201"
    headers:
    - name: Azure-AsyncOperation
      value: https://management.azure.com/subscriptions/...pathToOperationStatus...
    body: >-
      {
        "id": "/subscriptions/34adfa4f-cedf-4dc0-ba29-b6d1a69ab345/resourceGroups/testrg123/providers/Microsoft.MachineLearningServices/workspaces/workspaces123/computes/compute123",
        "type": "Microsoft.MachineLearningServices/workspaces/computes",
        "name": "compute123",
        "location": "eastus",
        "properties": {
          "computeType": "DataFactory",
          "provisioningState": "Creating"
        }
      }
- name: Update a AML Compute
  request:
    uri: PUT https://management.azure.com/subscriptions/34adfa4f-cedf-4dc0-ba29-b6d1a69ab345/resourceGroups/testrg123/providers/Microsoft.MachineLearningServices/workspaces/workspaces123/computes/compute123?api-version=2022-06-01-preview
    body: >-
      {
        "location": "eastus",
        "properties": {
          "computeType": "AmlCompute",
          "description": "some compute",
          "properties": {
            "scaleSettings": {
              "maxNodeCount": 4,
              "minNodeCount": 4,
              "nodeIdleTimeBeforeScaleDown": "PT5M"
            }
          }
        }
      }
    codeTab: |+
      # [HTTP](#tab/HTTP)
      ``` http
      PUT https://management.azure.com/subscriptions/34adfa4f-cedf-4dc0-ba29-b6d1a69ab345/resourceGroups/testrg123/providers/Microsoft.MachineLearningServices/workspaces/workspaces123/computes/compute123?api-version=2022-06-01-preview

      {
        "location": "eastus",
        "properties": {
          "computeType": "AmlCompute",
          "description": "some compute",
          "properties": {
            "scaleSettings": {
              "maxNodeCount": 4,
              "minNodeCount": 4,
              "nodeIdleTimeBeforeScaleDown": "PT5M"
            }
          }
        }
      }

      ```

  responses:
  - statusCode: "200"
    body: >-
      {
        "id": "/subscriptions/34adfa4f-cedf-4dc0-ba29-b6d1a69ab345/resourceGroups/testrg123/providers/Microsoft.MachineLearningServices/workspaces/workspaces123/computes/compute123",
        "type": "Microsoft.MachineLearningServices/workspaces/computes",
        "name": "compute123",
        "location": "eastus2",
        "properties": {
          "description": "some compute",
          "createdOn": "2021-04-01T22:00:00.0000000+00:00",
          "modifiedOn": "2021-04-01T22:00:00.0000000+00:00",
          "computeType": "AmlCompute",
          "provisioningState": "Succeeded",
          "properties": {
            "vmSize": "STANDARD_NC6",
            "vmPriority": "Dedicated",
            "osType": "Windows",
            "virtualMachineImage": null,
            "isolatedNetwork": false,
            "subnet": {
              "id": "test-subnet-resource-id"
            },
            "scaleSettings": {
              "maxNodeCount": 1,
              "minNodeCount": 0,
              "nodeIdleTimeBeforeScaleDown": "PT5M"
            },
            "remoteLoginPortPublicAccess": "Enabled",
            "allocationState": "Resizing",
            "allocationStateTransitionTime": "2017-09-27T22:28:08.998Z",
            "errors": null,
            "currentNodeCount": 0,
            "targetNodeCount": 1,
            "nodeStateCounts": {
              "preparingNodeCount": 0,
              "runningNodeCount": 0,
              "idleNodeCount": 0,
              "unusableNodeCount": 0,
              "leavingNodeCount": 0,
              "preemptedNodeCount": 0
            },
            "enableNodePublicIp": true
          }
        }
      }
  - statusCode: "201"
    headers:
    - name: Azure-AsyncOperation
      value: https://management.azure.com/subscriptions/...pathToOperationStatus...
    body: >-
      {
        "id": "/subscriptions/34adfa4f-cedf-4dc0-ba29-b6d1a69ab345/resourceGroups/testrg123/providers/Microsoft.MachineLearningServices/workspaces/workspaces123/computes/compute123",
        "type": "Microsoft.MachineLearningServices/workspaces/computes",
        "name": "compute123",
        "location": "eastus2",
        "properties": {
          "description": "some compute",
          "computeType": "AmlCompute",
          "provisioningState": "Updating"
        }
      }
- name: Update an AKS Compute
  request:
    uri: PUT https://management.azure.com/subscriptions/34adfa4f-cedf-4dc0-ba29-b6d1a69ab345/resourceGroups/testrg123/providers/Microsoft.MachineLearningServices/workspaces/workspaces123/computes/compute123?api-version=2022-06-01-preview
    body: >-
      {
        "location": "eastus",
        "properties": {
          "description": "some compute",
          "resourceId": "/subscriptions/34adfa4f-cedf-4dc0-ba29-b6d1a69ab345/resourcegroups/testrg123/providers/Microsoft.ContainerService/managedClusters/compute123-56826-c9b00420020b2",
          "computeType": "AKS",
          "properties": {
            "agentCount": 4
          }
        }
      }
    codeTab: |+
      # [HTTP](#tab/HTTP)
      ``` http
      PUT https://management.azure.com/subscriptions/34adfa4f-cedf-4dc0-ba29-b6d1a69ab345/resourceGroups/testrg123/providers/Microsoft.MachineLearningServices/workspaces/workspaces123/computes/compute123?api-version=2022-06-01-preview

      {
        "location": "eastus",
        "properties": {
          "description": "some compute",
          "resourceId": "/subscriptions/34adfa4f-cedf-4dc0-ba29-b6d1a69ab345/resourcegroups/testrg123/providers/Microsoft.ContainerService/managedClusters/compute123-56826-c9b00420020b2",
          "computeType": "AKS",
          "properties": {
            "agentCount": 4
          }
        }
      }

      ```

  responses:
  - statusCode: "200"
    body: >-
      {
        "id": "/subscriptions/34adfa4f-cedf-4dc0-ba29-b6d1a69ab345/resourceGroups/testrg123/providers/Microsoft.MachineLearningServices/workspaces/workspaces123/computes/compute123",
        "type": "Microsoft.MachineLearningServices/workspaces/computes",
        "name": "compute123",
        "location": "eastus",
        "properties": {
          "description": "some compute",
          "resourceId": "/subscriptions/34adfa4f-cedf-4dc0-ba29-b6d1a69ab345/resourcegroups/testrg123/providers/Microsoft.ContainerService/managedClusters/compute123-56826-c9b00420020b2",
          "computeType": "AKS",
          "provisioningState": "Succeeded",
          "properties": {
            "agentCount": 4
          }
        }
      }
  - statusCode: "201"
    headers:
    - name: Azure-AsyncOperation
      value: https://management.azure.com/subscriptions/...pathToOperationStatus...
    body: >-
      {
        "id": "/subscriptions/34adfa4f-cedf-4dc0-ba29-b6d1a69ab345/resourceGroups/testrg123/providers/Microsoft.MachineLearningServices/workspaces/workspaces123/computes/compute123",
        "type": "Microsoft.MachineLearningServices/workspaces/computes",
        "name": "compute123",
        "location": "eastus",
        "properties": {
          "description": "some compute",
          "resourceId": "/subscriptions/34adfa4f-cedf-4dc0-ba29-b6d1a69ab345/resourcegroups/testrg123/providers/Microsoft.ContainerService/managedClusters/compute123-56826-c9b00420020b2",
          "computeType": "AKS",
          "provisioningState": "Updating"
        }
      }
- name: Attach a Kubernetes Compute
  request:
    uri: PUT https://management.azure.com/subscriptions/34adfa4f-cedf-4dc0-ba29-b6d1a69ab345/resourceGroups/testrg123/providers/Microsoft.MachineLearningServices/workspaces/workspaces123/computes/compute123?api-version=2022-06-01-preview
    body: >-
      {
        "location": "eastus",
        "properties": {
          "description": "some compute",
          "resourceId": "/subscriptions/34adfa4f-cedf-4dc0-ba29-b6d1a69ab345/resourcegroups/testrg123/providers/Microsoft.ContainerService/managedClusters/compute123-56826-c9b00420020b2",
          "computeType": "Kubernetes",
          "properties": {
            "namespace": "default",
            "defaultInstanceType": "defaultInstanceType",
            "instanceTypes": {
              "defaultInstanceType": {
                "nodeSelector": null,
                "resources": {
                  "requests": {
                    "cpu": "1",
                    "memory": "4Gi",
                    "nvidia.com/gpu": null
                  },
                  "limits": {
                    "cpu": "1",
                    "memory": "4Gi",
                    "nvidia.com/gpu": null
                  }
                }
              }
            }
          }
        }
      }
    codeTab: |+
      # [HTTP](#tab/HTTP)
      ``` http
      PUT https://management.azure.com/subscriptions/34adfa4f-cedf-4dc0-ba29-b6d1a69ab345/resourceGroups/testrg123/providers/Microsoft.MachineLearningServices/workspaces/workspaces123/computes/compute123?api-version=2022-06-01-preview

      {
        "location": "eastus",
        "properties": {
          "description": "some compute",
          "resourceId": "/subscriptions/34adfa4f-cedf-4dc0-ba29-b6d1a69ab345/resourcegroups/testrg123/providers/Microsoft.ContainerService/managedClusters/compute123-56826-c9b00420020b2",
          "computeType": "Kubernetes",
          "properties": {
            "namespace": "default",
            "defaultInstanceType": "defaultInstanceType",
            "instanceTypes": {
              "defaultInstanceType": {
                "nodeSelector": null,
                "resources": {
                  "requests": {
                    "cpu": "1",
                    "memory": "4Gi",
                    "nvidia.com/gpu": null
                  },
                  "limits": {
                    "cpu": "1",
                    "memory": "4Gi",
                    "nvidia.com/gpu": null
                  }
                }
              }
            }
          }
        }
      }

      ```

  responses:
  - statusCode: "200"
    body: >-
      {
        "id": "/subscriptions/34adfa4f-cedf-4dc0-ba29-b6d1a69ab345/resourceGroups/testrg123/providers/Microsoft.MachineLearningServices/workspaces/workspaces123/computes/compute123",
        "type": "Microsoft.MachineLearningServices/workspaces/computes",
        "name": "compute123",
        "location": "eastus",
        "properties": {
          "description": "some compute",
          "resourceId": "/subscriptions/34adfa4f-cedf-4dc0-ba29-b6d1a69ab345/resourcegroups/testrg123/providers/Microsoft.ContainerService/managedClusters/compute123-56826-c9b00420020b2",
          "computeType": "Kubernetes",
          "provisioningState": "Creating",
          "properties": {
            "relayConnectionString": null,
            "serviceBusConnectionString": null,
            "extensionPrincipalId": null,
            "extensionInstanceReleaseTrain": "stable",
            "vcName": null,
            "namespace": "default",
            "defaultInstanceType": "defaultInstanceType",
            "instanceTypes": {
              "defaultInstanceType": {
                "nodeSelector": null,
                "resources": {
                  "requests": {
                    "cpu": "1",
                    "memory": "4Gi",
                    "nvidia.com/gpu": null
                  },
                  "limits": {
                    "cpu": "1",
                    "memory": "4Gi",
                    "nvidia.com/gpu": null
                  }
                }
              }
            }
          }
        }
      }
  - statusCode: "201"
    headers:
    - name: Azure-AsyncOperation
      value: https://management.azure.com/subscriptions/...pathToOperationStatus...
    body: >-
      {
        "id": "/subscriptions/34adfa4f-cedf-4dc0-ba29-b6d1a69ab345/resourceGroups/testrg123/providers/Microsoft.MachineLearningServices/workspaces/workspaces123/computes/compute123",
        "type": "Microsoft.MachineLearningServices/workspaces/computes",
        "name": "compute123",
        "location": "eastus",
        "properties": {
          "description": "some compute",
          "resourceId": "/subscriptions/34adfa4f-cedf-4dc0-ba29-b6d1a69ab345/resourcegroups/testrg123/providers/Microsoft.ContainerService/managedClusters/compute123-56826-c9b00420020b2",
          "computeType": "Kubernetes",
          "provisioningState": "Creating",
          "properties": {
            "relayConnectionString": null,
            "serviceBusConnectionString": null,
            "extensionPrincipalId": null,
            "extensionInstanceReleaseTrain": "stable",
            "vcName": null,
            "namespace": "default",
            "defaultInstanceType": "defaultInstanceType",
            "instanceTypes": {
              "defaultInstanceType": {
                "nodeSelector": null,
                "resources": {
                  "requests": {
                    "cpu": "1",
                    "memory": "4Gi",
                    "nvidia.com/gpu": null
                  },
                  "limits": {
                    "cpu": "1",
                    "memory": "4Gi",
                    "nvidia.com/gpu": null
                  }
                }
              }
            }
          }
        }
      }
security:
- name: azure_auth
  type: oauth2
  description: Azure Active Directory OAuth2 Flow.
  flow: implicit
  authorizationUrl: https://login.microsoftonline.com/common/oauth2/authorize
  scopes:
  - name: user_impersonation
    description: impersonate your user account
metadata:
  description: Creates or updates compute. This call will overwrite a compute if it exists. This is a nonrecoverable operation.
errorCodes: []
