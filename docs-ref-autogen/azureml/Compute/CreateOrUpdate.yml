### YamlMime:RESTOperation
uid: management.azure.com.azureml.compute.createorupdate
name: Create Or Update
service: Machine Learning
groupName: Compute
apiVersion: 2021-03-01-preview
summary: Creates or updates compute. This call will overwrite a compute if it exists. This is a nonrecoverable operation. If your intent is to create a new compute, do a GET first to verify that it does not exist yet.
consumes:
- application/json
produces:
- application/json
paths:
- content: PUT https://management.azure.com/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.MachineLearningServices/workspaces/{workspaceName}/computes/{computeName}?api-version=2021-03-01-preview
uriParameters:
- name: subscriptionId
  in: path
  isRequired: true
  description: The ID of the target subscription.
  types:
  - uid: string
- name: resourceGroupName
  in: path
  isRequired: true
  description: The name of the resource group. The name is case insensitive.
  types:
  - uid: string
  pattern: ^[-\w\._\(\)]+$
- name: workspaceName
  in: path
  isRequired: true
  description: Name of Azure Machine Learning workspace.
  types:
  - uid: string
- name: computeName
  in: path
  isRequired: true
  description: Name of the Azure Machine Learning compute.
  types:
  - uid: string
- name: api-version
  in: query
  isRequired: true
  description: The API version to use for this operation.
  types:
  - uid: string
responses:
- name: 200 OK
  description: Compute creation or update initiated.
  types:
  - uid: ComputeResource
- name: 201 Created
  headers:
  - name: Azure-AsyncOperation
    value: string
  description: Compute creation or update initiated.
  types:
  - uid: ComputeResource
- name: Other Status Codes
  description: Error response describing why the request failed.
  types:
  - uid: ErrorResponse
requestBody:
- name: default
  parameters:
  - name: identity
    in: body
    description: The identity of the resource.
    types:
    - uid: Identity
  - name: location
    in: body
    description: Specifies the location of the resource.
    types:
    - uid: string
  - name: tags
    in: body
    description: Contains resource tags defined as key/value pairs.
    types:
    - uid: object
      isDictionary: true
      additionalTypes:
      - uid: string
      - uid: string
  - name: sku
    in: body
    description: The sku of the workspace.
    types:
    - uid: Sku
  - name: properties
    in: body
    description: Compute properties
    types:
    - uid: AKS
    - uid: AmlCompute
    - uid: ComputeInstance
    - uid: VirtualMachine
    - uid: HDInsight
    - uid: DataFactory
    - uid: Databricks
    - uid: DataLakeAnalytics
    - uid: SynapseSpark
    typesTitle: Compute
requestHeader: []
definitions:
- name: Identity
  description: Identity for the resource.
  kind: object
  properties:
  - name: principalId
    isReadyOnly: true
    description: The principal ID of resource identity.
    types:
    - uid: string
  - name: tenantId
    isReadyOnly: true
    description: The tenant ID of resource.
    types:
    - uid: string
  - name: type
    description: The identity type.
    types:
    - uid: ResourceIdentityType
  - name: userAssignedIdentities
    description: The user assigned identities associated with the resource.
    types:
    - uid: object
      isDictionary: true
      additionalTypes:
      - uid: string
      - uid: UserAssignedIdentity
- name: Sku
  description: Sku of the resource
  kind: object
  properties:
  - name: name
    description: Name of the sku
    types:
    - uid: string
  - name: tier
    description: Tier of the sku like Basic or Enterprise
    types:
    - uid: string
- name: systemData
  description: Metadata pertaining to creation and last modification of the resource.
  kind: object
  properties:
  - name: createdBy
    description: The identity that created the resource.
    types:
    - uid: string
  - name: createdByType
    description: The type of identity that created the resource.
    types:
    - uid: createdByType
  - name: createdAt
    description: The timestamp of resource creation (UTC).
    types:
    - uid: string
  - name: lastModifiedBy
    description: The identity that last modified the resource.
    types:
    - uid: string
  - name: lastModifiedByType
    description: The type of identity that last modified the resource.
    types:
    - uid: createdByType
  - name: lastModifiedAt
    description: The timestamp of resource last modification (UTC)
    types:
    - uid: string
- name: ComputeResource
  description: Machine Learning compute object wrapped into ARM resource envelope.
  kind: object
  properties:
  - name: identity
    description: The identity of the resource.
    types:
    - uid: Identity
  - name: location
    description: Specifies the location of the resource.
    types:
    - uid: string
  - name: tags
    description: Contains resource tags defined as key/value pairs.
    types:
    - uid: object
      isDictionary: true
      additionalTypes:
      - uid: string
      - uid: string
  - name: sku
    description: The sku of the workspace.
    types:
    - uid: Sku
  - name: systemData
    isReadyOnly: true
    description: Metadata pertaining to creation and last modification of the resource.
    types:
    - uid: systemData
  - name: id
    isReadyOnly: true
    description: Fully qualified resource ID for the resource. Ex - /subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/{resourceProviderNamespace}/{resourceType}/{resourceName}
    types:
    - uid: string
  - name: name
    isReadyOnly: true
    description: The name of the resource
    types:
    - uid: string
  - name: type
    isReadyOnly: true
    description: The type of the resource. E.g. "Microsoft.Compute/virtualMachines" or "Microsoft.Storage/storageAccounts"
    types:
    - uid: string
  - name: properties
    description: Compute properties
    types:
    - uid: AKS
    - uid: AmlCompute
    - uid: ComputeInstance
    - uid: VirtualMachine
    - uid: HDInsight
    - uid: DataFactory
    - uid: Databricks
    - uid: DataLakeAnalytics
    - uid: SynapseSpark
    typesTitle: Compute
- name: ErrorResponse
  description: Error response
  kind: object
  properties:
  - name: error
    description: The error object.
    types:
    - uid: ErrorDetail
- name: ResourceIdentityType
  description: The identity type.
  kind: enum
  properties:
  - name: SystemAssigned
    types:
    - uid: string
  - name: SystemAssigned,UserAssigned
    types:
    - uid: string
  - name: UserAssigned
    types:
    - uid: string
  - name: None
    types:
    - uid: string
- name: UserAssignedIdentity
  description: User Assigned Identity
  kind: object
  properties:
  - name: principalId
    isReadyOnly: true
    description: The principal ID of the user assigned identity.
    types:
    - uid: string
  - name: tenantId
    isReadyOnly: true
    description: The tenant ID of the user assigned identity.
    types:
    - uid: string
  - name: clientId
    isReadyOnly: true
    description: The clientId(aka appId) of the user assigned identity.
    types:
    - uid: string
- name: createdByType
  description: The type of identity that created the resource.
  kind: enum
  properties:
  - name: User
    types:
    - uid: string
  - name: Application
    types:
    - uid: string
  - name: ManagedIdentity
    types:
    - uid: string
  - name: Key
    types:
    - uid: string
- name: AKS
  description: A Machine Learning compute based on AKS.
  kind: object
  properties:
  - name: computeType
    description: The type of compute
    types:
    - uid: AKS
    typesTitle: string
  - name: computeLocation
    description: Location for the underlying compute
    types:
    - uid: string
  - name: provisioningState
    isReadyOnly: true
    description: The provision state of the cluster. Valid values are Unknown, Updating, Provisioning, Succeeded, and Failed.
    types:
    - uid: ProvisioningState
  - name: description
    description: The description of the Machine Learning compute.
    types:
    - uid: string
  - name: createdOn
    isReadyOnly: true
    description: The time at which the compute was created.
    types:
    - uid: string
  - name: modifiedOn
    isReadyOnly: true
    description: The time at which the compute was last modified.
    types:
    - uid: string
  - name: resourceId
    description: ARM resource id of the underlying compute
    types:
    - uid: string
  - name: provisioningErrors
    isReadyOnly: true
    description: Errors during provisioning
    types:
    - uid: ErrorResponse
      isArray: true
  - name: isAttachedCompute
    isReadyOnly: true
    description: Indicating whether the compute was provisioned by user and brought from outside if true, or machine learning service provisioned it if false.
    types:
    - uid: boolean
  - name: disableLocalAuth
    description: Opt-out of local authentication and ensure customers can use only MSI and AAD exclusively for authentication.
    types:
    - uid: boolean
  - name: properties
    description: AKS properties
    types:
    - uid: Properties
- name: AmlCompute
  description: An Azure Machine Learning compute.
  kind: object
  properties:
  - name: computeType
    description: The type of compute
    types:
    - uid: AmlCompute
    typesTitle: string
  - name: computeLocation
    description: Location for the underlying compute
    types:
    - uid: string
  - name: provisioningState
    isReadyOnly: true
    description: The provision state of the cluster. Valid values are Unknown, Updating, Provisioning, Succeeded, and Failed.
    types:
    - uid: ProvisioningState
  - name: description
    description: The description of the Machine Learning compute.
    types:
    - uid: string
  - name: createdOn
    isReadyOnly: true
    description: The time at which the compute was created.
    types:
    - uid: string
  - name: modifiedOn
    isReadyOnly: true
    description: The time at which the compute was last modified.
    types:
    - uid: string
  - name: resourceId
    description: ARM resource id of the underlying compute
    types:
    - uid: string
  - name: provisioningErrors
    isReadyOnly: true
    description: Errors during provisioning
    types:
    - uid: ErrorResponse
      isArray: true
  - name: isAttachedCompute
    isReadyOnly: true
    description: Indicating whether the compute was provisioned by user and brought from outside if true, or machine learning service provisioned it if false.
    types:
    - uid: boolean
  - name: disableLocalAuth
    description: Opt-out of local authentication and ensure customers can use only MSI and AAD exclusively for authentication.
    types:
    - uid: boolean
  - name: properties
    description: AML Compute properties
    types:
    - uid: Properties
- name: ComputeInstance
  description: An Azure Machine Learning compute instance.
  kind: object
  properties:
  - name: computeType
    description: The type of compute
    types:
    - uid: ComputeInstance
    typesTitle: string
  - name: computeLocation
    description: Location for the underlying compute
    types:
    - uid: string
  - name: provisioningState
    isReadyOnly: true
    description: The provision state of the cluster. Valid values are Unknown, Updating, Provisioning, Succeeded, and Failed.
    types:
    - uid: ProvisioningState
  - name: description
    description: The description of the Machine Learning compute.
    types:
    - uid: string
  - name: createdOn
    isReadyOnly: true
    description: The time at which the compute was created.
    types:
    - uid: string
  - name: modifiedOn
    isReadyOnly: true
    description: The time at which the compute was last modified.
    types:
    - uid: string
  - name: resourceId
    description: ARM resource id of the underlying compute
    types:
    - uid: string
  - name: provisioningErrors
    isReadyOnly: true
    description: Errors during provisioning
    types:
    - uid: ErrorResponse
      isArray: true
  - name: isAttachedCompute
    isReadyOnly: true
    description: Indicating whether the compute was provisioned by user and brought from outside if true, or machine learning service provisioned it if false.
    types:
    - uid: boolean
  - name: disableLocalAuth
    description: Opt-out of local authentication and ensure customers can use only MSI and AAD exclusively for authentication.
    types:
    - uid: boolean
  - name: properties
    description: Compute Instance properties
    types:
    - uid: Properties
- name: VirtualMachine
  description: A Machine Learning compute based on Azure Virtual Machines.
  kind: object
  properties:
  - name: computeType
    description: The type of compute
    types:
    - uid: VirtualMachine
    typesTitle: string
  - name: computeLocation
    description: Location for the underlying compute
    types:
    - uid: string
  - name: provisioningState
    isReadyOnly: true
    description: The provision state of the cluster. Valid values are Unknown, Updating, Provisioning, Succeeded, and Failed.
    types:
    - uid: ProvisioningState
  - name: description
    description: The description of the Machine Learning compute.
    types:
    - uid: string
  - name: createdOn
    isReadyOnly: true
    description: The time at which the compute was created.
    types:
    - uid: string
  - name: modifiedOn
    isReadyOnly: true
    description: The time at which the compute was last modified.
    types:
    - uid: string
  - name: resourceId
    description: ARM resource id of the underlying compute
    types:
    - uid: string
  - name: provisioningErrors
    isReadyOnly: true
    description: Errors during provisioning
    types:
    - uid: ErrorResponse
      isArray: true
  - name: isAttachedCompute
    isReadyOnly: true
    description: Indicating whether the compute was provisioned by user and brought from outside if true, or machine learning service provisioned it if false.
    types:
    - uid: boolean
  - name: disableLocalAuth
    description: Opt-out of local authentication and ensure customers can use only MSI and AAD exclusively for authentication.
    types:
    - uid: boolean
  - name: properties
    description: ''
    types:
    - uid: Properties
- name: HDInsight
  description: A HDInsight compute.
  kind: object
  properties:
  - name: computeType
    description: The type of compute
    types:
    - uid: HDInsight
    typesTitle: string
  - name: computeLocation
    description: Location for the underlying compute
    types:
    - uid: string
  - name: provisioningState
    isReadyOnly: true
    description: The provision state of the cluster. Valid values are Unknown, Updating, Provisioning, Succeeded, and Failed.
    types:
    - uid: ProvisioningState
  - name: description
    description: The description of the Machine Learning compute.
    types:
    - uid: string
  - name: createdOn
    isReadyOnly: true
    description: The time at which the compute was created.
    types:
    - uid: string
  - name: modifiedOn
    isReadyOnly: true
    description: The time at which the compute was last modified.
    types:
    - uid: string
  - name: resourceId
    description: ARM resource id of the underlying compute
    types:
    - uid: string
  - name: provisioningErrors
    isReadyOnly: true
    description: Errors during provisioning
    types:
    - uid: ErrorResponse
      isArray: true
  - name: isAttachedCompute
    isReadyOnly: true
    description: Indicating whether the compute was provisioned by user and brought from outside if true, or machine learning service provisioned it if false.
    types:
    - uid: boolean
  - name: disableLocalAuth
    description: Opt-out of local authentication and ensure customers can use only MSI and AAD exclusively for authentication.
    types:
    - uid: boolean
  - name: properties
    description: ''
    types:
    - uid: Properties
- name: DataFactory
  description: A DataFactory compute.
  kind: object
  properties:
  - name: computeType
    description: The type of compute
    types:
    - uid: DataFactory
    typesTitle: string
  - name: computeLocation
    description: Location for the underlying compute
    types:
    - uid: string
  - name: provisioningState
    isReadyOnly: true
    description: The provision state of the cluster. Valid values are Unknown, Updating, Provisioning, Succeeded, and Failed.
    types:
    - uid: ProvisioningState
  - name: description
    description: The description of the Machine Learning compute.
    types:
    - uid: string
  - name: createdOn
    isReadyOnly: true
    description: The time at which the compute was created.
    types:
    - uid: string
  - name: modifiedOn
    isReadyOnly: true
    description: The time at which the compute was last modified.
    types:
    - uid: string
  - name: resourceId
    description: ARM resource id of the underlying compute
    types:
    - uid: string
  - name: provisioningErrors
    isReadyOnly: true
    description: Errors during provisioning
    types:
    - uid: ErrorResponse
      isArray: true
  - name: isAttachedCompute
    isReadyOnly: true
    description: Indicating whether the compute was provisioned by user and brought from outside if true, or machine learning service provisioned it if false.
    types:
    - uid: boolean
  - name: disableLocalAuth
    description: Opt-out of local authentication and ensure customers can use only MSI and AAD exclusively for authentication.
    types:
    - uid: boolean
- name: Databricks
  description: A DataFactory compute.
  kind: object
  properties:
  - name: computeType
    description: The type of compute
    types:
    - uid: Databricks
    typesTitle: string
  - name: computeLocation
    description: Location for the underlying compute
    types:
    - uid: string
  - name: provisioningState
    isReadyOnly: true
    description: The provision state of the cluster. Valid values are Unknown, Updating, Provisioning, Succeeded, and Failed.
    types:
    - uid: ProvisioningState
  - name: description
    description: The description of the Machine Learning compute.
    types:
    - uid: string
  - name: createdOn
    isReadyOnly: true
    description: The time at which the compute was created.
    types:
    - uid: string
  - name: modifiedOn
    isReadyOnly: true
    description: The time at which the compute was last modified.
    types:
    - uid: string
  - name: resourceId
    description: ARM resource id of the underlying compute
    types:
    - uid: string
  - name: provisioningErrors
    isReadyOnly: true
    description: Errors during provisioning
    types:
    - uid: ErrorResponse
      isArray: true
  - name: isAttachedCompute
    isReadyOnly: true
    description: Indicating whether the compute was provisioned by user and brought from outside if true, or machine learning service provisioned it if false.
    types:
    - uid: boolean
  - name: disableLocalAuth
    description: Opt-out of local authentication and ensure customers can use only MSI and AAD exclusively for authentication.
    types:
    - uid: boolean
  - name: properties
    description: ''
    types:
    - uid: Properties
- name: DataLakeAnalytics
  description: A DataLakeAnalytics compute.
  kind: object
  properties:
  - name: computeType
    description: The type of compute
    types:
    - uid: DataLakeAnalytics
    typesTitle: string
  - name: computeLocation
    description: Location for the underlying compute
    types:
    - uid: string
  - name: provisioningState
    isReadyOnly: true
    description: The provision state of the cluster. Valid values are Unknown, Updating, Provisioning, Succeeded, and Failed.
    types:
    - uid: ProvisioningState
  - name: description
    description: The description of the Machine Learning compute.
    types:
    - uid: string
  - name: createdOn
    isReadyOnly: true
    description: The time at which the compute was created.
    types:
    - uid: string
  - name: modifiedOn
    isReadyOnly: true
    description: The time at which the compute was last modified.
    types:
    - uid: string
  - name: resourceId
    description: ARM resource id of the underlying compute
    types:
    - uid: string
  - name: provisioningErrors
    isReadyOnly: true
    description: Errors during provisioning
    types:
    - uid: ErrorResponse
      isArray: true
  - name: isAttachedCompute
    isReadyOnly: true
    description: Indicating whether the compute was provisioned by user and brought from outside if true, or machine learning service provisioned it if false.
    types:
    - uid: boolean
  - name: disableLocalAuth
    description: Opt-out of local authentication and ensure customers can use only MSI and AAD exclusively for authentication.
    types:
    - uid: boolean
  - name: properties
    description: ''
    types:
    - uid: Properties
- name: SynapseSpark
  description: A SynapseSpark compute.
  kind: object
  properties:
  - name: computeType
    description: The type of compute
    types:
    - uid: SynapseSpark
    typesTitle: string
  - name: computeLocation
    description: Location for the underlying compute
    types:
    - uid: string
  - name: provisioningState
    isReadyOnly: true
    description: The provision state of the cluster. Valid values are Unknown, Updating, Provisioning, Succeeded, and Failed.
    types:
    - uid: ProvisioningState
  - name: description
    description: The description of the Machine Learning compute.
    types:
    - uid: string
  - name: createdOn
    isReadyOnly: true
    description: The time at which the compute was created.
    types:
    - uid: string
  - name: modifiedOn
    isReadyOnly: true
    description: The time at which the compute was last modified.
    types:
    - uid: string
  - name: resourceId
    description: ARM resource id of the underlying compute
    types:
    - uid: string
  - name: provisioningErrors
    isReadyOnly: true
    description: Errors during provisioning
    types:
    - uid: ErrorResponse
      isArray: true
  - name: isAttachedCompute
    isReadyOnly: true
    description: Indicating whether the compute was provisioned by user and brought from outside if true, or machine learning service provisioned it if false.
    types:
    - uid: boolean
  - name: disableLocalAuth
    description: Opt-out of local authentication and ensure customers can use only MSI and AAD exclusively for authentication.
    types:
    - uid: boolean
  - name: properties
    description: AKS properties
    types:
    - uid: Properties
- name: ErrorDetail
  description: The error detail.
  kind: object
  properties:
  - name: code
    isReadyOnly: true
    description: The error code.
    types:
    - uid: string
  - name: message
    isReadyOnly: true
    description: The error message.
    types:
    - uid: string
  - name: target
    isReadyOnly: true
    description: The error target.
    types:
    - uid: string
  - name: details
    isReadyOnly: true
    description: The error details.
    types:
    - uid: ErrorDetail
      isArray: true
  - name: additionalInfo
    isReadyOnly: true
    description: The error additional info.
    types:
    - uid: ErrorAdditionalInfo
      isArray: true
- name: ComputeType
  description: The type of compute
  kind: enum
  properties:
  - name: AKS
    types:
    - uid: string
  - name: AmlCompute
    types:
    - uid: string
  - name: ComputeInstance
    types:
    - uid: string
  - name: DataFactory
    types:
    - uid: string
  - name: VirtualMachine
    types:
    - uid: string
  - name: HDInsight
    types:
    - uid: string
  - name: Databricks
    types:
    - uid: string
  - name: DataLakeAnalytics
    types:
    - uid: string
  - name: SynapseSpark
    types:
    - uid: string
- name: ProvisioningState
  description: The current deployment state of workspace resource. The provisioningState is to indicate states for resource provisioning.
  kind: enum
  properties:
  - name: Unknown
    types:
    - uid: string
  - name: Updating
    types:
    - uid: string
  - name: Creating
    types:
    - uid: string
  - name: Deleting
    types:
    - uid: string
  - name: Succeeded
    types:
    - uid: string
  - name: Failed
    types:
    - uid: string
  - name: Canceled
    types:
    - uid: string
- name: Properties
  description: AKS properties
  kind: object
  properties:
  - name: clusterFqdn
    description: Cluster full qualified domain name
    types:
    - uid: string
  - name: systemServices
    isReadyOnly: true
    description: System services
    types:
    - uid: SystemService
      isArray: true
  - name: agentCount
    description: Number of agents
    types:
    - uid: integer
  - name: agentVmSize
    description: Agent virtual machine size
    types:
    - uid: string
  - name: clusterPurpose
    description: Intended usage of the cluster
    types:
    - uid: ClusterPurpose
  - name: sslConfiguration
    description: SSL configuration
    types:
    - uid: SslConfiguration
  - name: aksNetworkingConfiguration
    description: AKS networking configuration for vnet
    types:
    - uid: AksNetworkingConfiguration
  - name: loadBalancerType
    description: Load Balancer Type
    types:
    - uid: LoadBalancerType
  - name: loadBalancerSubnet
    description: Load Balancer Subnet
    types:
    - uid: string
- name: ErrorAdditionalInfo
  description: The resource management error additional info.
  kind: object
  properties:
  - name: type
    isReadyOnly: true
    description: The additional info type.
    types:
    - uid: string
  - name: info
    isReadyOnly: true
    description: The additional info.
    types:
    - uid: object
- name: SystemService
  description: A system service running on a compute.
  kind: object
  properties:
  - name: systemServiceType
    isReadyOnly: true
    description: The type of this system service.
    types:
    - uid: string
  - name: publicIpAddress
    isReadyOnly: true
    description: Public IP address
    types:
    - uid: string
  - name: version
    isReadyOnly: true
    description: The version for this type.
    types:
    - uid: string
- name: ClusterPurpose
  description: Intended usage of the cluster
  kind: enum
  properties:
  - name: FastProd
    types:
    - uid: string
  - name: DenseProd
    types:
    - uid: string
  - name: DevTest
    types:
    - uid: string
- name: SslConfiguration
  description: The ssl configuration for scoring
  kind: object
  properties:
  - name: status
    description: Enable or disable ssl for scoring
    types:
    - uid: Disabled
    - uid: Enabled
    - uid: Auto
    typesTitle: enum
  - name: cert
    description: Cert data
    types:
    - uid: string
  - name: key
    description: Key data
    types:
    - uid: string
  - name: cname
    description: CNAME of the cert
    types:
    - uid: string
  - name: leafDomainLabel
    description: Leaf domain label of public endpoint
    types:
    - uid: string
  - name: overwriteExistingDomain
    description: Indicates whether to overwrite existing domain label.
    types:
    - uid: boolean
- name: AksNetworkingConfiguration
  description: Advance configuration for AKS networking
  kind: object
  properties:
  - name: subnetId
    description: Virtual network subnet resource ID the compute nodes belong to
    types:
    - uid: string
  - name: serviceCidr
    description: A CIDR notation IP range from which to assign service cluster IPs. It must not overlap with any Subnet IP ranges.
    types:
    - uid: string
  - name: dnsServiceIP
    description: An IP address assigned to the Kubernetes DNS service. It must be within the Kubernetes service address range specified in serviceCidr.
    types:
    - uid: string
  - name: dockerBridgeCidr
    description: A CIDR notation IP range assigned to the Docker bridge network. It must not overlap with any Subnet IP ranges or the Kubernetes service address range.
    types:
    - uid: string
- name: LoadBalancerType
  description: Load Balancer Type
  kind: enum
  properties:
  - name: PublicIp
    types:
    - uid: string
  - name: InternalLoadBalancer
    types:
    - uid: string
- name: AutoScaleProperties
  description: Auto scale properties
  kind: object
  properties:
  - name: minNodeCount
    description: ''
    types:
    - uid: integer
  - name: enabled
    description: ''
    types:
    - uid: boolean
  - name: maxNodeCount
    description: ''
    types:
    - uid: integer
- name: AutoPauseProperties
  description: Auto pause properties
  kind: object
  properties:
  - name: delayInMinutes
    description: ''
    types:
    - uid: integer
  - name: enabled
    description: ''
    types:
    - uid: boolean
examples:
- name: Create a AML Compute
  request:
    uri: PUT https://management.azure.com/subscriptions/34adfa4f-cedf-4dc0-ba29-b6d1a69ab345/resourceGroups/testrg123/providers/Microsoft.MachineLearningServices/workspaces/workspaces123/computes/compute123?api-version=2021-03-01-preview
    body: >-
      {
        "location": "eastus",
        "properties": {
          "computeType": "AmlCompute",
          "properties": {
            "vmSize": "STANDARD_NC6",
            "vmPriority": "Dedicated",
            "osType": "Windows",
            "virtualMachineImage": {
              "id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/myResourceGroup/providers/Microsoft.Compute/galleries/myImageGallery/images/myImageDefinition/versions/0.0.1"
            },
            "isolatedNetwork": false,
            "scaleSettings": {
              "maxNodeCount": 1,
              "minNodeCount": 0,
              "nodeIdleTimeBeforeScaleDown": "PT5M"
            },
            "remoteLoginPortPublicAccess": "NotSpecified",
            "enableNodePublicIp": true
          }
        }
      }
  responses:
  - statusCode: "200"
    body: >-
      {
        "id": "/subscriptions/34adfa4f-cedf-4dc0-ba29-b6d1a69ab345/resourceGroups/testrg123/providers/Microsoft.MachineLearningServices/workspaces/workspaces123/computes/compute123",
        "type": "Microsoft.MachineLearningServices/workspaces/computes",
        "name": "compute123",
        "location": "eastus",
        "properties": {
          "computeType": "AmlCompute",
          "provisioningState": "Creating"
        }
      }
  - statusCode: "201"
    headers:
    - name: Azure-AsyncOperation
      value: https://management.azure.com/subscriptions/...pathToOperationStatus...
    body: >-
      {
        "id": "/subscriptions/34adfa4f-cedf-4dc0-ba29-b6d1a69ab345/resourceGroups/testrg123/providers/Microsoft.MachineLearningServices/workspaces/workspaces123/computes/compute123",
        "type": "Microsoft.MachineLearningServices/workspaces/computes",
        "name": "compute123",
        "location": "eastus",
        "properties": {
          "computeType": "AmlCompute",
          "provisioningState": "Creating"
        }
      }
- name: Create an ComputeInstance Compute with minimal inputs
  request:
    uri: PUT https://management.azure.com/subscriptions/34adfa4f-cedf-4dc0-ba29-b6d1a69ab345/resourceGroups/testrg123/providers/Microsoft.MachineLearningServices/workspaces/workspaces123/computes/compute123?api-version=2021-03-01-preview
    body: >-
      {
        "location": "eastus",
        "properties": {
          "computeType": "ComputeInstance",
          "properties": {
            "vmSize": "STANDARD_NC6"
          }
        }
      }
  responses:
  - statusCode: "200"
    body: >-
      {
        "id": "/subscriptions/34adfa4f-cedf-4dc0-ba29-b6d1a69ab345/resourceGroups/testrg123/providers/Microsoft.MachineLearningServices/workspaces/workspaces123/computes/compute123",
        "type": "Microsoft.MachineLearningServices/workspaces/computes",
        "name": "compute123",
        "location": "eastus",
        "properties": {
          "computeType": "ComputeInstance",
          "provisioningState": "Creating"
        }
      }
  - statusCode: "201"
    headers:
    - name: Azure-AsyncOperation
      value: https://management.azure.com/subscriptions/...pathToOperationStatus...
    body: >-
      {
        "id": "/subscriptions/34adfa4f-cedf-4dc0-ba29-b6d1a69ab345/resourceGroups/testrg123/providers/Microsoft.MachineLearningServices/workspaces/workspaces123/computes/compute123",
        "type": "Microsoft.MachineLearningServices/workspaces/computes",
        "name": "compute123",
        "location": "eastus",
        "properties": {
          "computeType": "ComputeInstance",
          "provisioningState": "Creating"
        }
      }
- name: Create an ComputeInstance Compute
  request:
    uri: PUT https://management.azure.com/subscriptions/34adfa4f-cedf-4dc0-ba29-b6d1a69ab345/resourceGroups/testrg123/providers/Microsoft.MachineLearningServices/workspaces/workspaces123/computes/compute123?api-version=2021-03-01-preview
    body: >-
      {
        "location": "eastus",
        "properties": {
          "computeType": "ComputeInstance",
          "properties": {
            "vmSize": "STANDARD_NC6",
            "subnet": "test-subnet-resource-id",
            "applicationSharingPolicy": "Personal",
            "sshSettings": {
              "sshPublicAccess": "Disabled"
            },
            "computeInstanceAuthorizationType": "personal",
            "personalComputeInstanceSettings": {
              "assignedUser": {
                "objectId": "00000000-0000-0000-0000-000000000000",
                "tenantId": "00000000-0000-0000-0000-000000000000"
              }
            }
          }
        }
      }
  responses:
  - statusCode: "200"
    body: >-
      {
        "id": "/subscriptions/34adfa4f-cedf-4dc0-ba29-b6d1a69ab345/resourceGroups/testrg123/providers/Microsoft.MachineLearningServices/workspaces/workspaces123/computes/compute123",
        "type": "Microsoft.MachineLearningServices/workspaces/computes",
        "name": "compute123",
        "location": "eastus",
        "properties": {
          "computeType": "ComputeInstance",
          "provisioningState": "Creating"
        }
      }
  - statusCode: "201"
    headers:
    - name: Azure-AsyncOperation
      value: https://management.azure.com/subscriptions/...pathToOperationStatus...
    body: >-
      {
        "id": "/subscriptions/34adfa4f-cedf-4dc0-ba29-b6d1a69ab345/resourceGroups/testrg123/providers/Microsoft.MachineLearningServices/workspaces/workspaces123/computes/compute123",
        "type": "Microsoft.MachineLearningServices/workspaces/computes",
        "name": "compute123",
        "location": "eastus",
        "properties": {
          "computeType": "ComputeInstance",
          "provisioningState": "Creating"
        }
      }
- name: Create an ComputeInstance Compute with Schedules
  request:
    uri: PUT https://management.azure.com/subscriptions/34adfa4f-cedf-4dc0-ba29-b6d1a69ab345/resourceGroups/testrg123/providers/Microsoft.MachineLearningServices/workspaces/workspaces123/computes/compute123?api-version=2021-03-01-preview
    body: >-
      {
        "location": "eastus",
        "properties": {
          "computeType": "ComputeInstance",
          "properties": {
            "vmSize": "STANDARD_NC6",
            "subnet": "test-subnet-resource-id",
            "applicationSharingPolicy": "Personal",
            "sshSettings": {
              "sshPublicAccess": "Disabled"
            },
            "computeInstanceAuthorizationType": "personal",
            "personalComputeInstanceSettings": {
              "assignedUser": {
                "objectId": "00000000-0000-0000-0000-000000000000",
                "tenantId": "00000000-0000-0000-0000-000000000000"
              }
            },
            "schedules": {
              "computeStartStop": [
                {
                  "status": "Enabled",
                  "action": "Stop",
                  "triggerType": "Cron",
                  "cron": {
                    "expression": "0 18 * * *",
                    "startTime": "2021-04-23T01:30:00",
                    "timeZone": "Pacific Standard Time"
                  }
                }
              ]
            }
          }
        }
      }
  responses:
  - statusCode: "200"
    body: >-
      {
        "id": "/subscriptions/34adfa4f-cedf-4dc0-ba29-b6d1a69ab345/resourceGroups/testrg123/providers/Microsoft.MachineLearningServices/workspaces/workspaces123/computes/compute123",
        "type": "Microsoft.MachineLearningServices/workspaces/computes",
        "name": "compute123",
        "location": "eastus",
        "properties": {
          "computeType": "ComputeInstance",
          "provisioningState": "Creating"
        }
      }
  - statusCode: "201"
    headers:
    - name: Azure-AsyncOperation
      value: https://management.azure.com/subscriptions/...pathToOperationStatus...
    body: >-
      {
        "id": "/subscriptions/34adfa4f-cedf-4dc0-ba29-b6d1a69ab345/resourceGroups/testrg123/providers/Microsoft.MachineLearningServices/workspaces/workspaces123/computes/compute123",
        "type": "Microsoft.MachineLearningServices/workspaces/computes",
        "name": "compute123",
        "location": "eastus",
        "properties": {
          "computeType": "ComputeInstance",
          "provisioningState": "Creating"
        }
      }
- name: Create AKS Compute
  request:
    uri: PUT https://management.azure.com/subscriptions/34adfa4f-cedf-4dc0-ba29-b6d1a69ab345/resourceGroups/testrg123/providers/Microsoft.MachineLearningServices/workspaces/workspaces123/computes/compute123?api-version=2021-03-01-preview
    body: >-
      {
        "location": "eastus",
        "properties": {
          "computeType": "AKS"
        }
      }
  responses:
  - statusCode: "200"
    body: >-
      {
        "id": "subscriptions/34adfa4f-cedf-4dc0-ba29-b6d1a69ab345/resourceGroups/testrg123/providers/Microsoft.MachineLearningServices/workspaces/workspaces123/computes/compute123",
        "type": "Microsoft.MachineLearningServices/workspaces/computes",
        "name": "compute123",
        "location": "eastus",
        "properties": {
          "computeType": "AKS",
          "provisioningState": "Creating"
        }
      }
  - statusCode: "201"
    headers:
    - name: Azure-AsyncOperation
      value: https://management.azure.com/subscriptions/...pathToOperationStatus...
    body: >-
      {
        "id": "subscriptions/34adfa4f-cedf-4dc0-ba29-b6d1a69ab345/resourceGroups/testrg123/providers/Microsoft.MachineLearningServices/workspaces/workspaces123/computes/compute123",
        "type": "Microsoft.MachineLearningServices/workspaces/computes",
        "name": "compute123",
        "location": "eastus",
        "properties": {
          "computeType": "AKS",
          "provisioningState": "Creating"
        }
      }
- name: Create a DataFactory Compute
  request:
    uri: PUT https://management.azure.com/subscriptions/34adfa4f-cedf-4dc0-ba29-b6d1a69ab345/resourceGroups/testrg123/providers/Microsoft.MachineLearningServices/workspaces/workspaces123/computes/compute123?api-version=2021-03-01-preview
    body: >-
      {
        "location": "eastus",
        "properties": {
          "computeType": "DataFactory"
        }
      }
  responses:
  - statusCode: "200"
    body: >-
      {
        "id": "/subscriptions/34adfa4f-cedf-4dc0-ba29-b6d1a69ab345/resourceGroups/testrg123/providers/Microsoft.MachineLearningServices/workspaces/workspaces123/computes/compute123",
        "type": "Microsoft.MachineLearningServices/workspaces/computes",
        "name": "compute123",
        "location": "eastus",
        "properties": {
          "computeType": "DataFactory",
          "provisioningState": "Creating"
        }
      }
  - statusCode: "201"
    headers:
    - name: Azure-AsyncOperation
      value: https://management.azure.com/subscriptions/...pathToOperationStatus...
    body: >-
      {
        "id": "/subscriptions/34adfa4f-cedf-4dc0-ba29-b6d1a69ab345/resourceGroups/testrg123/providers/Microsoft.MachineLearningServices/workspaces/workspaces123/computes/compute123",
        "type": "Microsoft.MachineLearningServices/workspaces/computes",
        "name": "compute123",
        "location": "eastus",
        "properties": {
          "computeType": "DataFactory",
          "provisioningState": "Creating"
        }
      }
- name: Update a AML Compute
  request:
    uri: PUT https://management.azure.com/subscriptions/34adfa4f-cedf-4dc0-ba29-b6d1a69ab345/resourceGroups/testrg123/providers/Microsoft.MachineLearningServices/workspaces/workspaces123/computes/compute123?api-version=2021-03-01-preview
    body: >-
      {
        "location": "eastus",
        "properties": {
          "computeType": "AmlCompute",
          "description": "some compute",
          "properties": {
            "scaleSettings": {
              "maxNodeCount": 4,
              "minNodeCount": 4,
              "nodeIdleTimeBeforeScaleDown": "PT5M"
            }
          }
        }
      }
  responses:
  - statusCode: "200"
    body: >-
      {
        "id": "/subscriptions/34adfa4f-cedf-4dc0-ba29-b6d1a69ab345/resourceGroups/testrg123/providers/Microsoft.MachineLearningServices/workspaces/workspaces123/computes/compute123",
        "type": "Microsoft.MachineLearningServices/workspaces/computes",
        "name": "compute123",
        "location": "eastus2",
        "properties": {
          "description": "some compute",
          "computeType": "AmlCompute",
          "provisioningState": "Updating"
        }
      }
  - statusCode: "201"
    headers:
    - name: Azure-AsyncOperation
      value: https://management.azure.com/subscriptions/...pathToOperationStatus...
    body: >-
      {
        "id": "/subscriptions/34adfa4f-cedf-4dc0-ba29-b6d1a69ab345/resourceGroups/testrg123/providers/Microsoft.MachineLearningServices/workspaces/workspaces123/computes/compute123",
        "type": "Microsoft.MachineLearningServices/workspaces/computes",
        "name": "compute123",
        "location": "eastus2",
        "properties": {
          "description": "some compute",
          "computeType": "AmlCompute",
          "provisioningState": "Updating"
        }
      }
- name: Update a AKS Compute
  request:
    uri: PUT https://management.azure.com/subscriptions/34adfa4f-cedf-4dc0-ba29-b6d1a69ab345/resourceGroups/testrg123/providers/Microsoft.MachineLearningServices/workspaces/workspaces123/computes/compute123?api-version=2021-03-01-preview
    body: >-
      {
        "location": "eastus",
        "properties": {
          "description": "some compute",
          "resourceId": "/subscriptions/34adfa4f-cedf-4dc0-ba29-b6d1a69ab345/resourcegroups/testrg123/providers/Microsoft.ContainerService/managedClusters/compute123-56826-c9b00420020b2",
          "computeType": "AKS",
          "properties": {
            "agentCount": 4
          }
        }
      }
  responses:
  - statusCode: "200"
    body: >-
      {
        "id": "/subscriptions/34adfa4f-cedf-4dc0-ba29-b6d1a69ab345/resourceGroups/testrg123/providers/Microsoft.MachineLearningServices/workspaces/workspaces123/computes/compute123",
        "type": "Microsoft.MachineLearningServices/workspaces/computes",
        "name": "compute123",
        "location": "eastus",
        "properties": {
          "description": "some compute",
          "resourceId": "/subscriptions/34adfa4f-cedf-4dc0-ba29-b6d1a69ab345/resourcegroups/testrg123/providers/Microsoft.ContainerService/managedClusters/compute123-56826-c9b00420020b2",
          "computeType": "AKS",
          "provisioningState": "Updating"
        }
      }
  - statusCode: "201"
    headers:
    - name: Azure-AsyncOperation
      value: https://management.azure.com/subscriptions/...pathToOperationStatus...
    body: >-
      {
        "id": "/subscriptions/34adfa4f-cedf-4dc0-ba29-b6d1a69ab345/resourceGroups/testrg123/providers/Microsoft.MachineLearningServices/workspaces/workspaces123/computes/compute123",
        "type": "Microsoft.MachineLearningServices/workspaces/computes",
        "name": "compute123",
        "location": "eastus",
        "properties": {
          "description": "some compute",
          "resourceId": "/subscriptions/34adfa4f-cedf-4dc0-ba29-b6d1a69ab345/resourcegroups/testrg123/providers/Microsoft.ContainerService/managedClusters/compute123-56826-c9b00420020b2",
          "computeType": "AKS",
          "provisioningState": "Updating"
        }
      }
security:
- name: azure_auth
  type: oauth2
  description: Azure Active Directory OAuth2 Flow.
  flow: implicit
  authorizationUrl: https://login.microsoftonline.com/common/oauth2/authorize
  scopes:
  - name: user_impersonation
    description: impersonate your user account
errorCodes: []
