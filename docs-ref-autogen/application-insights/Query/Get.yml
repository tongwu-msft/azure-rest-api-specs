### YamlMime:RESTOperation
uid: api.applicationinsights.io.v1.application-insights.query.get
name: Get
service: Application Insights
groupName: Query
apiVersion: v1
summary: "Execute an Analytics query  \nExecutes an Analytics query for data"
consumes:
- application/json
produces:
- application/json
paths:
- content: GET https://api.applicationinsights.io/v1/apps/{appId}/query?query={query}
- content: GET https://api.applicationinsights.io/v1/apps/{appId}/query?query={query}&timespan={timespan}
  isOptional: true
uriParameters:
- name: appId
  in: path
  isRequired: true
  description: ID of the application. This is Application ID from the API Access settings blade in the Azure portal.
  types:
  - uid: string
- name: query
  in: query
  isRequired: true
  description: The Analytics query. Learn more about the [Analytics query syntax](https://azure.microsoft.com/documentation/articles/app-insights-analytics-reference/)
  types:
  - uid: string
- name: timespan
  in: query
  description: Optional. The timespan over which to query data. This is an ISO8601 time period value.  This timespan is applied in addition to any that are specified in the query expression.
  types:
  - uid: string
responses:
- name: 200 OK
  description: Successful response
  types:
  - uid: queryResults
- name: Other Status Codes
  description: An error response object.
  types:
  - uid: errorResponse
requestHeader: []
definitions:
- name: queryResults
  description: A query response.
  kind: object
  properties:
  - name: tables
    description: The list of tables, columns and rows.
    types:
    - uid: table
      isArray: true
- name: errorResponse
  description: Error details.
  kind: object
  properties:
  - name: error
    description: "The code and message for an error.  \nThe error details."
    types:
    - uid: errorInfo
- name: table
  description: A query response table.
  kind: object
  properties:
  - name: name
    description: The name of the table.
    types:
    - uid: string
  - name: columns
    description: The list of columns in this table.
    types:
    - uid: column
      isArray: true
  - name: rows
    description: The resulting rows from this query.
    types:
    - uid: array
      isArray: true
- name: errorInfo
  description: The code and message for an error.
  kind: object
  properties:
  - name: code
    description: A machine readable error code.
    types:
    - uid: string
  - name: message
    description: A human readable error message.
    types:
    - uid: string
  - name: details
    description: error details.
    types:
    - uid: errorDetail
      isArray: true
  - name: innererror
    description: "The code and message for an error.  \nInner error details if they exist."
    types:
    - uid: errorInfo
  - name: additionalProperties
    description: ''
    types:
    - uid: object
- name: column
  description: A table column.
  kind: object
  properties:
  - name: name
    description: The name of this column.
    types:
    - uid: string
  - name: type
    description: The data type of this column.
    types:
    - uid: string
- name: errorDetail
  description: Error details.
  kind: object
  properties:
  - name: code
    description: The error's code.
    types:
    - uid: string
  - name: message
    description: A human readable error message.
    types:
    - uid: string
  - name: target
    description: Indicates which property in the request is responsible for the error.
    types:
    - uid: string
  - name: value
    description: Indicates which value in 'target' is responsible for the error.
    types:
    - uid: string
  - name: resources
    description: Indicates resources which were responsible for the error.
    types:
    - uid: string
      isArray: true
  - name: additionalProperties
    description: ''
    types:
    - uid: object
examples:
- name: queryGet
  request:
    uri: GET https://api.applicationinsights.io/v1/apps/34adfa4f-cedf-4dc0-ba29-b6d1a69ab345/query?query=requests | take 10&timespan=PT12H
    codeTab: |+
      # [HTTP](#tab/HTTP)
      ``` http
      GET https://api.applicationinsights.io/v1/apps/34adfa4f-cedf-4dc0-ba29-b6d1a69ab345/query?query=requests | take 10&timespan=PT12H
      ```

  responses:
  - statusCode: "200"
    headers:
    - name: x-ms-request-id
      value: 58a37988-2c05-427a-891f-5e0e1266fcc5
    - name: x-ms-correlation-request-id
      value: 58a37988-2c05-427a-891f-5e0e1266fcc5
    body: >-
      {
        "tables": [
          {
            "name": "PrimaryResult",
            "columns": [
              {
                "name": "timestamp",
                "type": "datetime"
              },
              {
                "name": "id",
                "type": "string"
              },
              {
                "name": "source",
                "type": "string"
              },
              {
                "name": "name",
                "type": "string"
              },
              {
                "name": "url",
                "type": "string"
              },
              {
                "name": "success",
                "type": "string"
              },
              {
                "name": "resultCode",
                "type": "string"
              },
              {
                "name": "duration",
                "type": "real"
              },
              {
                "name": "performanceBucket",
                "type": "string"
              },
              {
                "name": "customDimensions",
                "type": "dynamic"
              },
              {
                "name": "customMeasurements",
                "type": "dynamic"
              },
              {
                "name": "operation_Name",
                "type": "string"
              },
              {
                "name": "operation_Id",
                "type": "string"
              },
              {
                "name": "operation_ParentId",
                "type": "string"
              },
              {
                "name": "operation_SyntheticSource",
                "type": "string"
              },
              {
                "name": "session_Id",
                "type": "string"
              },
              {
                "name": "user_Id",
                "type": "string"
              },
              {
                "name": "user_AuthenticatedId",
                "type": "string"
              },
              {
                "name": "user_AccountId",
                "type": "string"
              },
              {
                "name": "application_Version",
                "type": "string"
              },
              {
                "name": "client_Type",
                "type": "string"
              },
              {
                "name": "client_Model",
                "type": "string"
              },
              {
                "name": "client_OS",
                "type": "string"
              },
              {
                "name": "client_IP",
                "type": "string"
              },
              {
                "name": "client_City",
                "type": "string"
              },
              {
                "name": "client_StateOrProvince",
                "type": "string"
              },
              {
                "name": "client_CountryOrRegion",
                "type": "string"
              },
              {
                "name": "client_Browser",
                "type": "string"
              },
              {
                "name": "cloud_RoleName",
                "type": "string"
              },
              {
                "name": "cloud_RoleInstance",
                "type": "string"
              },
              {
                "name": "appId",
                "type": "string"
              },
              {
                "name": "appName",
                "type": "string"
              },
              {
                "name": "iKey",
                "type": "string"
              },
              {
                "name": "sdkVersion",
                "type": "string"
              },
              {
                "name": "itemId",
                "type": "string"
              },
              {
                "name": "itemType",
                "type": "string"
              },
              {
                "name": "itemCount",
                "type": "int"
              }
            ],
            "rows": [
              [
                "2018-02-01T17:33:09.788Z",
                "|0qRud6jz3k0=.c32c2659_",
                null,
                "GET Reports/Index",
                "http://fabrikamfiberapp.azurewebsites.net/Reports",
                "True",
                "200",
                "3.3833",
                "<250ms",
                "{\"_MS.ProcessedByMetricExtractors\":\"(Name:'Requests', Ver:'1.0')\"}",
                null,
                "GET Reports/Index",
                "0qRud6jz3k0=",
                "0qRud6jz3k0=",
                "Application Insights Availability Monitoring",
                "9fc6738d-7e26-44f0-b88e-6fae8ccb6b26",
                "us-va-ash-azr_9fc6738d-7e26-44f0-b88e-6fae8ccb6b26",
                null,
                null,
                "AutoGen_49c3aea0-4641-4675-93b5-55f7a62d22d3",
                "PC",
                null,
                null,
                "52.168.8.0",
                "Boydton",
                "Virginia",
                "United States",
                null,
                "fabrikamfiberapp",
                "RD00155D5053D1",
                "cf58dcfd-0683-487c-bc84-048789bca8e5",
                "fabrikamprod",
                "5a2e4e0c-e136-4a15-9824-90ba859b0a89",
                "web:2.5.0-33031",
                "051ad4ef-0776-11e8-ac6e-e30599af6943",
                "request",
                "1"
              ],
              [
                "2018-02-01T17:33:15.786Z",
                "|x/Ysh+M1TfU=.c32c265a_",
                null,
                "GET Home/Index",
                "http://fabrikamfiberapp.azurewebsites.net/",
                "True",
                "200",
                "716.2912",
                "500ms-1sec",
                "{\"_MS.ProcessedByMetricExtractors\":\"(Name:'Requests', Ver:'1.0')\"}",
                null,
                "GET Home/Index",
                "x/Ysh+M1TfU=",
                "x/Ysh+M1TfU=",
                "Application Insights Availability Monitoring",
                "58b15be6-d1e6-4d89-9919-52f63b840913",
                "emea-se-sto-edge_58b15be6-d1e6-4d89-9919-52f63b840913",
                null,
                null,
                "AutoGen_49c3aea0-4641-4675-93b5-55f7a62d22d3",
                "PC",
                null,
                null,
                "51.141.32.0",
                "Cardiff",
                "Cardiff",
                "United Kingdom",
                null,
                "fabrikamfiberapp",
                "RD00155D5053D1",
                "cf58dcfd-0683-487c-bc84-048789bca8e5",
                "fabrikamprod",
                "5a2e4e0c-e136-4a15-9824-90ba859b0a89",
                "web:2.5.0-33031",
                "051ad4f0-0776-11e8-ac6e-e30599af6943",
                "request",
                "1"
              ]
            ]
          }
        ]
      }
security:
- name: oauth2
  type: oauth2
  description: Connect to Azure Application Insights API
  flow: implicit
  authorizationUrl: https://login.microsoftonline.com/common/oauth2/authorize?resource=https%3A%2F%2Fapi.applicationinsights.io
  scopes:
  - name: user_impersonation
    description: impersonate your user account
metadata:
  description: "Learn more about Application Insights service - Execute an Analytics query  \nExecutes an Analytics query for data"
errorCodes: []
