### YamlMime:RESTOperation
uid: management.azure.com.appservice.webapps.copyslotslot
name: Copy Slot Slot
service: App Service
groupName: Web Apps
apiVersion: 2019-08-01
summary: "Copies a deployment slot to another deployment slot of an app.  \nDescription for Copies a deployment slot to another deployment slot of an app."
consumes:
- application/json
produces:
- application/json
paths:
- content: POST https://management.azure.com/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Web/sites/{name}/slots/{slot}/slotcopy?api-version=2019-08-01
uriParameters:
- name: subscriptionId
  in: path
  isRequired: true
  description: Your Azure subscription ID. This is a GUID-formatted string (e.g. 00000000-0000-0000-0000-000000000000).
  types:
  - uid: string
- name: resourceGroupName
  in: path
  isRequired: true
  description: Name of the resource group to which the resource belongs.
  types:
  - uid: string
  pattern: ^[-\w\._\(\)]+[^\.]$
- name: name
  in: path
  isRequired: true
  description: Name of the app.
  types:
  - uid: string
- name: slot
  in: path
  isRequired: true
  description: Name of the source slot. If a slot is not specified, the production slot is used as the source slot.
  types:
  - uid: string
- name: api-version
  in: query
  isRequired: true
  description: API Version
  types:
  - uid: string
responses:
- name: 200 OK
  description: OK.
- name: 202 Accepted
  description: Operation is in progress.
- name: Other Status Codes
  description: App Service error response.
  types:
  - uid: DefaultErrorResponse
requestBody:
- name: default
  parameters:
  - name: targetSlot
    in: body
    isRequired: true
    description: Destination deployment slot during copy operation.
    types:
    - uid: string
  - name: siteConfig
    in: body
    isRequired: true
    description: >-
      The site object which will be merged with the source slot site

      to produce new destination slot site object.

      <code>null</code> to just copy source slot content. Otherwise a <code>Site</code>

      object with properties to override source slot site.
    types:
    - uid: SiteConfig
requestHeader: []
definitions:
- name: SiteConfig
  description: Configuration of an App Service app.
  kind: object
  properties:
  - name: numberOfWorkers
    description: Number of workers.
    types:
    - uid: integer
  - name: defaultDocuments
    description: Default documents.
    types:
    - uid: string
      isArray: true
  - name: netFrameworkVersion
    description: .NET Framework version.
    types:
    - uid: string
  - name: phpVersion
    description: Version of PHP.
    types:
    - uid: string
  - name: pythonVersion
    description: Version of Python.
    types:
    - uid: string
  - name: nodeVersion
    description: Version of Node.js.
    types:
    - uid: string
  - name: powerShellVersion
    description: Version of PowerShell.
    types:
    - uid: string
  - name: linuxFxVersion
    description: Linux App Framework and version
    types:
    - uid: string
  - name: windowsFxVersion
    description: Xenon App Framework and version
    types:
    - uid: string
  - name: requestTracingEnabled
    description: <code>true</code> if request tracing is enabled; otherwise, <code>false</code>.
    types:
    - uid: boolean
  - name: requestTracingExpirationTime
    description: Request tracing expiration time.
    types:
    - uid: string
  - name: remoteDebuggingEnabled
    description: <code>true</code> if remote debugging is enabled; otherwise, <code>false</code>.
    types:
    - uid: boolean
  - name: remoteDebuggingVersion
    description: Remote debugging version.
    types:
    - uid: string
  - name: httpLoggingEnabled
    description: <code>true</code> if HTTP logging is enabled; otherwise, <code>false</code>.
    types:
    - uid: boolean
  - name: acrUseManagedIdentityCreds
    description: Flag to use Managed Identity Creds for ACR pull
    types:
    - uid: boolean
  - name: acrUserManagedIdentityID
    description: If using user managed identity, the user managed identity ClientId
    types:
    - uid: string
  - name: logsDirectorySizeLimit
    description: HTTP logs directory size limit.
    types:
    - uid: integer
  - name: detailedErrorLoggingEnabled
    description: <code>true</code> if detailed error logging is enabled; otherwise, <code>false</code>.
    types:
    - uid: boolean
  - name: publishingUsername
    description: Publishing user name.
    types:
    - uid: string
  - name: appSettings
    description: Application settings.
    types:
    - uid: NameValuePair
      isArray: true
  - name: connectionStrings
    description: Connection strings.
    types:
    - uid: ConnStringInfo
      isArray: true
  - name: machineKey
    isReadyOnly: true
    description: Site MachineKey.
    types:
    - uid: SiteMachineKey
  - name: handlerMappings
    description: Handler mappings.
    types:
    - uid: HandlerMapping
      isArray: true
  - name: documentRoot
    description: Document root.
    types:
    - uid: string
  - name: scmType
    description: SCM type.
    types:
    - uid: ScmType
  - name: use32BitWorkerProcess
    description: <code>true</code> to use 32-bit worker process; otherwise, <code>false</code>.
    types:
    - uid: boolean
  - name: webSocketsEnabled
    description: <code>true</code> if WebSocket is enabled; otherwise, <code>false</code>.
    types:
    - uid: boolean
  - name: alwaysOn
    description: <code>true</code> if Always On is enabled; otherwise, <code>false</code>.
    types:
    - uid: boolean
  - name: javaVersion
    description: Java version.
    types:
    - uid: string
  - name: javaContainer
    description: Java container.
    types:
    - uid: string
  - name: javaContainerVersion
    description: Java container version.
    types:
    - uid: string
  - name: appCommandLine
    description: App command line to launch.
    types:
    - uid: string
  - name: managedPipelineMode
    description: Managed pipeline mode.
    types:
    - uid: ManagedPipelineMode
  - name: virtualApplications
    description: Virtual applications.
    types:
    - uid: VirtualApplication
      isArray: true
  - name: loadBalancing
    description: Site load balancing.
    types:
    - uid: SiteLoadBalancing
  - name: experiments
    description: This is work around for polymorphic types.
    types:
    - uid: Experiments
  - name: limits
    description: Site limits.
    types:
    - uid: SiteLimits
  - name: autoHealEnabled
    description: <code>true</code> if Auto Heal is enabled; otherwise, <code>false</code>.
    types:
    - uid: boolean
  - name: autoHealRules
    description: Auto Heal rules.
    types:
    - uid: AutoHealRules
  - name: tracingOptions
    description: Tracing options.
    types:
    - uid: string
  - name: vnetName
    description: Virtual Network name.
    types:
    - uid: string
  - name: cors
    description: Cross-Origin Resource Sharing (CORS) settings.
    types:
    - uid: CorsSettings
  - name: push
    description: Push endpoint settings.
    types:
    - uid: PushSettings
  - name: apiDefinition
    description: Information about the formal API definition for the app.
    types:
    - uid: ApiDefinitionInfo
  - name: apiManagementConfig
    description: Azure API management settings linked to the app.
    types:
    - uid: ApiManagementConfig
  - name: autoSwapSlotName
    description: Auto-swap slot name.
    types:
    - uid: string
  - name: localMySqlEnabled
    description: <code>true</code> to enable local MySQL; otherwise, <code>false</code>.
    types:
    - uid: boolean
  - name: managedServiceIdentityId
    description: Managed Service Identity Id
    types:
    - uid: integer
  - name: xManagedServiceIdentityId
    description: Explicit Managed Service Identity Id
    types:
    - uid: integer
  - name: ipSecurityRestrictions
    description: IP security restrictions for main.
    types:
    - uid: IpSecurityRestriction
      isArray: true
  - name: scmIpSecurityRestrictions
    description: IP security restrictions for scm.
    types:
    - uid: IpSecurityRestriction
      isArray: true
  - name: scmIpSecurityRestrictionsUseMain
    description: IP security restrictions for scm to use main.
    types:
    - uid: boolean
  - name: http20Enabled
    description: 'Http20Enabled: configures a web site to allow clients to connect over http2.0'
    types:
    - uid: boolean
  - name: minTlsVersion
    description: 'MinTlsVersion: configures the minimum version of TLS required for SSL requests'
    types:
    - uid: SupportedTlsVersions
  - name: ftpsState
    description: State of FTP / FTPS service
    types:
    - uid: FtpsState
  - name: preWarmedInstanceCount
    description: >-
      Number of preWarmed instances.

      This setting only applies to the Consumption and Elastic Plans
    types:
    - uid: integer
  - name: healthCheckPath
    description: Health check path
    types:
    - uid: string
- name: DefaultErrorResponse
  description: App Service error response.
  kind: object
  properties:
  - name: error
    isReadyOnly: true
    description: Error model.
    types:
    - uid: Error
- name: CsmCopySlotEntity
  description: Copy deployment slot parameters.
  kind: object
  properties:
  - name: targetSlot
    description: Destination deployment slot during copy operation.
    types:
    - uid: string
  - name: siteConfig
    description: >-
      The site object which will be merged with the source slot site

      to produce new destination slot site object.

      <code>null</code> to just copy source slot content. Otherwise a <code>Site</code>

      object with properties to override source slot site.
    types:
    - uid: SiteConfig
- name: NameValuePair
  description: Name value pair.
  kind: object
  properties:
  - name: name
    description: Pair name.
    types:
    - uid: string
  - name: value
    description: Pair value.
    types:
    - uid: string
- name: ConnStringInfo
  description: Database connection string information.
  kind: object
  properties:
  - name: name
    description: Name of connection string.
    types:
    - uid: string
  - name: connectionString
    description: Connection string value.
    types:
    - uid: string
  - name: type
    description: Type of database.
    types:
    - uid: ConnectionStringType
- name: SiteMachineKey
  description: MachineKey of an app.
  kind: object
  properties:
  - name: validation
    description: MachineKey validation.
    types:
    - uid: string
  - name: validationKey
    description: Validation key.
    types:
    - uid: string
  - name: decryption
    description: Algorithm used for decryption.
    types:
    - uid: string
  - name: decryptionKey
    description: Decryption key.
    types:
    - uid: string
- name: HandlerMapping
  description: "The IIS handler mappings used to define which handler processes HTTP requests with certain extension. \nFor example, it is used to configure php-cgi.exe process to handle all HTTP requests with *.php extension."
  kind: object
  properties:
  - name: extension
    description: Requests with this extension will be handled using the specified FastCGI application.
    types:
    - uid: string
  - name: scriptProcessor
    description: The absolute path to the FastCGI application.
    types:
    - uid: string
  - name: arguments
    description: Command-line arguments to be passed to the script processor.
    types:
    - uid: string
- name: ScmType
  description: SCM type.
  kind: enum
  properties:
  - name: None
    types:
    - uid: string
  - name: Dropbox
    types:
    - uid: string
  - name: Tfs
    types:
    - uid: string
  - name: LocalGit
    types:
    - uid: string
  - name: GitHub
    types:
    - uid: string
  - name: CodePlexGit
    types:
    - uid: string
  - name: CodePlexHg
    types:
    - uid: string
  - name: BitbucketGit
    types:
    - uid: string
  - name: BitbucketHg
    types:
    - uid: string
  - name: ExternalGit
    types:
    - uid: string
  - name: ExternalHg
    types:
    - uid: string
  - name: OneDrive
    types:
    - uid: string
  - name: VSO
    types:
    - uid: string
  - name: VSTSRM
    types:
    - uid: string
- name: ManagedPipelineMode
  description: Managed pipeline mode.
  kind: enum
  properties:
  - name: Integrated
    types:
    - uid: string
  - name: Classic
    types:
    - uid: string
- name: VirtualApplication
  description: Virtual application in an app.
  kind: object
  properties:
  - name: virtualPath
    description: Virtual path.
    types:
    - uid: string
  - name: physicalPath
    description: Physical path.
    types:
    - uid: string
  - name: preloadEnabled
    description: <code>true</code> if preloading is enabled; otherwise, <code>false</code>.
    types:
    - uid: boolean
  - name: virtualDirectories
    description: Virtual directories for virtual application.
    types:
    - uid: VirtualDirectory
      isArray: true
- name: SiteLoadBalancing
  description: Site load balancing.
  kind: enum
  properties:
  - name: WeightedRoundRobin
    types:
    - uid: string
  - name: LeastRequests
    types:
    - uid: string
  - name: LeastResponseTime
    types:
    - uid: string
  - name: WeightedTotalTraffic
    types:
    - uid: string
  - name: RequestHash
    types:
    - uid: string
- name: Experiments
  description: Routing rules in production experiments.
  kind: object
  properties:
  - name: rampUpRules
    description: List of ramp-up rules.
    types:
    - uid: RampUpRule
      isArray: true
- name: SiteLimits
  description: Metric limits set on an app.
  kind: object
  properties:
  - name: maxPercentageCpu
    description: Maximum allowed CPU usage percentage.
    types:
    - uid: number
  - name: maxMemoryInMb
    description: Maximum allowed memory usage in MB.
    types:
    - uid: integer
  - name: maxDiskSizeInMb
    description: Maximum allowed disk size usage in MB.
    types:
    - uid: integer
- name: AutoHealRules
  description: Rules that can be defined for auto-heal.
  kind: object
  properties:
  - name: triggers
    description: Conditions that describe when to execute the auto-heal actions.
    types:
    - uid: AutoHealTriggers
  - name: actions
    description: Actions to be executed when a rule is triggered.
    types:
    - uid: AutoHealActions
- name: CorsSettings
  description: Cross-Origin Resource Sharing (CORS) settings for the app.
  kind: object
  properties:
  - name: allowedOrigins
    description: >-
      Gets or sets the list of origins that should be allowed to make cross-origin

      calls (for example: http://example.com:12345). Use "*" to allow all.
    types:
    - uid: string
      isArray: true
  - name: supportCredentials
    description: "Gets or sets whether CORS requests with credentials are allowed. See \nhttps://developer.mozilla.org/en-US/docs/Web/HTTP/CORS#Requests_with_credentials\nfor more details."
    types:
    - uid: boolean
- name: PushSettings
  description: Push settings for the App.
  kind: object
  properties:
  - name: properties.isPushEnabled
    description: Gets or sets a flag indicating whether the Push endpoint is enabled.
    types:
    - uid: boolean
  - name: properties.tagWhitelistJson
    description: Gets or sets a JSON string containing a list of tags that are whitelisted for use by the push registration endpoint.
    types:
    - uid: string
  - name: properties.tagsRequiringAuth
    description: "Gets or sets a JSON string containing a list of tags that require user authentication to be used in the push registration endpoint.\nTags can consist of alphanumeric characters and the following:\n'_', '@', '#', '.', ':', '-'. \nValidation should be performed at the PushRequestHandler."
    types:
    - uid: string
  - name: properties.dynamicTagsJson
    description: Gets or sets a JSON string containing a list of dynamic tags that will be evaluated from user claims in the push registration endpoint.
    types:
    - uid: string
  - name: id
    isReadyOnly: true
    description: Resource Id.
    types:
    - uid: string
  - name: name
    isReadyOnly: true
    description: Resource Name.
    types:
    - uid: string
  - name: kind
    description: Kind of resource.
    types:
    - uid: string
  - name: type
    isReadyOnly: true
    description: Resource type.
    types:
    - uid: string
- name: ApiDefinitionInfo
  description: Information about the formal API definition for the app.
  kind: object
  properties:
  - name: url
    description: The URL of the API definition.
    types:
    - uid: string
- name: ApiManagementConfig
  description: Azure API management (APIM) configuration linked to the app.
  kind: object
  properties:
  - name: id
    description: APIM-Api Identifier.
    types:
    - uid: string
- name: IpSecurityRestriction
  description: IP security restriction on an app.
  kind: object
  properties:
  - name: ipAddress
    description: >-
      IP address the security restriction is valid for.

      It can be in form of pure ipv4 address (required SubnetMask property) or

      CIDR notation such as ipv4/mask (leading bit match). For CIDR,

      SubnetMask property must not be specified.
    types:
    - uid: string
  - name: subnetMask
    description: Subnet mask for the range of IP addresses the restriction is valid for.
    types:
    - uid: string
  - name: vnetSubnetResourceId
    description: Virtual network resource id
    types:
    - uid: string
  - name: vnetTrafficTag
    description: (internal) Vnet traffic tag
    types:
    - uid: integer
  - name: subnetTrafficTag
    description: (internal) Subnet traffic tag
    types:
    - uid: integer
  - name: action
    description: Allow or Deny access for this IP range.
    types:
    - uid: string
  - name: tag
    description: Defines what this IP filter will be used for. This is to support IP filtering on proxies.
    types:
    - uid: IpFilterTag
  - name: priority
    description: Priority of IP restriction rule.
    types:
    - uid: integer
  - name: name
    description: IP restriction rule name.
    types:
    - uid: string
  - name: description
    description: IP restriction rule description.
    types:
    - uid: string
- name: SupportedTlsVersions
  description: 'MinTlsVersion: configures the minimum version of TLS required for SSL requests'
  kind: enum
  properties:
  - name: "1.0"
    types:
    - uid: string
  - name: "1.1"
    types:
    - uid: string
  - name: "1.2"
    types:
    - uid: string
- name: FtpsState
  description: State of FTP / FTPS service
  kind: enum
  properties:
  - name: AllAllowed
    types:
    - uid: string
  - name: FtpsOnly
    types:
    - uid: string
  - name: Disabled
    types:
    - uid: string
- name: Error
  description: Error model.
  kind: object
  properties:
  - name: code
    isReadyOnly: true
    description: Standardized string to programmatically identify the error.
    types:
    - uid: string
  - name: message
    isReadyOnly: true
    description: Detailed error description and debugging information.
    types:
    - uid: string
  - name: target
    isReadyOnly: true
    description: Detailed error description and debugging information.
    types:
    - uid: string
  - name: details
    description: Detailed errors.
    types:
    - uid: Details
      isArray: true
  - name: innererror
    isReadyOnly: true
    description: More information to debug error.
    types:
    - uid: string
- name: ConnectionStringType
  description: Type of database.
  kind: enum
  properties:
  - name: MySql
    types:
    - uid: string
  - name: SQLServer
    types:
    - uid: string
  - name: SQLAzure
    types:
    - uid: string
  - name: Custom
    types:
    - uid: string
  - name: NotificationHub
    types:
    - uid: string
  - name: ServiceBus
    types:
    - uid: string
  - name: EventHub
    types:
    - uid: string
  - name: ApiHub
    types:
    - uid: string
  - name: DocDb
    types:
    - uid: string
  - name: RedisCache
    types:
    - uid: string
  - name: PostgreSQL
    types:
    - uid: string
- name: VirtualDirectory
  description: Directory for virtual application.
  kind: object
  properties:
  - name: virtualPath
    description: Path to virtual application.
    types:
    - uid: string
  - name: physicalPath
    description: Physical path.
    types:
    - uid: string
- name: RampUpRule
  description: Routing rules for ramp up testing. This rule allows to redirect static traffic % to a slot or to gradually change routing % based on performance.
  kind: object
  properties:
  - name: actionHostName
    description: Hostname of a slot to which the traffic will be redirected if decided to. E.g. myapp-stage.azurewebsites.net.
    types:
    - uid: string
  - name: reroutePercentage
    description: Percentage of the traffic which will be redirected to <code>ActionHostName</code>.
    types:
    - uid: number
  - name: changeStep
    description: "In auto ramp up scenario this is the step to add/remove from <code>ReroutePercentage</code> until it reaches \\n<code>MinReroutePercentage</code> or \n<code>MaxReroutePercentage</code>. Site metrics are checked every N minutes specified in <code>ChangeIntervalInMinutes</code>.\\nCustom decision algorithm \ncan be provided in TiPCallback site extension which URL can be specified in <code>ChangeDecisionCallbackUrl</code>."
    types:
    - uid: number
  - name: changeIntervalInMinutes
    description: Specifies interval in minutes to reevaluate ReroutePercentage.
    types:
    - uid: integer
  - name: minReroutePercentage
    description: Specifies lower boundary above which ReroutePercentage will stay.
    types:
    - uid: number
  - name: maxReroutePercentage
    description: Specifies upper boundary below which ReroutePercentage will stay.
    types:
    - uid: number
  - name: changeDecisionCallbackUrl
    description: >-
      Custom decision algorithm can be provided in TiPCallback site extension which URL can be specified. See TiPCallback site extension for the scaffold and contracts.

      https://www.siteextensions.net/packages/TiPCallback/
    types:
    - uid: string
  - name: name
    description: Name of the routing rule. The recommended name would be to point to the slot which will receive the traffic in the experiment.
    types:
    - uid: string
- name: AutoHealTriggers
  description: Triggers for auto-heal.
  kind: object
  properties:
  - name: requests
    description: A rule based on total requests.
    types:
    - uid: RequestsBasedTrigger
  - name: privateBytesInKB
    description: A rule based on private bytes.
    types:
    - uid: integer
  - name: statusCodes
    description: A rule based on status codes.
    types:
    - uid: StatusCodesBasedTrigger
      isArray: true
  - name: slowRequests
    description: A rule based on request execution time.
    types:
    - uid: SlowRequestsBasedTrigger
- name: AutoHealActions
  description: Actions which to take by the auto-heal module when a rule is triggered.
  kind: object
  properties:
  - name: actionType
    description: Predefined action to be taken.
    types:
    - uid: AutoHealActionType
  - name: customAction
    description: Custom action to be taken.
    types:
    - uid: AutoHealCustomAction
  - name: minProcessExecutionTime
    description: >-
      Minimum time the process must execute

      before taking the action
    types:
    - uid: string
- name: IpFilterTag
  description: Defines what this IP filter will be used for. This is to support IP filtering on proxies.
  kind: enum
  properties:
  - name: Default
    types:
    - uid: string
  - name: XffProxy
    types:
    - uid: string
- name: Details
  kind: object
  properties:
  - name: code
    isReadyOnly: true
    description: Standardized string to programmatically identify the error.
    types:
    - uid: string
  - name: message
    isReadyOnly: true
    description: Detailed error description and debugging information.
    types:
    - uid: string
  - name: target
    isReadyOnly: true
    description: Detailed error description and debugging information.
    types:
    - uid: string
- name: RequestsBasedTrigger
  description: Trigger based on total requests.
  kind: object
  properties:
  - name: count
    description: Request Count.
    types:
    - uid: integer
  - name: timeInterval
    description: Time interval.
    types:
    - uid: string
- name: StatusCodesBasedTrigger
  description: Trigger based on status code.
  kind: object
  properties:
  - name: status
    description: HTTP status code.
    types:
    - uid: integer
  - name: subStatus
    description: Request Sub Status.
    types:
    - uid: integer
  - name: win32Status
    description: Win32 error code.
    types:
    - uid: integer
  - name: count
    description: Request Count.
    types:
    - uid: integer
  - name: timeInterval
    description: Time interval.
    types:
    - uid: string
- name: SlowRequestsBasedTrigger
  description: Trigger based on request execution time.
  kind: object
  properties:
  - name: timeTaken
    description: Time taken.
    types:
    - uid: string
  - name: count
    description: Request Count.
    types:
    - uid: integer
  - name: timeInterval
    description: Time interval.
    types:
    - uid: string
- name: AutoHealActionType
  description: Predefined action to be taken.
  kind: enum
  properties:
  - name: Recycle
    types:
    - uid: string
  - name: LogEvent
    types:
    - uid: string
  - name: CustomAction
    types:
    - uid: string
- name: AutoHealCustomAction
  description: >-
    Custom action to be executed

    when an auto heal rule is triggered.
  kind: object
  properties:
  - name: exe
    description: Executable to be run.
    types:
    - uid: string
  - name: parameters
    description: Parameters for the executable.
    types:
    - uid: string
examples:
- name: Copy slot
  request:
    uri: POST https://management.azure.com/subscriptions/34adfa4f-cedf-4dc0-ba29-b6d1a69ab345/resourceGroups/testrg123/providers/Microsoft.Web/sites/tests346/slots/staging/slotcopy?api-version=2019-08-01
    body: >-
      {
        "targetSlot": "staging",
        "siteConfig": {
          "numberOfWorkers": 1,
          "httpLoggingEnabled": true
        }
      }
  responses:
  - statusCode: "200"
  - statusCode: "202"
security:
- name: azure_auth
  type: oauth2
  description: Azure Active Directory OAuth2 Flow
  flow: implicit
  authorizationUrl: https://login.microsoftonline.com/common/oauth2/authorize
  scopes:
  - name: user_impersonation
    description: impersonate your user account
errorCodes: []
