### YamlMime:RESTOperation
uid: management.azure.com.monitor.activitylogalerts.listbysubscriptionid
name: List By Subscription Id
service: Monitor
groupName: Activity Log Alerts
apiVersion: 2020-10-01
summary: Get a list of all Activity Log Alert rules in a subscription.
consumes:
- application/json
produces:
- application/json
paths:
- content: GET https://management.azure.com/subscriptions/{subscriptionId}/providers/Microsoft.Insights/activityLogAlerts?api-version=2020-10-01
uriParameters:
- name: subscriptionId
  in: path
  isRequired: true
  description: The ID of the target subscription.
  types:
  - uid: string
- name: api-version
  in: query
  isRequired: true
  description: The API version to use for this operation.
  types:
  - uid: string
responses:
- name: 200 OK
  description: The request succeeded.
  types:
  - uid: AlertRuleList
- name: Other Status Codes
  description: An error occurred and the list of Activity Log Alert rules could not be retrieved.
  types:
  - uid: ErrorResponse
requestHeader: []
definitions:
- name: AlertRuleList
  description: A list of Activity Log Alert rules.
  kind: object
  properties:
  - name: value
    description: The list of Activity Log Alert rules.
    types:
    - uid: ActivityLogAlertResource
      isArray: true
  - name: nextLink
    description: Provides the link to retrieve the next set of elements.
    types:
    - uid: string
- name: ErrorResponse
  description: The error response.
  kind: object
  properties:
  - name: code
    isReadyOnly: true
    description: The error code.
    types:
    - uid: string
  - name: message
    isReadyOnly: true
    description: The error message indicating why the operation failed.
    types:
    - uid: string
- name: ActivityLogAlertResource
  description: An Activity Log Alert rule resource.
  kind: object
  properties:
  - name: properties.scopes
    description: A list of resource IDs that will be used as prefixes. The alert will only apply to Activity Log events with resource IDs that fall under one of these prefixes. This list must include at least one item.
    types:
    - uid: string
      isArray: true
  - name: properties.condition
    description: The condition that will cause this alert to activate.
    types:
    - uid: AlertRuleAllOfCondition
  - name: properties.actions
    description: The actions that will activate when the condition is met.
    types:
    - uid: ActionList
  - name: properties.enabled
    description: Indicates whether this Activity Log Alert rule is enabled. If an Activity Log Alert rule is not enabled, then none of its actions will be activated.
    types:
    - uid: boolean
    defaultValue: true
  - name: properties.description
    description: A description of this Activity Log Alert rule.
    types:
    - uid: string
  - name: id
    isReadyOnly: true
    description: The resource Id.
    types:
    - uid: string
  - name: name
    isReadyOnly: true
    description: The name of the resource.
    types:
    - uid: string
  - name: type
    isReadyOnly: true
    description: The type of the resource.
    types:
    - uid: string
  - name: location
    description: The location of the resource. Since Azure Activity Log Alerts is a global service, the location of the rules should always be 'global'.
    types:
    - uid: string
    defaultValue: global
  - name: tags
    description: The tags of the resource.
    types:
    - uid: object
      isDictionary: true
      additionalTypes:
      - uid: string
      - uid: string
- name: AlertRuleAllOfCondition
  description: An Activity Log Alert rule condition that is met when all its member conditions are met.
  kind: object
  properties:
  - name: allOf
    description: The list of Activity Log Alert rule conditions.
    types:
    - uid: AlertRuleAnyOfOrLeafCondition
      isArray: true
- name: ActionList
  description: A list of Activity Log Alert rule actions.
  kind: object
  properties:
  - name: actionGroups
    description: The list of the Action Groups.
    types:
    - uid: ActionGroup
      isArray: true
- name: AlertRuleAnyOfOrLeafCondition
  description: >
    An Activity Log Alert rule condition that is met when all its member conditions are met.

    Each condition can be of one of the following types:

    __Important__: Each type has its unique subset of properties. Properties from different types CANNOT exist in one condition.
       * __Leaf Condition -__ must contain 'field' and either 'equals' or 'containsAny'.
      _Please note, 'anyOf' should __not__ be set in a Leaf Condition._
      * __AnyOf Condition -__ must contain __only__ 'anyOf' (which is an array of Leaf Conditions).
      _Please note, 'field', 'equals' and 'containsAny' should __not__ be set in an AnyOf Condition._
  kind: object
  properties:
  - name: anyOf
    description: "An Activity Log Alert rule 'anyOf' condition.  \nAn Activity Log Alert rule condition that is met when at least one of its member leaf conditions are met."
    types:
    - uid: AlertRuleLeafCondition
      isArray: true
  - name: field
    description: >-
      The name of the Activity Log event's field that this condition will examine.

      The possible values for this field are (case-insensitive): 'resourceId', 'category', 'caller', 'level', 'operationName', 'resourceGroup', 'resourceProvider', 'status', 'subStatus', 'resourceType', or anything beginning with 'properties'.
    types:
    - uid: string
  - name: equals
    description: The value of the event's field will be compared to this value (case-insensitive) to determine if the condition is met.
    types:
    - uid: string
  - name: containsAny
    description: The value of the event's field will be compared to the values in this array (case-insensitive) to determine if the condition is met.
    types:
    - uid: string
      isArray: true
- name: ActionGroup
  description: A pointer to an Azure Action Group.
  kind: object
  properties:
  - name: actionGroupId
    description: The resource ID of the Action Group. This cannot be null or empty.
    types:
    - uid: string
  - name: webhookProperties
    description: the dictionary of custom properties to include with the post operation. These data are appended to the webhook payload.
    types:
    - uid: object
      isDictionary: true
      additionalTypes:
      - uid: string
      - uid: string
- name: AlertRuleLeafCondition
  description: >-
    An Activity Log Alert rule condition that is met by comparing the field and value of an Activity Log event.

    This condition must contain 'field' and either 'equals' or 'containsAny'.
  kind: object
  properties:
  - name: field
    description: >-
      The name of the Activity Log event's field that this condition will examine.

      The possible values for this field are (case-insensitive): 'resourceId', 'category', 'caller', 'level', 'operationName', 'resourceGroup', 'resourceProvider', 'status', 'subStatus', 'resourceType', or anything beginning with 'properties'.
    types:
    - uid: string
  - name: equals
    description: The value of the event's field will be compared to this value (case-insensitive) to determine if the condition is met.
    types:
    - uid: string
  - name: containsAny
    description: The value of the event's field will be compared to the values in this array (case-insensitive) to determine if the condition is met.
    types:
    - uid: string
      isArray: true
examples:
- name: Get list of all Activity Log Alert rules under a subscription
  request:
    uri: GET https://management.azure.com/subscriptions/187f412d-1758-44d9-b052-169e2564721d/providers/Microsoft.Insights/activityLogAlerts?api-version=2020-10-01
    codeTab: |+
      # [HTTP](#tab/HTTP)
      ``` http
      GET https://management.azure.com/subscriptions/187f412d-1758-44d9-b052-169e2564721d/providers/Microsoft.Insights/activityLogAlerts?api-version=2020-10-01
      ```

      # [JavaScript](#tab/JavaScript)
      ``` js
      const { MonitorClient } = require("@azure/arm-monitor");
      const { DefaultAzureCredential } = require("@azure/identity");

      /**
       * This sample demonstrates how to Get a list of all Activity Log Alert rules in a subscription.
       *
       * @summary Get a list of all Activity Log Alert rules in a subscription.
       * x-ms-original-file: specification/monitor/resource-manager/Microsoft.Insights/stable/2020-10-01/examples/ActivityLogAlertRule_ListBySubscriptionId.json
       */
      async function getListOfAllActivityLogAlertRulesUnderASubscription() {
        const subscriptionId = "187f412d-1758-44d9-b052-169e2564721d";
        const credential = new DefaultAzureCredential();
        const client = new MonitorClient(credential, subscriptionId);
        const resArray = new Array();
        for await (let item of client.activityLogAlerts.listBySubscriptionId()) {
          resArray.push(item);
        }
        console.log(resArray);
      }

      getListOfAllActivityLogAlertRulesUnderASubscription().catch(console.error);

      ```
      Read this [SDK documentation](https://github.com/Azure/azure-sdk-for-js/blob/%40azure%2Farm-monitor_8.0.0-beta.2/sdk/monitor/arm-monitor/README.md) on how to add the SDK to your project and authenticate.
  responses:
  - statusCode: "200"
    body: >-
      {
        "value": [
          {
            "id": "/subscriptions/187f412d-1758-44d9-b052-169e2564721d/resourceGroups/MyResourceGroup1/providers/microsoft.insights/activityLogAlerts/SampleActivityLogAlertRule1",
            "type": "Microsoft.Insights/ActivityLogAlerts",
            "name": "SampleActivityLogAlertRule1",
            "location": "Global",
            "tags": {},
            "properties": {
              "scopes": [
                "subscriptions/187f412d-1758-44d9-b052-169e2564721d"
              ],
              "condition": {
                "allOf": [
                  {
                    "field": "category",
                    "equals": "Administrative"
                  },
                  {
                    "field": "level",
                    "equals": "Error"
                  }
                ]
              },
              "actions": {
                "actionGroups": [
                  {
                    "actionGroupId": "/subscriptions/187f412d-1758-44d9-b052-169e2564721d/resourceGroups/MyResourceGroup1/providers/microsoft.insights/actionGroups/SampleActionGroup",
                    "webhookProperties": {
                      "sampleWebhookProperty": "SamplePropertyValue"
                    }
                  }
                ]
              },
              "enabled": true,
              "description": "Description of sample Activity Log Alert rule."
            }
          },
          {
            "id": "/subscriptions/187f412d-1758-44d9-b052-169e2564721d/resourceGroups/MyResourceGroup2/providers/microsoft.insights/activityLogAlerts/SampleActivityLogAlertRule2",
            "type": "Microsoft.Insights/ActivityLogAlerts",
            "name": "SampleActivityLogAlertRule2",
            "location": "Global",
            "tags": {},
            "properties": {
              "scopes": [
                "subscriptions/187f412d-1758-44d9-b052-169e2564721d/resourceGroups/MyResourceGroup2"
              ],
              "condition": {
                "allOf": [
                  {
                    "field": "category",
                    "equals": "Administrative"
                  },
                  {
                    "field": "status",
                    "equals": "Succeeded"
                  }
                ]
              },
              "actions": {
                "actionGroups": [
                  {
                    "actionGroupId": "/subscriptions/187f412d-1758-44d9-b052-169e2564721d/resourceGroups/MyResourceGroup2/providers/microsoft.insights/actionGroups/SampleActionGroup",
                    "webhookProperties": {}
                  }
                ]
              },
              "enabled": true,
              "description": "Description of sample Activity Log Alert rule."
            }
          }
        ]
      }
security:
- name: azure_auth
  type: oauth2
  description: Azure Active Directory OAuth2 Flow
  flow: implicit
  authorizationUrl: https://login.microsoftonline.com/common/oauth2/authorize
  scopes:
  - name: user_impersonation
    description: impersonate your user account
metadata:
  description: Learn more about Monitor service - Get a list of all Activity Log Alert rules in a subscription.
errorCodes: []
