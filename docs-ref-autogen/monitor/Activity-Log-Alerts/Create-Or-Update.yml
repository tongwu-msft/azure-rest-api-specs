### YamlMime:RESTOperation
uid: management.azure.com.monitor.activitylogalerts.createorupdate
name: Create Or Update
service: Monitor
groupName: Activity Log Alerts
apiVersion: 2020-10-01
summary: Create a new Activity Log Alert rule or update an existing one.
consumes:
- application/json
produces:
- application/json
paths:
- content: PUT https://management.azure.com/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Insights/activityLogAlerts/{activityLogAlertName}?api-version=2020-10-01
uriParameters:
- name: subscriptionId
  in: path
  isRequired: true
  description: The ID of the target subscription.
  types:
  - uid: string
- name: resourceGroupName
  in: path
  isRequired: true
  description: The name of the resource group. The name is case insensitive.
  types:
  - uid: string
- name: activityLogAlertName
  in: path
  isRequired: true
  description: The name of the Activity Log Alert rule.
  types:
  - uid: string
- name: api-version
  in: query
  isRequired: true
  description: The API version to use for this operation.
  types:
  - uid: string
responses:
- name: 200 OK
  description: An existing Activity Log Alert rule was successfully updated.
  types:
  - uid: ActivityLogAlertResource
- name: 201 Created
  description: A new Activity Log Alert rule was successfully created.
  types:
  - uid: ActivityLogAlertResource
- name: Other Status Codes
  description: An error occurred and the Activity Log Alert rule could not be created or updated.
  types:
  - uid: ErrorResponse
requestBody:
- name: default
  parameters:
  - name: properties.scopes
    in: body
    isRequired: true
    description: A list of resource IDs that will be used as prefixes. The alert will only apply to Activity Log events with resource IDs that fall under one of these prefixes. This list must include at least one item.
    types:
    - uid: string
      isArray: true
  - name: properties.condition
    in: body
    isRequired: true
    description: The condition that will cause this alert to activate.
    types:
    - uid: AlertRuleAllOfCondition
  - name: properties.actions
    in: body
    isRequired: true
    description: The actions that will activate when the condition is met.
    types:
    - uid: ActionList
  - name: properties.enabled
    in: body
    description: Indicates whether this Activity Log Alert rule is enabled. If an Activity Log Alert rule is not enabled, then none of its actions will be activated.
    types:
    - uid: boolean
  - name: properties.description
    in: body
    description: A description of this Activity Log Alert rule.
    types:
    - uid: string
  - name: location
    in: body
    description: The location of the resource. Since Azure Activity Log Alerts is a global service, the location of the rules should always be 'global'.
    types:
    - uid: string
  - name: tags
    in: body
    description: The tags of the resource.
    types:
    - uid: object
      isDictionary: true
      additionalTypes:
      - uid: string
      - uid: string
requestHeader: []
definitions:
- name: AlertRuleAllOfCondition
  description: An Activity Log Alert rule condition that is met when all its member conditions are met.
  kind: object
  properties:
  - name: allOf
    description: The list of Activity Log Alert rule conditions.
    types:
    - uid: AlertRuleAnyOfOrLeafCondition
      isArray: true
- name: ActionList
  description: A list of Activity Log Alert rule actions.
  kind: object
  properties:
  - name: actionGroups
    description: The list of the Action Groups.
    types:
    - uid: ActionGroup
      isArray: true
- name: ActivityLogAlertResource
  description: An Activity Log Alert rule resource.
  kind: object
  properties:
  - name: properties.scopes
    description: A list of resource IDs that will be used as prefixes. The alert will only apply to Activity Log events with resource IDs that fall under one of these prefixes. This list must include at least one item.
    types:
    - uid: string
      isArray: true
  - name: properties.condition
    description: The condition that will cause this alert to activate.
    types:
    - uid: AlertRuleAllOfCondition
  - name: properties.actions
    description: The actions that will activate when the condition is met.
    types:
    - uid: ActionList
  - name: properties.enabled
    description: Indicates whether this Activity Log Alert rule is enabled. If an Activity Log Alert rule is not enabled, then none of its actions will be activated.
    types:
    - uid: boolean
    defaultValue: true
  - name: properties.description
    description: A description of this Activity Log Alert rule.
    types:
    - uid: string
  - name: id
    isReadyOnly: true
    description: The resource Id.
    types:
    - uid: string
  - name: name
    isReadyOnly: true
    description: The name of the resource.
    types:
    - uid: string
  - name: type
    isReadyOnly: true
    description: The type of the resource.
    types:
    - uid: string
  - name: location
    description: The location of the resource. Since Azure Activity Log Alerts is a global service, the location of the rules should always be 'global'.
    types:
    - uid: string
    defaultValue: global
  - name: tags
    description: The tags of the resource.
    types:
    - uid: object
      isDictionary: true
      additionalTypes:
      - uid: string
      - uid: string
- name: ErrorResponse
  description: The error response.
  kind: object
  properties:
  - name: code
    isReadyOnly: true
    description: The error code.
    types:
    - uid: string
  - name: message
    isReadyOnly: true
    description: The error message indicating why the operation failed.
    types:
    - uid: string
- name: AlertRuleAnyOfOrLeafCondition
  description: >
    An Activity Log Alert rule condition that is met when all its member conditions are met.

    Each condition can be of one of the following types:

    __Important__: Each type has its unique subset of properties. Properties from different types CANNOT exist in one condition.
       * __Leaf Condition -__ must contain 'field' and either 'equals' or 'containsAny'.
      _Please note, 'anyOf' should __not__ be set in a Leaf Condition._
      * __AnyOf Condition -__ must contain __only__ 'anyOf' (which is an array of Leaf Conditions).
      _Please note, 'field', 'equals' and 'containsAny' should __not__ be set in an AnyOf Condition._
  kind: object
  properties:
  - name: anyOf
    description: "An Activity Log Alert rule 'anyOf' condition.  \nAn Activity Log Alert rule condition that is met when at least one of its member leaf conditions are met."
    types:
    - uid: AlertRuleLeafCondition
      isArray: true
  - name: field
    description: >-
      The name of the Activity Log event's field that this condition will examine.

      The possible values for this field are (case-insensitive): 'resourceId', 'category', 'caller', 'level', 'operationName', 'resourceGroup', 'resourceProvider', 'status', 'subStatus', 'resourceType', or anything beginning with 'properties'.
    types:
    - uid: string
  - name: equals
    description: The value of the event's field will be compared to this value (case-insensitive) to determine if the condition is met.
    types:
    - uid: string
  - name: containsAny
    description: The value of the event's field will be compared to the values in this array (case-insensitive) to determine if the condition is met.
    types:
    - uid: string
      isArray: true
- name: ActionGroup
  description: A pointer to an Azure Action Group.
  kind: object
  properties:
  - name: actionGroupId
    description: The resource ID of the Action Group. This cannot be null or empty.
    types:
    - uid: string
  - name: webhookProperties
    description: the dictionary of custom properties to include with the post operation. These data are appended to the webhook payload.
    types:
    - uid: object
      isDictionary: true
      additionalTypes:
      - uid: string
      - uid: string
- name: AlertRuleLeafCondition
  description: >-
    An Activity Log Alert rule condition that is met by comparing the field and value of an Activity Log event.

    This condition must contain 'field' and either 'equals' or 'containsAny'.
  kind: object
  properties:
  - name: field
    description: >-
      The name of the Activity Log event's field that this condition will examine.

      The possible values for this field are (case-insensitive): 'resourceId', 'category', 'caller', 'level', 'operationName', 'resourceGroup', 'resourceProvider', 'status', 'subStatus', 'resourceType', or anything beginning with 'properties'.
    types:
    - uid: string
  - name: equals
    description: The value of the event's field will be compared to this value (case-insensitive) to determine if the condition is met.
    types:
    - uid: string
  - name: containsAny
    description: The value of the event's field will be compared to the values in this array (case-insensitive) to determine if the condition is met.
    types:
    - uid: string
      isArray: true
examples:
- name: Create or update an Activity Log Alert rule
  request:
    uri: PUT https://management.azure.com/subscriptions/187f412d-1758-44d9-b052-169e2564721d/resourceGroups/MyResourceGroup/providers/Microsoft.Insights/activityLogAlerts/SampleActivityLogAlertRule?api-version=2020-10-01
    body: >-
      {
        "location": "Global",
        "tags": {},
        "properties": {
          "scopes": [
            "/subscriptions/187f412d-1758-44d9-b052-169e2564721d"
          ],
          "condition": {
            "allOf": [
              {
                "field": "category",
                "equals": "Administrative"
              },
              {
                "field": "level",
                "equals": "Error"
              }
            ]
          },
          "actions": {
            "actionGroups": [
              {
                "actionGroupId": "/subscriptions/187f412d-1758-44d9-b052-169e2564721d/resourceGroups/MyResourceGroup/providers/Microsoft.Insights/actionGroups/SampleActionGroup",
                "webhookProperties": {
                  "sampleWebhookProperty": "SamplePropertyValue"
                }
              }
            ]
          },
          "enabled": true,
          "description": "Description of sample Activity Log Alert rule."
        }
      }
    codeTab: |+
      # [HTTP](#tab/HTTP)
      ``` http
      PUT https://management.azure.com/subscriptions/187f412d-1758-44d9-b052-169e2564721d/resourceGroups/MyResourceGroup/providers/Microsoft.Insights/activityLogAlerts/SampleActivityLogAlertRule?api-version=2020-10-01

      {
        "location": "Global",
        "tags": {},
        "properties": {
          "scopes": [
            "/subscriptions/187f412d-1758-44d9-b052-169e2564721d"
          ],
          "condition": {
            "allOf": [
              {
                "field": "category",
                "equals": "Administrative"
              },
              {
                "field": "level",
                "equals": "Error"
              }
            ]
          },
          "actions": {
            "actionGroups": [
              {
                "actionGroupId": "/subscriptions/187f412d-1758-44d9-b052-169e2564721d/resourceGroups/MyResourceGroup/providers/Microsoft.Insights/actionGroups/SampleActionGroup",
                "webhookProperties": {
                  "sampleWebhookProperty": "SamplePropertyValue"
                }
              }
            ]
          },
          "enabled": true,
          "description": "Description of sample Activity Log Alert rule."
        }
      }

      ```

      # [Go](#tab/Go)
      ``` go
      package armmonitor_test

      import (
      	"context"
      	"log"

      	"github.com/Azure/azure-sdk-for-go/sdk/azcore/to"
      	"github.com/Azure/azure-sdk-for-go/sdk/azidentity"
      	"github.com/Azure/azure-sdk-for-go/sdk/resourcemanager/monitor/armmonitor"
      )

      // Generated from example definition: https://github.com/Azure/azure-rest-api-specs/tree/main/specification/monitor/resource-manager/Microsoft.Insights/stable/2020-10-01/examples/ActivityLogAlertRule_CreateOrUpdate.json
      func ExampleActivityLogAlertsClient_CreateOrUpdate() {
      	cred, err := azidentity.NewDefaultAzureCredential(nil)
      	if err != nil {
      		log.Fatalf("failed to obtain a credential: %v", err)
      	}
      	ctx := context.Background()
      	client, err := armmonitor.NewActivityLogAlertsClient("187f412d-1758-44d9-b052-169e2564721d", cred, nil)
      	if err != nil {
      		log.Fatalf("failed to create client: %v", err)
      	}
      	res, err := client.CreateOrUpdate(ctx,
      		"MyResourceGroup",
      		"SampleActivityLogAlertRule",
      		armmonitor.ActivityLogAlertResource{
      			Location: to.Ptr("Global"),
      			Tags:     map[string]*string{},
      			Properties: &armmonitor.AlertRuleProperties{
      				Description: to.Ptr("Description of sample Activity Log Alert rule."),
      				Actions: &armmonitor.ActionList{
      					ActionGroups: []*armmonitor.ActionGroupAutoGenerated{
      						{
      							ActionGroupID: to.Ptr("/subscriptions/187f412d-1758-44d9-b052-169e2564721d/resourceGroups/MyResourceGroup/providers/Microsoft.Insights/actionGroups/SampleActionGroup"),
      							WebhookProperties: map[string]*string{
      								"sampleWebhookProperty": to.Ptr("SamplePropertyValue"),
      							},
      						}},
      				},
      				Condition: &armmonitor.AlertRuleAllOfCondition{
      					AllOf: []*armmonitor.AlertRuleAnyOfOrLeafCondition{
      						{
      							Equals: to.Ptr("Administrative"),
      							Field:  to.Ptr("category"),
      						},
      						{
      							Equals: to.Ptr("Error"),
      							Field:  to.Ptr("level"),
      						}},
      				},
      				Enabled: to.Ptr(true),
      				Scopes: []*string{
      					to.Ptr("/subscriptions/187f412d-1758-44d9-b052-169e2564721d")},
      			},
      		},
      		nil)
      	if err != nil {
      		log.Fatalf("failed to finish the request: %v", err)
      	}
      	// TODO: use response item
      	_ = res
      }

      ```
      Read this [SDK documentation](https://github.com/Azure/azure-sdk-for-go/blob/sdk%2Fresourcemanager%2Fmonitor%2Farmmonitor%2Fv0.7.0/sdk/resourcemanager/monitor/armmonitor/README.md) on how to add the SDK to your project and authenticate.
      # [JavaScript](#tab/JavaScript)
      ``` js
      const { MonitorClient } = require("@azure/arm-monitor");
      const { DefaultAzureCredential } = require("@azure/identity");

      /**
       * This sample demonstrates how to Create a new Activity Log Alert rule or update an existing one.
       *
       * @summary Create a new Activity Log Alert rule or update an existing one.
       * x-ms-original-file: specification/monitor/resource-manager/Microsoft.Insights/stable/2020-10-01/examples/ActivityLogAlertRule_CreateOrUpdate.json
       */
      async function createOrUpdateAnActivityLogAlertRule() {
        const subscriptionId = "187f412d-1758-44d9-b052-169e2564721d";
        const resourceGroupName = "MyResourceGroup";
        const activityLogAlertName = "SampleActivityLogAlertRule";
        const activityLogAlertRule = {
          description: "Description of sample Activity Log Alert rule.",
          actions: {
            actionGroups: [
              {
                actionGroupId:
                  "/subscriptions/187f412d-1758-44d9-b052-169e2564721d/resourceGroups/MyResourceGroup/providers/Microsoft.Insights/actionGroups/SampleActionGroup",
                webhookProperties: { sampleWebhookProperty: "SamplePropertyValue" },
              },
            ],
          },
          condition: {
            allOf: [
              { equals: "Administrative", field: "category" },
              { equals: "Error", field: "level" },
            ],
          },
          enabled: true,
          location: "Global",
          scopes: ["/subscriptions/187f412d-1758-44d9-b052-169e2564721d"],
          tags: {},
        };
        const credential = new DefaultAzureCredential();
        const client = new MonitorClient(credential, subscriptionId);
        const result = await client.activityLogAlerts.createOrUpdate(
          resourceGroupName,
          activityLogAlertName,
          activityLogAlertRule
        );
        console.log(result);
      }

      createOrUpdateAnActivityLogAlertRule().catch(console.error);

      ```
      Read this [SDK documentation](https://github.com/Azure/azure-sdk-for-js/blob/%40azure%2Farm-monitor_8.0.0-beta.2/sdk/monitor/arm-monitor/README.md) on how to add the SDK to your project and authenticate.
  responses:
  - statusCode: "200"
    body: >-
      {
        "id": "/subscriptions/187f412d-1758-44d9-b052-169e2564721d/resourceGroups/MyResourceGroup/providers/microsoft.insights/activityLogAlerts/SampleActivityLogAlertRule",
        "type": "Microsoft.Insights/ActivityLogAlerts",
        "name": "SampleActivityLogAlertRule",
        "location": "Global",
        "tags": {},
        "properties": {
          "scopes": [
            "subscriptions/187f412d-1758-44d9-b052-169e2564721d"
          ],
          "condition": {
            "allOf": [
              {
                "field": "Category",
                "equals": "Administrative"
              },
              {
                "field": "Level",
                "equals": "Error"
              }
            ]
          },
          "actions": {
            "actionGroups": [
              {
                "actionGroupId": "/subscriptions/187f412d-1758-44d9-b052-169e2564721d/resourceGroups/MyResourceGroup/providers/microsoft.insights/actionGroups/SampleActionGroup",
                "webhookProperties": {
                  "sampleWebhookProperty": "SamplePropertyValue"
                }
              }
            ]
          },
          "enabled": true,
          "description": "Description of sample Activity Log Alert rule."
        }
      }
  - statusCode: "201"
    body: >-
      {
        "id": "/subscriptions/187f412d-1758-44d9-b052-169e2564721d/resourceGroups/MyResourceGroup/providers/microsoft.insights/activityLogAlerts/SampleActivityLogAlertRule",
        "type": "Microsoft.Insights/ActivityLogAlerts",
        "name": "SampleActivityLogAlertRule",
        "location": "Global",
        "tags": {},
        "properties": {
          "scopes": [
            "subscriptions/187f412d-1758-44d9-b052-169e2564721d"
          ],
          "condition": {
            "allOf": [
              {
                "field": "Category",
                "equals": "Administrative"
              },
              {
                "field": "Level",
                "equals": "Error"
              }
            ]
          },
          "actions": {
            "actionGroups": [
              {
                "actionGroupId": "/subscriptions/187f412d-1758-44d9-b052-169e2564721d/resourceGroups/MyResourceGroup/providers/microsoft.insights/actionGroups/SampleActionGroup",
                "webhookProperties": {
                  "sampleWebhookProperty": "SamplePropertyValue"
                }
              }
            ]
          },
          "enabled": true,
          "description": "Description of sample Activity Log Alert rule."
        }
      }
- name: Create or update an Activity Log Alert rule with 'anyOf' condition
  request:
    uri: PUT https://management.azure.com/subscriptions/187f412d-1758-44d9-b052-169e2564721d/resourceGroups/MyResourceGroup/providers/Microsoft.Insights/activityLogAlerts/SampleActivityLogAlertRuleWithAnyOfCondition?api-version=2020-10-01
    body: >-
      {
        "location": "Global",
        "tags": {},
        "properties": {
          "scopes": [
            "subscriptions/187f412d-1758-44d9-b052-169e2564721d"
          ],
          "condition": {
            "allOf": [
              {
                "field": "category",
                "equals": "ServiceHealth"
              },
              {
                "anyOf": [
                  {
                    "field": "properties.incidentType",
                    "equals": "Incident"
                  },
                  {
                    "field": "properties.incidentType",
                    "equals": "Maintenance"
                  }
                ]
              }
            ]
          },
          "actions": {
            "actionGroups": [
              {
                "actionGroupId": "/subscriptions/187f412d-1758-44d9-b052-169e2564721d/resourceGroups/MyResourceGroup/providers/Microsoft.Insights/actionGroups/SampleActionGroup",
                "webhookProperties": {
                  "sampleWebhookProperty": "SamplePropertyValue"
                }
              }
            ]
          },
          "enabled": true,
          "description": "Description of sample Activity Log Alert rule with 'anyOf' condition."
        }
      }
    codeTab: |+
      # [HTTP](#tab/HTTP)
      ``` http
      PUT https://management.azure.com/subscriptions/187f412d-1758-44d9-b052-169e2564721d/resourceGroups/MyResourceGroup/providers/Microsoft.Insights/activityLogAlerts/SampleActivityLogAlertRuleWithAnyOfCondition?api-version=2020-10-01

      {
        "location": "Global",
        "tags": {},
        "properties": {
          "scopes": [
            "subscriptions/187f412d-1758-44d9-b052-169e2564721d"
          ],
          "condition": {
            "allOf": [
              {
                "field": "category",
                "equals": "ServiceHealth"
              },
              {
                "anyOf": [
                  {
                    "field": "properties.incidentType",
                    "equals": "Incident"
                  },
                  {
                    "field": "properties.incidentType",
                    "equals": "Maintenance"
                  }
                ]
              }
            ]
          },
          "actions": {
            "actionGroups": [
              {
                "actionGroupId": "/subscriptions/187f412d-1758-44d9-b052-169e2564721d/resourceGroups/MyResourceGroup/providers/Microsoft.Insights/actionGroups/SampleActionGroup",
                "webhookProperties": {
                  "sampleWebhookProperty": "SamplePropertyValue"
                }
              }
            ]
          },
          "enabled": true,
          "description": "Description of sample Activity Log Alert rule with 'anyOf' condition."
        }
      }

      ```

      # [JavaScript](#tab/JavaScript)
      ``` js
      const { MonitorClient } = require("@azure/arm-monitor");
      const { DefaultAzureCredential } = require("@azure/identity");

      /**
       * This sample demonstrates how to Create a new Activity Log Alert rule or update an existing one.
       *
       * @summary Create a new Activity Log Alert rule or update an existing one.
       * x-ms-original-file: specification/monitor/resource-manager/Microsoft.Insights/stable/2020-10-01/examples/ActivityLogAlertRule_CreateOrUpdateRuleWithAnyOfCondition.json
       */
      async function createOrUpdateAnActivityLogAlertRuleWithAnyOfCondition() {
        const subscriptionId = "187f412d-1758-44d9-b052-169e2564721d";
        const resourceGroupName = "MyResourceGroup";
        const activityLogAlertName = "SampleActivityLogAlertRuleWithAnyOfCondition";
        const activityLogAlertRule = {
          description: "Description of sample Activity Log Alert rule with 'anyOf' condition.",
          actions: {
            actionGroups: [
              {
                actionGroupId:
                  "/subscriptions/187f412d-1758-44d9-b052-169e2564721d/resourceGroups/MyResourceGroup/providers/Microsoft.Insights/actionGroups/SampleActionGroup",
                webhookProperties: { sampleWebhookProperty: "SamplePropertyValue" },
              },
            ],
          },
          condition: {
            allOf: [
              { equals: "ServiceHealth", field: "category" },
              {
                anyOf: [
                  { equals: "Incident", field: "properties.incidentType" },
                  { equals: "Maintenance", field: "properties.incidentType" },
                ],
              },
            ],
          },
          enabled: true,
          location: "Global",
          scopes: ["subscriptions/187f412d-1758-44d9-b052-169e2564721d"],
          tags: {},
        };
        const credential = new DefaultAzureCredential();
        const client = new MonitorClient(credential, subscriptionId);
        const result = await client.activityLogAlerts.createOrUpdate(
          resourceGroupName,
          activityLogAlertName,
          activityLogAlertRule
        );
        console.log(result);
      }

      createOrUpdateAnActivityLogAlertRuleWithAnyOfCondition().catch(console.error);

      ```
      Read this [SDK documentation](https://github.com/Azure/azure-sdk-for-js/blob/%40azure%2Farm-monitor_8.0.0-beta.2/sdk/monitor/arm-monitor/README.md) on how to add the SDK to your project and authenticate.
  responses:
  - statusCode: "200"
    body: >-
      {
        "id": "/subscriptions/187f412d-1758-44d9-b052-169e2564721d/resourceGroups/MyResourceGroup/providers/microsoft.insights/activityLogAlerts/SampleActivityLogAlertRuleWithAnyOfCondition",
        "type": "Microsoft.Insights/ActivityLogAlerts",
        "name": "SampleActivityLogAlertRuleWithAnyOfCondition",
        "location": "Global",
        "tags": {},
        "properties": {
          "scopes": [
            "subscriptions/187f412d-1758-44d9-b052-169e2564721d"
          ],
          "condition": {
            "allOf": [
              {
                "field": "category",
                "equals": "ServiceHealth"
              },
              {
                "anyOf": [
                  {
                    "field": "properties.incidentType",
                    "equals": "Incident"
                  },
                  {
                    "field": "properties.incidentType",
                    "equals": "Maintenance"
                  }
                ]
              }
            ]
          },
          "actions": {
            "actionGroups": [
              {
                "actionGroupId": "/subscriptions/187f412d-1758-44d9-b052-169e2564721d/resourceGroups/MyResourceGroup/providers/Microsoft.Insights/actionGroups/SampleActionGroup",
                "webhookProperties": {
                  "sampleWebhookProperty": "SamplePropertyValue"
                }
              }
            ]
          },
          "enabled": true,
          "description": "Description of sample Activity Log Alert rule with 'anyOf' condition."
        }
      }
  - statusCode: "201"
    body: >-
      {
        "id": "/subscriptions/187f412d-1758-44d9-b052-169e2564721d/resourceGroups/MyResourceGroup/providers/microsoft.insights/activityLogAlerts/SampleActivityLogAlertRuleWithAnyOfCondition",
        "type": "Microsoft.Insights/ActivityLogAlerts",
        "name": "SampleActivityLogAlertRuleWithAnyOfCondition",
        "location": "Global",
        "tags": {},
        "properties": {
          "scopes": [
            "subscriptions/187f412d-1758-44d9-b052-169e2564721d"
          ],
          "condition": {
            "allOf": [
              {
                "field": "category",
                "equals": "ServiceHealth"
              },
              {
                "anyOf": [
                  {
                    "field": "properties.incidentType",
                    "equals": "Incident"
                  },
                  {
                    "field": "properties.incidentType",
                    "equals": "Maintenance"
                  }
                ]
              }
            ]
          },
          "actions": {
            "actionGroups": [
              {
                "actionGroupId": "/subscriptions/187f412d-1758-44d9-b052-169e2564721d/resourceGroups/MyResourceGroup/providers/Microsoft.Insights/actionGroups/SampleActionGroup",
                "webhookProperties": {
                  "sampleWebhookProperty": "SamplePropertyValue"
                }
              }
            ]
          },
          "enabled": true,
          "description": "Description of sample Activity Log Alert rule with 'anyOf' condition."
        }
      }
- name: Create or update an Activity Log Alert rule with 'containsAny'
  request:
    uri: PUT https://management.azure.com/subscriptions/187f412d-1758-44d9-b052-169e2564721d/resourceGroups/MyResourceGroup/providers/Microsoft.Insights/activityLogAlerts/SampleActivityLogAlertRuleWithContainsAny?api-version=2020-10-01
    body: >-
      {
        "location": "Global",
        "tags": {},
        "properties": {
          "scopes": [
            "subscriptions/187f412d-1758-44d9-b052-169e2564721d"
          ],
          "condition": {
            "allOf": [
              {
                "field": "category",
                "equals": "ServiceHealth"
              },
              {
                "field": "properties.impactedServices[*].ImpactedRegions[*].RegionName",
                "containsAny": [
                  "North Europe",
                  "West Europe"
                ]
              }
            ]
          },
          "actions": {
            "actionGroups": [
              {
                "actionGroupId": "/subscriptions/187f412d-1758-44d9-b052-169e2564721d/resourceGroups/MyResourceGroup/providers/Microsoft.Insights/actionGroups/SampleActionGroup",
                "webhookProperties": {
                  "sampleWebhookProperty": "SamplePropertyValue"
                }
              }
            ]
          },
          "enabled": true,
          "description": "Description of sample Activity Log Alert rule with 'containsAny'."
        }
      }
    codeTab: |+
      # [HTTP](#tab/HTTP)
      ``` http
      PUT https://management.azure.com/subscriptions/187f412d-1758-44d9-b052-169e2564721d/resourceGroups/MyResourceGroup/providers/Microsoft.Insights/activityLogAlerts/SampleActivityLogAlertRuleWithContainsAny?api-version=2020-10-01

      {
        "location": "Global",
        "tags": {},
        "properties": {
          "scopes": [
            "subscriptions/187f412d-1758-44d9-b052-169e2564721d"
          ],
          "condition": {
            "allOf": [
              {
                "field": "category",
                "equals": "ServiceHealth"
              },
              {
                "field": "properties.impactedServices[*].ImpactedRegions[*].RegionName",
                "containsAny": [
                  "North Europe",
                  "West Europe"
                ]
              }
            ]
          },
          "actions": {
            "actionGroups": [
              {
                "actionGroupId": "/subscriptions/187f412d-1758-44d9-b052-169e2564721d/resourceGroups/MyResourceGroup/providers/Microsoft.Insights/actionGroups/SampleActionGroup",
                "webhookProperties": {
                  "sampleWebhookProperty": "SamplePropertyValue"
                }
              }
            ]
          },
          "enabled": true,
          "description": "Description of sample Activity Log Alert rule with 'containsAny'."
        }
      }

      ```

      # [JavaScript](#tab/JavaScript)
      ``` js
      const { MonitorClient } = require("@azure/arm-monitor");
      const { DefaultAzureCredential } = require("@azure/identity");

      /**
       * This sample demonstrates how to Create a new Activity Log Alert rule or update an existing one.
       *
       * @summary Create a new Activity Log Alert rule or update an existing one.
       * x-ms-original-file: specification/monitor/resource-manager/Microsoft.Insights/stable/2020-10-01/examples/ActivityLogAlertRule_CreateOrUpdateRuleWithContainsAny.json
       */
      async function createOrUpdateAnActivityLogAlertRuleWithContainsAny() {
        const subscriptionId = "187f412d-1758-44d9-b052-169e2564721d";
        const resourceGroupName = "MyResourceGroup";
        const activityLogAlertName = "SampleActivityLogAlertRuleWithContainsAny";
        const activityLogAlertRule = {
          description: "Description of sample Activity Log Alert rule with 'containsAny'.",
          actions: {
            actionGroups: [
              {
                actionGroupId:
                  "/subscriptions/187f412d-1758-44d9-b052-169e2564721d/resourceGroups/MyResourceGroup/providers/Microsoft.Insights/actionGroups/SampleActionGroup",
                webhookProperties: { sampleWebhookProperty: "SamplePropertyValue" },
              },
            ],
          },
          condition: {
            allOf: [
              { equals: "ServiceHealth", field: "category" },
              {
                containsAny: ["North Europe", "West Europe"],
                field: "properties.impactedServices[*].ImpactedRegions[*].RegionName",
              },
            ],
          },
          enabled: true,
          location: "Global",
          scopes: ["subscriptions/187f412d-1758-44d9-b052-169e2564721d"],
          tags: {},
        };
        const credential = new DefaultAzureCredential();
        const client = new MonitorClient(credential, subscriptionId);
        const result = await client.activityLogAlerts.createOrUpdate(
          resourceGroupName,
          activityLogAlertName,
          activityLogAlertRule
        );
        console.log(result);
      }

      createOrUpdateAnActivityLogAlertRuleWithContainsAny().catch(console.error);

      ```
      Read this [SDK documentation](https://github.com/Azure/azure-sdk-for-js/blob/%40azure%2Farm-monitor_8.0.0-beta.2/sdk/monitor/arm-monitor/README.md) on how to add the SDK to your project and authenticate.
  responses:
  - statusCode: "200"
    body: >-
      {
        "id": "/subscriptions/187f412d-1758-44d9-b052-169e2564721d/resourceGroups/MyResourceGroup/providers/microsoft.insights/activityLogAlerts/SampleActivityLogAlertRuleWithContainsAny",
        "type": "Microsoft.Insights/ActivityLogAlerts",
        "name": "SampleActivityLogAlertRuleWithContainsAny",
        "location": "Global",
        "tags": {},
        "properties": {
          "scopes": [
            "subscriptions/187f412d-1758-44d9-b052-169e2564721d"
          ],
          "condition": {
            "allOf": [
              {
                "field": "category",
                "equals": "ServiceHealth"
              },
              {
                "field": "properties.impactedServices[*].ImpactedRegions[*].RegionName",
                "containsAny": [
                  "North Europe",
                  "West Europe"
                ]
              }
            ]
          },
          "actions": {
            "actionGroups": [
              {
                "actionGroupId": "/subscriptions/187f412d-1758-44d9-b052-169e2564721d/resourceGroups/MyResourceGroup/providers/Microsoft.Insights/actionGroups/SampleActionGroup",
                "webhookProperties": {
                  "sampleWebhookProperty": "SamplePropertyValue"
                }
              }
            ]
          },
          "enabled": true,
          "description": "Description of sample Activity Log Alert rule with 'containsAny'."
        }
      }
  - statusCode: "201"
    body: >-
      {
        "id": "/subscriptions/187f412d-1758-44d9-b052-169e2564721d/resourceGroups/MyResourceGroup/providers/microsoft.insights/activityLogAlerts/SampleActivityLogAlertRuleWithContainsAny",
        "type": "Microsoft.Insights/ActivityLogAlerts",
        "name": "SampleActivityLogAlertRuleWithContainsAny",
        "location": "Global",
        "tags": {},
        "properties": {
          "scopes": [
            "subscriptions/187f412d-1758-44d9-b052-169e2564721d"
          ],
          "condition": {
            "allOf": [
              {
                "field": "category",
                "equals": "ServiceHealth"
              },
              {
                "field": "properties.impactedServices[*].ImpactedRegions[*].RegionName",
                "containsAny": [
                  "North Europe",
                  "West Europe"
                ]
              }
            ]
          },
          "actions": {
            "actionGroups": [
              {
                "actionGroupId": "/subscriptions/187f412d-1758-44d9-b052-169e2564721d/resourceGroups/MyResourceGroup/providers/Microsoft.Insights/actionGroups/SampleActionGroup",
                "webhookProperties": {
                  "sampleWebhookProperty": "SamplePropertyValue"
                }
              }
            ]
          },
          "enabled": true,
          "description": "Description of sample Activity Log Alert rule with 'containsAny'."
        }
      }
security:
- name: azure_auth
  type: oauth2
  description: Azure Active Directory OAuth2 Flow
  flow: implicit
  authorizationUrl: https://login.microsoftonline.com/common/oauth2/authorize
  scopes:
  - name: user_impersonation
    description: impersonate your user account
metadata:
  description: Learn more about Monitor service - Create a new Activity Log Alert rule or update an existing one.
errorCodes: []
