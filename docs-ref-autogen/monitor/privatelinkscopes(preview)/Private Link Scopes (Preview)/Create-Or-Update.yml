### YamlMime:RESTOperation
uid: management.azure.com.monitor.privatelinkscopes(preview).privatelinkscopes(preview).createorupdate
name: Create Or Update
service: Monitor
groupName: Private Link Scopes (Preview)
apiVersion: 2019-10-17-preview
summary: 'Creates (or updates) a Azure Monitor PrivateLinkScope. Note: You cannot specify a different value for InstrumentationKey nor AppId in the Put operation.'
consumes:
- application/json
produces:
- application/json
paths:
- content: PUT https://management.azure.com/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/microsoft.insights/privateLinkScopes/{scopeName}?api-version=2019-10-17-preview
uriParameters:
- name: subscriptionId
  in: path
  isRequired: true
  description: The ID of the target subscription.
  types:
  - uid: string
- name: resourceGroupName
  in: path
  isRequired: true
  description: The name of the resource group.
  types:
  - uid: string
- name: scopeName
  in: path
  isRequired: true
  description: The name of the Azure Monitor PrivateLinkScope resource.
  types:
  - uid: string
- name: api-version
  in: query
  isRequired: true
  description: The API version to use for this operation.
  types:
  - uid: string
responses:
- name: 200 OK
  description: Successful request when creating or updating a Azure Monitor PrivateLinkScope. The updated PrivateLinkScope is returned.
  types:
  - uid: AzureMonitorPrivateLinkScope
- name: 201 Created
  description: Successful request when creating or updating a Azure Monitor PrivateLinkScope. The updated PrivateLinkScope was created and is returned.
  types:
  - uid: AzureMonitorPrivateLinkScope
requestBody:
- name: default
  parameters:
  - name: location
    in: body
    isRequired: true
    description: Resource location
    types:
    - uid: string
  - name: tags
    in: body
    description: Resource tags
    types:
    - uid: object
      isDictionary: true
      additionalTypes:
      - uid: string
      - uid: string
requestHeader: []
definitions:
- name: PrivateEndpointConnection
  description: A private endpoint connection
  kind: object
  properties:
  - name: properties.privateEndpoint
    description: Private endpoint which the connection belongs to.
    types:
    - uid: PrivateEndpointProperty
  - name: properties.privateLinkServiceConnectionState
    description: Connection state of the private endpoint connection.
    types:
    - uid: PrivateLinkServiceConnectionStateProperty
  - name: properties.provisioningState
    isReadyOnly: true
    description: State of the private endpoint connection.
    types:
    - uid: string
  - name: id
    isReadyOnly: true
    description: Azure resource Id
    types:
    - uid: string
  - name: name
    isReadyOnly: true
    description: Azure resource name
    types:
    - uid: string
  - name: type
    isReadyOnly: true
    description: Azure resource type
    types:
    - uid: string
- name: AzureMonitorPrivateLinkScope
  description: An Azure Monitor PrivateLinkScope definition.
  kind: object
  properties:
  - name: properties.provisioningState
    isReadyOnly: true
    description: 'Current state of this PrivateLinkScope: whether or not is has been provisioned within the resource group it is defined. Users cannot change this value but are able to read from it. Values will include Provisioning ,Succeeded, Canceled and Failed.'
    types:
    - uid: string
  - name: properties.privateEndpointConnections
    isReadyOnly: true
    description: List of private endpoint connections.
    types:
    - uid: PrivateEndpointConnection
      isArray: true
  - name: id
    isReadyOnly: true
    description: Azure resource Id
    types:
    - uid: string
  - name: name
    isReadyOnly: true
    description: Azure resource name
    types:
    - uid: string
  - name: type
    isReadyOnly: true
    description: Azure resource type
    types:
    - uid: string
  - name: location
    description: Resource location
    types:
    - uid: string
  - name: tags
    description: Resource tags
    types:
    - uid: object
      isDictionary: true
      additionalTypes:
      - uid: string
      - uid: string
- name: PrivateEndpointProperty
  description: Private endpoint which the connection belongs to.
  kind: object
  properties:
  - name: id
    description: Resource id of the private endpoint.
    types:
    - uid: string
- name: PrivateLinkServiceConnectionStateProperty
  description: State of the private endpoint connection.
  kind: object
  properties:
  - name: status
    description: The private link service connection status.
    types:
    - uid: string
  - name: description
    description: The private link service connection description.
    types:
    - uid: string
  - name: actionsRequired
    isReadyOnly: true
    description: The actions required for private link service connection.
    types:
    - uid: string
examples:
- name: PrivateLinkScopeCreate
  request:
    uri: PUT https://management.azure.com/subscriptions/86dc51d3-92ed-4d7e-947a-775ea79b4919/resourceGroups/my-resource-group/providers/microsoft.insights/privateLinkScopes/my-privatelinkscope?api-version=2019-10-17-preview
    body: >-
      {
        "location": "Global",
        "properties": {}
      }
  responses:
  - statusCode: "200"
    body: >-
      {
        "id": "/subscriptions/86dc51d3-92ed-4d7e-947a-775ea79b4919/resourceGroups/my-resource-group/providers/microsoft.insights/privateLinkScopes/my-privatelinkscope",
        "name": "my-privatelinkscope",
        "type": "Microsoft.Insights/privateLinkScopes",
        "location": "Global",
        "tags": {},
        "properties": {
          "provisioningState": "Succeeded"
        }
      }
  - statusCode: "201"
    body: >-
      {
        "id": "/subscriptions/86dc51d3-92ed-4d7e-947a-775ea79b4919/resourceGroups/my-resource-group/providers/microsoft.insights/privateLinkScopes/my-privatelinkscope",
        "name": "my-privatelinkscope",
        "type": "Microsoft.Insights/privateLinkScopes",
        "location": "Global",
        "tags": {},
        "properties": {
          "provisioningState": "Succeeded"
        }
      }
- name: PrivateLinkScopeUpdate
  request:
    uri: PUT https://management.azure.com/subscriptions/86dc51d3-92ed-4d7e-947a-775ea79b4919/resourceGroups/my-resource-group/providers/microsoft.insights/privateLinkScopes/my-privatelinkscope?api-version=2019-10-17-preview
    body: >-
      {
        "location": "Global",
        "tags": {
          "Tag1": "Value1"
        },
        "properties": {}
      }
  responses:
  - statusCode: "200"
    body: >-
      {
        "id": "/subscriptions/86dc51d3-92ed-4d7e-947a-775ea79b4919/resourceGroups/my-resource-group/providers/microsoft.insights/privateLinkScopes/my-privatelinkscope",
        "name": "my-privatelinkscope",
        "type": "Microsoft.Insights/privateLinkScopes",
        "location": "Global",
        "tags": {
          "Tag1": "Value1"
        },
        "properties": {
          "provisioningState": "Succeeded"
        }
      }
  - statusCode: "201"
    body: >-
      {
        "id": "/subscriptions/86dc51d3-92ed-4d7e-947a-775ea79b4919/resourceGroups/my-resource-group/providers/microsoft.insights/privateLinkScopes/my-privatelinkscope",
        "name": "my-privatelinkscope",
        "type": "Microsoft.Insights/privateLinkScopes",
        "location": "Global",
        "tags": {
          "Tag1": "Value1"
        },
        "properties": {
          "provisioningState": "Succeeded"
        }
      }
security:
- name: azure_auth
  type: oauth2
  description: Azure Active Directory OAuth2 Flow
  flow: implicit
  authorizationUrl: https://login.microsoftonline.com/common/oauth2/authorize
  scopes:
  - name: user_impersonation
    description: impersonate your user account
metadata:
  description: 'Creates (or updates) a Azure Monitor PrivateLinkScope. Note: You cannot specify a different value for InstrumentationKey nor AppId in the Put operation.'
errorCodes: []
