### YamlMime:RESTOperation
uid: management.azure.com.notificationhubs.namespaces.createorupdate
name: Create Or Update
service: Notification Hubs
groupName: Namespaces
apiVersion: 2017-04-01
summary: Creates/Updates a service namespace. Once created, this namespace's resource manifest is immutable. This operation is idempotent.
consumes:
- application/json
produces:
- application/json
paths:
- content: PUT https://management.azure.com/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.NotificationHubs/namespaces/{namespaceName}?api-version=2017-04-01
uriParameters:
- name: subscriptionId
  in: path
  isRequired: true
  description: Gets subscription credentials which uniquely identify Microsoft Azure subscription. The subscription ID forms part of the URI for every service call.
  types:
  - uid: string
- name: resourceGroupName
  in: path
  isRequired: true
  description: The name of the resource group.
  types:
  - uid: string
- name: namespaceName
  in: path
  isRequired: true
  description: The namespace name.
  types:
  - uid: string
- name: api-version
  in: query
  isRequired: true
  description: Client Api Version.
  types:
  - uid: string
responses:
- name: 200 OK
  description: Namespace is Create/Update
  types:
  - uid: NamespaceResource
- name: 201 Created
  description: Namespace is Create/Update
  types:
  - uid: NamespaceResource
requestBody:
- name: default
  parameters:
  - name: properties.name
    in: body
    description: The name of the namespace.
    types:
    - uid: string
  - name: properties.provisioningState
    in: body
    description: Provisioning state of the Namespace.
    types:
    - uid: string
  - name: properties.region
    in: body
    description: 'Specifies the targeted region in which the namespace should be created. It can be any of the following values: Australia East, Australia Southeast, Central US, East US, East US 2, West US, North Central US, South Central US, East Asia, Southeast Asia, Brazil South, Japan East, Japan West, North Europe, West Europe'
    types:
    - uid: string
  - name: properties.status
    in: body
    description: Status of the namespace. It can be any of these values:1 = Created/Active2 = Creating3 = Suspended4 = Deleting
    types:
    - uid: string
  - name: properties.createdAt
    in: body
    description: The time the namespace was created.
    types:
    - uid: string
  - name: properties.updatedAt
    in: body
    description: The time the namespace was updated.
    types:
    - uid: string
  - name: properties.serviceBusEndpoint
    in: body
    description: Endpoint you can use to perform NotificationHub operations.
    types:
    - uid: string
  - name: properties.subscriptionId
    in: body
    description: The Id of the Azure subscription associated with the namespace.
    types:
    - uid: string
  - name: properties.scaleUnit
    in: body
    description: ScaleUnit where the namespace gets created
    types:
    - uid: string
  - name: properties.enabled
    in: body
    description: Whether or not the namespace is currently enabled.
    types:
    - uid: boolean
  - name: properties.critical
    in: body
    description: Whether or not the namespace is set as Critical.
    types:
    - uid: boolean
  - name: properties.dataCenter
    in: body
    description: Data center for the namespace
    types:
    - uid: string
  - name: properties.namespaceType
    in: body
    description: The namespace type.
    types:
    - uid: NamespaceType
  - name: location
    in: body
    isRequired: true
    description: Resource location
    types:
    - uid: string
  - name: tags
    in: body
    description: Resource tags
    types:
    - uid: object
      isDictionary: true
      additionalTypes:
      - uid: string
      - uid: string
  - name: sku
    in: body
    description: The sku of the created namespace
    types:
    - uid: Sku
requestHeader: []
definitions:
- name: Sku
  description: The Sku description for a namespace
  kind: object
  properties:
  - name: name
    description: Name of the notification hub sku
    types:
    - uid: SkuName
  - name: tier
    description: The tier of particular sku
    types:
    - uid: string
  - name: size
    description: The Sku size
    types:
    - uid: string
  - name: family
    description: The Sku Family
    types:
    - uid: string
  - name: capacity
    description: The capacity of the resource
    types:
    - uid: integer
- name: NamespaceResource
  description: Description of a Namespace resource.
  kind: object
  properties:
  - name: properties.name
    description: The name of the namespace.
    types:
    - uid: string
  - name: properties.provisioningState
    description: Provisioning state of the Namespace.
    types:
    - uid: string
  - name: properties.region
    description: 'Specifies the targeted region in which the namespace should be created. It can be any of the following values: Australia East, Australia Southeast, Central US, East US, East US 2, West US, North Central US, South Central US, East Asia, Southeast Asia, Brazil South, Japan East, Japan West, North Europe, West Europe'
    types:
    - uid: string
  - name: properties.metricId
    isReadyOnly: true
    description: Identifier for Azure Insights metrics
    types:
    - uid: string
  - name: properties.status
    description: Status of the namespace. It can be any of these values:1 = Created/Active2 = Creating3 = Suspended4 = Deleting
    types:
    - uid: string
  - name: properties.createdAt
    description: The time the namespace was created.
    types:
    - uid: string
  - name: properties.updatedAt
    description: The time the namespace was updated.
    types:
    - uid: string
  - name: properties.serviceBusEndpoint
    description: Endpoint you can use to perform NotificationHub operations.
    types:
    - uid: string
  - name: properties.subscriptionId
    description: The Id of the Azure subscription associated with the namespace.
    types:
    - uid: string
  - name: properties.scaleUnit
    description: ScaleUnit where the namespace gets created
    types:
    - uid: string
  - name: properties.enabled
    description: Whether or not the namespace is currently enabled.
    types:
    - uid: boolean
  - name: properties.critical
    description: Whether or not the namespace is set as Critical.
    types:
    - uid: boolean
  - name: properties.dataCenter
    description: Data center for the namespace
    types:
    - uid: string
  - name: properties.namespaceType
    description: The namespace type.
    types:
    - uid: NamespaceType
  - name: id
    isReadyOnly: true
    description: Resource Id
    types:
    - uid: string
  - name: name
    isReadyOnly: true
    description: Resource name
    types:
    - uid: string
  - name: type
    isReadyOnly: true
    description: Resource type
    types:
    - uid: string
  - name: location
    description: Resource location
    types:
    - uid: string
  - name: tags
    description: Resource tags
    types:
    - uid: object
      isDictionary: true
      additionalTypes:
      - uid: string
      - uid: string
  - name: sku
    description: The sku of the created namespace
    types:
    - uid: Sku
- name: NamespaceCreateOrUpdateParameters
  description: Parameters supplied to the CreateOrUpdate Namespace operation.
  kind: object
  properties:
  - name: properties.name
    description: The name of the namespace.
    types:
    - uid: string
  - name: properties.provisioningState
    description: Provisioning state of the Namespace.
    types:
    - uid: string
  - name: properties.region
    description: 'Specifies the targeted region in which the namespace should be created. It can be any of the following values: Australia East, Australia Southeast, Central US, East US, East US 2, West US, North Central US, South Central US, East Asia, Southeast Asia, Brazil South, Japan East, Japan West, North Europe, West Europe'
    types:
    - uid: string
  - name: properties.metricId
    isReadyOnly: true
    description: Identifier for Azure Insights metrics
    types:
    - uid: string
  - name: properties.status
    description: Status of the namespace. It can be any of these values:1 = Created/Active2 = Creating3 = Suspended4 = Deleting
    types:
    - uid: string
  - name: properties.createdAt
    description: The time the namespace was created.
    types:
    - uid: string
  - name: properties.updatedAt
    description: The time the namespace was updated.
    types:
    - uid: string
  - name: properties.serviceBusEndpoint
    description: Endpoint you can use to perform NotificationHub operations.
    types:
    - uid: string
  - name: properties.subscriptionId
    description: The Id of the Azure subscription associated with the namespace.
    types:
    - uid: string
  - name: properties.scaleUnit
    description: ScaleUnit where the namespace gets created
    types:
    - uid: string
  - name: properties.enabled
    description: Whether or not the namespace is currently enabled.
    types:
    - uid: boolean
  - name: properties.critical
    description: Whether or not the namespace is set as Critical.
    types:
    - uid: boolean
  - name: properties.dataCenter
    description: Data center for the namespace
    types:
    - uid: string
  - name: properties.namespaceType
    description: The namespace type.
    types:
    - uid: NamespaceType
  - name: id
    isReadyOnly: true
    description: Resource Id
    types:
    - uid: string
  - name: name
    isReadyOnly: true
    description: Resource name
    types:
    - uid: string
  - name: type
    isReadyOnly: true
    description: Resource type
    types:
    - uid: string
  - name: location
    description: Resource location
    types:
    - uid: string
  - name: tags
    description: Resource tags
    types:
    - uid: object
      isDictionary: true
      additionalTypes:
      - uid: string
      - uid: string
  - name: sku
    description: The sku of the created namespace
    types:
    - uid: Sku
- name: SkuName
  description: Name of the notification hub sku
  kind: enum
  properties:
  - name: Free
    types:
    - uid: string
  - name: Basic
    types:
    - uid: string
  - name: Standard
    types:
    - uid: string
- name: NamespaceType
  description: The namespace type.
  kind: enum
  properties:
  - name: Messaging
    types:
    - uid: string
  - name: NotificationHub
    types:
    - uid: string
examples:
- name: NameSpaceCreate
  request:
    uri: PUT https://management.azure.com/subscriptions/29cfa613-cbbc-4512-b1d6-1b3a92c7fa40/resourceGroups/5ktrial/providers/Microsoft.NotificationHubs/namespaces/nh-sdk-ns?api-version=2017-04-01
    body: >-
      {
        "sku": {
          "name": "Standard",
          "tier": "Standard"
        },
        "location": "South Central US",
        "tags": {
          "tag1": "value1",
          "tag2": "value2"
        }
      }
    codeTab: |+
      # [HTTP](#tab/HTTP)
      ``` http
      PUT https://management.azure.com/subscriptions/29cfa613-cbbc-4512-b1d6-1b3a92c7fa40/resourceGroups/5ktrial/providers/Microsoft.NotificationHubs/namespaces/nh-sdk-ns?api-version=2017-04-01

      {
        "sku": {
          "name": "Standard",
          "tier": "Standard"
        },
        "location": "South Central US",
        "tags": {
          "tag1": "value1",
          "tag2": "value2"
        }
      }

      ```

      # [Java](#tab/Java)
      ``` java
      import com.azure.resourcemanager.notificationhubs.models.Sku;
      import com.azure.resourcemanager.notificationhubs.models.SkuName;
      import java.util.HashMap;
      import java.util.Map;

      /** Samples for Namespaces CreateOrUpdate. */
      public final class Main {
          /*
           * x-ms-original-file: specification/notificationhubs/resource-manager/Microsoft.NotificationHubs/stable/2017-04-01/examples/Namespaces/NHNameSpaceCreate.json
           */
          /**
           * Sample code: NameSpaceCreate.
           *
           * @param manager Entry point to NotificationHubsManager.
           */
          public static void nameSpaceCreate(com.azure.resourcemanager.notificationhubs.NotificationHubsManager manager) {
              manager
                  .namespaces()
                  .define("nh-sdk-ns")
                  .withLocation("South Central US")
                  .withExistingResourceGroup("5ktrial")
                  .withTags(mapOf("tag1", "value1", "tag2", "value2"))
                  .withSku(new Sku().withName(SkuName.STANDARD).withTier("Standard"))
                  .create();
          }

          @SuppressWarnings("unchecked")
          private static <T> Map<String, T> mapOf(Object... inputs) {
              Map<String, T> map = new HashMap<>();
              for (int i = 0; i < inputs.length; i += 2) {
                  String key = (String) inputs[i];
                  T value = (T) inputs[i + 1];
                  map.put(key, value);
              }
              return map;
          }
      }

      ```
      Read this [SDK documentation](https://github.com/Azure/azure-sdk-for-java/blob/azure-resourcemanager-notificationhubs_1.0.0-beta.3/sdk/notificationhubs/azure-resourcemanager-notificationhubs/README.md) on how to add the SDK to your project and authenticate.
      # [Go](#tab/Go)
      ``` go
      package armnotificationhubs_test

      import (
      	"context"
      	"log"

      	"github.com/Azure/azure-sdk-for-go/sdk/azcore/to"
      	"github.com/Azure/azure-sdk-for-go/sdk/azidentity"
      	"github.com/Azure/azure-sdk-for-go/sdk/resourcemanager/notificationhubs/armnotificationhubs"
      )

      // Generated from example definition: https://github.com/Azure/azure-rest-api-specs/tree/main/specification/notificationhubs/resource-manager/Microsoft.NotificationHubs/stable/2017-04-01/examples/Namespaces/NHNameSpaceCreate.json
      func ExampleNamespacesClient_CreateOrUpdate() {
      	cred, err := azidentity.NewDefaultAzureCredential(nil)
      	if err != nil {
      		log.Fatalf("failed to obtain a credential: %v", err)
      	}
      	ctx := context.Background()
      	client, err := armnotificationhubs.NewNamespacesClient("29cfa613-cbbc-4512-b1d6-1b3a92c7fa40", cred, nil)
      	if err != nil {
      		log.Fatalf("failed to create client: %v", err)
      	}
      	res, err := client.CreateOrUpdate(ctx,
      		"5ktrial",
      		"nh-sdk-ns",
      		armnotificationhubs.NamespaceCreateOrUpdateParameters{
      			Location: to.Ptr("South Central US"),
      			SKU: &armnotificationhubs.SKU{
      				Name: to.Ptr(armnotificationhubs.SKUNameStandard),
      				Tier: to.Ptr("Standard"),
      			},
      			Tags: map[string]*string{
      				"tag1": to.Ptr("value1"),
      				"tag2": to.Ptr("value2"),
      			},
      		},
      		nil)
      	if err != nil {
      		log.Fatalf("failed to finish the request: %v", err)
      	}
      	// TODO: use response item
      	_ = res
      }

      ```
      Read this [SDK documentation](https://github.com/Azure/azure-sdk-for-go/blob/sdk%2Fresourcemanager%2Fnotificationhubs%2Farmnotificationhubs%2Fv1.0.0/sdk/resourcemanager/notificationhubs/armnotificationhubs/README.md) on how to add the SDK to your project and authenticate.
      # [JavaScript](#tab/JavaScript)
      ``` js
      const { NotificationHubsManagementClient } = require("@azure/arm-notificationhubs");
      const { DefaultAzureCredential } = require("@azure/identity");

      /**
       * This sample demonstrates how to Creates/Updates a service namespace. Once created, this namespace's resource manifest is immutable. This operation is idempotent.
       *
       * @summary Creates/Updates a service namespace. Once created, this namespace's resource manifest is immutable. This operation is idempotent.
       * x-ms-original-file: specification/notificationhubs/resource-manager/Microsoft.NotificationHubs/stable/2017-04-01/examples/Namespaces/NHNameSpaceCreate.json
       */
      async function nameSpaceCreate() {
        const subscriptionId = "29cfa613-cbbc-4512-b1d6-1b3a92c7fa40";
        const resourceGroupName = "5ktrial";
        const namespaceName = "nh-sdk-ns";
        const parameters = {
          location: "South Central US",
          sku: { name: "Standard", tier: "Standard" },
          tags: { tag1: "value1", tag2: "value2" },
        };
        const credential = new DefaultAzureCredential();
        const client = new NotificationHubsManagementClient(credential, subscriptionId);
        const result = await client.namespaces.createOrUpdate(
          resourceGroupName,
          namespaceName,
          parameters
        );
        console.log(result);
      }

      nameSpaceCreate().catch(console.error);

      ```
      Read this [SDK documentation](https://github.com/Azure/azure-sdk-for-js/blob/%40azure%2Farm-notificationhubs_2.0.1/sdk/notificationhubs/arm-notificationhubs/README.md) on how to add the SDK to your project and authenticate.
  responses:
  - statusCode: "200"
    body: >-
      {
        "sku": {
          "name": "Standard",
          "tier": "Standard"
        },
        "id": "/subscriptions/29cfa613-cbbc-4512-b1d6-1b3a92c7fa40/resourceGroups/ArunMonocle/providers/Microsoft.NotificationHubs/namespaces/sdk-Namespace-2924",
        "name": "sdk-Namespace-2924",
        "type": "Microsoft.NotificationHubs/Namespaces",
        "location": "South Central US",
        "tags": {
          "tag1": "value1",
          "tag2": "value2"
        },
        "properties": {
          "provisioningState": "Created",
          "metricId": "29cfa613-cbbc-4512-b1d6-1b3a92c7fa40:sdk-namespace-2924",
          "createdAt": "2017-05-25T22:26:36.76Z",
          "updatedAt": "2017-05-25T22:26:36.76Z",
          "serviceBusEndpoint": "https://sdk-Namespace-2924.servicebus.windows-int.net:443/"
        }
      }
  - statusCode: "201"
    body: >-
      {
        "sku": {
          "name": "Standard",
          "tier": "Standard"
        },
        "id": "/subscriptions/29cfa613-cbbc-4512-b1d6-1b3a92c7fa40/resourceGroups/ArunMonocle/providers/Microsoft.NotificationHubs/namespaces/sdk-Namespace-2924",
        "name": "sdk-Namespace-2924",
        "type": "Microsoft.NotificationHubs/Namespaces",
        "location": "South Central US",
        "tags": {
          "tag1": "value1",
          "tag2": "value2"
        },
        "properties": {
          "provisioningState": "Created",
          "metricId": "29cfa613-cbbc-4512-b1d6-1b3a92c7fa40:sdk-namespace-2924",
          "createdAt": "2017-05-25T22:26:36.76Z",
          "updatedAt": "2017-05-25T22:26:36.76Z",
          "serviceBusEndpoint": "https://sdk-Namespace-2924.servicebus.windows-int.net:443/"
        }
      }
security:
- name: azure_auth
  type: oauth2
  description: Azure Active Directory OAuth2 Flow
  flow: implicit
  authorizationUrl: https://login.microsoftonline.com/common/oauth2/authorize
  scopes:
  - name: user_impersonation
    description: impersonate your user account
metadata:
  description: >
    Creates/Updates a service namespace. Once created, this namespace's resource manifest is immutable. This operation is idempotent.
errorCodes: []
