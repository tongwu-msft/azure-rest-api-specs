### YamlMime:RESTOperation
uid: management.azure.com.datashare.2021-08-01.invitations.create
name: Create
service: Data Share
groupName: Invitations
apiVersion: 2021-08-01
summary: "Sends a new invitation to a recipient to access a share.  \nCreate an invitation "
consumes:
- application/json
produces:
- application/json
paths:
- content: PUT https://management.azure.com/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.DataShare/accounts/{accountName}/shares/{shareName}/invitations/{invitationName}?api-version=2021-08-01
uriParameters:
- name: subscriptionId
  in: path
  isRequired: true
  description: The subscription identifier
  types:
  - uid: string
- name: resourceGroupName
  in: path
  isRequired: true
  description: The resource group name.
  types:
  - uid: string
- name: accountName
  in: path
  isRequired: true
  description: The name of the share account.
  types:
  - uid: string
- name: shareName
  in: path
  isRequired: true
  description: The name of the share to send the invitation for.
  types:
  - uid: string
- name: invitationName
  in: path
  isRequired: true
  description: The name of the invitation.
  types:
  - uid: string
- name: api-version
  in: query
  isRequired: true
  description: The api version to use.
  types:
  - uid: string
responses:
- name: 201 Created
  description: Success
  types:
  - uid: Invitation
- name: 200 OK
  description: Success
  types:
  - uid: Invitation
- name: Other Status Codes
  description: An error response received from the Microsoft.DataShare resource provider.
  types:
  - uid: DataShareError
requestBody:
- name: default
  parameters:
  - name: properties.expirationDate
    in: body
    description: The expiration date for the invitation and share subscription.
    types:
    - uid: string
  - name: properties.targetActiveDirectoryId
    in: body
    description: The target Azure AD Id. Can't be combined with email.
    types:
    - uid: string
  - name: properties.targetEmail
    in: body
    description: The email the invitation is directed to.
    types:
    - uid: string
  - name: properties.targetObjectId
    in: body
    description: >-
      The target user or application Id that invitation is being sent to.

      Must be specified along TargetActiveDirectoryId. This enables sending

      invitations to specific users or applications in an AD tenant.
    types:
    - uid: string
requestHeader: []
definitions:
- name: SystemData
  description: Metadata pertaining to creation and last modification of the resource.
  kind: object
  properties:
  - name: createdAt
    description: The timestamp of resource creation (UTC).
    types:
    - uid: string
  - name: createdBy
    description: The identity that created the resource.
    types:
    - uid: string
  - name: createdByType
    description: The type of identity that created the resource.
    types:
    - uid: createdByType
  - name: lastModifiedAt
    description: The type of identity that last modified the resource.
    types:
    - uid: string
  - name: lastModifiedBy
    description: The identity that last modified the resource.
    types:
    - uid: string
  - name: lastModifiedByType
    description: The type of identity that last modified the resource.
    types:
    - uid: lastModifiedByType
- name: Invitation
  description: A Invitation data transfer object.
  kind: object
  properties:
  - name: properties.expirationDate
    description: The expiration date for the invitation and share subscription.
    types:
    - uid: string
  - name: properties.invitationId
    isReadyOnly: true
    description: unique invitation id
    types:
    - uid: string
  - name: properties.invitationStatus
    isReadyOnly: true
    description: The status of the invitation.
    types:
    - uid: invitationStatus
  - name: properties.respondedAt
    isReadyOnly: true
    description: The time the recipient responded to the invitation.
    types:
    - uid: string
  - name: properties.sentAt
    isReadyOnly: true
    description: Gets the time at which the invitation was sent.
    types:
    - uid: string
  - name: properties.targetActiveDirectoryId
    description: The target Azure AD Id. Can't be combined with email.
    types:
    - uid: string
  - name: properties.targetEmail
    description: The email the invitation is directed to.
    types:
    - uid: string
  - name: properties.targetObjectId
    description: >-
      The target user or application Id that invitation is being sent to.

      Must be specified along TargetActiveDirectoryId. This enables sending

      invitations to specific users or applications in an AD tenant.
    types:
    - uid: string
  - name: properties.userEmail
    isReadyOnly: true
    description: Email of the user who created the resource
    types:
    - uid: string
  - name: properties.userName
    isReadyOnly: true
    description: Name of the user who created the resource
    types:
    - uid: string
  - name: id
    isReadyOnly: true
    description: The resource id of the azure resource
    types:
    - uid: string
  - name: name
    isReadyOnly: true
    description: Name of the azure resource
    types:
    - uid: string
  - name: systemData
    isReadyOnly: true
    description: System Data of the Azure resource.
    types:
    - uid: SystemData
  - name: type
    isReadyOnly: true
    description: Type of the azure resource
    types:
    - uid: string
- name: DataShareError
  description: The data share error model.
  kind: object
  properties:
  - name: error
    description: The data share error body
    types:
    - uid: DataShareErrorInfo
- name: createdByType
  description: The type of identity that created the resource.
  kind: enum
  properties:
  - name: User
    types:
    - uid: string
  - name: Application
    types:
    - uid: string
  - name: ManagedIdentity
    types:
    - uid: string
  - name: Key
    types:
    - uid: string
- name: lastModifiedByType
  description: The type of identity that last modified the resource.
  kind: enum
  properties:
  - name: User
    types:
    - uid: string
  - name: Application
    types:
    - uid: string
  - name: ManagedIdentity
    types:
    - uid: string
  - name: Key
    types:
    - uid: string
- name: invitationStatus
  description: The status of the invitation.
  kind: enum
  properties:
  - name: Pending
    types:
    - uid: string
  - name: Accepted
    types:
    - uid: string
  - name: Rejected
    types:
    - uid: string
  - name: Withdrawn
    types:
    - uid: string
- name: DataShareErrorInfo
  description: The data share error body model.
  kind: object
  properties:
  - name: code
    description: Code of the error
    types:
    - uid: string
  - name: details
    description: Nested details of the error model
    types:
    - uid: DataShareErrorInfo
      isArray: true
  - name: message
    description: Message of the error
    types:
    - uid: string
  - name: target
    description: Target of the error
    types:
    - uid: string
examples:
- name: Invitations_Create
  request:
    uri: PUT https://management.azure.com/subscriptions/433a8dfd-e5d5-4e77-ad86-90acdc75eb1a/resourceGroups/SampleResourceGroup/providers/Microsoft.DataShare/accounts/Account1/shares/Share1/invitations/Invitation1?api-version=2021-08-01
    body: >-
      {
        "properties": {
          "targetEmail": "receiver@microsoft.com",
          "expirationDate": "2020-08-26T22:33:24.5785265Z"
        }
      }
    codeTab: |+
      # [HTTP](#tab/HTTP)
      ``` http
      PUT https://management.azure.com/subscriptions/433a8dfd-e5d5-4e77-ad86-90acdc75eb1a/resourceGroups/SampleResourceGroup/providers/Microsoft.DataShare/accounts/Account1/shares/Share1/invitations/Invitation1?api-version=2021-08-01

      {
        "properties": {
          "targetEmail": "receiver@microsoft.com",
          "expirationDate": "2020-08-26T22:33:24.5785265Z"
        }
      }

      ```

  responses:
  - statusCode: "200"
    headers:
    - name: Date
      value: Wed, 13 Sep 2017 18:04:32 GMT
    - name: x-ms-request-id
      value: d5496da4-9c52-402f-b067-83cc9ddea888
    - name: X-Content-Type-Options
      value: nosniff
    - name: x-ms-ratelimit-remaining-tenant-reads
      value: "14999"
    - name: x-ms-correlation-request-id
      value: 25c78f97-0b0a-4fe9-ad39-883a482265cd
    body: >-
      {
        "properties": {
          "userName": "John Smith",
          "sentAt": "2018-11-26T22:33:24.5785265Z",
          "targetEmail": "receiver@microsoft.com",
          "respondedAt": null,
          "invitationStatus": "Pending",
          "userEmail": "johnsmith@microsoft.com",
          "expirationDate": "2020-08-26T22:33:24.5785265Z"
        },
        "id": "/subscriptions/433a8dfd-e5d5-4e77-ad86-90acdc75eb1a/resourceGroups/SampleResourceGroup/providers/Microsoft.DataShare/accounts/Account1/shares/Share1/invitations/Invitation1",
        "name": "Invitation1",
        "type": "Microsoft.DataShare/accounts/shares/invitations"
      }
  - statusCode: "201"
    headers:
    - name: Date
      value: Wed, 13 Sep 2017 18:04:32 GMT
    - name: x-ms-request-id
      value: d5496da4-9c52-402f-b067-83cc9ddea888
    - name: X-Content-Type-Options
      value: nosniff
    - name: x-ms-ratelimit-remaining-tenant-reads
      value: "14999"
    - name: x-ms-correlation-request-id
      value: 25c78f97-0b0a-4fe9-ad39-883a482265cd
    body: >-
      {
        "properties": {
          "userName": "John Smith",
          "sentAt": "2018-11-26T22:33:24.5785265Z",
          "targetEmail": "receiver@microsoft.com",
          "respondedAt": null,
          "invitationStatus": "Pending",
          "userEmail": "johnsmith@microsoft.com",
          "expirationDate": "2020-08-26T22:33:24.5785265Z"
        },
        "id": "/subscriptions/433a8dfd-e5d5-4e77-ad86-90acdc75eb1a/resourceGroups/SampleResourceGroup/providers/Microsoft.DataShare/accounts/Account1/shares/Share1/invitations/Invitation1",
        "name": "Invitation1",
        "type": "Microsoft.DataShare/accounts/shares/invitations"
      }
security:
- name: azure_auth
  type: oauth2
  description: Azure Active Directory OAuth2 Flow.
  flow: implicit
  authorizationUrl: https://login.microsoftonline.com/common/oauth2/authorize
  scopes:
  - name: user_impersonation
    description: impersonate your user account
metadata:
  description: >
    Learn more about Data Share service - Sends a new invitation to a recipient to access a share.

    Create an invitation
errorCodes: []
