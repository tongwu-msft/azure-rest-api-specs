### YamlMime:RESTOperation
uid: time-series-insights.dataaccessgen2.timeseriesinstances.suggest
name: Suggest
service: Time Series Insights
groupName: Time Series Instances
apiVersion: 2020-07-31
summary: Suggests keywords based on time series instance attributes to be later used in Search Instances.
consumes:
- application/json
produces:
- application/json
paths:
- content: POST https://{environmentFqdn}/timeseries/instances/suggest?api-version=2020-07-31
uriParameters:
- name: environmentFqdn
  in: path
  isRequired: true
  skipUrlEncoding: true
  description: Per environment FQDN, for example 10000000-0000-0000-0000-100000000109.env.timeseries.azure.com. You can obtain this domain name from the response of the Get Environments API, Azure portal, or Azure Resource Manager.
  types:
  - uid: string
- name: api-version
  in: query
  isRequired: true
  description: Version of the API to be used with the client request. Currently supported version is "2020-07-31".
  types:
  - uid: string
responses:
- name: 200 OK
  headers:
  - name: x-ms-request-id
    value: string
  description: Successful operation.
  types:
  - uid: InstancesSuggestResponse
- name: Other Status Codes
  headers:
  - name: x-ms-request-id
    value: string
  description: Unexpected error.
  types:
  - uid: TsiError
requestBody:
- name: default
  parameters:
  - name: searchString
    in: body
    isRequired: true
    description: Search string for which suggestions are required. Empty is allowed, but not null.
    types:
    - uid: string
  - name: take
    in: body
    description: Maximum number of suggestions expected in the result. Defaults to 10 when not set.
    types:
    - uid: integer
requestHeader:
- name: x-ms-client-request-id
  in: header
  description: Optional client request ID. Service records this value. Allows the service to trace operation across services, and allows the customer to contact support regarding a particular request.
  types:
  - uid: string
- name: x-ms-client-session-id
  in: header
  description: Optional client session ID. Service records this value. Allows the service to trace a group of related operations across services, and allows the customer to contact support regarding a particular group of requests.
  types:
  - uid: string
definitions:
- name: InstancesSuggestResponse
  description: Response of getting suggestions for search for time series instances.
  kind: object
  properties:
  - name: suggestions
    isReadyOnly: true
    description: List of instance suggestions for searching time series models.
    types:
    - uid: InstancesSearchStringSuggestion
      isArray: true
- name: TsiError
  description: Information about an API error.
  kind: object
  properties:
  - name: error
    description: A particular API error with an error code and a message.
    types:
    - uid: TsiErrorBody
- name: InstancesSuggestRequest
  description: Request to get search string suggestions for time series instances search based on prefix text.
  kind: object
  properties:
  - name: searchString
    description: Search string for which suggestions are required. Empty is allowed, but not null.
    types:
    - uid: string
  - name: take
    description: Maximum number of suggestions expected in the result. Defaults to 10 when not set.
    types:
    - uid: integer
- name: InstancesSearchStringSuggestion
  description: Suggested search string to be used for further search for time series instances.
  kind: object
  properties:
  - name: searchString
    isReadyOnly: true
    description: Suggested search string. Can be used for further search for time series instances.
    types:
    - uid: string
  - name: highlightedSearchString
    isReadyOnly: true
    description: Highlighted suggested search string to be displayed to the user. Highlighting inserts <hit> and </hit> tags in the portions of text that matched the search string. Do not use highlighted search string to do further search calls.
    types:
    - uid: string
- name: TsiErrorBody
  description: A particular API error with an error code and a message.
  kind: object
  properties:
  - name: code
    isReadyOnly: true
    description: Language-independent, human-readable string that defines a service-specific error code. This code serves as a more specific indicator for the HTTP error code specified in the response. Can be used to programmatically handle specific error cases.
    types:
    - uid: string
  - name: message
    isReadyOnly: true
    description: Human-readable, language-independent representation of the error. It is intended as an aid to developers and is not suitable for exposure to end users.
    types:
    - uid: string
  - name: target
    isReadyOnly: true
    description: Target of the particular error (for example, the name of the property in error). May be null.
    types:
    - uid: string
  - name: innerError
    isReadyOnly: true
    description: Contains more specific error that narrows down the cause. May be null.
    types:
    - uid: TsiErrorBody
  - name: details
    isReadyOnly: true
    description: Contains additional error information. May be null.
    types:
    - uid: TsiErrorDetails
      isArray: true
- name: TsiErrorDetails
  description: Additional error information.
  kind: object
  properties:
  - name: code
    isReadyOnly: true
    description: Language-independent, human-readable string that defines a service-specific error code. This code serves as a more specific indicator for the HTTP error code specified in the response. Can be used to programmatically handle specific error cases.
    types:
    - uid: string
  - name: message
    isReadyOnly: true
    description: Human-readable, language-independent representation of the error. It is intended as an aid to developers and is not suitable for exposure to end users.
    types:
    - uid: string
examples:
- name: InstancesSuggest
  request:
    uri: POST https://10000000-0000-0000-0000-100000000109.env.timeseries.azure.com/timeseries/instances/suggest?api-version=2020-07-31
    body: >-
      {
        "searchString": "flo",
        "take": 3
      }
    codeTab: |+
      # [HTTP](#tab/HTTP)
      ``` http
      POST https://10000000-0000-0000-0000-100000000109.env.timeseries.azure.com/timeseries/instances/suggest?api-version=2020-07-31

      {
        "searchString": "flo",
        "take": 3
      }

      ```

  responses:
  - statusCode: "200"
    body: >-
      {
        "suggestions": [
          {
            "searchString": "floor 100",
            "highlightedSearchString": "<hit>flo</hit>or 100"
          },
          {
            "searchString": "sensor on floor 0",
            "highlightedSearchString": "sensor on <hit>flo</hit>or 0"
          },
          {
            "searchString": "sensor on floor 1",
            "highlightedSearchString": "sensor on <hit>flo</hit>or 1"
          }
        ]
      }
security:
- name: azure_auth
  type: oauth2
  description: Azure Active Directory OAuth2 Flow
  flow: implicit
  authorizationUrl: https://login.microsoftonline.com/common/oauth2/authorize
  scopes:
  - name: user_impersonation
    description: impersonate your user account
metadata:
  description: Learn more about Time Series Insights service - Suggests keywords based on time series instance attributes to be later used in Search Instances.
errorCodes: []
