### YamlMime:RESTOperation
uid: management.azure.com.aks.maintenanceconfigurations.listbymanagedcluster
name: List By Managed Cluster
service: AKS
groupName: Maintenance Configurations
apiVersion: 2022-04-01
summary: Gets a list of maintenance configurations in the specified managed cluster.
consumes:
- application/json
produces:
- application/json
paths:
- content: GET https://management.azure.com/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.ContainerService/managedClusters/{resourceName}/maintenanceConfigurations?api-version=2022-04-01
uriParameters:
- name: subscriptionId
  in: path
  isRequired: true
  description: The ID of the target subscription.
  types:
  - uid: string
- name: resourceGroupName
  in: path
  isRequired: true
  description: The name of the resource group. The name is case insensitive.
  types:
  - uid: string
- name: resourceName
  in: path
  isRequired: true
  description: The name of the managed cluster resource.
  types:
  - uid: string
  pattern: ^[a-zA-Z0-9]$|^[a-zA-Z0-9][-_a-zA-Z0-9]{0,61}[a-zA-Z0-9]$
- name: api-version
  in: query
  isRequired: true
  description: The API version to use for this operation.
  types:
  - uid: string
responses:
- name: 200 OK
  description: OK
  types:
  - uid: MaintenanceConfigurationListResult
- name: Other Status Codes
  description: Error response describing why the operation failed.
  types:
  - uid: CloudError
requestHeader: []
definitions:
- name: MaintenanceConfigurationListResult
  description: The response from the List maintenance configurations operation.
  kind: object
  properties:
  - name: value
    description: The list of maintenance configurations.
    types:
    - uid: MaintenanceConfiguration
      isArray: true
  - name: nextLink
    isReadyOnly: true
    description: The URL to get the next set of maintenance configuration results.
    types:
    - uid: string
- name: CloudError
  description: An error response from the Container service.
  kind: object
  properties:
  - name: error
    description: Details about the error.
    types:
    - uid: CloudErrorBody
- name: MaintenanceConfiguration
  description: Planned maintenance configuration, used to configure when updates can be deployed to a Managed Cluster.
  kind: object
  properties:
  - name: systemData
    isReadyOnly: true
    description: The system metadata relating to this resource.
    types:
    - uid: systemData
  - name: properties.timeInWeek
    description: "Time slots during the week when planned maintenance is allowed to proceed.  \nIf two array entries specify the same day of the week, the applied configuration is the union of times in both entries."
    types:
    - uid: TimeInWeek
      isArray: true
  - name: properties.notAllowedTime
    description: Time slots on which upgrade is not allowed.
    types:
    - uid: TimeSpan
      isArray: true
  - name: id
    isReadyOnly: true
    description: Resource ID.
    types:
    - uid: string
  - name: name
    isReadyOnly: true
    description: The name of the resource that is unique within a resource group. This name can be used to access the resource.
    types:
    - uid: string
  - name: type
    isReadyOnly: true
    description: Resource type
    types:
    - uid: string
- name: CloudErrorBody
  description: An error response from the Container service.
  kind: object
  properties:
  - name: code
    description: An identifier for the error. Codes are invariant and are intended to be consumed programmatically.
    types:
    - uid: string
  - name: message
    description: A message describing the error, intended to be suitable for display in a user interface.
    types:
    - uid: string
  - name: target
    description: The target of the particular error. For example, the name of the property in error.
    types:
    - uid: string
  - name: details
    description: A list of additional details about the error.
    types:
    - uid: CloudErrorBody
      isArray: true
- name: systemData
  description: Metadata pertaining to creation and last modification of the resource.
  kind: object
  properties:
  - name: createdBy
    description: The identity that created the resource.
    types:
    - uid: string
  - name: createdByType
    description: The type of identity that created the resource.
    types:
    - uid: createdByType
  - name: createdAt
    description: The timestamp of resource creation (UTC).
    types:
    - uid: string
  - name: lastModifiedBy
    description: The identity that last modified the resource.
    types:
    - uid: string
  - name: lastModifiedByType
    description: The type of identity that last modified the resource.
    types:
    - uid: createdByType
  - name: lastModifiedAt
    description: The timestamp of resource last modification (UTC)
    types:
    - uid: string
- name: TimeInWeek
  description: Time in a week.
  kind: object
  properties:
  - name: day
    description: The day of the week.
    types:
    - uid: WeekDay
  - name: hourSlots
    description: "A list of hours in the day used to identify a time range.  \nEach integer hour represents a time range beginning at 0m after the hour ending at the next hour (non-inclusive). 0 corresponds to 00:00 UTC, 23 corresponds to 23:00 UTC. Specifying [0, 1] means the 00:00 - 02:00 UTC time range."
    types:
    - uid: integer
      isArray: true
- name: TimeSpan
  description: A time range.
  kind: object
  properties:
  - name: start
    description: The start of a time span
    types:
    - uid: string
  - name: end
    description: The end of a time span
    types:
    - uid: string
- name: createdByType
  description: The type of identity that created the resource.
  kind: enum
  properties:
  - name: User
    types:
    - uid: string
  - name: Application
    types:
    - uid: string
  - name: ManagedIdentity
    types:
    - uid: string
  - name: Key
    types:
    - uid: string
- name: WeekDay
  description: The weekday enum.
  kind: enum
  properties:
  - name: Sunday
    types:
    - uid: string
  - name: Monday
    types:
    - uid: string
  - name: Tuesday
    types:
    - uid: string
  - name: Wednesday
    types:
    - uid: string
  - name: Thursday
    types:
    - uid: string
  - name: Friday
    types:
    - uid: string
  - name: Saturday
    types:
    - uid: string
examples:
- name: List maintenance configurations by Managed Cluster
  request:
    uri: GET https://management.azure.com/subscriptions/subid1/resourceGroups/rg1/providers/Microsoft.ContainerService/managedClusters/clustername1/maintenanceConfigurations?api-version=2022-04-01
    codeTab: |+
      # [HTTP](#tab/HTTP)
      ``` http
      GET https://management.azure.com/subscriptions/subid1/resourceGroups/rg1/providers/Microsoft.ContainerService/managedClusters/clustername1/maintenanceConfigurations?api-version=2022-04-01
      ```

      # [Java](#tab/Java)
      ``` java
      import com.azure.core.util.Context;

      /** Samples for MaintenanceConfigurations ListByManagedCluster. */
      public final class Main {
          /*
           * x-ms-original-file: specification/containerservice/resource-manager/Microsoft.ContainerService/stable/2022-04-01/examples/MaintenanceConfigurationsList.json
           */
          /**
           * Sample code: List maintenance configurations by Managed Cluster.
           *
           * @param azure The entry point for accessing resource management APIs in Azure.
           */
          public static void listMaintenanceConfigurationsByManagedCluster(
              com.azure.resourcemanager.AzureResourceManager azure) {
              azure
                  .kubernetesClusters()
                  .manager()
                  .serviceClient()
                  .getMaintenanceConfigurations()
                  .listByManagedCluster("rg1", "clustername1", Context.NONE);
          }
      }

      ```
      Read this [SDK documentation](https://github.com/Azure/azure-sdk-for-java/blob/azure-resourcemanager_2.16.0/sdk/resourcemanager/azure-resourcemanager/README.md) on how to add the SDK to your project and authenticate.
      # [Go](#tab/Go)
      ``` go
      package armcontainerservice_test

      import (
      	"context"
      	"log"

      	"github.com/Azure/azure-sdk-for-go/sdk/azidentity"
      	"github.com/Azure/azure-sdk-for-go/sdk/resourcemanager/containerservice/armcontainerservice"
      )

      // Generated from example definition: https://github.com/Azure/azure-rest-api-specs/tree/main/specification/containerservice/resource-manager/Microsoft.ContainerService/stable/2022-04-01/examples/MaintenanceConfigurationsList.json
      func ExampleMaintenanceConfigurationsClient_NewListByManagedClusterPager() {
      	cred, err := azidentity.NewDefaultAzureCredential(nil)
      	if err != nil {
      		log.Fatalf("failed to obtain a credential: %v", err)
      	}
      	ctx := context.Background()
      	client, err := armcontainerservice.NewMaintenanceConfigurationsClient("subid1", cred, nil)
      	if err != nil {
      		log.Fatalf("failed to create client: %v", err)
      	}
      	pager := client.NewListByManagedClusterPager("rg1",
      		"clustername1",
      		nil)
      	for pager.More() {
      		nextResult, err := pager.NextPage(ctx)
      		if err != nil {
      			log.Fatalf("failed to advance page: %v", err)
      		}
      		for _, v := range nextResult.Value {
      			// TODO: use page item
      			_ = v
      		}
      	}
      }

      ```
      Read this [SDK documentation](https://github.com/Azure/azure-sdk-for-go/blob/sdk%2Fresourcemanager%2Fcontainerservice%2Farmcontainerservice%2Fv1.0.0/sdk/resourcemanager/containerservice/armcontainerservice/README.md) on how to add the SDK to your project and authenticate.
      # [JavaScript](#tab/JavaScript)
      ``` js
      const { ContainerServiceClient } = require("@azure/arm-containerservice");
      const { DefaultAzureCredential } = require("@azure/identity");

      /**
       * This sample demonstrates how to Gets a list of maintenance configurations in the specified managed cluster.
       *
       * @summary Gets a list of maintenance configurations in the specified managed cluster.
       * x-ms-original-file: specification/containerservice/resource-manager/Microsoft.ContainerService/stable/2022-04-01/examples/MaintenanceConfigurationsList.json
       */
      async function listMaintenanceConfigurationsByManagedCluster() {
        const subscriptionId = "subid1";
        const resourceGroupName = "rg1";
        const resourceName = "clustername1";
        const credential = new DefaultAzureCredential();
        const client = new ContainerServiceClient(credential, subscriptionId);
        const resArray = new Array();
        for await (let item of client.maintenanceConfigurations.listByManagedCluster(
          resourceGroupName,
          resourceName
        )) {
          resArray.push(item);
        }
        console.log(resArray);
      }

      listMaintenanceConfigurationsByManagedCluster().catch(console.error);

      ```
      Read this [SDK documentation](https://github.com/Azure/azure-sdk-for-js/blob/%40azure%2Farm-containerservice_16.1.0/sdk/containerservice/arm-containerservice/README.md) on how to add the SDK to your project and authenticate.
  responses:
  - statusCode: "200"
    body: >-
      {
        "value": [
          {
            "id": "/subscriptions/subid1/resourcegroups/rg1/providers/Microsoft.ContainerService/managedClusters/clustername1/maintenanceConfigurations/default",
            "name": "default",
            "properties": {
              "timeInWeek": [
                {
                  "day": "Monday",
                  "hourSlots": [
                    1,
                    2
                  ]
                }
              ],
              "notAllowedTime": [
                {
                  "start": "2020-11-26T03:00:00Z",
                  "end": "2020-11-30T12:00:00Z"
                }
              ]
            }
          }
        ]
      }
security:
- name: azure_auth
  type: oauth2
  description: Azure Active Directory OAuth2 Flow
  flow: implicit
  authorizationUrl: https://login.microsoftonline.com/common/oauth2/authorize
  scopes:
  - name: user_impersonation
    description: impersonate your user account
metadata:
  description: >
    Learn more about AKS service - Gets a list of maintenance configurations in the specified managed cluster.
errorCodes: []
