### YamlMime:RESTOperation
uid: management.azure.com.managedapplications.applications.update
name: Update
service: Managed Applications
groupName: Applications
apiVersion: 2019-07-01
summary: Updates an existing managed application. The only value that can be updated via PATCH currently is the tags.
consumes:
- application/json
produces:
- application/json
paths:
- content: PATCH https://management.azure.com/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Solutions/applications/{applicationName}?api-version=2019-07-01
uriParameters:
- name: subscriptionId
  in: path
  isRequired: true
  description: The ID of the target subscription.
  types:
  - uid: string
- name: resourceGroupName
  in: path
  isRequired: true
  description: The name of the resource group. The name is case insensitive.
  types:
  - uid: string
  pattern: ^[-\w\._\(\)]+$
- name: applicationName
  in: path
  isRequired: true
  description: The name of the managed application.
  types:
  - uid: string
- name: api-version
  in: query
  isRequired: true
  description: The API version to use for this operation.
  types:
  - uid: string
responses:
- name: 200 OK
  description: Created - Returns information about the managed application, including provisioning status.
  types:
  - uid: Application
- name: 202 Accepted
  description: Accepted - Returns this status until the asynchronous operation has completed.
- name: Other Status Codes
  description: Error response describing why the operation failed.
  types:
  - uid: ErrorResponse
requestBody:
- name: default
  parameters:
  - name: plan
    in: body
    description: The plan information.
    types:
    - uid: PlanPatchable
  - name: kind
    in: body
    description: The kind of the managed application. Allowed values are MarketPlace and ServiceCatalog.
    types:
    - uid: string
  - name: identity
    in: body
    description: The identity of the resource.
    types:
    - uid: Identity
  - name: properties.managedResourceGroupId
    in: body
    description: The managed resource group Id.
    types:
    - uid: string
  - name: properties.applicationDefinitionId
    in: body
    description: The fully qualified path of managed application definition Id.
    types:
    - uid: string
  - name: properties.parameters
    in: body
    description: Name and value pairs that define the managed application parameters. It can be a JObject or a well formed JSON string.
    types:
    - uid: object
  - name: properties.jitAccessPolicy
    in: body
    description: The managed application Jit access policy.
    types:
    - uid: ApplicationJitAccessPolicy
  - name: managedBy
    in: body
    description: ID of the resource that manages this resource.
    types:
    - uid: string
  - name: sku
    in: body
    description: The SKU of the resource.
    types:
    - uid: Sku
  - name: location
    in: body
    description: Resource location
    types:
    - uid: string
  - name: tags
    in: body
    description: Resource tags
    types:
    - uid: object
      isDictionary: true
      additionalTypes:
      - uid: string
      - uid: string
requestHeader: []
definitions:
- name: PlanPatchable
  description: Plan for the managed application.
  kind: object
  properties:
  - name: name
    description: The plan name.
    types:
    - uid: string
  - name: publisher
    description: The publisher ID.
    types:
    - uid: string
  - name: product
    description: The product code.
    types:
    - uid: string
  - name: promotionCode
    description: The promotion code.
    types:
    - uid: string
  - name: version
    description: The plan's version.
    types:
    - uid: string
- name: Identity
  description: Identity for the resource.
  kind: object
  properties:
  - name: principalId
    isReadyOnly: true
    description: The principal ID of resource identity.
    types:
    - uid: string
  - name: tenantId
    isReadyOnly: true
    description: The tenant ID of resource.
    types:
    - uid: string
  - name: type
    description: The identity type.
    types:
    - uid: ResourceIdentityType
  - name: userAssignedIdentities
    description: "The list of user identities associated with the resource. The user identity dictionary key references will be resource ids in the form: '/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.ManagedIdentity/userAssignedIdentities/{identityName}'."
    types:
    - uid: object
      isDictionary: true
      additionalTypes:
      - uid: string
      - uid: userAssignedResourceIdentity
- name: ApplicationBillingDetailsDefinition
  description: Managed application billing details definition.
  kind: object
  properties:
  - name: resourceUsageId
    description: The managed application resource usage Id.
    types:
    - uid: string
- name: ApplicationJitAccessPolicy
  description: Managed application Jit access policy.
  kind: object
  properties:
  - name: jitAccessEnabled
    description: Whether the JIT access is enabled.
    types:
    - uid: boolean
  - name: jitApprovalMode
    description: JIT approval mode.
    types:
    - uid: JitApprovalMode
  - name: jitApprovers
    description: The JIT approvers
    types:
    - uid: JitApproverDefinition
      isArray: true
  - name: maximumJitAccessDuration
    description: The maximum duration JIT access is granted. This is an ISO8601 time period value.
    types:
    - uid: string
- name: ApplicationAuthorization
  description: The managed application provider authorization.
  kind: object
  properties:
  - name: principalId
    description: The provider's principal identifier. This is the identity that the provider will use to call ARM to manage the managed application resources.
    types:
    - uid: string
  - name: roleDefinitionId
    description: The provider's role definition identifier. This role will define all the permissions that the provider must have on the managed application's container resource group. This role definition cannot have permission to delete the resource group.
    types:
    - uid: string
- name: ApplicationPackageContact
  description: The application package contact information.
  kind: object
  properties:
  - name: contactName
    description: The contact name.
    types:
    - uid: string
  - name: email
    description: The contact email.
    types:
    - uid: string
  - name: phone
    description: The contact phone number.
    types:
    - uid: string
- name: ApplicationPackageSupportUrls
  description: The appliance package support URLs.
  kind: object
  properties:
  - name: publicAzure
    description: The public azure support URL.
    types:
    - uid: string
  - name: governmentCloud
    description: The government cloud support URL.
    types:
    - uid: string
- name: ApplicationArtifact
  description: Managed application artifact.
  kind: object
  properties:
  - name: name
    description: The managed application artifact name.
    types:
    - uid: ApplicationArtifactName
  - name: uri
    description: The managed application artifact blob uri.
    types:
    - uid: string
  - name: type
    description: The managed application artifact type.
    types:
    - uid: ApplicationArtifactType
- name: ApplicationClientDetails
  description: The application client details to track the entity creating/updating the managed app resource.
  kind: object
  properties:
  - name: oid
    description: The client Oid.
    types:
    - uid: string
  - name: puid
    description: The client Puid
    types:
    - uid: string
  - name: applicationId
    description: The client application Id.
    types:
    - uid: string
- name: Sku
  description: SKU for the resource.
  kind: object
  properties:
  - name: name
    description: The SKU name.
    types:
    - uid: string
  - name: tier
    description: The SKU tier.
    types:
    - uid: string
  - name: size
    description: The SKU size.
    types:
    - uid: string
  - name: family
    description: The SKU family.
    types:
    - uid: string
  - name: model
    description: The SKU model.
    types:
    - uid: string
  - name: capacity
    description: The SKU capacity.
    types:
    - uid: integer
- name: Application
  description: Information about managed application.
  kind: object
  properties:
  - name: plan
    description: The plan information.
    types:
    - uid: Plan
  - name: kind
    description: The kind of the managed application. Allowed values are MarketPlace and ServiceCatalog.
    types:
    - uid: string
  - name: identity
    description: The identity of the resource.
    types:
    - uid: Identity
  - name: properties.managedResourceGroupId
    description: The managed resource group Id.
    types:
    - uid: string
  - name: properties.applicationDefinitionId
    description: The fully qualified path of managed application definition Id.
    types:
    - uid: string
  - name: properties.parameters
    description: Name and value pairs that define the managed application parameters. It can be a JObject or a well formed JSON string.
    types:
    - uid: object
  - name: properties.outputs
    isReadyOnly: true
    description: Name and value pairs that define the managed application outputs.
    types:
    - uid: object
  - name: properties.provisioningState
    isReadyOnly: true
    description: The managed application provisioning state.
    types:
    - uid: ProvisioningState
  - name: properties.billingDetails
    isReadyOnly: true
    description: The managed application billing details.
    types:
    - uid: ApplicationBillingDetailsDefinition
  - name: properties.jitAccessPolicy
    description: The managed application Jit access policy.
    types:
    - uid: ApplicationJitAccessPolicy
  - name: properties.publisherTenantId
    isReadyOnly: true
    description: The publisher tenant Id.
    types:
    - uid: string
  - name: properties.authorizations
    isReadyOnly: true
    description: The  read-only authorizations property that is retrieved from the application package.
    types:
    - uid: ApplicationAuthorization
      isArray: true
  - name: properties.managementMode
    isReadyOnly: true
    description: The managed application management mode.
    types:
    - uid: ApplicationManagementMode
  - name: properties.customerSupport
    isReadyOnly: true
    description: The read-only customer support property that is retrieved from the application package.
    types:
    - uid: ApplicationPackageContact
  - name: properties.supportUrls
    isReadyOnly: true
    description: The read-only support URLs property that is retrieved from the application package.
    types:
    - uid: ApplicationPackageSupportUrls
  - name: properties.artifacts
    isReadyOnly: true
    description: The collection of managed application artifacts.
    types:
    - uid: ApplicationArtifact
      isArray: true
  - name: properties.createdBy
    isReadyOnly: true
    description: The client entity that created the JIT request.
    types:
    - uid: ApplicationClientDetails
  - name: properties.updatedBy
    isReadyOnly: true
    description: The client entity that last updated the JIT request.
    types:
    - uid: ApplicationClientDetails
  - name: managedBy
    description: ID of the resource that manages this resource.
    types:
    - uid: string
  - name: sku
    description: The SKU of the resource.
    types:
    - uid: Sku
  - name: id
    isReadyOnly: true
    description: Resource ID
    types:
    - uid: string
  - name: name
    isReadyOnly: true
    description: Resource name
    types:
    - uid: string
  - name: type
    isReadyOnly: true
    description: Resource type
    types:
    - uid: string
  - name: location
    description: Resource location
    types:
    - uid: string
  - name: tags
    description: Resource tags
    types:
    - uid: object
      isDictionary: true
      additionalTypes:
      - uid: string
      - uid: string
- name: ErrorResponse
  description: Error response
  kind: object
  properties:
  - name: error
    description: The error object.
    types:
    - uid: ErrorDetail
- name: ApplicationPatchable
  description: Information about managed application.
  kind: object
  properties:
  - name: plan
    description: The plan information.
    types:
    - uid: PlanPatchable
  - name: kind
    description: The kind of the managed application. Allowed values are MarketPlace and ServiceCatalog.
    types:
    - uid: string
  - name: identity
    description: The identity of the resource.
    types:
    - uid: Identity
  - name: properties.managedResourceGroupId
    description: The managed resource group Id.
    types:
    - uid: string
  - name: properties.applicationDefinitionId
    description: The fully qualified path of managed application definition Id.
    types:
    - uid: string
  - name: properties.parameters
    description: Name and value pairs that define the managed application parameters. It can be a JObject or a well formed JSON string.
    types:
    - uid: object
  - name: properties.outputs
    isReadyOnly: true
    description: Name and value pairs that define the managed application outputs.
    types:
    - uid: object
  - name: properties.provisioningState
    isReadyOnly: true
    description: The managed application provisioning state.
    types:
    - uid: ProvisioningState
  - name: properties.billingDetails
    isReadyOnly: true
    description: The managed application billing details.
    types:
    - uid: ApplicationBillingDetailsDefinition
  - name: properties.jitAccessPolicy
    description: The managed application Jit access policy.
    types:
    - uid: ApplicationJitAccessPolicy
  - name: properties.publisherTenantId
    isReadyOnly: true
    description: The publisher tenant Id.
    types:
    - uid: string
  - name: properties.authorizations
    isReadyOnly: true
    description: The  read-only authorizations property that is retrieved from the application package.
    types:
    - uid: ApplicationAuthorization
      isArray: true
  - name: properties.managementMode
    isReadyOnly: true
    description: The managed application management mode.
    types:
    - uid: ApplicationManagementMode
  - name: properties.customerSupport
    isReadyOnly: true
    description: The read-only customer support property that is retrieved from the application package.
    types:
    - uid: ApplicationPackageContact
  - name: properties.supportUrls
    isReadyOnly: true
    description: The read-only support URLs property that is retrieved from the application package.
    types:
    - uid: ApplicationPackageSupportUrls
  - name: properties.artifacts
    isReadyOnly: true
    description: The collection of managed application artifacts.
    types:
    - uid: ApplicationArtifact
      isArray: true
  - name: properties.createdBy
    isReadyOnly: true
    description: The client entity that created the JIT request.
    types:
    - uid: ApplicationClientDetails
  - name: properties.updatedBy
    isReadyOnly: true
    description: The client entity that last updated the JIT request.
    types:
    - uid: ApplicationClientDetails
  - name: managedBy
    description: ID of the resource that manages this resource.
    types:
    - uid: string
  - name: sku
    description: The SKU of the resource.
    types:
    - uid: Sku
  - name: id
    isReadyOnly: true
    description: Resource ID
    types:
    - uid: string
  - name: name
    isReadyOnly: true
    description: Resource name
    types:
    - uid: string
  - name: type
    isReadyOnly: true
    description: Resource type
    types:
    - uid: string
  - name: location
    description: Resource location
    types:
    - uid: string
  - name: tags
    description: Resource tags
    types:
    - uid: object
      isDictionary: true
      additionalTypes:
      - uid: string
      - uid: string
- name: ResourceIdentityType
  description: The identity type.
  kind: enum
  properties:
  - name: SystemAssigned
    types:
    - uid: string
  - name: UserAssigned
    types:
    - uid: string
  - name: SystemAssigned, UserAssigned
    types:
    - uid: string
  - name: None
    types:
    - uid: string
- name: userAssignedResourceIdentity
  description: Represents the user assigned identity that is contained within the UserAssignedIdentities dictionary on ResourceIdentity
  kind: object
  properties:
  - name: principalId
    isReadyOnly: true
    description: The principal id of user assigned identity.
    types:
    - uid: string
  - name: tenantId
    isReadyOnly: true
    description: The tenant id of user assigned identity.
    types:
    - uid: string
- name: JitApprovalMode
  description: The Jit approval mode.
  kind: enum
  properties:
  - name: NotSpecified
    types:
    - uid: string
  - name: AutoApprove
    types:
    - uid: string
  - name: ManualApprove
    types:
    - uid: string
- name: JitApproverDefinition
  description: JIT approver definition.
  kind: object
  properties:
  - name: id
    description: The approver service principal Id.
    types:
    - uid: string
  - name: type
    description: The approver type.
    types:
    - uid: JitApproverType
  - name: displayName
    description: The approver display name.
    types:
    - uid: string
- name: ApplicationArtifactName
  description: The managed application artifact name.
  kind: enum
  properties:
  - name: NotSpecified
    types:
    - uid: string
  - name: ViewDefinition
    types:
    - uid: string
  - name: Authorizations
    types:
    - uid: string
  - name: CustomRoleDefinition
    types:
    - uid: string
- name: ApplicationArtifactType
  description: The managed application artifact type.
  kind: enum
  properties:
  - name: NotSpecified
    types:
    - uid: string
  - name: Template
    types:
    - uid: string
  - name: Custom
    types:
    - uid: string
- name: Plan
  description: Plan for the managed application.
  kind: object
  properties:
  - name: name
    description: The plan name.
    types:
    - uid: string
  - name: publisher
    description: The publisher ID.
    types:
    - uid: string
  - name: product
    description: The product code.
    types:
    - uid: string
  - name: promotionCode
    description: The promotion code.
    types:
    - uid: string
  - name: version
    description: The plan's version.
    types:
    - uid: string
- name: ProvisioningState
  description: Provisioning status of the managed application.
  kind: enum
  properties:
  - name: NotSpecified
    types:
    - uid: string
  - name: Accepted
    types:
    - uid: string
  - name: Running
    types:
    - uid: string
  - name: Ready
    types:
    - uid: string
  - name: Creating
    types:
    - uid: string
  - name: Created
    types:
    - uid: string
  - name: Deleting
    types:
    - uid: string
  - name: Deleted
    types:
    - uid: string
  - name: Canceled
    types:
    - uid: string
  - name: Failed
    types:
    - uid: string
  - name: Succeeded
    types:
    - uid: string
  - name: Updating
    types:
    - uid: string
- name: ApplicationManagementMode
  description: The management mode.
  kind: enum
  properties:
  - name: NotSpecified
    types:
    - uid: string
  - name: Unmanaged
    types:
    - uid: string
  - name: Managed
    types:
    - uid: string
- name: ErrorDetail
  description: The error detail.
  kind: object
  properties:
  - name: code
    isReadyOnly: true
    description: The error code.
    types:
    - uid: string
  - name: message
    isReadyOnly: true
    description: The error message.
    types:
    - uid: string
  - name: target
    isReadyOnly: true
    description: The error target.
    types:
    - uid: string
  - name: details
    isReadyOnly: true
    description: The error details.
    types:
    - uid: ErrorDetail
      isArray: true
  - name: additionalInfo
    isReadyOnly: true
    description: The error additional info.
    types:
    - uid: ErrorAdditionalInfo
      isArray: true
- name: JitApproverType
  description: The approver type.
  kind: enum
  properties:
  - name: user
    types:
    - uid: string
  - name: group
    types:
    - uid: string
- name: ErrorAdditionalInfo
  description: The resource management error additional info.
  kind: object
  properties:
  - name: type
    isReadyOnly: true
    description: The additional info type.
    types:
    - uid: string
  - name: info
    isReadyOnly: true
    description: The additional info.
    types:
    - uid: object
examples:
- name: Create or update managed application
  request:
    uri: PATCH https://management.azure.com/subscriptions/subid/resourceGroups/rg/providers/Microsoft.Solutions/applications/myManagedApplication?api-version=2019-07-01
    body: >-
      {
        "properties": {
          "applicationDefinitionId": "/subscriptions/subid/resourceGroups/rg/providers/Microsoft.Solutions/applicationDefinitions/myAppDef",
          "managedResourceGroupId": "/subscriptions/subid/resourceGroups/myManagedRG"
        },
        "kind": "ServiceCatalog"
      }
    codeTab: |+
      # [HTTP](#tab/HTTP)
      ``` http
      PATCH https://management.azure.com/subscriptions/subid/resourceGroups/rg/providers/Microsoft.Solutions/applications/myManagedApplication?api-version=2019-07-01

      {
        "properties": {
          "applicationDefinitionId": "/subscriptions/subid/resourceGroups/rg/providers/Microsoft.Solutions/applicationDefinitions/myAppDef",
          "managedResourceGroupId": "/subscriptions/subid/resourceGroups/myManagedRG"
        },
        "kind": "ServiceCatalog"
      }

      ```

  responses:
  - statusCode: "200"
    body: >-
      {
        "name": "myManagedApplication",
        "id": "/subscriptions/subid/resourceGroups/rg/providers/Microsoft.Solutions/applications/myManagedApplication",
        "type": "Microsoft.Solutions/applications",
        "managedBy": null,
        "plan": null,
        "identity": null,
        "kind": "ServiceCatalog",
        "sku": null,
        "properties": {
          "applicationDefinitionId": "/subscriptions/subid/resourceGroups/rg/providers/Microsoft.Solutions/applicationDefinitions/myAppDef",
          "managedResourceGroupId": "/subscriptions/subid/resourceGroups/myManagedRG",
          "outputs": null,
          "parameters": null,
          "provisioningState": "Created"
        }
      }
  - statusCode: "202"
    headers:
    - name: location
      value: https://url.to.query
security:
- name: azure_auth
  type: oauth2
  description: Azure Active Directory OAuth2 Flow
  flow: implicit
  authorizationUrl: https://login.microsoftonline.com/common/oauth2/authorize
  scopes:
  - name: user_impersonation
    description: impersonate your user account
metadata:
  description: >
    Updates an existing managed application. The only value that can be updated via PATCH currently is the tags.
errorCodes: []
