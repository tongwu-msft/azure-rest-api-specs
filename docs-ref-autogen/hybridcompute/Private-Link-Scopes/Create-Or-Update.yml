### YamlMime:RESTOperation
uid: management.azure.com.hybridcompute.privatelinkscopes.createorupdate
name: Create Or Update
service: Hybrid Compute
groupName: Private Link Scopes
apiVersion: 2021-05-20
summary: 'Creates (or updates) a Azure Arc PrivateLinkScope. Note: You cannot specify a different value for InstrumentationKey nor AppId in the Put operation.'
consumes:
- application/json
produces:
- application/json
paths:
- content: PUT https://management.azure.com/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.HybridCompute/privateLinkScopes/{scopeName}?api-version=2021-05-20
uriParameters:
- name: subscriptionId
  in: path
  isRequired: true
  description: The ID of the target subscription.
  types:
  - uid: string
- name: resourceGroupName
  in: path
  isRequired: true
  description: The name of the resource group. The name is case insensitive.
  types:
  - uid: string
- name: scopeName
  in: path
  isRequired: true
  description: The name of the Azure Arc PrivateLinkScope resource.
  types:
  - uid: string
- name: api-version
  in: query
  isRequired: true
  description: The API version to use for this operation.
  types:
  - uid: string
responses:
- name: 200 OK
  description: Successful request when creating or updating a Azure Arc PrivateLinkScope. The updated PrivateLinkScope is returned.
  types:
  - uid: HybridComputePrivateLinkScope
- name: 201 Created
  description: Successful request when creating or updating a Azure Arc PrivateLinkScope. The updated PrivateLinkScope was created and is returned.
  types:
  - uid: HybridComputePrivateLinkScope
- name: Other Status Codes
  description: Error response describing why the operation failed.
  types:
  - uid: ErrorResponse
requestBody:
- name: default
  parameters:
  - name: properties
    in: body
    description: Properties that define a Azure Arc PrivateLinkScope resource.
    types:
    - uid: HybridComputePrivateLinkScopeProperties
  - name: location
    in: body
    isRequired: true
    description: Resource location
    types:
    - uid: string
  - name: tags
    in: body
    description: Resource tags
    types:
    - uid: object
      isDictionary: true
      additionalTypes:
      - uid: string
      - uid: string
requestHeader: []
definitions:
- name: HybridComputePrivateLinkScopeProperties
  description: Properties that define a Azure Arc PrivateLinkScope resource.
  kind: object
  properties:
  - name: publicNetworkAccess
    description: Indicates whether machines associated with the private link scope can also use public Azure Arc service endpoints.
    types:
    - uid: PublicNetworkAccessType
    defaultValue: Disabled
  - name: provisioningState
    isReadyOnly: true
    description: 'Current state of this PrivateLinkScope: whether or not is has been provisioned within the resource group it is defined. Users cannot change this value but are able to read from it. Values will include Provisioning ,Succeeded, Canceled and Failed.'
    types:
    - uid: string
  - name: privateLinkScopeId
    isReadyOnly: true
    description: The Guid id of the private link scope.
    types:
    - uid: string
- name: systemData
  description: Metadata pertaining to creation and last modification of the resource.
  kind: object
  properties:
  - name: createdBy
    description: The identity that created the resource.
    types:
    - uid: string
  - name: createdByType
    description: The type of identity that created the resource.
    types:
    - uid: createdByType
  - name: createdAt
    description: The timestamp of resource creation (UTC).
    types:
    - uid: string
  - name: lastModifiedBy
    description: The identity that last modified the resource.
    types:
    - uid: string
  - name: lastModifiedByType
    description: The type of identity that last modified the resource.
    types:
    - uid: createdByType
  - name: lastModifiedAt
    description: The timestamp of resource last modification (UTC)
    types:
    - uid: string
- name: HybridComputePrivateLinkScope
  description: An Azure Arc PrivateLinkScope definition.
  kind: object
  properties:
  - name: properties
    description: Properties that define a Azure Arc PrivateLinkScope resource.
    types:
    - uid: HybridComputePrivateLinkScopeProperties
  - name: systemData
    isReadyOnly: true
    description: The system meta data relating to this resource.
    types:
    - uid: systemData
  - name: id
    isReadyOnly: true
    description: Azure resource Id
    types:
    - uid: string
  - name: name
    isReadyOnly: true
    description: Azure resource name
    types:
    - uid: string
  - name: type
    isReadyOnly: true
    description: Azure resource type
    types:
    - uid: string
  - name: location
    description: Resource location
    types:
    - uid: string
  - name: tags
    description: Resource tags
    types:
    - uid: object
      isDictionary: true
      additionalTypes:
      - uid: string
      - uid: string
- name: ErrorResponse
  description: Error response
  kind: object
  properties:
  - name: error
    description: The error object.
    types:
    - uid: ErrorDetail
- name: PublicNetworkAccessType
  description: The network access policy to determine if Azure Arc agents can use public Azure Arc service endpoints. Defaults to disabled (access to Azure Arc services only via private link).
  kind: enum
  properties:
  - name: Enabled
    description: Allows Azure Arc agents to communicate with Azure Arc services over both public (internet) and private endpoints.
    types:
    - uid: string
  - name: Disabled
    description: Does not allow Azure Arc agents to communicate with Azure Arc services over public (internet) endpoints. The agents must use the private link.
    types:
    - uid: string
- name: createdByType
  description: The type of identity that created the resource.
  kind: enum
  properties:
  - name: User
    types:
    - uid: string
  - name: Application
    types:
    - uid: string
  - name: ManagedIdentity
    types:
    - uid: string
  - name: Key
    types:
    - uid: string
- name: ErrorDetail
  description: The error detail.
  kind: object
  properties:
  - name: code
    isReadyOnly: true
    description: The error code.
    types:
    - uid: string
  - name: message
    isReadyOnly: true
    description: The error message.
    types:
    - uid: string
  - name: target
    isReadyOnly: true
    description: The error target.
    types:
    - uid: string
  - name: details
    isReadyOnly: true
    description: The error details.
    types:
    - uid: ErrorDetail
      isArray: true
  - name: additionalInfo
    isReadyOnly: true
    description: The error additional info.
    types:
    - uid: ErrorAdditionalInfo
      isArray: true
- name: ErrorAdditionalInfo
  description: The resource management error additional info.
  kind: object
  properties:
  - name: type
    isReadyOnly: true
    description: The additional info type.
    types:
    - uid: string
  - name: info
    isReadyOnly: true
    description: The additional info.
    types:
    - uid: object
examples:
- name: PrivateLinkScopeCreate
  request:
    uri: PUT https://management.azure.com/subscriptions/86dc51d3-92ed-4d7e-947a-775ea79b4919/resourceGroups/my-resource-group/providers/Microsoft.HybridCompute/privateLinkScopes/my-privatelinkscope?api-version=2021-05-20
    body: >-
      {
        "location": "westus"
      }
    codeTab: |+
      # [HTTP](#tab/HTTP)
      ``` http
      PUT https://management.azure.com/subscriptions/86dc51d3-92ed-4d7e-947a-775ea79b4919/resourceGroups/my-resource-group/providers/Microsoft.HybridCompute/privateLinkScopes/my-privatelinkscope?api-version=2021-05-20

      {
        "location": "westus"
      }

      ```

      # [JavaScript](#tab/JavaScript)
      ``` js
      const { HybridComputeManagementClient } = require("@azure/arm-hybridcompute");
      const { DefaultAzureCredential } = require("@azure/identity");

      async function privateLinkScopeCreate() {
        const subscriptionId = "86dc51d3-92ed-4d7e-947a-775ea79b4919";
        const resourceGroupName = "my-resource-group";
        const scopeName = "my-privatelinkscope";
        const parameters = { location: "westus" };
        const credential = new DefaultAzureCredential();
        const client = new HybridComputeManagementClient(credential, subscriptionId);
        const result = await client.privateLinkScopes.createOrUpdate(
          resourceGroupName,
          scopeName,
          parameters
        );
        console.log(result);
      }

      privateLinkScopeCreate().catch(console.error);

      ```
      Read this [SDK documentation](https://github.com/Azure/azure-sdk-for-js/blob/%40azure%2Farm-hybridcompute_3.1.0-beta.1/sdk/hybridcompute/arm-hybridcompute/README.md) on how to add the SDK to your project and authenticate.
  responses:
  - statusCode: "200"
    body: >-
      {
        "id": "/subscriptions/86dc51d3-92ed-4d7e-947a-775ea79b4919/resourceGroups/my-resource-group/providers/microsoft.hybridcompute/privateLinkScopes/my-privatelinkscope",
        "name": "my-privatelinkscope",
        "type": "Microsoft.HybridCompute/privateLinkScopes",
        "location": "westus",
        "tags": {},
        "properties": {
          "privateLinkScopeId": "e5dc51d3-92ed-4d7e-947a-775ea79b4919",
          "provisioningState": "Succeeded",
          "publicNetworkAccess": "Disabled"
        }
      }
  - statusCode: "201"
    body: >-
      {
        "id": "/subscriptions/86dc51d3-92ed-4d7e-947a-775ea79b4919/resourceGroups/my-resource-group/providers/microsoft.hybridcompute/privateLinkScopes/my-privatelinkscope",
        "name": "my-privatelinkscope",
        "type": "Microsoft.HybridCompute/privateLinkScopes",
        "location": "westus",
        "tags": {},
        "properties": {
          "privateLinkScopeId": "e5dc51d3-92ed-4d7e-947a-775ea79b4919",
          "provisioningState": "Succeeded",
          "publicNetworkAccess": "Disabled"
        }
      }
- name: PrivateLinkScopeUpdate
  request:
    uri: PUT https://management.azure.com/subscriptions/86dc51d3-92ed-4d7e-947a-775ea79b4919/resourceGroups/my-resource-group/providers/Microsoft.HybridCompute/privateLinkScopes/my-privatelinkscope?api-version=2021-05-20
    body: >-
      {
        "location": "westus",
        "tags": {
          "Tag1": "Value1"
        }
      }
    codeTab: |+
      # [HTTP](#tab/HTTP)
      ``` http
      PUT https://management.azure.com/subscriptions/86dc51d3-92ed-4d7e-947a-775ea79b4919/resourceGroups/my-resource-group/providers/Microsoft.HybridCompute/privateLinkScopes/my-privatelinkscope?api-version=2021-05-20

      {
        "location": "westus",
        "tags": {
          "Tag1": "Value1"
        }
      }

      ```

      # [JavaScript](#tab/JavaScript)
      ``` js
      const { HybridComputeManagementClient } = require("@azure/arm-hybridcompute");
      const { DefaultAzureCredential } = require("@azure/identity");

      async function privateLinkScopeUpdate() {
        const subscriptionId = "86dc51d3-92ed-4d7e-947a-775ea79b4919";
        const resourceGroupName = "my-resource-group";
        const scopeName = "my-privatelinkscope";
        const parameters = {
          location: "westus",
          tags: { tag1: "Value1" },
        };
        const credential = new DefaultAzureCredential();
        const client = new HybridComputeManagementClient(credential, subscriptionId);
        const result = await client.privateLinkScopes.createOrUpdate(
          resourceGroupName,
          scopeName,
          parameters
        );
        console.log(result);
      }

      privateLinkScopeUpdate().catch(console.error);

      ```
      Read this [SDK documentation](https://github.com/Azure/azure-sdk-for-js/blob/%40azure%2Farm-hybridcompute_3.1.0-beta.1/sdk/hybridcompute/arm-hybridcompute/README.md) on how to add the SDK to your project and authenticate.
  responses:
  - statusCode: "200"
    body: >-
      {
        "id": "/subscriptions/86dc51d3-92ed-4d7e-947a-775ea79b4919/resourceGroups/my-resource-group/providers/microsoft.hybridCompute/privateLinkScopes/my-privatelinkscope",
        "name": "my-privatelinkscope",
        "type": "Microsoft.HybridCompute/privateLinkScopes",
        "location": "westus",
        "tags": {
          "Tag1": "Value1"
        },
        "properties": {
          "privateLinkScopeId": "e5dc51d3-92ed-4d7e-947a-775ea79b4919",
          "provisioningState": "Succeeded",
          "publicNetworkAccess": "Disabled"
        }
      }
  - statusCode: "201"
    body: >-
      {
        "id": "/subscriptions/86dc51d3-92ed-4d7e-947a-775ea79b4919/resourceGroups/my-resource-group/providers/microsoft.hybridCompute/privateLinkScopes/my-privatelinkscope",
        "name": "my-privatelinkscope",
        "type": "Microsoft.HybridCompute/privateLinkScopes",
        "location": "westus",
        "tags": {
          "Tag1": "Value1"
        },
        "properties": {
          "privateLinkScopeId": "e5dc51d3-92ed-4d7e-947a-775ea79b4919",
          "provisioningState": "Succeeded",
          "publicNetworkAccess": "Disabled"
        }
      }
security:
- name: azure_auth
  type: oauth2
  description: Azure Active Directory OAuth2 Flow
  flow: implicit
  authorizationUrl: https://login.microsoftonline.com/common/oauth2/authorize
  scopes:
  - name: user_impersonation
    description: impersonate your user account
metadata:
  description: 'Creates (or updates) a Azure Arc PrivateLinkScope. Note: You cannot specify a different value for InstrumentationKey nor AppId in the Put operation.'
errorCodes: []
