### YamlMime:RESTOperation
uid: cognitiveservices-qnamaker.qnamaker5.0preview2.prebuilt.generateanswer
name: Generate Answer
service: Cognitive Services - QnA Maker
groupName: Prebuilt
apiVersion: v5.0-preview.2
summary: GenerateAnswer call to query text in documents.
consumes:
- application/json
produces:
- application/json
paths:
- content: POST {Endpoint}/qnamaker/v5.0-preview.2/generateAnswer
- content: POST {Endpoint}/qnamaker/v5.0-preview.2/generateAnswer?stringIndexType={stringIndexType}
  isOptional: true
uriParameters:
- name: Endpoint
  in: path
  isRequired: true
  skipUrlEncoding: true
  description: Supported Cognitive Services endpoint (e.g., https://< qnamaker-resource-name >.api.cognitiveservices.azure.com).
  types:
  - uid: string
- name: stringIndexType
  in: query
  description: (Optional) Specifies the method used to interpret string offsets.  Defaults to Text Elements (Graphemes) according to Unicode v8.0.0.
  types:
  - uid: string
responses:
- name: 200 OK
  description: Prebuilt GenerateAnswer call response.
  types:
  - uid: GenerateAnswerBatchResultItem
    isArray: true
- name: Other Status Codes
  description: Error response.
  types:
  - uid: ErrorResponse
requestBody:
- name: default
  parameters:
  - name: question
    in: body
    isRequired: true
    description: User question to query against the given documents.
    types:
    - uid: string
  - name: documents
    in: body
    isRequired: true
    description: Documents to be searched for given question.
    types:
    - uid: TextInput
      isArray: true
  - name: language
    in: body
    description: (Optional) Language of the documents. This is ISO 639-1 representation of a language. For example, use "en" for English; "es" for Spanish etc. If not set, use "en" for English as default.
    types:
    - uid: string
requestHeader:
- name: Ocp-Apim-Subscription-Key
  in: header
  isRequired: true
  types:
  - uid: string
definitions:
- name: TextInput
  description: List of documents to be queried over.
  kind: object
  properties:
  - name: id
    description: Unique identifier for the document.
    types:
    - uid: string
  - name: text
    description: Text contents of the document
    types:
    - uid: string
- name: GenerateAnswerBatchResultItem
  description: Represents Prebuilt Answer Result.
  kind: object
  properties:
  - name: answer
    description: Answer.
    types:
    - uid: string
  - name: score
    description: Search result score.
    types:
    - uid: number
  - name: id
    description: Document Id.
    types:
    - uid: string
  - name: answerSpan
    description: Answer span object with respect to user's question.
    types:
    - uid: AnswerSpan
  - name: answerStartIndex
    description: Start index of answer in document text.
    types:
    - uid: integer
  - name: answerEndIndex
    description: End index of answer in document text.
    types:
    - uid: integer
- name: ErrorResponse
  description: Error response. As per Microsoft One API guidelines - https://github.com/Microsoft/api-guidelines/blob/vNext/Guidelines.md#7102-error-condition-responses.
  kind: object
  properties:
  - name: error
    description: The error object.
    types:
    - uid: Error
- name: PrebuiltQuery
  description: POST body schema to query the documents via Prebuilt Question Answering.
  kind: object
  properties:
  - name: question
    description: User question to query against the given documents.
    types:
    - uid: string
  - name: documents
    description: Documents to be searched for given question.
    types:
    - uid: TextInput
      isArray: true
  - name: language
    description: (Optional) Language of the documents. This is ISO 639-1 representation of a language. For example, use "en" for English; "es" for Spanish etc. If not set, use "en" for English as default.
    types:
    - uid: string
- name: AnswerSpan
  description: Answer span object of QnA with respect to user's question.
  kind: object
  properties:
  - name: text
    description: Predicted text of answer span.
    types:
    - uid: string
  - name: score
    description: Predicted score of answer span.
    types:
    - uid: number
  - name: startIndex
    description: Start index of answer span in answer.
    types:
    - uid: integer
  - name: endIndex
    description: End index of answer span in answer.
    types:
    - uid: integer
- name: Error
  description: The error object. As per Microsoft One API guidelines - https://github.com/Microsoft/api-guidelines/blob/vNext/Guidelines.md#7102-error-condition-responses.
  kind: object
  properties:
  - name: code
    description: One of a server-defined set of error codes.
    types:
    - uid: ErrorCodeType
  - name: message
    description: A human-readable representation of the error.
    types:
    - uid: string
  - name: target
    description: The target of the error.
    types:
    - uid: string
  - name: details
    description: An array of details about specific errors that led to this reported error.
    types:
    - uid: Error
      isArray: true
  - name: innerError
    description: An object containing more specific information than the current object about the error.
    types:
    - uid: InnerErrorModel
- name: ErrorCodeType
  description: One of a server-defined set of error codes.
  kind: enum
  properties:
  - name: BadArgument
    types:
    - uid: string
  - name: Forbidden
    types:
    - uid: string
  - name: NotFound
    types:
    - uid: string
  - name: KbNotFound
    types:
    - uid: string
  - name: Unauthorized
    types:
    - uid: string
  - name: Unspecified
    types:
    - uid: string
  - name: EndpointKeysError
    types:
    - uid: string
  - name: QuotaExceeded
    types:
    - uid: string
  - name: QnaRuntimeError
    types:
    - uid: string
  - name: SKULimitExceeded
    types:
    - uid: string
  - name: OperationNotFound
    types:
    - uid: string
  - name: ServiceError
    types:
    - uid: string
  - name: ValidationFailure
    types:
    - uid: string
  - name: ExtractionFailure
    types:
    - uid: string
- name: InnerErrorModel
  description: An object containing more specific information about the error. As per Microsoft One API guidelines - https://github.com/Microsoft/api-guidelines/blob/vNext/Guidelines.md#7102-error-condition-responses.
  kind: object
  properties:
  - name: code
    description: A more specific error code than was provided by the containing error.
    types:
    - uid: string
  - name: innerError
    description: An object containing more specific information than the current object about the error.
    types:
    - uid: InnerErrorModel
examples:
- name: Successful query
  request:
    uri: POST {Endpoint}/qnamaker/v5.0-preview.2/generateAnswer
    body: >-
      {
        "question": "qna maker and luis",
        "documents": [
          {
            "text": "Graphics  Surprise, surprise -- our 4K Envy 13 came with a discrete graphics card. While the Nvidia GeForce MX250 GPU isn't meant for demanding gaming",
            "id": "1"
          },
          {
            "text": "Graphics  Surprise, surprise -- our 4K Envy 13 came with a discrete graphics card. While the Nvidia GeForce MX250 GPU isn't meant for demanding gaming",
            "id": "2"
          }
        ],
        "language": "en"
      }
    codeTab: |+
      # [HTTP](#tab/HTTP)
      ``` http
      POST {Endpoint}/qnamaker/v5.0-preview.2/generateAnswer


      {
        "question": "qna maker and luis",
        "documents": [
          {
            "text": "Graphics  Surprise, surprise -- our 4K Envy 13 came with a discrete graphics card. While the Nvidia GeForce MX250 GPU isn't meant for demanding gaming",
            "id": "1"
          },
          {
            "text": "Graphics  Surprise, surprise -- our 4K Envy 13 came with a discrete graphics card. While the Nvidia GeForce MX250 GPU isn't meant for demanding gaming",
            "id": "2"
          }
        ],
        "language": "en"
      }

      ```

    headers:
    - name: Ocp-Apim-Subscription-Key
      value: '{API key}'
  responses:
  - statusCode: "200"
    body: >-
      {
        "answers": [
          {
            "answer": "Graphics  Surprise, surprise -- our 4K Envy 13 came with a discrete graphics card. While the Nvidia GeForce MX250 GPU isn't meant for demanding gaming, it is a step up from integrated graphics as proven by comparing it to the UHD 620 GPU in the FHD model.",
            "answerSpan": {
              "endIndex": 82,
              "startIndex": 60,
              "text": "discrete graphics card",
              "score": 0
            },
            "answerEndIndex": 655,
            "answerStartIndex": 0,
            "id": 1,
            "score": 100
          }
        ]
      }
security:
- name: Ocp-Apim-Subscription-Key
  type: apiKey
  in: header
metadata:
  description: Learn more about Cognitive Services - QnA Maker service - GenerateAnswer call to query text in documents.
errorCodes: []
