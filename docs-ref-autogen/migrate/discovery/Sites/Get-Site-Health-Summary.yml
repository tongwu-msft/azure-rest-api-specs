### YamlMime:RESTOperation
uid: management.azure.com.migrate.discovery.sites.getsitehealthsummary
name: Get Site Health Summary
service: Azure Migrate
groupName: Sites
apiVersion: 2020-01-01
summary: Method to get site health summary.
consumes: []
produces:
- application/json
paths:
- content: POST https://management.azure.com/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.OffAzure/VMwareSites/{siteName}/healthSummary?api-version=2020-01-01
uriParameters:
- name: subscriptionId
  in: path
  isRequired: true
  description: The ID of the target subscription.
  types:
  - uid: string
- name: resourceGroupName
  in: path
  isRequired: true
  description: The name of the resource group. The name is case insensitive.
  types:
  - uid: string
- name: siteName
  in: path
  isRequired: true
  description: Site name.
  types:
  - uid: string
- name: api-version
  in: query
  isRequired: true
  description: The API version to use for this operation.
  types:
  - uid: string
responses:
- name: 200 OK
  description: OK
  types:
  - uid: SiteHealthSummaryCollection
requestHeader: []
definitions:
- name: SiteHealthSummaryCollection
  description: Collection of SiteHealthSummary.
  kind: object
  properties:
  - name: value
    isReadyOnly: true
    description: List of SiteHealthSummary.
    types:
    - uid: SiteHealthSummary
      isArray: true
  - name: nextLink
    isReadyOnly: true
    description: Value of next link.
    types:
    - uid: string
- name: SiteHealthSummary
  description: Site health summary model.
  kind: object
  properties:
  - name: applianceName
    isReadyOnly: true
    description: Appliance name.
    types:
    - uid: string
  - name: errorMessage
    isReadyOnly: true
    description: Error message.
    types:
    - uid: string
  - name: summaryMessage
    isReadyOnly: true
    description: Summary message.
    types:
    - uid: string
  - name: errorId
    isReadyOnly: true
    description: Error Id.
    types:
    - uid: integer
  - name: errorCode
    isReadyOnly: true
    description: Error code.
    types:
    - uid: string
  - name: affectedObjectsCount
    description: Count of affected objects.
    types:
    - uid: integer
  - name: hitCount
    description: Hit count of the error.
    types:
    - uid: integer
  - name: severity
    isReadyOnly: true
    description: Severity of error.
    types:
    - uid: string
  - name: remediationGuidance
    isReadyOnly: true
    description: Remediation guidance.
    types:
    - uid: string
  - name: affectedResourceType
    isReadyOnly: true
    description: Affected resource type.
    types:
    - uid: string
  - name: affectedResources
    description: Affected resources.
    types:
    - uid: string
      isArray: true
examples:
- name: Get VMware site health summary.
  request:
    uri: POST https://management.azure.com/subscriptions/4bd2aa0f-2bd2-4d67-91a8-5a4533d58600/resourceGroups/rahasijaBugBash050919/providers/Microsoft.OffAzure/VMwareSites/rahasapp122119d37csite/healthSummary?api-version=2020-01-01
    codeTab: |+
      # [HTTP](#tab/HTTP)
      ``` http
      POST https://management.azure.com/subscriptions/4bd2aa0f-2bd2-4d67-91a8-5a4533d58600/resourceGroups/rahasijaBugBash050919/providers/Microsoft.OffAzure/VMwareSites/rahasapp122119d37csite/healthSummary?api-version=2020-01-01
      ```

  responses:
  - statusCode: "200"
    body: >-
      {
        "value": [
          {
            "applianceName": "rahasapp122119",
            "errorMessage": "Unable to discover applications due to VMware error: 'The operation is not allowed in the current state.'.",
            "summaryMessage": "Action failed on vCenter/ESXi server.",
            "errorId": 8084,
            "errorCode": "VimException",
            "affectedObjectsCount": 2,
            "hitCount": 2,
            "severity": "Error",
            "remediationGuidance": "Review our documentation on how to fix the error.",
            "affectedResourceType": "Microsoft.OffAzure/VMwareSites/machines",
            "affectedResources": [
              "10-150-8-50-6af5f800-e9f6-56ff-9c3c-7be56d242c31_5027298a-5c7c-b63e-d038-42a90ad0ef22",
              "10-150-8-50-6af5f800-e9f6-56ff-9c3c-7be56d242c31_5027dfb2-ecc3-47ad-e49c-3c6ebd685cc8"
            ]
          },
          {
            "applianceName": "rahasapp122119",
            "errorMessage": "Unable to discover the applications installed on the VM.",
            "summaryMessage": "VMWare tool status is not Running.",
            "errorId": 9002,
            "errorCode": "VMWareToolStatusIsNotRunning",
            "affectedObjectsCount": 7,
            "hitCount": 7,
            "severity": "Error",
            "remediationGuidance": "Install/Reinstall the vmware tools in the VM and check if it is running.",
            "affectedResourceType": "Microsoft.OffAzure/VMwareSites/machines",
            "affectedResources": [
              "10-150-8-50-6af5f800-e9f6-56ff-9c3c-7be56d242c31_50279091-162f-3802-695e-de9dc653b478",
              "10-150-8-50-6af5f800-e9f6-56ff-9c3c-7be56d242c31_5037b3e1-d9e9-e7a0-3c33-68786c1eb60d",
              "10-150-8-50-6af5f800-e9f6-56ff-9c3c-7be56d242c31_5027af9e-44a0-6551-2458-85f4e7cde22c",
              "10-150-8-50-6af5f800-e9f6-56ff-9c3c-7be56d242c31_5037163d-2fb5-4231-6a68-8bfdc59137db",
              "10-150-8-50-6af5f800-e9f6-56ff-9c3c-7be56d242c31_5037a350-9bae-235e-4a59-aefd282b866f",
              "10-150-8-50-6af5f800-e9f6-56ff-9c3c-7be56d242c31_50374089-90e7-d054-ba66-a7bd125cd39f",
              "10-150-8-50-6af5f800-e9f6-56ff-9c3c-7be56d242c31_5037f46d-c732-867f-0270-2ac61d936410"
            ]
          }
        ],
        "nextLink": null
      }
security: []
metadata:
  description: Learn more about Azure Migrate service - Method to get site health summary.
errorCodes: []
