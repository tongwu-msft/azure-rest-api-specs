### YamlMime:RESTOperation
uid: management.azure.com.webpubsub.controlplane.webpubsubhubs.list
name: List
service: Azure Web PubSub Service
groupName: Web Pub Sub Hubs
apiVersion: 2022-08-01-preview
summary: List hub settings.
consumes:
- application/json
produces:
- application/json
paths:
- content: GET https://management.azure.com/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.SignalRService/webPubSub/{resourceName}/hubs?api-version=2022-08-01-preview
uriParameters:
- name: subscriptionId
  in: path
  isRequired: true
  description: Gets subscription Id which uniquely identify the Microsoft Azure subscription. The subscription ID forms part of the URI for every service call.
  types:
  - uid: string
- name: resourceGroupName
  in: path
  isRequired: true
  description: The name of the resource group that contains the resource. You can obtain this value from the Azure Resource Manager API or the portal.
  types:
  - uid: string
- name: resourceName
  in: path
  isRequired: true
  description: The name of the resource.
  types:
  - uid: string
- name: api-version
  in: query
  isRequired: true
  description: Client Api Version.
  types:
  - uid: string
responses:
- name: 200 OK
  description: Success. The response describes hub settings of the resource.
  types:
  - uid: WebPubSubHubList
- name: Other Status Codes
  description: Error response describing why the operation failed.
  types:
  - uid: ErrorResponse
requestHeader: []
definitions:
- name: WebPubSubHubList
  description: Hub setting list
  kind: object
  properties:
  - name: value
    description: List of hub settings to this resource.
    types:
    - uid: WebPubSubHub
      isArray: true
  - name: nextLink
    isReadyOnly: true
    description: >-
      The URL the client should use to fetch the next page (per server side paging).

      It's null for now, added for future use.
    types:
    - uid: string
- name: ErrorResponse
  description: Error response
  kind: object
  properties:
  - name: error
    description: The error object.
    types:
    - uid: ErrorDetail
- name: WebPubSubHub
  description: A hub setting
  kind: object
  properties:
  - name: systemData
    isReadyOnly: true
    description: Metadata pertaining to creation and last modification of the resource.
    types:
    - uid: systemData
  - name: properties
    description: Properties of a hub.
    types:
    - uid: WebPubSubHubProperties
  - name: id
    isReadyOnly: true
    description: Fully qualified resource Id for the resource.
    types:
    - uid: string
  - name: name
    isReadyOnly: true
    description: The name of the resource.
    types:
    - uid: string
  - name: type
    isReadyOnly: true
    description: The type of the resource - e.g. "Microsoft.SignalRService/SignalR"
    types:
    - uid: string
- name: ErrorDetail
  description: The error detail.
  kind: object
  properties:
  - name: code
    isReadyOnly: true
    description: The error code.
    types:
    - uid: string
  - name: message
    isReadyOnly: true
    description: The error message.
    types:
    - uid: string
  - name: target
    isReadyOnly: true
    description: The error target.
    types:
    - uid: string
  - name: details
    isReadyOnly: true
    description: The error details.
    types:
    - uid: ErrorDetail
      isArray: true
  - name: additionalInfo
    isReadyOnly: true
    description: The error additional info.
    types:
    - uid: ErrorAdditionalInfo
      isArray: true
- name: systemData
  description: Metadata pertaining to creation and last modification of the resource.
  kind: object
  properties:
  - name: createdBy
    description: The identity that created the resource.
    types:
    - uid: string
  - name: createdByType
    description: The type of identity that created the resource.
    types:
    - uid: createdByType
  - name: createdAt
    description: The timestamp of resource creation (UTC).
    types:
    - uid: string
  - name: lastModifiedBy
    description: The identity that last modified the resource.
    types:
    - uid: string
  - name: lastModifiedByType
    description: The type of identity that last modified the resource.
    types:
    - uid: createdByType
  - name: lastModifiedAt
    description: The timestamp of resource last modification (UTC)
    types:
    - uid: string
- name: WebPubSubHubProperties
  description: Properties of a hub.
  kind: object
  properties:
  - name: eventHandlers
    description: Event handler of a hub.
    types:
    - uid: EventHandler
      isArray: true
  - name: eventListeners
    description: >-
      Event listener settings for forwarding your client events to listeners.

      Event listener is transparent to Web PubSub clients, and it doesn't return any result to clients nor interrupt the lifetime of clients.

      One event can be sent to multiple listeners, as long as it matches the filters in those listeners. The order of the array elements doesn't matter.

      Maximum count of event listeners among all hubs is 10.
    types:
    - uid: EventListener
      isArray: true
  - name: anonymousConnectPolicy
    description: 'The settings for configuring if anonymous connections are allowed for this hub: "allow" or "deny". Default to "deny".'
    types:
    - uid: string
    defaultValue: deny
- name: ErrorAdditionalInfo
  description: The resource management error additional info.
  kind: object
  properties:
  - name: type
    isReadyOnly: true
    description: The additional info type.
    types:
    - uid: string
  - name: info
    isReadyOnly: true
    description: The additional info.
    types:
    - uid: object
- name: createdByType
  description: The type of identity that created the resource.
  kind: enum
  properties:
  - name: User
    types:
    - uid: string
  - name: Application
    types:
    - uid: string
  - name: ManagedIdentity
    types:
    - uid: string
  - name: Key
    types:
    - uid: string
- name: EventHandler
  description: Properties of event handler.
  kind: object
  properties:
  - name: urlTemplate
    description: >-
      Gets or sets the EventHandler URL template. You can use a predefined parameter {hub} and {event} inside the template, the value of the EventHandler URL is dynamically calculated when the client request comes in.

      For example, UrlTemplate can be `http://example.com/api/{hub}/{event}`. The host part can't contains parameters.
    types:
    - uid: string
  - name: userEventPattern
    description: >-
      Gets or sets the matching pattern for event names.

      There are 3 kinds of patterns supported:
          1. "*", it matches any event name
          2. Combine multiple events with ",", for example "event1,event2", it matches event "event1" and "event2"
          3. A single event name, for example, "event1", it matches "event1"
    types:
    - uid: string
  - name: systemEvents
    description: Gets or sets the list of system events.
    types:
    - uid: string
      isArray: true
  - name: auth
    description: Upstream auth settings. If not set, no auth is used for upstream messages.
    types:
    - uid: UpstreamAuthSettings
- name: EventListener
  description: A setting defines which kinds of events should be sent to which endpoint.
  kind: object
  properties:
  - name: filter
    description: A base class for event filter which determines whether an event should be sent to an event listener.
    types:
    - uid: EventNameFilter
    typesTitle: EventListenerFilter
  - name: endpoint
    description: An endpoint specifying where Web PubSub should send events to.
    types:
    - uid: EventHubEndpoint
    typesTitle: EventListenerEndpoint
- name: UpstreamAuthSettings
  description: Upstream auth settings. If not set, no auth is used for upstream messages.
  kind: object
  properties:
  - name: type
    description: Upstream auth type enum.
    types:
    - uid: UpstreamAuthType
  - name: managedIdentity
    description: Managed identity settings for upstream.
    types:
    - uid: ManagedIdentitySettings
- name: UpstreamAuthType
  description: Upstream auth type enum.
  kind: enum
  properties:
  - name: None
    types:
    - uid: string
  - name: ManagedIdentity
    types:
    - uid: string
- name: ManagedIdentitySettings
  description: Managed identity settings for upstream.
  kind: object
  properties:
  - name: resource
    description: >-
      The Resource indicating the App ID URI of the target resource.

      It also appears in the aud (audience) claim of the issued token.
    types:
    - uid: string
- name: EventNameFilter
  description: Filter events by their name.
  kind: object
  properties:
  - name: systemEvents
    description: 'Gets or sets a list of system events. Supported events: "connected" and "disconnected". Blocking event "connect" is not supported because it requires a response.'
    types:
    - uid: string
      isArray: true
  - name: userEventPattern
    description: >-
      Gets or sets a matching pattern for event names.

      There are 3 kinds of patterns supported:
          1. "*", it matches any event name
          2. Combine multiple events with ",", for example "event1,event2", it matches events "event1" and "event2"
          3. A single event name, for example, "event1", it matches "event1"
    types:
    - uid: string
  - name: type
    description: ''
    types:
    - uid: EventName
    typesTitle: string
- name: EventHubEndpoint
  description: "An Event Hub endpoint. \r\nThe managed identity of Web PubSub service must be enabled, and the identity should have the \"Azure Event Hubs Data sender\" role to access Event Hub."
  kind: object
  properties:
  - name: fullyQualifiedNamespace
    description: The fully qualified namespace name of the Event Hub resource. For example, "example.servicebus.windows.net".
    types:
    - uid: string
  - name: eventHubName
    description: The name of the Event Hub.
    types:
    - uid: string
  - name: type
    description: ''
    types:
    - uid: EventHub
    typesTitle: string
examples:
- name: WebPubSubHubs_List
  request:
    uri: GET https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/myResourceGroup/providers/Microsoft.SignalRService/webPubSub/myWebPubSubService/hubs?api-version=2022-08-01-preview
    codeTab: |+
      # [HTTP](#tab/HTTP)
      ``` http
      GET https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/myResourceGroup/providers/Microsoft.SignalRService/webPubSub/myWebPubSubService/hubs?api-version=2022-08-01-preview
      ```

  responses:
  - statusCode: "200"
    body: >-
      {
        "value": [
          {
            "properties": {
              "eventHandlers": [
                {
                  "urlTemplate": "http://host.com",
                  "userEventPattern": "*",
                  "systemEvents": [
                    "connect",
                    "connected"
                  ],
                  "auth": {
                    "type": "ManagedIdentity",
                    "managedIdentity": {
                      "resource": "abc"
                    }
                  }
                }
              ],
              "eventListeners": [
                {
                  "filter": {
                    "type": "EventName",
                    "systemEvents": [
                      "connected",
                      "disconnected"
                    ],
                    "userEventPattern": "*"
                  },
                  "endpoint": {
                    "type": "EventHub",
                    "fullyQualifiedNamespace": "example.servicebus.windows.net",
                    "eventHubName": "eventHubName1"
                  }
                }
              ],
              "anonymousConnectPolicy": "allow"
            },
            "id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/myResourceGroup/providers/Microsoft.SignalRService/WebPubSub/myWebPubSubService/hubs/exampleHub",
            "name": "exampleHub",
            "type": "Microsoft.SignalRService/WebPubSub/hubs"
          }
        ]
      }
security:
- name: azure_auth
  type: oauth2
  description: Azure Active Directory OAuth2 Flow
  flow: implicit
  authorizationUrl: https://login.microsoftonline.com/common/oauth2/authorize
  scopes:
  - name: user_impersonation
    description: impersonate your user account
metadata:
  description: >
    Learn more about Azure Web PubSub Service service - List hub settings.
errorCodes: []
