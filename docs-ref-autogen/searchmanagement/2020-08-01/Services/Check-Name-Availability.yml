### YamlMime:RESTOperation
uid: management.azure.com.searchmanagement.2020-08-01.services.checknameavailability
name: Check Name Availability
service: Search Management
groupName: Services
apiVersion: 2020-08-01
summary: Checks whether or not the given search service name is available for use. Search service names must be globally unique since they are part of the service URI (https://<name>.search.windows.net).
consumes:
- application/json
produces:
- application/json
paths:
- content: POST https://management.azure.com/subscriptions/{subscriptionId}/providers/Microsoft.Search/checkNameAvailability?api-version=2020-08-01
uriParameters:
- name: subscriptionId
  in: path
  isRequired: true
  description: The unique identifier for a Microsoft Azure subscription. You can obtain this value from the Azure Resource Manager API or the portal.
  types:
  - uid: string
- name: api-version
  in: query
  isRequired: true
  description: The API version to use for each request.
  types:
  - uid: string
responses:
- name: 200 OK
  description: The name check completed. The response contains details of whether the name is valid and available. If the name is invalid, the response also contains a message explaining why not.
  types:
  - uid: CheckNameAvailabilityOutput
- name: Other Status Codes
  description: "HTTP 400 (Bad Request): The given resource type is not 'searchServices'."
  types:
  - uid: CloudError
requestBody:
- name: default
  parameters:
  - name: name
    in: body
    isRequired: true
    description: The search service name to validate. Search service names must only contain lowercase letters, digits or dashes, cannot use dash as the first two or last one characters, cannot contain consecutive dashes, and must be between 2 and 60 characters in length.
    types:
    - uid: string
  - name: type
    in: body
    isRequired: true
    description: The type of the resource whose name is to be validated. This value must always be 'searchServices'.
    types:
    - uid: ResourceType
requestHeader:
- name: x-ms-client-request-id
  in: header
  description: A client-generated GUID value that identifies this request. If specified, this will be included in response information as a way to track the request.
  types:
  - uid: string
  format: uuid
definitions:
- name: CheckNameAvailabilityOutput
  description: Output of check name availability API.
  kind: object
  properties:
  - name: nameAvailable
    isReadyOnly: true
    description: A value indicating whether the name is available.
    types:
    - uid: boolean
  - name: reason
    isReadyOnly: true
    description: The reason why the name is not available. 'Invalid' indicates the name provided does not match the naming requirements (incorrect length, unsupported characters, etc.). 'AlreadyExists' indicates that the name is already in use and is therefore unavailable.
    types:
    - uid: UnavailableNameReason
  - name: message
    isReadyOnly: true
    description: A message that explains why the name is invalid and provides resource naming requirements. Available only if 'Invalid' is returned in the 'reason' property.
    types:
    - uid: string
- name: CloudError
  description: Contains information about an API error.
  kind: object
  properties:
  - name: error
    description: Describes a particular API error with an error code and a message.
    types:
    - uid: CloudErrorBody
- name: CheckNameAvailabilityInput
  description: Input of check name availability API.
  kind: object
  properties:
  - name: name
    description: The search service name to validate. Search service names must only contain lowercase letters, digits or dashes, cannot use dash as the first two or last one characters, cannot contain consecutive dashes, and must be between 2 and 60 characters in length.
    types:
    - uid: string
  - name: type
    description: The type of the resource whose name is to be validated. This value must always be 'searchServices'.
    types:
    - uid: ResourceType
- name: UnavailableNameReason
  description: The reason why the name is not available. 'Invalid' indicates the name provided does not match the naming requirements (incorrect length, unsupported characters, etc.). 'AlreadyExists' indicates that the name is already in use and is therefore unavailable.
  kind: enum
  properties:
  - name: Invalid
    types:
    - uid: string
  - name: AlreadyExists
    types:
    - uid: string
- name: CloudErrorBody
  description: Describes a particular API error with an error code and a message.
  kind: object
  properties:
  - name: code
    description: An error code that describes the error condition more precisely than an HTTP status code. Can be used to programmatically handle specific error cases.
    types:
    - uid: string
  - name: message
    description: A message that describes the error in detail and provides debugging information.
    types:
    - uid: string
  - name: target
    description: The target of the particular error (for example, the name of the property in error).
    types:
    - uid: string
  - name: details
    description: Contains nested errors that are related to this error.
    types:
    - uid: CloudErrorBody
      isArray: true
- name: ResourceType
  description: The type of the resource whose name is to be validated. This value must always be 'searchServices'.
  kind: enum
  properties:
  - name: searchServices
    types:
    - uid: string
examples:
- name: SearchCheckNameAvailability
  request:
    uri: POST https://management.azure.com/subscriptions/subid/providers/Microsoft.Search/checkNameAvailability?api-version=2020-08-01
    body: >-
      {
        "name": "mysearchservice",
        "type": "searchServices"
      }
    codeTab: |+
      # [HTTP](#tab/HTTP)
      ``` http
      POST https://management.azure.com/subscriptions/subid/providers/Microsoft.Search/checkNameAvailability?api-version=2020-08-01

      {
        "name": "mysearchservice",
        "type": "searchServices"
      }

      ```

      # [Java](#tab/Java)
      ``` java
      import com.azure.core.util.Context;
      import com.azure.resourcemanager.search.models.CheckNameAvailabilityInput;

      /** Samples for Services CheckNameAvailability. */
      public final class Main {
          /*
           * x-ms-original-file: specification/search/resource-manager/Microsoft.Search/stable/2020-08-01/examples/SearchCheckNameAvailability.json
           */
          /**
           * Sample code: SearchCheckNameAvailability.
           *
           * @param azure The entry point for accessing resource management APIs in Azure.
           */
          public static void searchCheckNameAvailability(com.azure.resourcemanager.AzureResourceManager azure) {
              azure
                  .searchServices()
                  .manager()
                  .serviceClient()
                  .getServices()
                  .checkNameAvailabilityWithResponse(
                      new CheckNameAvailabilityInput().withName("mysearchservice"), null, Context.NONE);
          }
      }

      ```
      Read this [SDK documentation](https://github.com/Azure/azure-sdk-for-java/blob/azure-resourcemanager_2.17.0/sdk/resourcemanager/azure-resourcemanager/README.md) on how to add the SDK to your project and authenticate.
      # [Go](#tab/Go)
      ``` go
      package armsearch_test

      import (
      	"context"
      	"log"

      	"github.com/Azure/azure-sdk-for-go/sdk/azcore/to"
      	"github.com/Azure/azure-sdk-for-go/sdk/azidentity"
      	"github.com/Azure/azure-sdk-for-go/sdk/resourcemanager/search/armsearch"
      )

      // Generated from example definition: https://github.com/Azure/azure-rest-api-specs/tree/main/specification/search/resource-manager/Microsoft.Search/stable/2020-08-01/examples/SearchCheckNameAvailability.json
      func ExampleServicesClient_CheckNameAvailability() {
      	cred, err := azidentity.NewDefaultAzureCredential(nil)
      	if err != nil {
      		log.Fatalf("failed to obtain a credential: %v", err)
      	}
      	ctx := context.Background()
      	client, err := armsearch.NewServicesClient("subid", cred, nil)
      	if err != nil {
      		log.Fatalf("failed to create client: %v", err)
      	}
      	res, err := client.CheckNameAvailability(ctx,
      		armsearch.CheckNameAvailabilityInput{
      			Name: to.Ptr("mysearchservice"),
      			Type: to.Ptr("searchServices"),
      		},
      		&armsearch.SearchManagementRequestOptions{ClientRequestID: nil},
      		nil)
      	if err != nil {
      		log.Fatalf("failed to finish the request: %v", err)
      	}
      	// TODO: use response item
      	_ = res
      }

      ```
      Read this [SDK documentation](https://github.com/Azure/azure-sdk-for-go/blob/sdk%2Fresourcemanager%2Fsearch%2Farmsearch%2Fv1.0.0/sdk/resourcemanager/search/armsearch/README.md) on how to add the SDK to your project and authenticate.
      # [JavaScript](#tab/JavaScript)
      ``` js
      const { SearchManagementClient } = require("@azure/arm-search");
      const { DefaultAzureCredential } = require("@azure/identity");

      /**
       * This sample demonstrates how to Checks whether or not the given search service name is available for use. Search service names must be globally unique since they are part of the service URI (https://<name>.search.windows.net).
       *
       * @summary Checks whether or not the given search service name is available for use. Search service names must be globally unique since they are part of the service URI (https://<name>.search.windows.net).
       * x-ms-original-file: specification/search/resource-manager/Microsoft.Search/stable/2020-08-01/examples/SearchCheckNameAvailability.json
       */
      async function searchCheckNameAvailability() {
        const subscriptionId = "subid";
        const name = "mysearchservice";
        const credential = new DefaultAzureCredential();
        const client = new SearchManagementClient(credential, subscriptionId);
        const result = await client.services.checkNameAvailability(name);
        console.log(result);
      }

      searchCheckNameAvailability().catch(console.error);

      ```
      Read this [SDK documentation](https://github.com/Azure/azure-sdk-for-js/blob/%40azure%2Farm-search_3.0.1/sdk/search/arm-search/README.md) on how to add the SDK to your project and authenticate.
  responses:
  - statusCode: "200"
    body: >-
      {
        "nameAvailable": false,
        "reason": "AlreadyExists",
        "message": ""
      }
security:
- name: azure_auth
  type: oauth2
  description: Azure Active Directory OAuth2 Flow
  flow: implicit
  authorizationUrl: https://login.microsoftonline.com/common/oauth2/authorize
  scopes:
  - name: user_impersonation
    description: impersonate your user account
metadata:
  description: Checks whether or not the given search service name is available for use. Search service names must be globally unique since they are part of the service URI (h
errorCodes: []
