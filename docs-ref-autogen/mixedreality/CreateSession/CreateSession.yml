### YamlMime:RESTOperation
uid: mixedreality.createsession.createsession
name: Create Session
service: Mixed Reality
groupName: Create Session
apiVersion: 2021-01-01-preview
summary: Creates a new rendering session
consumes:
- application/json
produces:
- application/json
paths:
- content: PUT {endpoint}/accounts/{account_id}/sessions/{session_id}?api-version=2021-01-01-preview
uriParameters:
- name: endpoint
  in: path
  isRequired: true
  skipUrlEncoding: true
  description: The endpoint to use e.g. https://remoterendering.eastus.mixedreality.azure.com a list can be found at https://docs.microsoft.com/en-us/azure/remote-rendering/reference/regions
  types:
  - uid: string
- name: account_id
  in: path
  isRequired: true
  description: the Azure Remote Rendering account id
  types:
  - uid: string
  format: uuid
- name: session_id
  in: path
  isRequired: true
  description: An ID uniquely identifying the rendering session for the given account. The ID is case sensitive, can contain any combination of alphanumeric characters including hyphens and underscores, and cannot contain more than 256 characters.
  types:
  - uid: string
- name: api-version
  in: query
  isRequired: true
  description: The API version to be used with the HTTP request.
  types:
  - uid: string
responses:
- name: 200 OK
  description: Ok. The session was created successfully. A status code of 200 indicates that there was already a session with the same settings present. This is expected when session creation is retried.
  types:
  - uid: session_properties
- name: 201 Created
  headers:
  - name: MS-CV
    value: string
  description: Created. The session was created successfully.
  types:
  - uid: session_properties
- name: 400 Bad Request
  headers:
  - name: MS-CV
    value: string
  description: BadRequest
  types:
  - uid: error_response
- name: 401 Unauthorized
  headers:
  - name: MS-CV
    value: string
  - name: WWW-Authenticate
    value: string
  description: Unauthorized
- name: 403 Forbidden
  headers:
  - name: MS-CV
    value: string
  description: Forbidden
- name: Other Status Codes
  description: Conflict. A rendering session with the ID already exists for the remote rendering account.
  types:
  - uid: error_response
- name: Other Status Codes
  headers:
  - name: MS-CV
    value: string
  - name: Retry-After
    value: integer
  description: In case the rate limit has been exceeded.
- name: 500 Internal Server Error
  headers:
  - name: MS-CV
    value: string
  description: InternalError
  types:
  - uid: error_response
requestBody:
- name: default
  parameters:
  - name: maxLeaseTimeMinutes
    in: body
    isRequired: true
    description: The time in minutes the session will run after reaching the 'Ready' state.
    types:
    - uid: integer
  - name: size
    in: body
    isRequired: true
    description: Size of the server used for the rendering session. Remote Rendering with Standard size server has a maximum scene size of 20 million polygons. Remote Rendering with Premium size does not enforce a hard maximum, but performance may be degraded if your content exceeds the rendering capabilities of the service.
    types:
    - uid: SessionSize
requestHeader:
- name: Authorization
  in: header
  isRequired: true
  types:
  - uid: string
definitions:
- name: session_properties
  kind: object
  properties:
  - name: id
    description: The id of the session supplied when the sessions was created.
    types:
    - uid: string
  - name: arrInspectorPort
    isReadyOnly: true
    description: The TCP port at which the Azure Remote Rendering Inspector tool is hosted.
    types:
    - uid: integer
  - name: handshakePort
    isReadyOnly: true
    description: The TCP port used for the handshake.
    types:
    - uid: integer
  - name: elapsedTimeMinutes
    isReadyOnly: true
    description: Amount of time in minutes the session is or has been in Ready state. Time is rounded down to a full minute.
    types:
    - uid: integer
  - name: hostname
    isReadyOnly: true
    description: The hostname under which the rendering session is reachable.
    types:
    - uid: string
  - name: maxLeaseTimeMinutes
    isReadyOnly: true
    description: The time in minutes the session will run after reaching the 'Ready' state.
    types:
    - uid: integer
  - name: size
    description: Size of the server used for the rendering session. Remote Rendering with Standard size server has a maximum scene size of 20 million polygons. Remote Rendering with Premium size does not enforce a hard maximum, but performance may be degraded if your content exceeds the rendering capabilities of the service.
    types:
    - uid: SessionSize
  - name: status
    description: The status of the rendering session. Once the status reached the 'Ready' state it can be connected to. The terminal state is 'Stopped'.
    types:
    - uid: SessionStatus
  - name: teraflops
    isReadyOnly: true
    description: The computational power of the rendering session GPU measured in Teraflops.
    types:
    - uid: number
  - name: error
    isReadyOnly: true
    description: The error object containing details about the rendering session startup failure.
    types:
    - uid: error
  - name: creationTime
    isReadyOnly: true
    description: The time when the rendering session was created. Date and time in ISO 8601 format.
    types:
    - uid: string
- name: error_response
  kind: object
  properties:
  - name: error
    description: The error object containing details of why the request failed.
    types:
    - uid: error
- name: create_session_settings
  kind: object
  properties:
  - name: maxLeaseTimeMinutes
    description: The time in minutes the session will run after reaching the 'Ready' state.
    types:
    - uid: integer
  - name: size
    description: Size of the server used for the rendering session. Remote Rendering with Standard size server has a maximum scene size of 20 million polygons. Remote Rendering with Premium size does not enforce a hard maximum, but performance may be degraded if your content exceeds the rendering capabilities of the service.
    types:
    - uid: SessionSize
- name: SessionSize
  description: Size of the server used for the rendering session. Remote Rendering with Standard size server has a maximum scene size of 20 million polygons. Remote Rendering with Premium size does not enforce a hard maximum, but performance may be degraded if your content exceeds the rendering capabilities of the service.
  kind: enum
  properties:
  - name: Standard
    types:
    - uid: string
  - name: Premium
    types:
    - uid: string
- name: SessionStatus
  description: The status of the rendering session. Once the status reached the 'Ready' state it can be connected to. The terminal state is 'Stopped'.
  kind: enum
  properties:
  - name: Error
    types:
    - uid: string
  - name: Expired
    types:
    - uid: string
  - name: Starting
    types:
    - uid: string
  - name: Ready
    types:
    - uid: string
  - name: Stopped
    types:
    - uid: string
- name: error
  kind: object
  properties:
  - name: code
    description: Error code
    types:
    - uid: string
  - name: message
    description: A human-readable representation of the error
    types:
    - uid: string
  - name: details
    isReadyOnly: true
    description: An array of details about specific errors that led to this reported error.
    types:
    - uid: error
      isArray: true
  - name: target
    isReadyOnly: true
    description: The target of the particular error (e.g., the name of the property in error).
    types:
    - uid: string
  - name: innerError
    isReadyOnly: true
    description: An object containing more specific information than the current object about the error.
    types:
    - uid: error
examples:
- name: Create a rendering session
  request:
    uri: PUT https://remoterendering.eastus.mixedreality.azure.com/accounts/30ea64bd-100f-4bf0-adc9-29fa45d4880c/sessions/contoso-session-c2b8ac1d-9494-4852-a59c-8c28813adc28?api-version=2021-01-01-preview
    body: >-
      {
        "maxLeaseTimeMinutes": 60,
        "size": "Standard"
      }
  responses:
  - statusCode: "201"
    headers:
    - name: MS-CV
      value: dKEFmka2kkSlDmp/af+sOw
    body: >-
      {
        "id": "contoso-session-c2b8ac1d-9494-4852-a59c-8c28813adc28",
        "creationTime": "2020-11-11T11:11:11.111Z",
        "maxLeaseTimeMinutes": 60,
        "size": "Standard",
        "status": "Starting",
        "error": null
      }
  - statusCode: "200"
    headers:
    - name: MS-CV
      value: dKEFmka2kkSlDmp/af+sOw
    body: >-
      {
        "id": "contoso-session-c2b8ac1d-9494-4852-a59c-8c28813adc28",
        "creationTime": "2020-11-11T11:11:11.111Z",
        "maxLeaseTimeMinutes": 60,
        "size": "Standard",
        "status": "Starting",
        "error": null
      }
  - statusCode: "400"
    headers:
    - name: MS-CV
      value: dKEFmka2kkSlDmp/af+sOw
    body: >-
      {
        "error": {
          "code": "BadRequest",
          "message": "The request was malformed."
        }
      }
  - statusCode: "409"
    headers:
    - name: MS-CV
      value: dKEFmka2kkSlDmp/af+sOw
    body: >-
      {
        "error": {
          "code": "Conflict",
          "message": "A resource already exists under the given ID."
        }
      }
  - statusCode: "401"
    headers:
    - name: WWW-Authenticate
      value: Bearer error="invalid_token"
    - name: MS-CV
      value: dKEFmka2kkSlDmp/af+sOw
  - statusCode: "403"
    headers:
    - name: MS-CV
      value: dKEFmka2kkSlDmp/af+sOw
  - statusCode: "429"
    headers:
    - name: Retry-After
      value: "15"
    - name: MS-CV
      value: dKEFmka2kkSlDmp/af+sOw
  - statusCode: "500"
    headers:
    - name: MS-CV
      value: dKEFmka2kkSlDmp/af+sOw
    body: >-
      {
        "error": {
          "code": "InternalServerError",
          "message": "An internal server error occurred."
        }
      }
security:
- name: Authorization
  type: apiKey
  in: header
errorCodes: []
