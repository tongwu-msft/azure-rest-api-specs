### YamlMime:RESTOperation
summary: Creates or updates a static or dynamic public IP address.
service: Virtual Networks
apiVersion: 2017-10-01
groupName: Public IP Addresses
consumes:
- application/json
- text/json
produces:
- application/json
- text/json
paths:
- content: PUT https://management.azure.com/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Network/publicIPAddresses/{publicIpAddressName}?api-version=2017-10-01
uriParameters:
- in: path
  isRequired: true
  description: The subscription credentials which uniquely identify the Microsoft Azure subscription. The subscription ID forms part of the URI for every service call.
  types:
  - uid: string
  name: subscriptionId
- in: path
  isRequired: true
  description: The name of the resource group.
  types:
  - uid: string
  name: resourceGroupName
- in: path
  isRequired: true
  description: The name of the public IP address.
  types:
  - uid: string
  name: publicIpAddressName
- in: query
  isRequired: true
  description: Client API version.
  types:
  - uid: string
  name: api-version
responses:
- description: Create successful. The operation returns the resulting PublicIPAddress resource.
  types:
  - uid: PublicIPAddress
  name: 201 Created
- description: Update successful. The operation returns the resulting PublicIPAddress resource.
  types:
  - uid: PublicIPAddress
  name: 200 OK
requestBody:
- parameters:
  - in: body
    description: The public IP address SKU.
    types:
    - uid: PublicIPAddressSku
    name: sku
  - in: body
    description: A unique read-only string that changes whenever the resource is updated.
    types:
    - uid: string
    name: etag
  - in: body
    description: A list of availability zones denoting the IP allocated for the resource needs to come from.
    types:
    - isArray: true
      uid: string
    name: zones
  - in: body
    description: "The public IP allocation method. Possible values are: 'Static' and 'Dynamic'."
    types:
    - uid: IPAllocationMethod
    name: properties.publicIPAllocationMethod
  - in: body
    description: "The public IP address version. Possible values are: 'IPv4' and 'IPv6'."
    types:
    - uid: IPVersion
    name: properties.publicIPAddressVersion
  - in: body
    description: The FQDN of the DNS record associated with the public IP address.
    types:
    - uid: PublicIPAddressDnsSettings
    name: properties.dnsSettings
  - in: body
    description: The IP address associated with the public IP address resource.
    types:
    - uid: string
    name: properties.ipAddress
  - in: body
    description: The idle timeout of the public IP address.
    types:
    - uid: integer
    name: properties.idleTimeoutInMinutes
  - in: body
    description: The resource GUID property of the public IP resource.
    types:
    - uid: string
    name: properties.resourceGuid
  - in: body
    description: "The provisioning state of the PublicIP resource. Possible values are: 'Updating', 'Deleting', and 'Failed'."
    types:
    - uid: string
    name: properties.provisioningState
  - in: body
    description: Resource location.
    types:
    - uid: string
    name: location
  - in: body
    description: Resource tags.
    types:
    - isDictionary: true
      additionalTypes:
      - uid: string
      - uid: string
      uid: object
    name: tags
requestHeader: []
definitions:
- name: PublicIPAddressSku
  description: SKU of a public IP address
  kind: object
  properties:
  - description: Name of a public IP address SKU.
    types:
    - uid: PublicIPAddressSkuName
    name: name
- name: SubResource
  description: The IP configuration associated with the public IP address.
  kind: object
  properties:
  - description: Resource ID.
    types:
    - uid: string
    name: id
- name: PublicIPAddressDnsSettings
  description: The FQDN of the DNS record associated with the public IP address.
  kind: object
  properties:
  - description: Gets or sets the Domain name label.The concatenation of the domain name label and the regionalized DNS zone make up the fully qualified domain name associated with the public IP address. If a domain name label is specified, an A DNS record is created for the public IP in the Microsoft Azure DNS system.
    types:
    - uid: string
    name: domainNameLabel
  - description: Gets the FQDN, Fully qualified domain name of the A DNS record associated with the public IP. This is the concatenation of the domainNameLabel and the regionalized DNS zone.
    types:
    - uid: string
    name: fqdn
  - description: 'Gets or Sets the Reverse FQDN. A user-visible, fully qualified domain name that resolves to this public IP address. If the reverseFqdn is specified, then a PTR DNS record is created pointing from the IP address in the in-addr.arpa domain to the reverse FQDN. '
    types:
    - uid: string
    name: reverseFqdn
- name: PublicIPAddress
  description: Public IP address resource.
  kind: object
  properties:
  - description: The public IP address SKU.
    types:
    - uid: PublicIPAddressSku
    name: sku
  - description: A unique read-only string that changes whenever the resource is updated.
    types:
    - uid: string
    name: etag
  - description: A list of availability zones denoting the IP allocated for the resource needs to come from.
    types:
    - isArray: true
      uid: string
    name: zones
  - description: "The public IP allocation method. Possible values are: 'Static' and 'Dynamic'."
    types:
    - uid: IPAllocationMethod
    name: properties.publicIPAllocationMethod
  - description: "The public IP address version. Possible values are: 'IPv4' and 'IPv6'."
    types:
    - uid: IPVersion
    name: properties.publicIPAddressVersion
  - isReadyOnly: true
    description: The IP configuration associated with the public IP address.
    types:
    - uid: SubResource
    name: properties.ipConfiguration
  - description: The FQDN of the DNS record associated with the public IP address.
    types:
    - uid: PublicIPAddressDnsSettings
    name: properties.dnsSettings
  - description: The IP address associated with the public IP address resource.
    types:
    - uid: string
    name: properties.ipAddress
  - description: The idle timeout of the public IP address.
    types:
    - uid: integer
    name: properties.idleTimeoutInMinutes
  - description: The resource GUID property of the public IP resource.
    types:
    - uid: string
    name: properties.resourceGuid
  - description: "The provisioning state of the PublicIP resource. Possible values are: 'Updating', 'Deleting', and 'Failed'."
    types:
    - uid: string
    name: properties.provisioningState
  - isReadyOnly: true
    description: Resource ID.
    types:
    - uid: string
    name: id
  - isReadyOnly: true
    description: Resource name.
    types:
    - uid: string
    name: name
  - isReadyOnly: true
    description: Resource type.
    types:
    - uid: string
    name: type
  - description: Resource location.
    types:
    - uid: string
    name: location
  - description: Resource tags.
    types:
    - isDictionary: true
      additionalTypes:
      - uid: string
      - uid: string
      uid: object
    name: tags
- name: PublicIPAddressSkuName
  description: Name of a public IP address SKU.
  kind: enum
  properties:
  - types:
    - uid: string
    name: Basic
  - types:
    - uid: string
    name: Standard
- name: IPAllocationMethod
  description: "The public IP allocation method. Possible values are: 'Static' and 'Dynamic'."
  kind: enum
  properties:
  - types:
    - uid: string
    name: Static
  - types:
    - uid: string
    name: Dynamic
- name: IPVersion
  description: "The public IP address version. Possible values are: 'IPv4' and 'IPv6'."
  kind: enum
  properties:
  - types:
    - uid: string
    name: IPv4
  - types:
    - uid: string
    name: IPv6
examples:
- request:
    uri: PUT https://management.azure.com/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.Network/publicIPAddresses/test-ip?api-version=2017-10-01
    body: '{}'
  responses:
  - statusCode: "200"
    body: >-
      {
        "name": "testDNS-ip",
        "id": "/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.Network/publicIPAddresses/test-ip",
        "location": "westus",
        "properties": {
          "provisioningState": "Succeeded",
          "publicIPAddressVersion": "IPv4",
          "publicIPAllocationMethod": "Dynamic",
          "idleTimeoutInMinutes": 4,
          "ipConfiguration": {
            "id": "/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.Network/networkInterfaces/testDNS649/ipConfigurations/ipconfig1"
          }
        },
        "sku": {
          "name": "Basic"
        },
        "type": "Microsoft.Network/publicIPAddresses"
      }
  - statusCode: "201"
    body: >-
      {
        "name": "testDNS-ip",
        "id": "/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.Network/publicIPAddresses/test-ip",
        "location": "westus",
        "properties": {
          "provisioningState": "Succeeded",
          "publicIPAddressVersion": "IPv4",
          "publicIPAllocationMethod": "Dynamic",
          "idleTimeoutInMinutes": 4,
          "ipConfiguration": {
            "id": "/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.Network/networkInterfaces/testDNS649/ipConfigurations/ipconfig1"
          }
        },
        "sku": {
          "name": "Basic"
        },
        "type": "Microsoft.Network/publicIPAddresses"
      }
  name: Create public IP address defaults
- request:
    uri: PUT https://management.azure.com/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.Network/publicIPAddresses/test-ip?api-version=2017-10-01
    body: >-
      {
        "properties": {
          "publicIPAllocationMethod": "Static",
          "idleTimeoutInMinutes": 10,
          "publicIPAddressVersion": "IPv4"
        },
        "sku": {
          "name": "Standard"
        }
      }
  responses:
  - statusCode: "200"
    body: >-
      {
        "name": "testDNS-ip",
        "id": "/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.Network/publicIPAddresses/test-ip",
        "location": "westus",
        "zones": [
          "1"
        ],
        "properties": {
          "provisioningState": "Succeeded",
          "publicIPAddressVersion": "IPv4",
          "publicIPAllocationMethod": "Static",
          "idleTimeoutInMinutes": 10,
          "ipConfiguration": {
            "id": "/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.Network/networkInterfaces/testDNS649/ipConfigurations/ipconfig1"
          }
        },
        "sku": {
          "name": "Standard"
        },
        "type": "Microsoft.Network/publicIPAddresses"
      }
  - statusCode: "201"
    body: >-
      {
        "name": "testDNS-ip",
        "id": "/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.Network/publicIPAddresses/test-ip",
        "location": "westus",
        "zones": [
          "1"
        ],
        "properties": {
          "provisioningState": "Succeeded",
          "publicIPAddressVersion": "IPv4",
          "publicIPAllocationMethod": "Static",
          "idleTimeoutInMinutes": 10,
          "ipConfiguration": {
            "id": "/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.Network/networkInterfaces/testDNS649/ipConfigurations/ipconfig1"
          }
        },
        "sku": {
          "name": "Standard"
        },
        "type": "Microsoft.Network/publicIPAddresses"
      }
  name: Create public IP address allocation method
- request:
    uri: PUT https://management.azure.com/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.Network/publicIPAddresses/test-ip?api-version=2017-10-01
    body: >-
      {
        "properties": {
          "dnsSettings": {
            "domainNameLabel": "dnslbl"
          }
        }
      }
  responses:
  - statusCode: "200"
    body: >-
      {
        "name": "testDNS-ip",
        "id": "/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.Network/publicIPAddresses/test-ip",
        "location": "westus",
        "properties": {
          "provisioningState": "Succeeded",
          "publicIPAddressVersion": "IPv4",
          "publicIPAllocationMethod": "Dynamic",
          "idleTimeoutInMinutes": 4,
          "dnsSettings": {
            "domainNameLabel": "dnslbl",
            "fqdn": "dnslbl.westus.cloudapp.azure.com"
          },
          "ipConfiguration": {
            "id": "/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.Network/networkInterfaces/testDNS649/ipConfigurations/ipconfig1"
          }
        },
        "type": "Microsoft.Network/publicIPAddresses"
      }
  - statusCode: "201"
    body: >-
      {
        "name": "testDNS-ip",
        "id": "/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.Network/publicIPAddresses/test-ip",
        "location": "westus",
        "properties": {
          "provisioningState": "Succeeded",
          "publicIPAddressVersion": "IPv4",
          "publicIPAllocationMethod": "Dynamic",
          "idleTimeoutInMinutes": 4,
          "dnsSettings": {
            "domainNameLabel": "dnslbl",
            "fqdn": "dnslbl.westus.cloudapp.azure.com"
          },
          "ipConfiguration": {
            "id": "/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.Network/networkInterfaces/testDNS649/ipConfigurations/ipconfig1"
          }
        },
        "type": "Microsoft.Network/publicIPAddresses"
      }
  name: Create public IP address DNS
security:
- type: oauth2
  description: Azure Active Directory OAuth2 Flow
  flow: implicit
  authorizationUrl: https://login.microsoftonline.com/common/oauth2/authorize
  scopes:
  - description: impersonate your user account
    name: user_impersonation
name: Create Or Update
uid: management.azure.com.virtualnetworks.publicipaddresses.createorupdate
