### YamlMime:RESTOperation
uid: management.azure.com.blueprints.publishedblueprints.create
name: Create
service: Blueprints
groupName: Published Blueprints
apiVersion: 2018-11-01-preview
summary: Publish a new version of the blueprint definition with the latest artifacts. Published blueprint definitions are immutable.
consumes:
- application/json
produces:
- application/json
paths:
- content: PUT https://management.azure.com/{scope}/providers/Microsoft.Blueprint/blueprints/{blueprintName}/versions/{versionId}?api-version=2018-11-01-preview
uriParameters:
- name: scope
  in: path
  isRequired: true
  description: "The scope of the resource. Valid scopes are: management group (format: '/providers/Microsoft.Management/managementGroups/{managementGroup}'), subscription (format: '/subscriptions/{subscriptionId}'). For blueprint assignments management group scope is reserved for future use."
  types:
  - uid: string
- name: blueprintName
  in: path
  isRequired: true
  description: Name of the blueprint definition.
  types:
  - uid: string
- name: versionId
  in: path
  isRequired: true
  description: Version of the published blueprint definition.
  types:
  - uid: string
- name: api-version
  in: query
  isRequired: true
  description: Client API Version.
  types:
  - uid: string
responses:
- name: 201 Created
  description: Created -- blueprint definition published.
  types:
  - uid: PublishedBlueprint
requestHeader: []
definitions:
- name: PublishedBlueprint
  description: Represents a published blueprint.
  kind: object
  properties:
  - name: properties.blueprintName
    description: Name of the published blueprint definition.
    types:
    - uid: string
  - name: properties.changeNotes
    description: Version-specific change notes.
    types:
    - uid: string
  - name: id
    isReadyOnly: true
    description: String Id used to locate any resource on Azure.
    types:
    - uid: string
  - name: type
    isReadyOnly: true
    description: Type of this resource.
    types:
    - uid: string
  - name: name
    isReadyOnly: true
    description: Name of this resource.
    types:
    - uid: string
  - name: properties.status
    isReadyOnly: true
    description: Status of the blueprint. This field is readonly.
    types:
    - uid: BlueprintStatus
  - name: properties.targetScope
    description: The scope where this blueprint definition can be assigned.
    types:
    - uid: BlueprintTargetScope
  - name: properties.parameters
    description: Parameters required by this blueprint definition.
    types:
    - uid: ParameterDefinitionCollection
  - name: properties.resourceGroups
    description: Resource group placeholders defined by this blueprint definition.
    types:
    - uid: ResourceGroupDefinitionCollection
  - name: displayName
    description: One-liner string explain this resource.
    types:
    - uid: string
  - name: description
    description: Multi-line explain this resource.
    types:
    - uid: string
- name: BlueprintStatus
  description: The status of the blueprint. This field is readonly.
  kind: object
  properties:
  - name: timeCreated
    isReadyOnly: true
    description: Creation time of this blueprint definition.
    types:
    - uid: string
  - name: lastModified
    isReadyOnly: true
    description: Last modified time of this blueprint definition.
    types:
    - uid: string
- name: BlueprintTargetScope
  description: The scope where this blueprint definition can be assigned.
  kind: enum
  properties:
  - name: subscription
    description: The blueprint targets a subscription during blueprint assignment.
    types:
    - uid: string
  - name: managementGroup
    description: The blueprint targets a management group during blueprint assignment. This is reserved for future use.
    types:
    - uid: string
- name: ParameterDefinitionCollection
  description: A dictionary hold parameter name and its metadata.
  kind: object
  properties: []
- name: ResourceGroupDefinitionCollection
  description: A dictionary which maps resource group placeholders to the resource groups which will be created.
  kind: object
  properties: []
examples:
- name: PublishedSubscriptionBlueprint_Publish
  request:
    uri: PUT https://management.azure.com/subscriptions/f8df94f2-2f5a-4f4a-bcaf-1bb992fb564b/providers/Microsoft.Blueprint/blueprints/simpleBlueprint/versions/v2?api-version=2018-11-01-preview
  responses:
  - statusCode: "201"
    body: >-
      {
        "properties": {
          "description": "blueprint contains all artifact kinds {'template', 'rbac', 'policy'}",
          "blueprintName": "simpleBlueprint",
          "parameters": {
            "storageAccountType": {
              "type": "string",
              "metadata": {
                "displayName": "storage account type.",
                "description": null
              }
            },
            "costCenter": {
              "type": "string",
              "metadata": {
                "displayName": "force cost center tag for all resources under given subscription.",
                "description": null
              }
            },
            "owners": {
              "type": "array",
              "metadata": {
                "displayName": "assign owners to subscription along with blueprint assignment.",
                "description": null
              }
            }
          },
          "resourceGroups": {
            "storageRG": {
              "metadata": {
                "displayName": "storage resource group",
                "description": "Contains storageAccounts that collect all shoebox logs."
              }
            }
          },
          "targetScope": "subscription"
        },
        "id": "/subscriptions/f8df94f2-2f5a-4f4a-bcaf-1bb992fb564b/providers/Microsoft.Blueprint/blueprints/simpleBlueprint",
        "type": "Microsoft.Blueprint/blueprints/versions",
        "name": "v2"
      }
- name: PublishedManagementGroupBlueprint_Publish
  request:
    uri: PUT https://management.azure.com/providers/Microsoft.Management/managementGroups/ContosoOnlineGroup/providers/Microsoft.Blueprint/blueprints/simpleBlueprint/versions/v2?api-version=2018-11-01-preview
  responses:
  - statusCode: "201"
    body: >-
      {
        "properties": {
          "description": "blueprint contains all artifact kinds {'template', 'rbac', 'policy'}",
          "blueprintName": "simpleBlueprint",
          "parameters": {
            "storageAccountType": {
              "type": "string",
              "metadata": {
                "displayName": "storage account type.",
                "description": null
              }
            },
            "costCenter": {
              "type": "string",
              "metadata": {
                "displayName": "force cost center tag for all resources under given subscription.",
                "description": null
              }
            },
            "owners": {
              "type": "array",
              "metadata": {
                "displayName": "assign owners to subscription along with blueprint assignment.",
                "description": null
              }
            }
          },
          "resourceGroups": {
            "storageRG": {
              "metadata": {
                "displayName": "storage resource group",
                "description": "Contains storageAccounts that collect all shoebox logs."
              }
            }
          },
          "targetScope": "subscription"
        },
        "id": "/providers/Microsoft.Management/managementGroups/ContosoOnlineGroup/providers/Microsoft.Blueprint/blueprints/simpleBlueprint",
        "type": "Microsoft.Blueprint/blueprints/versions",
        "name": "v2"
      }
security:
- name: azure_auth
  type: oauth2
  description: Azure Active Directory OAuth2 Flow
  flow: implicit
  authorizationUrl: https://login.microsoftonline.com/common/oauth2/authorize
  scopes:
  - name: user_impersonation
    description: impersonate your user account
errorCodes: []
