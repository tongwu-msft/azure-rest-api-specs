### YamlMime:RESTOperation
uid: management.azure.com.site-recovery.replicationprotecteditems.updatemobilityservice
name: Update Mobility Service
service: Recovery Services - Site Recovery
groupName: Replication Protected Items
apiVersion: 2018-07-10
summary: "Update the mobility service on a protected item.  \nThe operation to update(push update) the installed mobility service software on a replication protected item to the latest available version."
consumes:
- application/json
produces:
- application/json
paths:
- content: POST https://management.azure.com/Subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.RecoveryServices/vaults/{resourceName}/replicationFabrics/{fabricName}/replicationProtectionContainers/{protectionContainerName}/replicationProtectedItems/{replicationProtectedItemName}/updateMobilityService?api-version=2018-07-10
uriParameters:
- name: subscriptionId
  in: path
  isRequired: true
  description: The subscription Id.
  types:
  - uid: string
- name: resourceGroupName
  in: path
  isRequired: true
  description: The name of the resource group where the recovery services vault is present.
  types:
  - uid: string
- name: resourceName
  in: path
  isRequired: true
  description: The name of the recovery services vault.
  types:
  - uid: string
- name: fabricName
  in: path
  isRequired: true
  description: The name of the fabric containing the protected item.
  types:
  - uid: string
- name: protectionContainerName
  in: path
  isRequired: true
  description: The name of the container containing the protected item.
  types:
  - uid: string
- name: replicationProtectedItemName
  in: path
  isRequired: true
  description: The name of the protected item on which the agent is to be updated.
  types:
  - uid: string
- name: api-version
  in: query
  isRequired: true
  description: Client Api Version.
  types:
  - uid: string
responses:
- name: 200 OK
  description: OK
  types:
  - uid: ReplicationProtectedItem
- name: 202 Accepted
  description: Accepted
requestBody:
- name: default
  parameters:
  - name: properties
    in: body
    description: The properties of the update mobility service request.
    types:
    - uid: UpdateMobilityServiceRequestProperties
requestHeader: []
definitions:
- name: UpdateMobilityServiceRequestProperties
  description: The properties of an update mobility service request.
  kind: object
  properties:
  - name: runAsAccountId
    description: The CS run as account Id.
    types:
    - uid: string
- name: ReplicationProtectedItem
  description: Replication protected item.
  kind: object
  properties:
  - name: properties
    description: The custom data.
    types:
    - uid: ReplicationProtectedItemProperties
  - name: id
    isReadyOnly: true
    description: Resource Id
    types:
    - uid: string
  - name: name
    isReadyOnly: true
    description: Resource Name
    types:
    - uid: string
  - name: type
    isReadyOnly: true
    description: Resource Type
    types:
    - uid: string
  - name: location
    description: Resource Location
    types:
    - uid: string
- name: UpdateMobilityServiceRequest
  description: Request to update the mobility service on a protected item.
  kind: object
  properties:
  - name: properties
    description: The properties of the update mobility service request.
    types:
    - uid: UpdateMobilityServiceRequestProperties
- name: ReplicationProtectedItemProperties
  description: Replication protected item custom data details.
  kind: object
  properties:
  - name: friendlyName
    description: The name.
    types:
    - uid: string
  - name: protectedItemType
    description: The type of protected item type.
    types:
    - uid: string
  - name: protectableItemId
    description: The protected item ARM Id.
    types:
    - uid: string
  - name: recoveryServicesProviderId
    description: The recovery provider ARM Id.
    types:
    - uid: string
  - name: primaryFabricFriendlyName
    description: The friendly name of the primary fabric.
    types:
    - uid: string
  - name: primaryFabricProvider
    description: The fabric provider of the primary fabric.
    types:
    - uid: string
  - name: recoveryFabricFriendlyName
    description: The friendly name of recovery fabric.
    types:
    - uid: string
  - name: recoveryFabricId
    description: The Arm Id of recovery fabric.
    types:
    - uid: string
  - name: primaryProtectionContainerFriendlyName
    description: The name of primary protection container friendly name.
    types:
    - uid: string
  - name: recoveryProtectionContainerFriendlyName
    description: The name of recovery container friendly name.
    types:
    - uid: string
  - name: protectionState
    description: The protection status.
    types:
    - uid: string
  - name: protectionStateDescription
    description: The protection state description.
    types:
    - uid: string
  - name: activeLocation
    description: The Current active location of the PE.
    types:
    - uid: string
  - name: testFailoverState
    description: The Test failover state.
    types:
    - uid: string
  - name: testFailoverStateDescription
    description: The Test failover state description.
    types:
    - uid: string
  - name: allowedOperations
    description: The allowed operations on the Replication protected item.
    types:
    - uid: string
      isArray: true
  - name: replicationHealth
    description: The consolidated protection health for the VM taking any issues with SRS as well as all the replication units associated with the VM's replication group into account. This is a string representation of the ProtectionHealth enumeration.
    types:
    - uid: string
  - name: failoverHealth
    description: The consolidated failover health for the VM.
    types:
    - uid: string
  - name: healthErrors
    description: List of health errors.
    types:
    - uid: HealthError
      isArray: true
  - name: policyId
    description: The ID of Policy governing this PE.
    types:
    - uid: string
  - name: policyFriendlyName
    description: The name of Policy governing this PE.
    types:
    - uid: string
  - name: lastSuccessfulFailoverTime
    description: The Last successful failover time.
    types:
    - uid: string
  - name: lastSuccessfulTestFailoverTime
    description: The Last successful test failover time.
    types:
    - uid: string
  - name: currentScenario
    description: The current scenario.
    types:
    - uid: CurrentScenarioDetails
  - name: failoverRecoveryPointId
    description: The recovery point ARM Id to which the Vm was failed over.
    types:
    - uid: string
  - name: providerSpecificDetails
    description: The Replication provider custom settings.
    types:
    - uid: A2AReplicationDetails
    - uid: HyperVReplicaAzureReplicationDetails
    - uid: HyperVReplicaBaseReplicationDetails
    - uid: HyperVReplicaBlueReplicationDetails
    - uid: HyperVReplicaReplicationDetails
    - uid: InMageAzureV2ReplicationDetails
    - uid: InMageRcmReplicationDetails
    - uid: InMageReplicationDetails
    typesTitle: ReplicationProviderSpecificSettings
  - name: recoveryContainerId
    description: The recovery container Id.
    types:
    - uid: string
- name: HealthError
  description: Health Error
  kind: object
  properties:
  - name: innerHealthErrors
    description: The inner health errors. HealthError having a list of HealthError as child errors is problematic. InnerHealthError is used because this will prevent an infinite loop of structures when Hydra tries to auto-generate the contract. We are exposing the related health errors as inner health errors and all API consumers can utilize this in the same fashion as Exception -&gt; InnerException.
    types:
    - uid: InnerHealthError
      isArray: true
  - name: errorSource
    description: Source of error.
    types:
    - uid: string
  - name: errorType
    description: Type of error.
    types:
    - uid: string
  - name: errorLevel
    description: Level of error.
    types:
    - uid: string
  - name: errorCategory
    description: Category of error.
    types:
    - uid: string
  - name: errorCode
    description: Error code.
    types:
    - uid: string
  - name: summaryMessage
    description: Summary message of the entity.
    types:
    - uid: string
  - name: errorMessage
    description: Error message.
    types:
    - uid: string
  - name: possibleCauses
    description: Possible causes of error.
    types:
    - uid: string
  - name: recommendedAction
    description: Recommended action to resolve error.
    types:
    - uid: string
  - name: creationTimeUtc
    description: Error creation time (UTC)
    types:
    - uid: string
  - name: recoveryProviderErrorMessage
    description: DRA error message.
    types:
    - uid: string
  - name: entityId
    description: ID of the entity.
    types:
    - uid: string
  - name: errorId
    description: The health error unique id.
    types:
    - uid: string
  - name: customerResolvability
    description: Value indicating whether the health error is customer resolvable.
    types:
    - uid: HealthErrorCustomerResolvability
- name: CurrentScenarioDetails
  description: Current scenario details of the protected entity.
  kind: object
  properties:
  - name: scenarioName
    description: Scenario name.
    types:
    - uid: string
  - name: jobId
    description: ARM Id of the job being executed.
    types:
    - uid: string
  - name: startTime
    description: Start time of the workflow.
    types:
    - uid: string
- name: InnerHealthError
  description: Implements InnerHealthError class. HealthError object has a list of InnerHealthErrors as child errors. InnerHealthError is used because this will prevent an infinite loop of structures when Hydra tries to auto-generate the contract. We are exposing the related health errors as inner health errors and all API consumers can utilize this in the same fashion as Exception -&gt; InnerException.
  kind: object
  properties:
  - name: errorSource
    description: Source of error.
    types:
    - uid: string
  - name: errorType
    description: Type of error.
    types:
    - uid: string
  - name: errorLevel
    description: Level of error.
    types:
    - uid: string
  - name: errorCategory
    description: Category of error.
    types:
    - uid: string
  - name: errorCode
    description: Error code.
    types:
    - uid: string
  - name: summaryMessage
    description: Summary message of the entity.
    types:
    - uid: string
  - name: errorMessage
    description: Error message.
    types:
    - uid: string
  - name: possibleCauses
    description: Possible causes of error.
    types:
    - uid: string
  - name: recommendedAction
    description: Recommended action to resolve error.
    types:
    - uid: string
  - name: creationTimeUtc
    description: Error creation time (UTC)
    types:
    - uid: string
  - name: recoveryProviderErrorMessage
    description: DRA error message.
    types:
    - uid: string
  - name: entityId
    description: ID of the entity.
    types:
    - uid: string
- name: HealthErrorCustomerResolvability
  description: Value indicating whether the health error is customer resolvable.
  kind: enum
  properties:
  - name: Allowed
    types:
    - uid: string
  - name: NotAllowed
    types:
    - uid: string
- name: A2AReplicationDetails
  description: A2A provider specific settings.
  kind: object
  properties:
  - name: fabricObjectId
    description: The fabric specific object Id of the virtual machine.
    types:
    - uid: string
  - name: initialPrimaryFabricLocation
    isReadyOnly: true
    description: The initial primary fabric location.
    types:
    - uid: string
  - name: initialRecoveryFabricLocation
    isReadyOnly: true
    description: The initial recovery fabric location.
    types:
    - uid: string
  - name: initialPrimaryZone
    isReadyOnly: true
    description: The initial primary availability zone.
    types:
    - uid: string
  - name: initialRecoveryZone
    isReadyOnly: true
    description: The initial recovery availability zone.
    types:
    - uid: string
  - name: multiVmGroupId
    description: The multi vm group Id.
    types:
    - uid: string
  - name: multiVmGroupName
    description: The multi vm group name.
    types:
    - uid: string
  - name: multiVmGroupCreateOption
    description: Whether Multi VM group is auto created or specified by user.
    types:
    - uid: MultiVmGroupCreateOption
  - name: managementId
    description: The management Id.
    types:
    - uid: string
  - name: protectedDisks
    description: The list of protected disks.
    types:
    - uid: A2AProtectedDiskDetails
      isArray: true
  - name: unprotectedDisks
    description: The list of unprotected disks.
    types:
    - uid: A2AUnprotectedDiskDetails
      isArray: true
  - name: protectedManagedDisks
    description: The list of protected managed disks.
    types:
    - uid: A2AProtectedManagedDiskDetails
      isArray: true
  - name: recoveryBootDiagStorageAccountId
    description: The recovery boot diagnostic storage account Arm Id.
    types:
    - uid: string
  - name: primaryFabricLocation
    description: Primary fabric location.
    types:
    - uid: string
  - name: recoveryFabricLocation
    description: The recovery fabric location.
    types:
    - uid: string
  - name: osType
    description: The type of operating system.
    types:
    - uid: string
  - name: recoveryAzureVMSize
    description: The size of recovery virtual machine.
    types:
    - uid: string
  - name: recoveryAzureVMName
    description: The name of recovery virtual machine.
    types:
    - uid: string
  - name: recoveryAzureResourceGroupId
    description: The recovery resource group.
    types:
    - uid: string
  - name: recoveryCloudService
    description: The recovery cloud service.
    types:
    - uid: string
  - name: recoveryAvailabilitySet
    description: The recovery availability set.
    types:
    - uid: string
  - name: selectedRecoveryAzureNetworkId
    description: The recovery virtual network.
    types:
    - uid: string
  - name: selectedTfoAzureNetworkId
    description: The test failover virtual network.
    types:
    - uid: string
  - name: vmNics
    description: The virtual machine nic details.
    types:
    - uid: VMNicDetails
      isArray: true
  - name: vmSyncedConfigDetails
    description: The synced configuration details.
    types:
    - uid: AzureToAzureVmSyncedConfigDetails
  - name: monitoringPercentageCompletion
    description: The percentage of the monitoring job. The type of the monitoring job is defined by MonitoringJobType property.
    types:
    - uid: integer
  - name: monitoringJobType
    description: The type of the monitoring job. The progress is contained in MonitoringPercentageCompletion property.
    types:
    - uid: string
  - name: lastHeartbeat
    description: The last heartbeat received from the source server.
    types:
    - uid: string
  - name: agentVersion
    description: The agent version.
    types:
    - uid: string
  - name: isReplicationAgentUpdateRequired
    description: A value indicating whether replication agent update is required.
    types:
    - uid: boolean
  - name: recoveryFabricObjectId
    description: The recovery fabric object Id.
    types:
    - uid: string
  - name: vmProtectionState
    description: The protection state for the vm.
    types:
    - uid: string
  - name: vmProtectionStateDescription
    description: The protection state description for the vm.
    types:
    - uid: string
  - name: lifecycleId
    description: An id associated with the PE that survives actions like switch protection which change the backing PE/CPE objects internally.The lifecycle id gets carried forward to have a link/continuity in being able to have an Id that denotes the "same" protected item even though other internal Ids/ARM Id might be changing.
    types:
    - uid: string
  - name: testFailoverRecoveryFabricObjectId
    description: The test failover fabric object Id.
    types:
    - uid: string
  - name: rpoInSeconds
    description: The last RPO value in seconds.
    types:
    - uid: integer
  - name: lastRpoCalculatedTime
    description: The time (in UTC) when the last RPO value was calculated by Protection Service.
    types:
    - uid: string
  - name: recoveryAvailabilityZone
    description: The recovery availability zone.
    types:
    - uid: string
  - name: vmEncryptionType
    isReadyOnly: true
    description: The encryption type of the VM.
    types:
    - uid: VmEncryptionType
  - name: tfoAzureVMName
    description: The test failover VM name.
    types:
    - uid: string
  - name: recoveryProximityPlacementGroupId
    description: The recovery proximity placement group Id.
    types:
    - uid: string
  - name: instanceType
    isReadyOnly: true
    description: Gets the Instance type.
    types:
    - uid: A2A
    typesTitle: string
- name: HyperVReplicaAzureReplicationDetails
  description: Hyper V Replica Azure provider specific settings.
  kind: object
  properties:
  - name: azureVmDiskDetails
    description: Azure VM Disk details.
    types:
    - uid: AzureVmDiskDetails
      isArray: true
  - name: recoveryAzureVmName
    description: Recovery Azure given name.
    types:
    - uid: string
  - name: recoveryAzureVMSize
    description: The Recovery Azure VM size.
    types:
    - uid: string
  - name: recoveryAzureStorageAccount
    description: The recovery Azure storage account.
    types:
    - uid: string
  - name: recoveryAzureLogStorageAccountId
    description: The ARM id of the log storage account used for replication. This will be set to null if no log storage account was provided during enable protection.
    types:
    - uid: string
  - name: lastReplicatedTime
    description: The Last replication time.
    types:
    - uid: string
  - name: rpoInSeconds
    description: Last RPO value.
    types:
    - uid: integer
  - name: lastRpoCalculatedTime
    description: The last RPO calculated time.
    types:
    - uid: string
  - name: vmId
    description: The virtual machine Id.
    types:
    - uid: string
  - name: vmProtectionState
    description: The protection state for the vm.
    types:
    - uid: string
  - name: vmProtectionStateDescription
    description: The protection state description for the vm.
    types:
    - uid: string
  - name: initialReplicationDetails
    description: Initial replication details.
    types:
    - uid: InitialReplicationDetails
  - name: vmNics
    description: The PE Network details.
    types:
    - uid: VMNicDetails
      isArray: true
  - name: selectedRecoveryAzureNetworkId
    description: The selected recovery azure network Id.
    types:
    - uid: string
  - name: selectedSourceNicId
    description: The selected source nic Id which will be used as the primary nic during failover.
    types:
    - uid: string
  - name: encryption
    description: The encryption info.
    types:
    - uid: string
  - name: oSDetails
    description: The operating system info.
    types:
    - uid: OSDetails
  - name: sourceVmRamSizeInMB
    description: The RAM size of the VM on the primary side.
    types:
    - uid: integer
  - name: sourceVmCpuCount
    description: The CPU count of the VM on the primary side.
    types:
    - uid: integer
  - name: enableRdpOnTargetOption
    description: The selected option to enable RDP\SSH on target vm after failover. String value of {SrsDataContract.EnableRDPOnTargetOption} enum.
    types:
    - uid: string
  - name: recoveryAzureResourceGroupId
    description: The target resource group Id.
    types:
    - uid: string
  - name: recoveryAvailabilitySetId
    description: The recovery availability set Id.
    types:
    - uid: string
  - name: targetAvailabilityZone
    description: The target availability zone.
    types:
    - uid: string
  - name: targetProximityPlacementGroupId
    description: The target proximity placement group Id.
    types:
    - uid: string
  - name: useManagedDisks
    description: A value indicating whether managed disks should be used during failover.
    types:
    - uid: string
  - name: licenseType
    description: License Type of the VM to be used.
    types:
    - uid: string
  - name: instanceType
    isReadyOnly: true
    description: Gets the Instance type.
    types:
    - uid: HyperVReplicaAzure
    typesTitle: string
- name: HyperVReplicaBaseReplicationDetails
  description: Hyper V replica provider specific settings base class.
  kind: object
  properties:
  - name: lastReplicatedTime
    description: The Last replication time.
    types:
    - uid: string
  - name: vmNics
    description: The PE Network details.
    types:
    - uid: VMNicDetails
      isArray: true
  - name: vmId
    description: The virtual machine Id.
    types:
    - uid: string
  - name: vmProtectionState
    description: The protection state for the vm.
    types:
    - uid: string
  - name: vmProtectionStateDescription
    description: The protection state description for the vm.
    types:
    - uid: string
  - name: initialReplicationDetails
    description: Initial replication details.
    types:
    - uid: InitialReplicationDetails
  - name: vMDiskDetails
    description: VM disk details.
    types:
    - uid: DiskDetails
      isArray: true
  - name: instanceType
    isReadyOnly: true
    description: Gets the Instance type.
    types:
    - uid: HyperVReplicaBaseReplicationDetails
    typesTitle: string
- name: HyperVReplicaBlueReplicationDetails
  description: HyperV replica 2012 R2 (Blue) replication details.
  kind: object
  properties:
  - name: lastReplicatedTime
    description: The Last replication time.
    types:
    - uid: string
  - name: vmNics
    description: The PE Network details.
    types:
    - uid: VMNicDetails
      isArray: true
  - name: vmId
    description: The virtual machine Id.
    types:
    - uid: string
  - name: vmProtectionState
    description: The protection state for the vm.
    types:
    - uid: string
  - name: vmProtectionStateDescription
    description: The protection state description for the vm.
    types:
    - uid: string
  - name: initialReplicationDetails
    description: Initial replication details.
    types:
    - uid: InitialReplicationDetails
  - name: vMDiskDetails
    description: VM disk details.
    types:
    - uid: DiskDetails
      isArray: true
  - name: instanceType
    isReadyOnly: true
    description: Gets the Instance type.
    types:
    - uid: HyperVReplica2012R2
    typesTitle: string
- name: HyperVReplicaReplicationDetails
  description: HyperV replica 2012 replication details.
  kind: object
  properties:
  - name: lastReplicatedTime
    description: The Last replication time.
    types:
    - uid: string
  - name: vmNics
    description: The PE Network details.
    types:
    - uid: VMNicDetails
      isArray: true
  - name: vmId
    description: The virtual machine Id.
    types:
    - uid: string
  - name: vmProtectionState
    description: The protection state for the vm.
    types:
    - uid: string
  - name: vmProtectionStateDescription
    description: The protection state description for the vm.
    types:
    - uid: string
  - name: initialReplicationDetails
    description: Initial replication details.
    types:
    - uid: InitialReplicationDetails
  - name: vMDiskDetails
    description: VM disk details.
    types:
    - uid: DiskDetails
      isArray: true
  - name: instanceType
    isReadyOnly: true
    description: Gets the Instance type.
    types:
    - uid: HyperVReplica2012
    typesTitle: string
- name: InMageAzureV2ReplicationDetails
  description: InMageAzureV2 provider specific settings
  kind: object
  properties:
  - name: infrastructureVmId
    description: The infrastructure VM Id.
    types:
    - uid: string
  - name: vCenterInfrastructureId
    description: The vCenter infrastructure Id.
    types:
    - uid: string
  - name: protectionStage
    description: The protection stage.
    types:
    - uid: string
  - name: vmId
    description: The virtual machine Id.
    types:
    - uid: string
  - name: vmProtectionState
    description: The protection state for the vm.
    types:
    - uid: string
  - name: vmProtectionStateDescription
    description: The protection state description for the vm.
    types:
    - uid: string
  - name: resyncProgressPercentage
    description: The resync progress percentage.
    types:
    - uid: integer
  - name: rpoInSeconds
    description: The RPO in seconds.
    types:
    - uid: integer
  - name: compressedDataRateInMB
    description: The compressed data change rate in MB.
    types:
    - uid: number
  - name: uncompressedDataRateInMB
    description: The uncompressed data change rate in MB.
    types:
    - uid: number
  - name: ipAddress
    description: The source IP address.
    types:
    - uid: string
  - name: agentVersion
    description: The agent version.
    types:
    - uid: string
  - name: agentExpiryDate
    description: Agent expiry date.
    types:
    - uid: string
  - name: isAgentUpdateRequired
    description: A value indicating whether installed agent needs to be updated.
    types:
    - uid: string
  - name: isRebootAfterUpdateRequired
    description: A value indicating whether the source server requires a restart after update.
    types:
    - uid: string
  - name: lastHeartbeat
    description: The last heartbeat received from the source server.
    types:
    - uid: string
  - name: processServerId
    description: The process server Id.
    types:
    - uid: string
  - name: processServerName
    isReadyOnly: true
    description: The process server name.
    types:
    - uid: string
  - name: multiVmGroupId
    description: The multi vm group Id.
    types:
    - uid: string
  - name: multiVmGroupName
    description: The multi vm group name.
    types:
    - uid: string
  - name: multiVmSyncStatus
    description: A value indicating whether multi vm sync is enabled or disabled.
    types:
    - uid: string
  - name: protectedDisks
    description: The list of protected disks.
    types:
    - uid: InMageAzureV2ProtectedDiskDetails
      isArray: true
  - name: diskResized
    description: A value indicating whether any disk is resized for this VM.
    types:
    - uid: string
  - name: masterTargetId
    description: The master target Id.
    types:
    - uid: string
  - name: sourceVmCpuCount
    description: The CPU count of the VM on the primary side.
    types:
    - uid: integer
  - name: sourceVmRamSizeInMB
    description: The RAM size of the VM on the primary side.
    types:
    - uid: integer
  - name: osType
    description: The type of the OS on the VM.
    types:
    - uid: string
  - name: vhdName
    description: The OS disk VHD name.
    types:
    - uid: string
  - name: osDiskId
    description: The id of the disk containing the OS.
    types:
    - uid: string
  - name: azureVMDiskDetails
    description: Azure VM Disk details.
    types:
    - uid: AzureVmDiskDetails
      isArray: true
  - name: recoveryAzureVMName
    description: Recovery Azure given name.
    types:
    - uid: string
  - name: recoveryAzureVMSize
    description: The Recovery Azure VM size.
    types:
    - uid: string
  - name: recoveryAzureStorageAccount
    description: The recovery Azure storage account.
    types:
    - uid: string
  - name: recoveryAzureLogStorageAccountId
    description: The ARM id of the log storage account used for replication. This will be set to null if no log storage account was provided during enable protection.
    types:
    - uid: string
  - name: vmNics
    description: The PE Network details.
    types:
    - uid: VMNicDetails
      isArray: true
  - name: selectedRecoveryAzureNetworkId
    description: The selected recovery azure network Id.
    types:
    - uid: string
  - name: selectedTfoAzureNetworkId
    description: The test failover virtual network.
    types:
    - uid: string
  - name: selectedSourceNicId
    description: The selected source nic Id which will be used as the primary nic during failover.
    types:
    - uid: string
  - name: discoveryType
    description: A value indicating the discovery type of the machine. Value can be vCenter or physical.
    types:
    - uid: string
  - name: enableRdpOnTargetOption
    description: The selected option to enable RDP\SSH on target vm after failover. String value of {SrsDataContract.EnableRDPOnTargetOption} enum.
    types:
    - uid: string
  - name: datastores
    description: The data stores of the on-premise machine. Value can be list of strings that contain data store names.
    types:
    - uid: string
      isArray: true
  - name: targetVmId
    description: The ARM Id of the target Azure VM. This value will be null until the VM is failed over. Only after failure it will be populated with the ARM Id of the Azure VM.
    types:
    - uid: string
  - name: recoveryAzureResourceGroupId
    description: The target resource group Id.
    types:
    - uid: string
  - name: recoveryAvailabilitySetId
    description: The recovery availability set Id.
    types:
    - uid: string
  - name: targetAvailabilityZone
    description: The target availability zone.
    types:
    - uid: string
  - name: targetProximityPlacementGroupId
    description: The target proximity placement group Id.
    types:
    - uid: string
  - name: useManagedDisks
    description: A value indicating whether managed disks should be used during failover.
    types:
    - uid: string
  - name: licenseType
    description: License Type of the VM to be used.
    types:
    - uid: string
  - name: validationErrors
    description: The validation errors of the on-premise machine Value can be list of validation errors.
    types:
    - uid: HealthError
      isArray: true
  - name: lastRpoCalculatedTime
    description: The last RPO calculated time.
    types:
    - uid: string
  - name: lastUpdateReceivedTime
    description: The last update time received from on-prem components.
    types:
    - uid: string
  - name: replicaId
    description: The replica id of the protected item.
    types:
    - uid: string
  - name: osVersion
    description: The OS Version of the protected item.
    types:
    - uid: string
  - name: protectedManagedDisks
    description: The list of protected managed disks.
    types:
    - uid: InMageAzureV2ManagedDiskDetails
      isArray: true
  - name: instanceType
    isReadyOnly: true
    description: Gets the Instance type.
    types:
    - uid: InMageAzureV2
    typesTitle: string
- name: InMageRcmReplicationDetails
  description: InMageRcm provider specific details.
  kind: object
  properties:
  - name: internalIdentifier
    isReadyOnly: true
    description: The virtual machine internal identifier.
    types:
    - uid: string
  - name: fabricDiscoveryMachineId
    isReadyOnly: true
    description: The ARM Id of the discovered VM.
    types:
    - uid: string
  - name: multiVmGroupName
    isReadyOnly: true
    description: The multi VM group name.
    types:
    - uid: string
  - name: discoveryType
    isReadyOnly: true
    description: The type of the discovered VM.
    types:
    - uid: string
  - name: processServerId
    isReadyOnly: true
    description: The process server Id.
    types:
    - uid: string
  - name: processorCoreCount
    isReadyOnly: true
    description: The processor core count.
    types:
    - uid: integer
  - name: allocatedMemoryInMB
    isReadyOnly: true
    description: The allocated memory in MB.
    types:
    - uid: number
  - name: processServerName
    isReadyOnly: true
    description: The process server name.
    types:
    - uid: string
  - name: runAsAccountId
    isReadyOnly: true
    description: The run-as account Id.
    types:
    - uid: string
  - name: osType
    isReadyOnly: true
    description: The type of the OS on the VM.
    types:
    - uid: string
  - name: firmwareType
    isReadyOnly: true
    description: The firmware type.
    types:
    - uid: string
  - name: targetGeneration
    isReadyOnly: true
    description: The target generation.
    types:
    - uid: string
  - name: licenseType
    isReadyOnly: true
    description: License Type of the VM to be used.
    types:
    - uid: string
  - name: targetVmName
    isReadyOnly: true
    description: Target VM name.
    types:
    - uid: string
  - name: targetVmSize
    isReadyOnly: true
    description: The target VM size.
    types:
    - uid: string
  - name: targetResourceGroupId
    isReadyOnly: true
    description: The target resource group Id.
    types:
    - uid: string
  - name: targetAvailabilitySetId
    isReadyOnly: true
    description: The target availability set Id.
    types:
    - uid: string
  - name: targetAvailabilityZone
    isReadyOnly: true
    description: The target availability zone.
    types:
    - uid: string
  - name: targetProximityPlacementGroupId
    isReadyOnly: true
    description: The target proximity placement group Id.
    types:
    - uid: string
  - name: targetBootDiagnosticsStorageAccountId
    isReadyOnly: true
    description: The target boot diagnostics storage account ARM Id.
    types:
    - uid: string
  - name: targetNetworkId
    isReadyOnly: true
    description: The target network Id.
    types:
    - uid: string
  - name: testNetworkId
    isReadyOnly: true
    description: The test network Id.
    types:
    - uid: string
  - name: failoverRecoveryPointId
    isReadyOnly: true
    description: The recovery point Id to which the VM was failed over.
    types:
    - uid: string
  - name: lastRecoveryPointReceived
    isReadyOnly: true
    description: The last recovery point received time.
    types:
    - uid: string
  - name: lastRpoInSeconds
    isReadyOnly: true
    description: The last recovery point objective value.
    types:
    - uid: integer
  - name: lastRpoCalculatedTime
    isReadyOnly: true
    description: The last recovery point objective calculated time.
    types:
    - uid: string
  - name: lastRecoveryPointId
    isReadyOnly: true
    description: The last recovery point Id.
    types:
    - uid: string
  - name: initialReplicationProgressPercentage
    isReadyOnly: true
    description: The initial replication progress percentage. This is calculated based on total bytes processed for all disks in the source VM.
    types:
    - uid: integer
  - name: initialReplicationProcessedBytes
    isReadyOnly: true
    description: The initial replication processed bytes. This includes sum of total bytes transferred and matched bytes on all selected disks in source VM.
    types:
    - uid: integer
  - name: initialReplicationTransferredBytes
    isReadyOnly: true
    description: The initial replication transferred bytes from source VM to azure for all selected disks on source VM.
    types:
    - uid: integer
  - name: resyncProgressPercentage
    isReadyOnly: true
    description: The resync progress percentage. This is calculated based on total bytes processed for all disks in the source VM.
    types:
    - uid: integer
  - name: resyncProcessedBytes
    isReadyOnly: true
    description: The resync processed bytes. This includes sum of total bytes transferred and matched bytes on all selected disks in source VM.
    types:
    - uid: integer
  - name: resyncTransferredBytes
    isReadyOnly: true
    description: The resync transferred bytes from source VM to azure for all selected disks on source VM.
    types:
    - uid: integer
  - name: resyncRequired
    isReadyOnly: true
    description: A value indicating whether resync is required.
    types:
    - uid: string
  - name: resyncState
    isReadyOnly: true
    description: The resync state.
    types:
    - uid: ResyncState
  - name: agentUpgradeState
    isReadyOnly: true
    description: The agent auto upgrade state.
    types:
    - uid: MobilityAgentUpgradeState
  - name: lastAgentUpgradeType
    isReadyOnly: true
    description: The last agent upgrade type.
    types:
    - uid: string
  - name: lastAgentUpgradeFailedJobId
    isReadyOnly: true
    description: The last agent upgrade failed or cancelled job Id.
    types:
    - uid: string
  - name: protectedDisks
    isReadyOnly: true
    description: The list of protected disks.
    types:
    - uid: InMageRcmProtectedDiskDetails
      isArray: true
  - name: isLastUpgradeSuccessful
    isReadyOnly: true
    description: A value indicating whether last agent upgrade was successful or not.
    types:
    - uid: string
  - name: mobilityAgentDetails
    isReadyOnly: true
    description: The mobility agent information.
    types:
    - uid: InMageRcmMobilityAgentDetails
  - name: lastAgentUpgradeErrorDetails
    isReadyOnly: true
    description: The last agent upgrade error information.
    types:
    - uid: InMageRcmLastAgentUpgradeErrorDetails
      isArray: true
  - name: agentUpgradeBlockingErrorDetails
    isReadyOnly: true
    description: The agent upgrade blocking error information.
    types:
    - uid: InMageRcmAgentUpgradeBlockingErrorDetails
      isArray: true
  - name: vmNics
    isReadyOnly: true
    description: The network details.
    types:
    - uid: InMageRcmNicDetails
      isArray: true
  - name: instanceType
    isReadyOnly: true
    description: Gets the Instance type.
    types:
    - uid: InMageRcm
    typesTitle: string
- name: InMageReplicationDetails
  description: InMage provider specific settings
  kind: object
  properties:
  - name: activeSiteType
    description: The active location of the VM. If the VM is being protected from Azure, this field will take values from { Azure, OnPrem }. If the VM is being protected between two data-centers, this field will be OnPrem always.
    types:
    - uid: string
  - name: sourceVmCpuCount
    description: The CPU count of the VM on the primary side.
    types:
    - uid: integer
  - name: sourceVmRamSizeInMB
    description: The RAM size of the VM on the primary side.
    types:
    - uid: integer
  - name: osDetails
    description: The OS details.
    types:
    - uid: OSDiskDetails
  - name: protectionStage
    description: The protection stage.
    types:
    - uid: string
  - name: vmId
    description: The virtual machine Id.
    types:
    - uid: string
  - name: vmProtectionState
    description: The protection state for the vm.
    types:
    - uid: string
  - name: vmProtectionStateDescription
    description: The protection state description for the vm.
    types:
    - uid: string
  - name: resyncDetails
    description: The resync details of the machine
    types:
    - uid: InitialReplicationDetails
  - name: retentionWindowStart
    description: The retention window start time.
    types:
    - uid: string
  - name: retentionWindowEnd
    description: The retention window end time.
    types:
    - uid: string
  - name: compressedDataRateInMB
    description: The compressed data change rate in MB.
    types:
    - uid: number
  - name: uncompressedDataRateInMB
    description: The uncompressed data change rate in MB.
    types:
    - uid: number
  - name: rpoInSeconds
    description: The RPO in seconds.
    types:
    - uid: integer
  - name: protectedDisks
    description: The list of protected disks.
    types:
    - uid: InMageProtectedDiskDetails
      isArray: true
  - name: ipAddress
    description: The source IP address.
    types:
    - uid: string
  - name: lastHeartbeat
    description: The last heartbeat received from the source server.
    types:
    - uid: string
  - name: processServerId
    description: The process server Id.
    types:
    - uid: string
  - name: masterTargetId
    description: The master target Id.
    types:
    - uid: string
  - name: consistencyPoints
    description: The collection of Consistency points.
    types:
    - uid: object
      isDictionary: true
      additionalTypes:
      - uid: string
      - uid: string
  - name: diskResized
    description: A value indicating whether any disk is resized for this VM.
    types:
    - uid: string
  - name: rebootAfterUpdateStatus
    description: A value indicating whether the source server requires a restart after update.
    types:
    - uid: string
  - name: multiVmGroupId
    description: The multi vm group Id, if any.
    types:
    - uid: string
  - name: multiVmGroupName
    description: The multi vm group name, if any.
    types:
    - uid: string
  - name: multiVmSyncStatus
    description: A value indicating whether the multi vm sync is enabled or disabled.
    types:
    - uid: string
  - name: agentDetails
    description: The agent details.
    types:
    - uid: InMageAgentDetails
  - name: vCenterInfrastructureId
    description: The vCenter infrastructure Id.
    types:
    - uid: string
  - name: infrastructureVmId
    description: The infrastructure VM Id.
    types:
    - uid: string
  - name: vmNics
    description: The PE Network details.
    types:
    - uid: VMNicDetails
      isArray: true
  - name: discoveryType
    description: A value indicating the discovery type of the machine.
    types:
    - uid: string
  - name: azureStorageAccountId
    description: A value indicating the underlying Azure storage account. If the VM is not running in Azure, this value shall be set to null.
    types:
    - uid: string
  - name: datastores
    description: The data stores of the on-premise machine Value can be list of strings that contain data store names
    types:
    - uid: string
      isArray: true
  - name: validationErrors
    description: The validation errors of the on-premise machine Value can be list of validation errors
    types:
    - uid: HealthError
      isArray: true
  - name: lastRpoCalculatedTime
    description: The last RPO calculated time.
    types:
    - uid: string
  - name: lastUpdateReceivedTime
    description: The last update time received from on-prem components.
    types:
    - uid: string
  - name: replicaId
    description: The replica id of the protected item.
    types:
    - uid: string
  - name: osVersion
    description: The OS Version of the protected item.
    types:
    - uid: string
  - name: instanceType
    isReadyOnly: true
    description: Gets the Instance type.
    types:
    - uid: InMage
    typesTitle: string
- name: MultiVmGroupCreateOption
  description: Whether Multi VM group is auto created or specified by user.
  kind: enum
  properties:
  - name: AutoCreated
    types:
    - uid: string
  - name: UserSpecified
    types:
    - uid: string
- name: A2AProtectedDiskDetails
  description: A2A protected disk details.
  kind: object
  properties:
  - name: diskUri
    description: The disk uri.
    types:
    - uid: string
  - name: recoveryAzureStorageAccountId
    description: The recovery disk storage account.
    types:
    - uid: string
  - name: primaryDiskAzureStorageAccountId
    description: The primary disk storage account.
    types:
    - uid: string
  - name: recoveryDiskUri
    description: Recovery disk uri.
    types:
    - uid: string
  - name: diskName
    description: The disk name.
    types:
    - uid: string
  - name: diskCapacityInBytes
    description: The disk capacity in bytes.
    types:
    - uid: integer
  - name: primaryStagingAzureStorageAccountId
    description: The primary staging storage account.
    types:
    - uid: string
  - name: diskType
    description: The type of disk.
    types:
    - uid: string
  - name: resyncRequired
    description: A value indicating whether resync is required for this disk.
    types:
    - uid: boolean
  - name: monitoringPercentageCompletion
    description: The percentage of the monitoring job. The type of the monitoring job is defined by MonitoringJobType property.
    types:
    - uid: integer
  - name: monitoringJobType
    description: The type of the monitoring job. The progress is contained in MonitoringPercentageCompletion property.
    types:
    - uid: string
  - name: dataPendingInStagingStorageAccountInMB
    description: The data pending for replication in MB at staging account.
    types:
    - uid: number
  - name: dataPendingAtSourceAgentInMB
    description: The data pending at source virtual machine in MB.
    types:
    - uid: number
  - name: diskState
    description: The disk state.
    types:
    - uid: string
  - name: allowedDiskLevelOperation
    description: The disk level operations list.
    types:
    - uid: string
      isArray: true
  - name: isDiskEncrypted
    description: A value indicating whether vm has encrypted os disk or not.
    types:
    - uid: boolean
  - name: secretIdentifier
    description: The secret URL / identifier (BEK).
    types:
    - uid: string
  - name: dekKeyVaultArmId
    description: The KeyVault resource id for secret (BEK).
    types:
    - uid: string
  - name: isDiskKeyEncrypted
    description: A value indicating whether disk key got encrypted or not.
    types:
    - uid: boolean
  - name: keyIdentifier
    description: The key URL / identifier (KEK).
    types:
    - uid: string
  - name: kekKeyVaultArmId
    description: The KeyVault resource id for key (KEK).
    types:
    - uid: string
- name: A2AUnprotectedDiskDetails
  description: A2A unprotected disk details.
  kind: object
  properties:
  - name: diskLunId
    description: The source lun Id for the data disk.
    types:
    - uid: integer
- name: A2AProtectedManagedDiskDetails
  description: A2A protected managed disk details.
  kind: object
  properties:
  - name: diskId
    description: The managed disk Arm id.
    types:
    - uid: string
  - name: recoveryResourceGroupId
    description: The recovery disk resource group Arm Id.
    types:
    - uid: string
  - name: recoveryTargetDiskId
    description: Recovery target disk Arm Id.
    types:
    - uid: string
  - name: recoveryReplicaDiskId
    description: Recovery replica disk Arm Id.
    types:
    - uid: string
  - name: recoveryReplicaDiskAccountType
    description: The replica disk type. Its an optional value and will be same as source disk type if not user provided.
    types:
    - uid: string
  - name: recoveryTargetDiskAccountType
    description: The target disk type after failover. Its an optional value and will be same as source disk type if not user provided.
    types:
    - uid: string
  - name: recoveryDiskEncryptionSetId
    description: The recovery disk encryption set Id.
    types:
    - uid: string
  - name: diskName
    description: The disk name.
    types:
    - uid: string
  - name: diskCapacityInBytes
    description: The disk capacity in bytes.
    types:
    - uid: integer
  - name: primaryStagingAzureStorageAccountId
    description: The primary staging storage account.
    types:
    - uid: string
  - name: diskType
    description: The type of disk.
    types:
    - uid: string
  - name: resyncRequired
    description: A value indicating whether resync is required for this disk.
    types:
    - uid: boolean
  - name: monitoringPercentageCompletion
    description: The percentage of the monitoring job. The type of the monitoring job is defined by MonitoringJobType property.
    types:
    - uid: integer
  - name: monitoringJobType
    description: The type of the monitoring job. The progress is contained in MonitoringPercentageCompletion property.
    types:
    - uid: string
  - name: dataPendingInStagingStorageAccountInMB
    description: The data pending for replication in MB at staging account.
    types:
    - uid: number
  - name: dataPendingAtSourceAgentInMB
    description: The data pending at source virtual machine in MB.
    types:
    - uid: number
  - name: diskState
    description: The disk state.
    types:
    - uid: string
  - name: allowedDiskLevelOperation
    description: The disk level operations list.
    types:
    - uid: string
      isArray: true
  - name: isDiskEncrypted
    description: A value indicating whether vm has encrypted os disk or not.
    types:
    - uid: boolean
  - name: secretIdentifier
    description: The secret URL / identifier (BEK).
    types:
    - uid: string
  - name: dekKeyVaultArmId
    description: The KeyVault resource id for secret (BEK).
    types:
    - uid: string
  - name: isDiskKeyEncrypted
    description: A value indicating whether disk key got encrypted or not.
    types:
    - uid: boolean
  - name: keyIdentifier
    description: The key URL / identifier (KEK).
    types:
    - uid: string
  - name: kekKeyVaultArmId
    description: The KeyVault resource id for key (KEK).
    types:
    - uid: string
  - name: failoverDiskName
    description: The failover name for the managed disk.
    types:
    - uid: string
  - name: tfoDiskName
    description: The test failover name for the managed disk.
    types:
    - uid: string
- name: VMNicDetails
  description: Hyper V VM network details.
  kind: object
  properties:
  - name: nicId
    description: The nic Id.
    types:
    - uid: string
  - name: replicaNicId
    description: The replica nic Id.
    types:
    - uid: string
  - name: sourceNicArmId
    description: The source nic ARM Id.
    types:
    - uid: string
  - name: vMSubnetName
    description: VM subnet name.
    types:
    - uid: string
  - name: vMNetworkName
    description: VM network name.
    types:
    - uid: string
  - name: recoveryVMNetworkId
    description: Recovery VM network Id.
    types:
    - uid: string
  - name: recoveryVMSubnetName
    description: Recovery VM subnet name.
    types:
    - uid: string
  - name: ipAddressType
    description: Ip address type.
    types:
    - uid: string
  - name: primaryNicStaticIPAddress
    description: Primary nic static IP address.
    types:
    - uid: string
  - name: replicaNicStaticIPAddress
    description: Replica nic static IP address.
    types:
    - uid: string
  - name: selectionType
    description: Selection type for failover.
    types:
    - uid: string
  - name: recoveryNicIpAddressType
    description: IP allocation type for recovery VM.
    types:
    - uid: string
  - name: recoveryPublicIpAddressId
    description: The id of the public IP address resource associated with the NIC.
    types:
    - uid: string
  - name: recoveryNetworkSecurityGroupId
    description: The id of the NSG associated with the NIC.
    types:
    - uid: string
  - name: recoveryLBBackendAddressPoolIds
    description: The target backend address pools for the NIC.
    types:
    - uid: string
      isArray: true
  - name: enableAcceleratedNetworkingOnRecovery
    description: A value indicating whether the NIC has accelerated networking enabled.
    types:
    - uid: boolean
  - name: tfoVMNetworkId
    description: The network to be used by NIC during test failover.
    types:
    - uid: string
  - name: tfoVMSubnetName
    description: The subnet to be used by NIC during test failover.
    types:
    - uid: string
  - name: tfoNetworkSecurityGroupId
    description: The NSG to be used by NIC during test failover.
    types:
    - uid: string
  - name: enableAcceleratedNetworkingOnTfo
    description: Whether the test failover NIC has accelerated networking enabled.
    types:
    - uid: boolean
  - name: tfoIPConfigs
    description: The IP configurations to be used by NIC during test failover.
    types:
    - uid: IPConfig
      isArray: true
  - name: recoveryNicName
    description: The name of the NIC to be used when creating target NICs.
    types:
    - uid: string
  - name: recoveryNicResourceGroupName
    description: The resource group of the NIC to be used when creating target NICs.
    types:
    - uid: string
  - name: reuseExistingNic
    description: A value indicating whether an existing NIC is allowed to be reused during failover subject to availability.
    types:
    - uid: boolean
  - name: tfoRecoveryNicName
    description: The name of the NIC to be used when creating target NICs in TFO.
    types:
    - uid: string
  - name: tfoRecoveryNicResourceGroupName
    description: The resource group of the NIC to be used when creating target NICs in TFO.
    types:
    - uid: string
  - name: tfoReuseExistingNic
    description: A value indicating whether an existing NIC is allowed to be reused during test failover subject to availability.
    types:
    - uid: boolean
- name: AzureToAzureVmSyncedConfigDetails
  description: Azure to Azure VM synced configuration details.
  kind: object
  properties:
  - name: tags
    description: The Azure VM tags.
    types:
    - uid: object
      isDictionary: true
      additionalTypes:
      - uid: string
      - uid: string
  - name: inputEndpoints
    description: The Azure VM input endpoints.
    types:
    - uid: InputEndpoint
      isArray: true
- name: VmEncryptionType
  description: The encryption type of the VM.
  kind: enum
  properties:
  - name: NotEncrypted
    types:
    - uid: string
  - name: OnePassEncrypted
    types:
    - uid: string
  - name: TwoPassEncrypted
    types:
    - uid: string
- name: AzureVmDiskDetails
  description: Disk details for E2A provider.
  kind: object
  properties:
  - name: vhdType
    description: VHD type.
    types:
    - uid: string
  - name: vhdId
    description: The VHD id.
    types:
    - uid: string
  - name: diskId
    description: The disk resource id.
    types:
    - uid: string
  - name: vhdName
    description: VHD name.
    types:
    - uid: string
  - name: maxSizeMB
    description: Max side in MB.
    types:
    - uid: string
  - name: targetDiskLocation
    description: Blob uri of the Azure disk.
    types:
    - uid: string
  - name: targetDiskName
    description: The target Azure disk name.
    types:
    - uid: string
  - name: lunId
    description: Ordinal\LunId of the disk for the Azure VM.
    types:
    - uid: string
  - name: diskEncryptionSetId
    description: The DiskEncryptionSet ARM ID.
    types:
    - uid: string
- name: InitialReplicationDetails
  description: Initial replication details.
  kind: object
  properties:
  - name: initialReplicationType
    description: Initial replication type.
    types:
    - uid: string
  - name: initialReplicationProgressPercentage
    description: The initial replication progress percentage.
    types:
    - uid: string
- name: OSDetails
  description: Disk Details.
  kind: object
  properties:
  - name: osType
    description: VM Disk details.
    types:
    - uid: string
  - name: productType
    description: Product type.
    types:
    - uid: string
  - name: osEdition
    description: The OSEdition.
    types:
    - uid: string
  - name: oSVersion
    description: The OS Version.
    types:
    - uid: string
  - name: oSMajorVersion
    description: The OS Major Version.
    types:
    - uid: string
  - name: oSMinorVersion
    description: The OS Minor Version.
    types:
    - uid: string
- name: DiskDetails
  description: On-prem disk details data.
  kind: object
  properties:
  - name: maxSizeMB
    description: The hard disk max size in MB.
    types:
    - uid: integer
  - name: vhdType
    description: The type of the volume.
    types:
    - uid: string
  - name: vhdId
    description: The VHD Id.
    types:
    - uid: string
  - name: vhdName
    description: The VHD name.
    types:
    - uid: string
- name: InMageAzureV2ProtectedDiskDetails
  description: InMageAzureV2 protected disk details.
  kind: object
  properties:
  - name: diskId
    description: The disk id.
    types:
    - uid: string
  - name: diskName
    description: The disk name.
    types:
    - uid: string
  - name: protectionStage
    description: The protection stage.
    types:
    - uid: string
  - name: healthErrorCode
    description: The health error code for the disk.
    types:
    - uid: string
  - name: rpoInSeconds
    description: The RPO in seconds.
    types:
    - uid: integer
  - name: resyncRequired
    description: A value indicating whether resync is required for this disk.
    types:
    - uid: string
  - name: resyncProgressPercentage
    description: The resync progress percentage.
    types:
    - uid: integer
  - name: resyncDurationInSeconds
    description: The resync duration in seconds.
    types:
    - uid: integer
  - name: diskCapacityInBytes
    description: The disk capacity in bytes.
    types:
    - uid: integer
  - name: fileSystemCapacityInBytes
    description: The disk file system capacity in bytes.
    types:
    - uid: integer
  - name: sourceDataInMegaBytes
    description: The source data transit in MB.
    types:
    - uid: number
  - name: psDataInMegaBytes
    description: The PS data transit in MB.
    types:
    - uid: number
  - name: targetDataInMegaBytes
    description: The target data transit in MB.
    types:
    - uid: number
  - name: diskResized
    description: A value indicating whether disk is resized.
    types:
    - uid: string
  - name: lastRpoCalculatedTime
    description: The last RPO calculated time.
    types:
    - uid: string
- name: InMageAzureV2ManagedDiskDetails
  description: InMageAzureV2 Managed disk details.
  kind: object
  properties:
  - name: diskId
    description: The disk id.
    types:
    - uid: string
  - name: seedManagedDiskId
    description: Seed managed disk Id.
    types:
    - uid: string
  - name: replicaDiskType
    description: The replica disk type.
    types:
    - uid: string
- name: ResyncState
  description: The resync state.
  kind: enum
  properties:
  - name: None
    types:
    - uid: string
  - name: PreparedForResynchronization
    types:
    - uid: string
  - name: StartedResynchronization
    types:
    - uid: string
- name: MobilityAgentUpgradeState
  description: The agent auto upgrade state.
  kind: enum
  properties:
  - name: None
    types:
    - uid: string
  - name: Started
    types:
    - uid: string
  - name: Completed
    types:
    - uid: string
  - name: Commit
    types:
    - uid: string
- name: InMageRcmProtectedDiskDetails
  description: InMageRcm protected disk details.
  kind: object
  properties:
  - name: diskId
    isReadyOnly: true
    description: The disk Id.
    types:
    - uid: string
  - name: diskName
    isReadyOnly: true
    description: The disk name.
    types:
    - uid: string
  - name: isOSDisk
    isReadyOnly: true
    description: A value indicating whether the disk is the OS disk.
    types:
    - uid: string
  - name: capacityInBytes
    isReadyOnly: true
    description: The disk capacity in bytes.
    types:
    - uid: integer
  - name: logStorageAccountId
    isReadyOnly: true
    description: The log storage account ARM Id.
    types:
    - uid: string
  - name: diskEncryptionSetId
    isReadyOnly: true
    description: The disk encryption set ARM Id.
    types:
    - uid: string
  - name: seedManagedDiskId
    isReadyOnly: true
    description: The ARM Id of the seed managed disk.
    types:
    - uid: string
  - name: targetManagedDiskId
    isReadyOnly: true
    description: The ARM Id of the target managed disk.
    types:
    - uid: string
  - name: diskType
    isReadyOnly: true
    description: The disk type.
    types:
    - uid: DiskAccountType
- name: InMageRcmMobilityAgentDetails
  description: InMageRcm mobility agent details.
  kind: object
  properties:
  - name: version
    isReadyOnly: true
    description: The agent version.
    types:
    - uid: string
  - name: latestVersion
    isReadyOnly: true
    description: The latest agent version available.
    types:
    - uid: string
  - name: driverVersion
    isReadyOnly: true
    description: The driver version.
    types:
    - uid: string
  - name: latestUpgradableVersionWithoutReboot
    isReadyOnly: true
    description: The latest upgradeable version available without reboot.
    types:
    - uid: string
  - name: agentVersionExpiryDate
    isReadyOnly: true
    description: The agent version expiry date.
    types:
    - uid: string
  - name: driverVersionExpiryDate
    isReadyOnly: true
    description: The driver version expiry date.
    types:
    - uid: string
  - name: lastHeartbeatUtc
    isReadyOnly: true
    description: The time of the last heartbeat received from the agent.
    types:
    - uid: string
  - name: reasonsBlockingUpgrade
    isReadyOnly: true
    description: The whether update is possible or not.
    types:
    - uid: string
      isArray: true
  - name: isUpgradeable
    isReadyOnly: true
    description: A value indicating whether agent is upgradeable or not.
    types:
    - uid: string
- name: InMageRcmLastAgentUpgradeErrorDetails
  description: InMageRcm last source agent upgrade error details.
  kind: object
  properties:
  - name: errorCode
    isReadyOnly: true
    description: The error code.
    types:
    - uid: string
  - name: errorMessage
    isReadyOnly: true
    description: The error message.
    types:
    - uid: string
  - name: possibleCauses
    isReadyOnly: true
    description: The possible causes.
    types:
    - uid: string
  - name: recommendedAction
    isReadyOnly: true
    description: The recommended action.
    types:
    - uid: string
  - name: errorMessageParameters
    isReadyOnly: true
    description: The error message parameters.
    types:
    - uid: object
      isDictionary: true
      additionalTypes:
      - uid: string
      - uid: string
  - name: errorTags
    isReadyOnly: true
    description: The error tags.
    types:
    - uid: object
      isDictionary: true
      additionalTypes:
      - uid: string
      - uid: string
- name: InMageRcmAgentUpgradeBlockingErrorDetails
  description: InMageRcm source agent upgrade blocking error details.
  kind: object
  properties:
  - name: errorCode
    isReadyOnly: true
    description: The error code.
    types:
    - uid: string
  - name: errorMessage
    isReadyOnly: true
    description: The error message.
    types:
    - uid: string
  - name: possibleCauses
    isReadyOnly: true
    description: The possible causes.
    types:
    - uid: string
  - name: recommendedAction
    isReadyOnly: true
    description: The recommended action.
    types:
    - uid: string
  - name: errorMessageParameters
    isReadyOnly: true
    description: The error message parameters.
    types:
    - uid: object
      isDictionary: true
      additionalTypes:
      - uid: string
      - uid: string
  - name: errorTags
    isReadyOnly: true
    description: The error tags.
    types:
    - uid: object
      isDictionary: true
      additionalTypes:
      - uid: string
      - uid: string
- name: InMageRcmNicDetails
  description: InMageRcm NIC details.
  kind: object
  properties:
  - name: nicId
    isReadyOnly: true
    description: The NIC Id.
    types:
    - uid: string
  - name: isPrimaryNic
    isReadyOnly: true
    description: A value indicating whether this is the primary NIC.
    types:
    - uid: string
  - name: isSelectedForFailover
    isReadyOnly: true
    description: A value indicating whether this NIC is selected for failover.
    types:
    - uid: string
  - name: sourceIPAddress
    isReadyOnly: true
    description: The source IP address.
    types:
    - uid: string
  - name: sourceIPAddressType
    isReadyOnly: true
    description: The source IP address type.
    types:
    - uid: EthernetAddressType
  - name: sourceNetworkId
    isReadyOnly: true
    description: Source network Id.
    types:
    - uid: string
  - name: sourceSubnetName
    isReadyOnly: true
    description: Source subnet name.
    types:
    - uid: string
  - name: targetIPAddress
    isReadyOnly: true
    description: The target IP address.
    types:
    - uid: string
  - name: targetIPAddressType
    isReadyOnly: true
    description: The target IP address type.
    types:
    - uid: EthernetAddressType
  - name: targetSubnetName
    isReadyOnly: true
    description: Target subnet name.
    types:
    - uid: string
  - name: testSubnetName
    isReadyOnly: true
    description: Test subnet name.
    types:
    - uid: string
  - name: testIPAddress
    isReadyOnly: true
    description: The test IP address.
    types:
    - uid: string
  - name: testIPAddressType
    isReadyOnly: true
    description: The test IP address type.
    types:
    - uid: EthernetAddressType
- name: OSDiskDetails
  description: Details of the OS Disk.
  kind: object
  properties:
  - name: osVhdId
    description: The id of the disk containing the OS.
    types:
    - uid: string
  - name: osType
    description: The type of the OS on the VM.
    types:
    - uid: string
  - name: vhdName
    description: The OS disk VHD name.
    types:
    - uid: string
- name: InMageProtectedDiskDetails
  description: InMage protected disk details.
  kind: object
  properties:
  - name: diskId
    description: The disk id.
    types:
    - uid: string
  - name: diskName
    description: The disk name.
    types:
    - uid: string
  - name: protectionStage
    description: The protection stage.
    types:
    - uid: string
  - name: healthErrorCode
    description: The health error code for the disk.
    types:
    - uid: string
  - name: rpoInSeconds
    description: The RPO in seconds.
    types:
    - uid: integer
  - name: resyncRequired
    description: A value indicating whether resync is required for this disk.
    types:
    - uid: string
  - name: resyncProgressPercentage
    description: The resync progress percentage.
    types:
    - uid: integer
  - name: resyncDurationInSeconds
    description: The resync duration in seconds.
    types:
    - uid: integer
  - name: diskCapacityInBytes
    description: The disk capacity in bytes.
    types:
    - uid: integer
  - name: fileSystemCapacityInBytes
    description: The file system capacity in bytes.
    types:
    - uid: integer
  - name: sourceDataInMB
    description: The source data transit in MB.
    types:
    - uid: number
  - name: psDataInMB
    description: The PS data transit in MB.
    types:
    - uid: number
  - name: targetDataInMB
    description: The target data transit in MB.
    types:
    - uid: number
  - name: diskResized
    description: A value indicating whether disk is resized.
    types:
    - uid: string
  - name: lastRpoCalculatedTime
    description: The last RPO calculated time.
    types:
    - uid: string
- name: InMageAgentDetails
  description: The details of the InMage agent.
  kind: object
  properties:
  - name: agentVersion
    description: The agent version.
    types:
    - uid: string
  - name: agentUpdateStatus
    description: A value indicating whether installed agent needs to be updated.
    types:
    - uid: string
  - name: postUpdateRebootStatus
    description: A value indicating whether reboot is required after update is applied.
    types:
    - uid: string
  - name: agentExpiryDate
    description: Agent expiry date.
    types:
    - uid: string
- name: IPConfig
  description: IP configuration details.
  kind: object
  properties:
  - name: staticIPAddress
    description: The static IP address of the IP configuration.
    types:
    - uid: string
  - name: publicIpAddressId
    description: The Id of the public IP address associated with the IP configuration.
    types:
    - uid: string
  - name: lBBackendAddressPoolIds
    description: The backend address pools associated with the IP configuration.
    types:
    - uid: string
      isArray: true
- name: InputEndpoint
  description: Azure VM input endpoint details.
  kind: object
  properties:
  - name: endpointName
    description: The input endpoint name.
    types:
    - uid: string
  - name: privatePort
    description: The input endpoint private port.
    types:
    - uid: integer
  - name: publicPort
    description: The input endpoint public port.
    types:
    - uid: integer
  - name: protocol
    description: The input endpoint protocol.
    types:
    - uid: string
- name: DiskAccountType
  description: The DiskType.
  kind: enum
  properties:
  - name: Standard_LRS
    types:
    - uid: string
  - name: Premium_LRS
    types:
    - uid: string
  - name: StandardSSD_LRS
    types:
    - uid: string
- name: EthernetAddressType
  description: The source IP address type.
  kind: enum
  properties:
  - name: Dynamic
    types:
    - uid: string
  - name: Static
    types:
    - uid: string
examples:
- name: Update the mobility service on a protected item.
  request:
    uri: POST https://management.azure.com/Subscriptions/b364ed8d-4279-4bf8-8fd1-56f8fa0ae05c/resourceGroups/wcusValidations/providers/Microsoft.RecoveryServices/vaults/WCUSVault/replicationFabrics/WIN-JKKJ31QI8U2/replicationProtectionContainers/cloud_c6780228-83bd-4f3e-a70e-cb46b7da33a0/replicationProtectedItems/79dd20ab-2b40-11e7-9791-0050568f387e/updateMobilityService?api-version=2018-07-10
    body: >-
      {
        "properties": {
          "runAsAccountId": "2"
        }
      }
  responses:
  - statusCode: "200"
    body: >-
      {
        "name": "79dd20ab-2b40-11e7-9791-0050568f387e",
        "id": "/Subscriptions/b364ed8d-4279-4bf8-8fd1-56f8fa0ae05c/resourceGroups/wcusValidations/providers/Microsoft.RecoveryServices/vaults/WCUSVault/replicationFabrics/d70b0326a201008a953505ef271dc908e5e23468bc7356862ea178696f5f15c7/replicationProtectionContainers/cloud_c6780228-83bd-4f3e-a70e-cb46b7da33a0/replicationProtectedItems/79dd20ab-2b40-11e7-9791-0050568f387e",
        "type": "Microsoft.RecoveryServices/vaults/replicationFabrics/replicationProtectionContainers/replicationProtectedItems",
        "properties": {
          "friendlyName": "MMR-LIN-V2A-3",
          "protectedItemType": "",
          "protectableItemId": "/Subscriptions/b364ed8d-4279-4bf8-8fd1-56f8fa0ae05c/resourceGroups/wcusValidations/providers/Microsoft.RecoveryServices/vaults/WCUSVault/replicationFabrics/d70b0326a201008a953505ef271dc908e5e23468bc7356862ea178696f5f15c7/replicationProtectionContainers/cloud_c6780228-83bd-4f3e-a70e-cb46b7da33a0/replicationProtectableItems/79dd20ab-2b40-11e7-9791-0050568f387e",
          "recoveryServicesProviderId": "/Subscriptions/b364ed8d-4279-4bf8-8fd1-56f8fa0ae05c/resourceGroups/wcusValidations/providers/Microsoft.RecoveryServices/vaults/WCUSVault/replicationFabrics/d70b0326a201008a953505ef271dc908e5e23468bc7356862ea178696f5f15c7/replicationRecoveryServicesProviders/c6780228-83bd-4f3e-a70e-cb46b7da33a0",
          "primaryFabricFriendlyName": "WIN-JKKJ31QI8U2",
          "recoveryFabricFriendlyName": "Microsoft Azure",
          "recoveryFabricId": "Microsoft Azure",
          "primaryProtectionContainerFriendlyName": "WIN-JKKJ31QI8U2",
          "recoveryProtectionContainerFriendlyName": "Microsoft Azure",
          "protectionState": "Protected",
          "protectionStateDescription": "Protected",
          "activeLocation": "Primary",
          "testFailoverState": "None",
          "testFailoverStateDescription": "None",
          "allowedOperations": [
            "UnplannedFailover",
            "DisableProtection",
            "TestFailover"
          ],
          "replicationHealth": "Normal",
          "policyId": "/Subscriptions/b364ed8d-4279-4bf8-8fd1-56f8fa0ae05c/resourceGroups/wcusValidations/providers/Microsoft.RecoveryServices/vaults/WCUSVault/replicationPolicies/MadhaviPolicyNew",
          "policyFriendlyName": "MadhaviPolicyNew",
          "currentScenario": {
            "scenarioName": "None",
            "jobId": "/Subscriptions/b364ed8d-4279-4bf8-8fd1-56f8fa0ae05c/resourceGroups/wcusValidations/providers/Microsoft.RecoveryServices/vaults/WCUSVault/replicationJobs/None",
            "startTime": "1753-01-01T01:01:01Z"
          },
          "providerSpecificDetails": {
            "instanceType": "InMageAzureV2"
          },
          "recoveryContainerId": "/Subscriptions/b364ed8d-4279-4bf8-8fd1-56f8fa0ae05c/resourceGroups/wcusValidations/providers/Microsoft.RecoveryServices/vaults/WCUSVault/replicationFabrics/d49858f157601230a6ac5862fbbc6e63bf38d23ecd96cf953767945d457fe9d5/replicationProtectionContainers/d38048d4-b460-4791-8ece-108395ee8478"
        }
      }
  - statusCode: "202"
security:
- name: azure_auth
  type: oauth2
  description: Azure Active Directory OAuth2 Flow
  flow: implicit
  authorizationUrl: https://login.microsoftonline.com/common/oauth2/authorize
  scopes:
  - name: user_impersonation
    description: impersonate your user account.
metadata:
  description: "Update the mobility service on a protected item.  \nThe operation to update(push update) the installed mobility service software on a replication protected item to the latest available version."
errorCodes: []
