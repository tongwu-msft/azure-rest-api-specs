### YamlMime:RESTOperation
uid: management.azure.com.hdinsight.2021-06-01.clusters.create
name: Create
service: HDInsight
groupName: Clusters
apiVersion: 2021-06-01
summary: Creates a new HDInsight cluster with the specified parameters.
consumes:
- application/json
produces:
- application/json
paths:
- content: PUT https://management.azure.com/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.HDInsight/clusters/{clusterName}?api-version=2021-06-01
uriParameters:
- name: subscriptionId
  in: path
  isRequired: true
  description: The subscription credentials which uniquely identify Microsoft Azure subscription. The subscription ID forms part of the URI for every service call.
  types:
  - uid: string
- name: resourceGroupName
  in: path
  isRequired: true
  description: The name of the resource group.
  types:
  - uid: string
- name: clusterName
  in: path
  isRequired: true
  description: The name of the cluster.
  types:
  - uid: string
- name: api-version
  in: query
  isRequired: true
  description: The HDInsight client API Version.
  types:
  - uid: string
responses:
- name: Other Status Codes
  description: Error response describing why the operation failed.
  types:
  - uid: ErrorResponse
- name: 200 OK
  description: OK response definition.
  types:
  - uid: Cluster
requestBody:
- name: default
  parameters:
  - name: location
    in: body
    description: The location of the cluster.
    types:
    - uid: string
  - name: tags
    in: body
    description: The resource tags.
    types:
    - uid: object
      isDictionary: true
      additionalTypes:
      - uid: string
      - uid: string
  - name: zones
    in: body
    description: The availability zones.
    types:
    - uid: string
      isArray: true
  - name: properties
    in: body
    description: The cluster create parameters.
    types:
    - uid: ClusterCreateProperties
  - name: identity
    in: body
    description: The identity of the cluster, if configured.
    types:
    - uid: ClusterIdentity
requestHeader: []
definitions:
- name: ClusterCreateProperties
  description: The cluster create parameters.
  kind: object
  properties:
  - name: clusterVersion
    description: The version of the cluster.
    types:
    - uid: string
  - name: osType
    description: The type of operating system.
    types:
    - uid: OSType
  - name: tier
    description: The cluster tier.
    types:
    - uid: Tier
    defaultValue: Standard
  - name: clusterDefinition
    description: The cluster definition.
    types:
    - uid: ClusterDefinition
  - name: kafkaRestProperties
    description: The cluster kafka rest proxy configuration.
    types:
    - uid: KafkaRestProperties
  - name: securityProfile
    description: The security profile.
    types:
    - uid: SecurityProfile
  - name: computeProfile
    description: The compute profile.
    types:
    - uid: ComputeProfile
  - name: storageProfile
    description: The storage profile.
    types:
    - uid: StorageProfile
  - name: diskEncryptionProperties
    description: The disk encryption properties.
    types:
    - uid: DiskEncryptionProperties
  - name: encryptionInTransitProperties
    description: The encryption-in-transit properties.
    types:
    - uid: EncryptionInTransitProperties
  - name: minSupportedTlsVersion
    description: The minimal supported tls version.
    types:
    - uid: string
  - name: networkProperties
    description: The network properties.
    types:
    - uid: NetworkProperties
  - name: computeIsolationProperties
    description: The compute isolation properties.
    types:
    - uid: ComputeIsolationProperties
  - name: privateLinkConfigurations
    description: The private link configurations.
    types:
    - uid: PrivateLinkConfiguration
      isArray: true
- name: ClusterIdentity
  description: Identity for the cluster.
  kind: object
  properties:
  - name: principalId
    isReadyOnly: true
    description: The principal id of cluster identity. This property will only be provided for a system assigned identity.
    types:
    - uid: string
  - name: tenantId
    isReadyOnly: true
    description: The tenant id associated with the cluster. This property will only be provided for a system assigned identity.
    types:
    - uid: string
  - name: type
    description: The type of identity used for the cluster. The type 'SystemAssigned, UserAssigned' includes both an implicitly created identity and a set of user assigned identities.
    types:
    - uid: ResourceIdentityType
  - name: userAssignedIdentities
    description: "The list of user identities associated with the cluster. The user identity dictionary key references will be ARM resource ids in the form: '/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.ManagedIdentity/userAssignedIdentities/{identityName}'."
    types:
    - uid: object
      isDictionary: true
      additionalTypes:
      - uid: string
      - uid: UserAssignedIdentity
- name: ErrorResponse
  description: Describes the format of Error response.
  kind: object
  properties:
  - name: code
    description: Error code
    types:
    - uid: string
  - name: message
    description: Error message indicating why the operation failed.
    types:
    - uid: string
- name: Cluster
  description: The HDInsight cluster.
  kind: object
  properties:
  - name: etag
    description: The ETag for the resource
    types:
    - uid: string
  - name: zones
    description: The availability zones.
    types:
    - uid: string
      isArray: true
  - name: properties
    description: The properties of the cluster.
    types:
    - uid: ClusterGetProperties
  - name: identity
    description: The identity of the cluster, if configured.
    types:
    - uid: ClusterIdentity
  - name: systemData
    isReadyOnly: true
    description: Metadata pertaining to creation and last modification of the resource.
    types:
    - uid: systemData
  - name: tags
    description: Resource tags.
    types:
    - uid: object
      isDictionary: true
      additionalTypes:
      - uid: string
      - uid: string
  - name: location
    description: The geo-location where the resource lives
    types:
    - uid: string
  - name: id
    isReadyOnly: true
    description: Fully qualified resource ID for the resource. Ex - /subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/{resourceProviderNamespace}/{resourceType}/{resourceName}
    types:
    - uid: string
  - name: name
    isReadyOnly: true
    description: The name of the resource
    types:
    - uid: string
  - name: type
    isReadyOnly: true
    description: The type of the resource. E.g. "Microsoft.Compute/virtualMachines" or "Microsoft.Storage/storageAccounts"
    types:
    - uid: string
- name: ClusterCreateParametersExtended
  description: The CreateCluster request parameters.
  kind: object
  properties:
  - name: location
    description: The location of the cluster.
    types:
    - uid: string
  - name: tags
    description: The resource tags.
    types:
    - uid: object
      isDictionary: true
      additionalTypes:
      - uid: string
      - uid: string
  - name: zones
    description: The availability zones.
    types:
    - uid: string
      isArray: true
  - name: properties
    description: The cluster create parameters.
    types:
    - uid: ClusterCreateProperties
  - name: identity
    description: The identity of the cluster, if configured.
    types:
    - uid: ClusterIdentity
- name: OSType
  description: The type of operating system.
  kind: enum
  properties:
  - name: Windows
    types:
    - uid: string
  - name: Linux
    types:
    - uid: string
- name: Tier
  description: The cluster tier.
  kind: enum
  properties:
  - name: Standard
    types:
    - uid: string
  - name: Premium
    types:
    - uid: string
- name: ClusterDefinition
  description: The cluster definition.
  kind: object
  properties:
  - name: blueprint
    description: The link to the blueprint.
    types:
    - uid: string
  - name: kind
    description: The type of cluster.
    types:
    - uid: string
  - name: componentVersion
    description: The versions of different services in the cluster.
    types:
    - uid: object
      isDictionary: true
      additionalTypes:
      - uid: string
      - uid: string
  - name: configurations
    description: The cluster configurations.
    types:
    - uid: object
- name: KafkaRestProperties
  description: The kafka rest proxy configuration which contains AAD security group information.
  kind: object
  properties:
  - name: clientGroupInfo
    description: The information of AAD security group.
    types:
    - uid: ClientGroupInfo
  - name: configurationOverride
    description: The configurations that need to be overriden.
    types:
    - uid: object
      isDictionary: true
      additionalTypes:
      - uid: string
      - uid: string
- name: SecurityProfile
  description: The security profile which contains Ssh public key for the HDInsight cluster.
  kind: object
  properties:
  - name: directoryType
    description: The directory type.
    types:
    - uid: DirectoryType
  - name: domain
    description: The organization's active directory domain.
    types:
    - uid: string
  - name: organizationalUnitDN
    description: The organizational unit within the Active Directory to place the cluster and service accounts.
    types:
    - uid: string
  - name: ldapsUrls
    description: The LDAPS protocol URLs to communicate with the Active Directory.
    types:
    - uid: string
      isArray: true
  - name: domainUsername
    description: The domain user account that will have admin privileges on the cluster.
    types:
    - uid: string
  - name: domainUserPassword
    description: The domain admin password.
    types:
    - uid: string
  - name: clusterUsersGroupDNs
    description: Optional. The Distinguished Names for cluster user groups
    types:
    - uid: string
      isArray: true
  - name: aaddsResourceId
    description: The resource ID of the user's Azure Active Directory Domain Service.
    types:
    - uid: string
  - name: msiResourceId
    description: User assigned identity that has permissions to read and create cluster-related artifacts in the user's AADDS.
    types:
    - uid: string
- name: ComputeProfile
  description: Describes the compute profile.
  kind: object
  properties:
  - name: roles
    description: The list of roles in the cluster.
    types:
    - uid: Role
      isArray: true
- name: StorageProfile
  description: The storage profile.
  kind: object
  properties:
  - name: storageaccounts
    description: The list of storage accounts in the cluster.
    types:
    - uid: StorageAccount
      isArray: true
- name: DiskEncryptionProperties
  description: The disk encryption properties
  kind: object
  properties:
  - name: vaultUri
    description: Base key vault URI where the customers key is located eg. https://myvault.vault.azure.net
    types:
    - uid: string
  - name: keyName
    description: Key name that is used for enabling disk encryption.
    types:
    - uid: string
  - name: keyVersion
    description: Specific key version that is used for enabling disk encryption.
    types:
    - uid: string
  - name: encryptionAlgorithm
    description: Algorithm identifier for encryption, default RSA-OAEP.
    types:
    - uid: JsonWebKeyEncryptionAlgorithm
  - name: msiResourceId
    description: Resource ID of Managed Identity that is used to access the key vault.
    types:
    - uid: string
  - name: encryptionAtHost
    description: Indicates whether or not resource disk encryption is enabled.
    types:
    - uid: boolean
    defaultValue: false
- name: EncryptionInTransitProperties
  description: The encryption-in-transit properties.
  kind: object
  properties:
  - name: isEncryptionInTransitEnabled
    description: Indicates whether or not inter cluster node communication is encrypted in transit.
    types:
    - uid: boolean
    defaultValue: false
- name: NetworkProperties
  description: The network properties.
  kind: object
  properties:
  - name: resourceProviderConnection
    description: The direction for the resource provider connection.
    types:
    - uid: ResourceProviderConnection
  - name: privateLink
    description: Indicates whether or not private link is enabled.
    types:
    - uid: PrivateLink
- name: ComputeIsolationProperties
  description: The compute isolation properties.
  kind: object
  properties:
  - name: enableComputeIsolation
    description: The flag indicates whether enable compute isolation or not.
    types:
    - uid: boolean
    defaultValue: false
  - name: hostSku
    description: The host sku.
    types:
    - uid: string
- name: PrivateLinkConfiguration
  description: The private link configuration.
  kind: object
  properties:
  - name: id
    isReadyOnly: true
    description: The private link configuration id.
    types:
    - uid: string
  - name: name
    description: The name of private link configuration.
    types:
    - uid: string
  - name: type
    isReadyOnly: true
    description: The type of the private link configuration.
    types:
    - uid: string
  - name: properties.groupId
    description: The HDInsight private linkable sub-resource name to apply the private link configuration to. For example, 'headnode', 'gateway', 'edgenode'.
    types:
    - uid: string
  - name: properties.provisioningState
    isReadyOnly: true
    description: The private link configuration provisioning state, which only appears in the response.
    types:
    - uid: PrivateLinkConfigurationProvisioningState
  - name: properties.ipConfigurations
    description: The IP configurations for the private link service.
    types:
    - uid: IPConfiguration
      isArray: true
- name: ResourceIdentityType
  description: The type of identity used for the cluster. The type 'SystemAssigned, UserAssigned' includes both an implicitly created identity and a set of user assigned identities.
  kind: enum
  properties:
  - name: SystemAssigned
    types:
    - uid: string
  - name: UserAssigned
    types:
    - uid: string
  - name: SystemAssigned, UserAssigned
    types:
    - uid: string
  - name: None
    types:
    - uid: string
- name: UserAssignedIdentity
  description: The User Assigned Identity
  kind: object
  properties:
  - name: principalId
    isReadyOnly: true
    description: The principal id of user assigned identity.
    types:
    - uid: string
  - name: clientId
    isReadyOnly: true
    description: The client id of user assigned identity.
    types:
    - uid: string
  - name: tenantId
    description: The tenant id of user assigned identity.
    types:
    - uid: string
- name: ClusterGetProperties
  description: The properties of cluster.
  kind: object
  properties:
  - name: clusterVersion
    description: The version of the cluster.
    types:
    - uid: string
  - name: clusterHdpVersion
    description: The hdp version of the cluster.
    types:
    - uid: string
  - name: osType
    description: The type of operating system.
    types:
    - uid: OSType
  - name: tier
    description: The cluster tier.
    types:
    - uid: Tier
  - name: clusterId
    description: The cluster id.
    types:
    - uid: string
  - name: clusterDefinition
    description: The cluster definition.
    types:
    - uid: ClusterDefinition
  - name: kafkaRestProperties
    description: The cluster kafka rest proxy configuration.
    types:
    - uid: KafkaRestProperties
  - name: securityProfile
    description: The security profile.
    types:
    - uid: SecurityProfile
  - name: computeProfile
    description: The compute profile.
    types:
    - uid: ComputeProfile
  - name: provisioningState
    description: The provisioning state, which only appears in the response.
    types:
    - uid: HDInsightClusterProvisioningState
  - name: createdDate
    description: The date on which the cluster was created.
    types:
    - uid: string
  - name: clusterState
    description: The state of the cluster.
    types:
    - uid: string
  - name: quotaInfo
    description: The quota information.
    types:
    - uid: QuotaInfo
  - name: errors
    description: The list of errors.
    types:
    - uid: Errors
      isArray: true
  - name: connectivityEndpoints
    description: The list of connectivity endpoints.
    types:
    - uid: ConnectivityEndpoint
      isArray: true
  - name: diskEncryptionProperties
    description: The disk encryption properties.
    types:
    - uid: DiskEncryptionProperties
  - name: encryptionInTransitProperties
    description: The encryption-in-transit properties.
    types:
    - uid: EncryptionInTransitProperties
  - name: storageProfile
    description: The storage profile.
    types:
    - uid: StorageProfile
  - name: minSupportedTlsVersion
    description: The minimal supported tls version.
    types:
    - uid: string
  - name: excludedServicesConfig
    description: The excluded services config.
    types:
    - uid: ExcludedServicesConfig
  - name: networkProperties
    description: The network properties.
    types:
    - uid: NetworkProperties
  - name: computeIsolationProperties
    description: The compute isolation properties.
    types:
    - uid: ComputeIsolationProperties
  - name: privateLinkConfigurations
    description: The private link configurations.
    types:
    - uid: PrivateLinkConfiguration
      isArray: true
  - name: privateEndpointConnections
    isReadyOnly: true
    description: The list of private endpoint connections.
    types:
    - uid: PrivateEndpointConnection
      isArray: true
- name: systemData
  description: Metadata pertaining to creation and last modification of the resource.
  kind: object
  properties:
  - name: createdBy
    description: The identity that created the resource.
    types:
    - uid: string
  - name: createdByType
    description: The type of identity that created the resource.
    types:
    - uid: createdByType
  - name: createdAt
    description: The timestamp of resource creation (UTC).
    types:
    - uid: string
  - name: lastModifiedBy
    description: The identity that last modified the resource.
    types:
    - uid: string
  - name: lastModifiedByType
    description: The type of identity that last modified the resource.
    types:
    - uid: createdByType
  - name: lastModifiedAt
    description: The timestamp of resource last modification (UTC)
    types:
    - uid: string
- name: ClientGroupInfo
  description: The information of AAD security group.
  kind: object
  properties:
  - name: groupName
    description: The AAD security group name.
    types:
    - uid: string
  - name: groupId
    description: The AAD security group id.
    types:
    - uid: string
- name: DirectoryType
  description: The directory type.
  kind: enum
  properties:
  - name: ActiveDirectory
    types:
    - uid: string
- name: Role
  description: Describes a role on the cluster.
  kind: object
  properties:
  - name: name
    description: The name of the role.
    types:
    - uid: string
  - name: minInstanceCount
    description: The minimum instance count of the cluster.
    types:
    - uid: integer
  - name: targetInstanceCount
    description: The instance count of the cluster.
    types:
    - uid: integer
  - name: VMGroupName
    description: The name of the virtual machine group.
    types:
    - uid: string
  - name: autoscale
    description: The autoscale configurations.
    types:
    - uid: Autoscale
  - name: hardwareProfile
    description: The hardware profile.
    types:
    - uid: HardwareProfile
  - name: osProfile
    description: The operating system profile.
    types:
    - uid: OsProfile
  - name: virtualNetworkProfile
    description: The virtual network profile.
    types:
    - uid: VirtualNetworkProfile
  - name: dataDisksGroups
    description: The data disks groups for the role.
    types:
    - uid: DataDisksGroups
      isArray: true
  - name: scriptActions
    description: The list of script actions on the role.
    types:
    - uid: ScriptAction
      isArray: true
  - name: encryptDataDisks
    description: Indicates whether encrypt the data disks.
    types:
    - uid: boolean
    defaultValue: false
- name: StorageAccount
  description: The storage Account.
  kind: object
  properties:
  - name: name
    description: The name of the storage account.
    types:
    - uid: string
  - name: isDefault
    description: Whether or not the storage account is the default storage account.
    types:
    - uid: boolean
  - name: container
    description: The container in the storage account, only to be specified for WASB storage accounts.
    types:
    - uid: string
  - name: fileSystem
    description: The filesystem, only to be specified for Azure Data Lake Storage Gen 2.
    types:
    - uid: string
  - name: key
    description: The storage account access key.
    types:
    - uid: string
  - name: resourceId
    description: The resource ID of storage account, only to be specified for Azure Data Lake Storage Gen 2.
    types:
    - uid: string
  - name: msiResourceId
    description: The managed identity (MSI) that is allowed to access the storage account, only to be specified for Azure Data Lake Storage Gen 2.
    types:
    - uid: string
  - name: saskey
    description: The shared access signature key.
    types:
    - uid: string
  - name: fileshare
    description: The file share name.
    types:
    - uid: string
- name: JsonWebKeyEncryptionAlgorithm
  description: Algorithm identifier for encryption, default RSA-OAEP.
  kind: enum
  properties:
  - name: RSA-OAEP
    types:
    - uid: string
  - name: RSA-OAEP-256
    types:
    - uid: string
  - name: RSA1_5
    types:
    - uid: string
- name: ResourceProviderConnection
  description: The direction for the resource provider connection.
  kind: enum
  properties:
  - name: Inbound
    types:
    - uid: string
  - name: Outbound
    types:
    - uid: string
- name: PrivateLink
  description: Indicates whether or not private link is enabled.
  kind: enum
  properties:
  - name: Disabled
    types:
    - uid: string
  - name: Enabled
    types:
    - uid: string
- name: PrivateLinkConfigurationProvisioningState
  description: The private link configuration provisioning state, which only appears in the response.
  kind: enum
  properties:
  - name: InProgress
    types:
    - uid: string
  - name: Failed
    types:
    - uid: string
  - name: Succeeded
    types:
    - uid: string
  - name: Canceled
    types:
    - uid: string
  - name: Deleting
    types:
    - uid: string
- name: IPConfiguration
  description: The ip configurations for the private link service.
  kind: object
  properties:
  - name: id
    isReadyOnly: true
    description: The private link IP configuration id.
    types:
    - uid: string
  - name: name
    description: The name of private link IP configuration.
    types:
    - uid: string
  - name: type
    isReadyOnly: true
    description: The type of the private link IP configuration.
    types:
    - uid: string
  - name: properties.provisioningState
    isReadyOnly: true
    description: The private link configuration provisioning state, which only appears in the response.
    types:
    - uid: PrivateLinkConfigurationProvisioningState
  - name: properties.primary
    description: Indicates whether this IP configuration is primary for the corresponding NIC.
    types:
    - uid: boolean
  - name: properties.privateIPAddress
    description: The IP address.
    types:
    - uid: string
  - name: properties.privateIPAllocationMethod
    description: The method that private IP address is allocated.
    types:
    - uid: PrivateIPAllocationMethod
  - name: properties.subnet
    description: The subnet resource id.
    types:
    - uid: ResourceId
- name: HDInsightClusterProvisioningState
  description: The provisioning state, which only appears in the response.
  kind: enum
  properties:
  - name: InProgress
    types:
    - uid: string
  - name: Failed
    types:
    - uid: string
  - name: Succeeded
    types:
    - uid: string
  - name: Canceled
    types:
    - uid: string
  - name: Deleting
    types:
    - uid: string
- name: QuotaInfo
  description: The quota properties for the cluster.
  kind: object
  properties:
  - name: coresUsed
    description: The cores used by the cluster.
    types:
    - uid: integer
- name: Errors
  description: The error message associated with the cluster creation.
  kind: object
  properties:
  - name: code
    description: The error code.
    types:
    - uid: string
  - name: message
    description: The error message.
    types:
    - uid: string
- name: ConnectivityEndpoint
  description: The connectivity properties
  kind: object
  properties:
  - name: name
    description: The name of the endpoint.
    types:
    - uid: string
  - name: protocol
    description: The protocol of the endpoint.
    types:
    - uid: string
  - name: location
    description: The location of the endpoint.
    types:
    - uid: string
  - name: port
    description: The port to connect to.
    types:
    - uid: integer
  - name: privateIPAddress
    description: The private ip address of the endpoint.
    types:
    - uid: string
- name: ExcludedServicesConfig
  description: The configuration that services will be excluded when creating cluster.
  kind: object
  properties:
  - name: excludedServicesConfigId
    description: The config id of excluded services.
    types:
    - uid: string
  - name: excludedServicesList
    description: The list of excluded services.
    types:
    - uid: string
- name: PrivateEndpointConnection
  description: The private endpoint connection.
  kind: object
  properties:
  - name: systemData
    isReadyOnly: true
    description: Metadata pertaining to creation and last modification of the resource.
    types:
    - uid: systemData
  - name: properties.privateEndpoint
    isReadyOnly: true
    description: The private endpoint of the private endpoint connection
    types:
    - uid: PrivateEndpoint
  - name: properties.privateLinkServiceConnectionState
    description: The private link service connection state.
    types:
    - uid: PrivateLinkServiceConnectionState
  - name: properties.linkIdentifier
    isReadyOnly: true
    description: The link identifier.
    types:
    - uid: string
  - name: properties.provisioningState
    isReadyOnly: true
    description: The provisioning state, which only appears in the response.
    types:
    - uid: PrivateEndpointConnectionProvisioningState
  - name: id
    isReadyOnly: true
    description: Fully qualified resource ID for the resource. Ex - /subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/{resourceProviderNamespace}/{resourceType}/{resourceName}
    types:
    - uid: string
  - name: name
    isReadyOnly: true
    description: The name of the resource
    types:
    - uid: string
  - name: type
    isReadyOnly: true
    description: The type of the resource. E.g. "Microsoft.Compute/virtualMachines" or "Microsoft.Storage/storageAccounts"
    types:
    - uid: string
- name: createdByType
  description: The type of identity that created the resource.
  kind: enum
  properties:
  - name: User
    types:
    - uid: string
  - name: Application
    types:
    - uid: string
  - name: ManagedIdentity
    types:
    - uid: string
  - name: Key
    types:
    - uid: string
- name: Autoscale
  description: The autoscale request parameters
  kind: object
  properties:
  - name: capacity
    description: Parameters for load-based autoscale
    types:
    - uid: AutoscaleCapacity
  - name: recurrence
    description: Parameters for schedule-based autoscale
    types:
    - uid: AutoscaleRecurrence
- name: HardwareProfile
  description: The hardware profile.
  kind: object
  properties:
  - name: vmSize
    description: The size of the VM
    types:
    - uid: string
- name: OsProfile
  description: The Linux operation systems profile.
  kind: object
  properties:
  - name: linuxOperatingSystemProfile
    description: The Linux OS profile.
    types:
    - uid: LinuxOperatingSystemProfile
- name: VirtualNetworkProfile
  description: The virtual network properties.
  kind: object
  properties:
  - name: id
    description: The ID of the virtual network.
    types:
    - uid: string
  - name: subnet
    description: The name of the subnet.
    types:
    - uid: string
- name: DataDisksGroups
  description: The data disks groups for the role.
  kind: object
  properties:
  - name: disksPerNode
    description: The number of disks per node.
    types:
    - uid: integer
  - name: storageAccountType
    isReadyOnly: true
    description: ReadOnly. The storage account type. Do not set this value.
    types:
    - uid: string
  - name: diskSizeGB
    isReadyOnly: true
    description: ReadOnly. The DiskSize in GB. Do not set this value.
    types:
    - uid: integer
- name: ScriptAction
  description: Describes a script action on role on the cluster.
  kind: object
  properties:
  - name: name
    description: The name of the script action.
    types:
    - uid: string
  - name: uri
    description: The URI to the script.
    types:
    - uid: string
  - name: parameters
    description: The parameters for the script provided.
    types:
    - uid: string
- name: PrivateIPAllocationMethod
  description: The method that private IP address is allocated.
  kind: enum
  properties:
  - name: dynamic
    types:
    - uid: string
  - name: static
    types:
    - uid: string
- name: ResourceId
  description: The azure resource id.
  kind: object
  properties:
  - name: id
    description: The azure resource id.
    types:
    - uid: string
- name: PrivateEndpoint
  description: The private endpoint.
  kind: object
  properties:
  - name: id
    description: The private endpoint id.
    types:
    - uid: string
- name: PrivateLinkServiceConnectionState
  description: The private link service connection state.
  kind: object
  properties:
  - name: status
    description: The concrete private link service connection.
    types:
    - uid: PrivateLinkServiceConnectionStatus
  - name: description
    description: The optional description of the status.
    types:
    - uid: string
  - name: actionsRequired
    description: Whether there is further actions.
    types:
    - uid: string
- name: PrivateEndpointConnectionProvisioningState
  description: The provisioning state, which only appears in the response.
  kind: enum
  properties:
  - name: InProgress
    types:
    - uid: string
  - name: Updating
    types:
    - uid: string
  - name: Failed
    types:
    - uid: string
  - name: Succeeded
    types:
    - uid: string
  - name: Canceled
    types:
    - uid: string
  - name: Deleting
    types:
    - uid: string
- name: AutoscaleCapacity
  description: The load-based autoscale request parameters
  kind: object
  properties:
  - name: minInstanceCount
    description: The minimum instance count of the cluster
    types:
    - uid: integer
  - name: maxInstanceCount
    description: The maximum instance count of the cluster
    types:
    - uid: integer
- name: AutoscaleRecurrence
  description: Schedule-based autoscale request parameters
  kind: object
  properties:
  - name: timeZone
    description: The time zone for the autoscale schedule times
    types:
    - uid: string
  - name: schedule
    description: Array of schedule-based autoscale rules
    types:
    - uid: AutoscaleSchedule
      isArray: true
- name: LinuxOperatingSystemProfile
  description: The ssh username, password, and ssh public key.
  kind: object
  properties:
  - name: username
    description: The username.
    types:
    - uid: string
  - name: password
    description: The password.
    types:
    - uid: string
  - name: sshProfile
    description: The SSH profile.
    types:
    - uid: SshProfile
- name: PrivateLinkServiceConnectionStatus
  description: The concrete private link service connection.
  kind: enum
  properties:
  - name: Approved
    types:
    - uid: string
  - name: Rejected
    types:
    - uid: string
  - name: Pending
    types:
    - uid: string
  - name: Removed
    types:
    - uid: string
- name: AutoscaleSchedule
  description: Parameters for a schedule-based autoscale rule, consisting of an array of days + a time and capacity
  kind: object
  properties:
  - name: days
    description: Days of the week for a schedule-based autoscale rule
    types:
    - uid: string
      isArray: true
  - name: timeAndCapacity
    description: Time and capacity for a schedule-based autoscale rule
    types:
    - uid: AutoscaleTimeAndCapacity
- name: SshProfile
  description: The list of SSH public keys.
  kind: object
  properties:
  - name: publicKeys
    description: The list of SSH public keys.
    types:
    - uid: SshPublicKey
      isArray: true
- name: AutoscaleTimeAndCapacity
  description: Time and capacity request parameters
  kind: object
  properties:
  - name: time
    description: 24-hour time in the form xx:xx
    types:
    - uid: string
  - name: minInstanceCount
    description: The minimum instance count of the cluster
    types:
    - uid: integer
  - name: maxInstanceCount
    description: The maximum instance count of the cluster
    types:
    - uid: integer
- name: SshPublicKey
  description: The SSH public key for the cluster nodes.
  kind: object
  properties:
  - name: certificateData
    description: The certificate for SSH.
    types:
    - uid: string
examples:
- name: Create Hadoop on Linux cluster with SSH password
  request:
    uri: PUT https://management.azure.com/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.HDInsight/clusters/cluster1?api-version=2021-06-01
    body: >-
      {
        "tags": {
          "key1": "val1"
        },
        "properties": {
          "clusterVersion": "3.5",
          "osType": "Linux",
          "tier": "Standard",
          "clusterDefinition": {
            "kind": "Hadoop",
            "configurations": {
              "gateway": {
                "restAuthCredential.isEnabled": "true",
                "restAuthCredential.username": "admin",
                "restAuthCredential.password": "**********"
              }
            }
          },
          "storageProfile": {
            "storageaccounts": [
              {
                "name": "mystorage.blob.core.windows.net",
                "isDefault": true,
                "container": "containername",
                "key": "storagekey"
              }
            ]
          },
          "computeProfile": {
            "roles": [
              {
                "name": "headnode",
                "minInstanceCount": 1,
                "targetInstanceCount": 2,
                "hardwareProfile": {
                  "vmSize": "Standard_D3_V2"
                },
                "osProfile": {
                  "linuxOperatingSystemProfile": {
                    "username": "sshuser",
                    "password": "**********"
                  }
                }
              },
              {
                "name": "workernode",
                "minInstanceCount": 1,
                "targetInstanceCount": 4,
                "hardwareProfile": {
                  "vmSize": "Standard_D3_V2"
                },
                "osProfile": {
                  "linuxOperatingSystemProfile": {
                    "username": "sshuser",
                    "password": "**********"
                  }
                }
              },
              {
                "name": "zookeepernode",
                "minInstanceCount": 1,
                "targetInstanceCount": 3,
                "hardwareProfile": {
                  "vmSize": "Small"
                },
                "osProfile": {
                  "linuxOperatingSystemProfile": {
                    "username": "sshuser",
                    "password": "**********"
                  }
                }
              }
            ]
          }
        }
      }
    codeTab: |+
      # [HTTP](#tab/HTTP)
      ``` http
      PUT https://management.azure.com/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.HDInsight/clusters/cluster1?api-version=2021-06-01

      {
        "tags": {
          "key1": "val1"
        },
        "properties": {
          "clusterVersion": "3.5",
          "osType": "Linux",
          "tier": "Standard",
          "clusterDefinition": {
            "kind": "Hadoop",
            "configurations": {
              "gateway": {
                "restAuthCredential.isEnabled": "true",
                "restAuthCredential.username": "admin",
                "restAuthCredential.password": "**********"
              }
            }
          },
          "storageProfile": {
            "storageaccounts": [
              {
                "name": "mystorage.blob.core.windows.net",
                "isDefault": true,
                "container": "containername",
                "key": "storagekey"
              }
            ]
          },
          "computeProfile": {
            "roles": [
              {
                "name": "headnode",
                "minInstanceCount": 1,
                "targetInstanceCount": 2,
                "hardwareProfile": {
                  "vmSize": "Standard_D3_V2"
                },
                "osProfile": {
                  "linuxOperatingSystemProfile": {
                    "username": "sshuser",
                    "password": "**********"
                  }
                }
              },
              {
                "name": "workernode",
                "minInstanceCount": 1,
                "targetInstanceCount": 4,
                "hardwareProfile": {
                  "vmSize": "Standard_D3_V2"
                },
                "osProfile": {
                  "linuxOperatingSystemProfile": {
                    "username": "sshuser",
                    "password": "**********"
                  }
                }
              },
              {
                "name": "zookeepernode",
                "minInstanceCount": 1,
                "targetInstanceCount": 3,
                "hardwareProfile": {
                  "vmSize": "Small"
                },
                "osProfile": {
                  "linuxOperatingSystemProfile": {
                    "username": "sshuser",
                    "password": "**********"
                  }
                }
              }
            ]
          }
        }
      }

      ```

      # [Java](#tab/Java)
      ``` java
      import com.azure.core.management.serializer.SerializerFactory;
      import com.azure.core.util.serializer.SerializerEncoding;
      import com.azure.resourcemanager.hdinsight.models.ClusterCreateProperties;
      import com.azure.resourcemanager.hdinsight.models.ClusterDefinition;
      import com.azure.resourcemanager.hdinsight.models.ComputeProfile;
      import com.azure.resourcemanager.hdinsight.models.HardwareProfile;
      import com.azure.resourcemanager.hdinsight.models.LinuxOperatingSystemProfile;
      import com.azure.resourcemanager.hdinsight.models.OSType;
      import com.azure.resourcemanager.hdinsight.models.OsProfile;
      import com.azure.resourcemanager.hdinsight.models.Role;
      import com.azure.resourcemanager.hdinsight.models.StorageAccount;
      import com.azure.resourcemanager.hdinsight.models.StorageProfile;
      import com.azure.resourcemanager.hdinsight.models.Tier;
      import java.io.IOException;
      import java.util.Arrays;
      import java.util.HashMap;
      import java.util.Map;

      /** Samples for Clusters Create. */
      public final class Main {
          /*
           * x-ms-original-file: specification/hdinsight/resource-manager/Microsoft.HDInsight/stable/2021-06-01/examples/CreateLinuxHadoopSshPassword.json
           */
          /**
           * Sample code: Create Hadoop on Linux cluster with SSH password.
           *
           * @param manager Entry point to HDInsightManager.
           */
          public static void createHadoopOnLinuxClusterWithSSHPassword(
              com.azure.resourcemanager.hdinsight.HDInsightManager manager) throws IOException {
              manager
                  .clusters()
                  .define("cluster1")
                  .withExistingResourceGroup("rg1")
                  .withTags(mapOf("key1", "val1"))
                  .withProperties(
                      new ClusterCreateProperties()
                          .withClusterVersion("3.5")
                          .withOsType(OSType.LINUX)
                          .withTier(Tier.STANDARD)
                          .withClusterDefinition(
                              new ClusterDefinition()
                                  .withKind("Hadoop")
                                  .withConfigurations(
                                      SerializerFactory
                                          .createDefaultManagementSerializerAdapter()
                                          .deserialize(
                                              "{\"gateway\":{\"restAuthCredential.isEnabled\":\"true\",\"restAuthCredential.password\":\"**********\",\"restAuthCredential.username\":\"admin\"}}",
                                              Object.class,
                                              SerializerEncoding.JSON)))
                          .withComputeProfile(
                              new ComputeProfile()
                                  .withRoles(
                                      Arrays
                                          .asList(
                                              new Role()
                                                  .withName("headnode")
                                                  .withMinInstanceCount(1)
                                                  .withTargetInstanceCount(2)
                                                  .withHardwareProfile(new HardwareProfile().withVmSize("Standard_D3_V2"))
                                                  .withOsProfile(
                                                      new OsProfile()
                                                          .withLinuxOperatingSystemProfile(
                                                              new LinuxOperatingSystemProfile()
                                                                  .withUsername("sshuser")
                                                                  .withPassword("**********"))),
                                              new Role()
                                                  .withName("workernode")
                                                  .withMinInstanceCount(1)
                                                  .withTargetInstanceCount(4)
                                                  .withHardwareProfile(new HardwareProfile().withVmSize("Standard_D3_V2"))
                                                  .withOsProfile(
                                                      new OsProfile()
                                                          .withLinuxOperatingSystemProfile(
                                                              new LinuxOperatingSystemProfile()
                                                                  .withUsername("sshuser")
                                                                  .withPassword("**********"))),
                                              new Role()
                                                  .withName("zookeepernode")
                                                  .withMinInstanceCount(1)
                                                  .withTargetInstanceCount(3)
                                                  .withHardwareProfile(new HardwareProfile().withVmSize("Small"))
                                                  .withOsProfile(
                                                      new OsProfile()
                                                          .withLinuxOperatingSystemProfile(
                                                              new LinuxOperatingSystemProfile()
                                                                  .withUsername("sshuser")
                                                                  .withPassword("**********"))))))
                          .withStorageProfile(
                              new StorageProfile()
                                  .withStorageaccounts(
                                      Arrays
                                          .asList(
                                              new StorageAccount()
                                                  .withName("mystorage.blob.core.windows.net")
                                                  .withIsDefault(true)
                                                  .withContainer("containername")
                                                  .withKey("storagekey")))))
                  .create();
          }

          @SuppressWarnings("unchecked")
          private static <T> Map<String, T> mapOf(Object... inputs) {
              Map<String, T> map = new HashMap<>();
              for (int i = 0; i < inputs.length; i += 2) {
                  String key = (String) inputs[i];
                  T value = (T) inputs[i + 1];
                  map.put(key, value);
              }
              return map;
          }
      }

      ```
      Read this [SDK documentation](https://github.com/Azure/azure-sdk-for-java/blob/azure-resourcemanager-hdinsight_1.0.0-beta.5/sdk/hdinsight/azure-resourcemanager-hdinsight/README.md) on how to add the SDK to your project and authenticate.
      # [JavaScript](#tab/JavaScript)
      ``` js
      const { HDInsightManagementClient } = require("@azure/arm-hdinsight");
      const { DefaultAzureCredential } = require("@azure/identity");

      /**
       * This sample demonstrates how to Creates a new HDInsight cluster with the specified parameters.
       *
       * @summary Creates a new HDInsight cluster with the specified parameters.
       * x-ms-original-file: specification/hdinsight/resource-manager/Microsoft.HDInsight/stable/2021-06-01/examples/CreateLinuxHadoopSshPassword.json
       */
      async function createHadoopOnLinuxClusterWithSshPassword() {
        const subscriptionId = "subid";
        const resourceGroupName = "rg1";
        const clusterName = "cluster1";
        const parameters = {
          properties: {
            clusterDefinition: {
              configurations: {
                gateway: {
                  "restAuthCredential.isEnabled": "true",
                  "restAuthCredential.password": "**********",
                  "restAuthCredential.username": "admin",
                },
              },
              kind: "Hadoop",
            },
            clusterVersion: "3.5",
            computeProfile: {
              roles: [
                {
                  name: "headnode",
                  hardwareProfile: { vmSize: "Standard_D3_V2" },
                  minInstanceCount: 1,
                  osProfile: {
                    linuxOperatingSystemProfile: {
                      password: "**********",
                      username: "sshuser",
                    },
                  },
                  targetInstanceCount: 2,
                },
                {
                  name: "workernode",
                  hardwareProfile: { vmSize: "Standard_D3_V2" },
                  minInstanceCount: 1,
                  osProfile: {
                    linuxOperatingSystemProfile: {
                      password: "**********",
                      username: "sshuser",
                    },
                  },
                  targetInstanceCount: 4,
                },
                {
                  name: "zookeepernode",
                  hardwareProfile: { vmSize: "Small" },
                  minInstanceCount: 1,
                  osProfile: {
                    linuxOperatingSystemProfile: {
                      password: "**********",
                      username: "sshuser",
                    },
                  },
                  targetInstanceCount: 3,
                },
              ],
            },
            osType: "Linux",
            storageProfile: {
              storageaccounts: [
                {
                  name: "mystorage.blob.core.windows.net",
                  container: "containername",
                  isDefault: true,
                  key: "storagekey",
                },
              ],
            },
            tier: "Standard",
          },
          tags: { key1: "val1" },
        };
        const credential = new DefaultAzureCredential();
        const client = new HDInsightManagementClient(credential, subscriptionId);
        const result = await client.clusters.beginCreateAndWait(
          resourceGroupName,
          clusterName,
          parameters
        );
        console.log(result);
      }

      createHadoopOnLinuxClusterWithSshPassword().catch(console.error);

      ```
      Read this [SDK documentation](https://github.com/Azure/azure-sdk-for-js/blob/%40azure%2Farm-hdinsight_1.2.0/sdk/hdinsight/arm-hdinsight/README.md) on how to add the SDK to your project and authenticate.
  responses:
  - statusCode: "200"
    headers:
    - name: location
      value: https://management.azure.com/subscriptions/subid/providers/Microsoft.HDInsight/pathToOperationResult
    body: >-
      {
        "id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rg1/providers/Microsoft.HDInsight/clusters/cluster1",
        "name": "cluster1",
        "type": "Microsoft.HDInsight/clusters",
        "location": "East US",
        "etag": "fdf2a6e8-ce83-42cc-8c2d-0ceb11a370ff",
        "properties": {
          "clusterVersion": "4.0.1000.1",
          "osType": "Linux",
          "clusterDefinition": {
            "blueprint": "https://blueprints.azurehdinsight.net/hadoop-4.0.1000.1.1910270459.json",
            "kind": "HADOOP",
            "componentVersion": {
              "Hadoop": "3.1"
            }
          },
          "computeProfile": {
            "roles": [
              {
                "name": "headnode",
                "targetInstanceCount": 2,
                "hardwareProfile": {
                  "vmSize": "standard_d12_v2"
                },
                "osProfile": {
                  "linuxOperatingSystemProfile": {
                    "username": "sshuser"
                  }
                }
              },
              {
                "name": "workernode",
                "targetInstanceCount": 4,
                "hardwareProfile": {
                  "vmSize": "standard_d4_v2"
                },
                "osProfile": {
                  "linuxOperatingSystemProfile": {
                    "username": "sshuser"
                  }
                }
              },
              {
                "name": "zookeepernode",
                "targetInstanceCount": 3,
                "hardwareProfile": {
                  "vmSize": "standard_a2_v2"
                },
                "osProfile": {
                  "linuxOperatingSystemProfile": {
                    "username": "sshuser"
                  }
                }
              }
            ]
          },
          "provisioningState": "Succeeded",
          "clusterState": "Running",
          "createdDate": "2019-11-18T12:25:43.48",
          "quotaInfo": {
            "coresUsed": 40
          },
          "connectivityEndpoints": [
            {
              "name": "SSH",
              "protocol": "TCP",
              "location": "cluster1-ssh.azurehdinsight.net",
              "port": 22
            },
            {
              "name": "HTTPS",
              "protocol": "TCP",
              "location": "cluster1.azurehdinsight.net",
              "port": 443
            }
          ],
          "tier": "Standard"
        }
      }
- name: Create Hadoop on Linux cluster with SSH public key
  request:
    uri: PUT https://management.azure.com/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.HDInsight/clusters/cluster1?api-version=2021-06-01
    body: >-
      {
        "tags": {
          "key1": "val1"
        },
        "properties": {
          "clusterVersion": "3.5",
          "osType": "Linux",
          "tier": "Standard",
          "clusterDefinition": {
            "kind": "Hadoop",
            "configurations": {
              "gateway": {
                "restAuthCredential.isEnabled": true,
                "restAuthCredential.username": "admin",
                "restAuthCredential.password": "**********"
              }
            }
          },
          "storageProfile": {
            "storageaccounts": [
              {
                "name": "mystorage.blob.core.windows.net",
                "isDefault": true,
                "container": "containername",
                "key": "storagekey"
              }
            ]
          },
          "computeProfile": {
            "roles": [
              {
                "name": "headnode",
                "minInstanceCount": 1,
                "targetInstanceCount": 2,
                "hardwareProfile": {
                  "vmSize": "Standard_D3_V2"
                },
                "osProfile": {
                  "linuxOperatingSystemProfile": {
                    "username": "sshuser",
                    "sshProfile": {
                      "publicKeys": [
                        {
                          "certificateData": "**********"
                        }
                      ]
                    }
                  }
                }
              },
              {
                "name": "workernode",
                "minInstanceCount": 1,
                "targetInstanceCount": 4,
                "hardwareProfile": {
                  "vmSize": "Standard_D3_V2"
                },
                "osProfile": {
                  "linuxOperatingSystemProfile": {
                    "username": "sshuser",
                    "password": "**********"
                  }
                }
              },
              {
                "name": "zookeepernode",
                "minInstanceCount": 1,
                "targetInstanceCount": 3,
                "hardwareProfile": {
                  "vmSize": "Small"
                },
                "osProfile": {
                  "linuxOperatingSystemProfile": {
                    "username": "sshuser",
                    "password": "**********"
                  }
                }
              }
            ]
          }
        }
      }
    codeTab: |+
      # [HTTP](#tab/HTTP)
      ``` http
      PUT https://management.azure.com/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.HDInsight/clusters/cluster1?api-version=2021-06-01

      {
        "tags": {
          "key1": "val1"
        },
        "properties": {
          "clusterVersion": "3.5",
          "osType": "Linux",
          "tier": "Standard",
          "clusterDefinition": {
            "kind": "Hadoop",
            "configurations": {
              "gateway": {
                "restAuthCredential.isEnabled": true,
                "restAuthCredential.username": "admin",
                "restAuthCredential.password": "**********"
              }
            }
          },
          "storageProfile": {
            "storageaccounts": [
              {
                "name": "mystorage.blob.core.windows.net",
                "isDefault": true,
                "container": "containername",
                "key": "storagekey"
              }
            ]
          },
          "computeProfile": {
            "roles": [
              {
                "name": "headnode",
                "minInstanceCount": 1,
                "targetInstanceCount": 2,
                "hardwareProfile": {
                  "vmSize": "Standard_D3_V2"
                },
                "osProfile": {
                  "linuxOperatingSystemProfile": {
                    "username": "sshuser",
                    "sshProfile": {
                      "publicKeys": [
                        {
                          "certificateData": "**********"
                        }
                      ]
                    }
                  }
                }
              },
              {
                "name": "workernode",
                "minInstanceCount": 1,
                "targetInstanceCount": 4,
                "hardwareProfile": {
                  "vmSize": "Standard_D3_V2"
                },
                "osProfile": {
                  "linuxOperatingSystemProfile": {
                    "username": "sshuser",
                    "password": "**********"
                  }
                }
              },
              {
                "name": "zookeepernode",
                "minInstanceCount": 1,
                "targetInstanceCount": 3,
                "hardwareProfile": {
                  "vmSize": "Small"
                },
                "osProfile": {
                  "linuxOperatingSystemProfile": {
                    "username": "sshuser",
                    "password": "**********"
                  }
                }
              }
            ]
          }
        }
      }

      ```

      # [Java](#tab/Java)
      ``` java
      import com.azure.core.management.serializer.SerializerFactory;
      import com.azure.core.util.serializer.SerializerEncoding;
      import com.azure.resourcemanager.hdinsight.models.ClusterCreateProperties;
      import com.azure.resourcemanager.hdinsight.models.ClusterDefinition;
      import com.azure.resourcemanager.hdinsight.models.ComputeProfile;
      import com.azure.resourcemanager.hdinsight.models.HardwareProfile;
      import com.azure.resourcemanager.hdinsight.models.LinuxOperatingSystemProfile;
      import com.azure.resourcemanager.hdinsight.models.OSType;
      import com.azure.resourcemanager.hdinsight.models.OsProfile;
      import com.azure.resourcemanager.hdinsight.models.Role;
      import com.azure.resourcemanager.hdinsight.models.SshProfile;
      import com.azure.resourcemanager.hdinsight.models.SshPublicKey;
      import com.azure.resourcemanager.hdinsight.models.StorageAccount;
      import com.azure.resourcemanager.hdinsight.models.StorageProfile;
      import com.azure.resourcemanager.hdinsight.models.Tier;
      import java.io.IOException;
      import java.util.Arrays;
      import java.util.HashMap;
      import java.util.Map;

      /** Samples for Clusters Create. */
      public final class Main {
          /*
           * x-ms-original-file: specification/hdinsight/resource-manager/Microsoft.HDInsight/stable/2021-06-01/examples/CreateLinuxHadoopSshPublicKey.json
           */
          /**
           * Sample code: Create Hadoop on Linux cluster with SSH public key.
           *
           * @param manager Entry point to HDInsightManager.
           */
          public static void createHadoopOnLinuxClusterWithSSHPublicKey(
              com.azure.resourcemanager.hdinsight.HDInsightManager manager) throws IOException {
              manager
                  .clusters()
                  .define("cluster1")
                  .withExistingResourceGroup("rg1")
                  .withTags(mapOf("key1", "val1"))
                  .withProperties(
                      new ClusterCreateProperties()
                          .withClusterVersion("3.5")
                          .withOsType(OSType.LINUX)
                          .withTier(Tier.STANDARD)
                          .withClusterDefinition(
                              new ClusterDefinition()
                                  .withKind("Hadoop")
                                  .withConfigurations(
                                      SerializerFactory
                                          .createDefaultManagementSerializerAdapter()
                                          .deserialize(
                                              "{\"gateway\":{\"restAuthCredential.isEnabled\":true,\"restAuthCredential.password\":\"**********\",\"restAuthCredential.username\":\"admin\"}}",
                                              Object.class,
                                              SerializerEncoding.JSON)))
                          .withComputeProfile(
                              new ComputeProfile()
                                  .withRoles(
                                      Arrays
                                          .asList(
                                              new Role()
                                                  .withName("headnode")
                                                  .withMinInstanceCount(1)
                                                  .withTargetInstanceCount(2)
                                                  .withHardwareProfile(new HardwareProfile().withVmSize("Standard_D3_V2"))
                                                  .withOsProfile(
                                                      new OsProfile()
                                                          .withLinuxOperatingSystemProfile(
                                                              new LinuxOperatingSystemProfile()
                                                                  .withUsername("sshuser")
                                                                  .withSshProfile(
                                                                      new SshProfile()
                                                                          .withPublicKeys(
                                                                              Arrays
                                                                                  .asList(
                                                                                      new SshPublicKey()
                                                                                          .withCertificateData(
                                                                                              "**********")))))),
                                              new Role()
                                                  .withName("workernode")
                                                  .withMinInstanceCount(1)
                                                  .withTargetInstanceCount(4)
                                                  .withHardwareProfile(new HardwareProfile().withVmSize("Standard_D3_V2"))
                                                  .withOsProfile(
                                                      new OsProfile()
                                                          .withLinuxOperatingSystemProfile(
                                                              new LinuxOperatingSystemProfile()
                                                                  .withUsername("sshuser")
                                                                  .withPassword("**********"))),
                                              new Role()
                                                  .withName("zookeepernode")
                                                  .withMinInstanceCount(1)
                                                  .withTargetInstanceCount(3)
                                                  .withHardwareProfile(new HardwareProfile().withVmSize("Small"))
                                                  .withOsProfile(
                                                      new OsProfile()
                                                          .withLinuxOperatingSystemProfile(
                                                              new LinuxOperatingSystemProfile()
                                                                  .withUsername("sshuser")
                                                                  .withPassword("**********"))))))
                          .withStorageProfile(
                              new StorageProfile()
                                  .withStorageaccounts(
                                      Arrays
                                          .asList(
                                              new StorageAccount()
                                                  .withName("mystorage.blob.core.windows.net")
                                                  .withIsDefault(true)
                                                  .withContainer("containername")
                                                  .withKey("storagekey")))))
                  .create();
          }

          @SuppressWarnings("unchecked")
          private static <T> Map<String, T> mapOf(Object... inputs) {
              Map<String, T> map = new HashMap<>();
              for (int i = 0; i < inputs.length; i += 2) {
                  String key = (String) inputs[i];
                  T value = (T) inputs[i + 1];
                  map.put(key, value);
              }
              return map;
          }
      }

      ```
      Read this [SDK documentation](https://github.com/Azure/azure-sdk-for-java/blob/azure-resourcemanager-hdinsight_1.0.0-beta.5/sdk/hdinsight/azure-resourcemanager-hdinsight/README.md) on how to add the SDK to your project and authenticate.
      # [JavaScript](#tab/JavaScript)
      ``` js
      const { HDInsightManagementClient } = require("@azure/arm-hdinsight");
      const { DefaultAzureCredential } = require("@azure/identity");

      /**
       * This sample demonstrates how to Creates a new HDInsight cluster with the specified parameters.
       *
       * @summary Creates a new HDInsight cluster with the specified parameters.
       * x-ms-original-file: specification/hdinsight/resource-manager/Microsoft.HDInsight/stable/2021-06-01/examples/CreateLinuxHadoopSshPublicKey.json
       */
      async function createHadoopOnLinuxClusterWithSshPublicKey() {
        const subscriptionId = "subid";
        const resourceGroupName = "rg1";
        const clusterName = "cluster1";
        const parameters = {
          properties: {
            clusterDefinition: {
              configurations: {
                gateway: {
                  "restAuthCredential.isEnabled": true,
                  "restAuthCredential.password": "**********",
                  "restAuthCredential.username": "admin",
                },
              },
              kind: "Hadoop",
            },
            clusterVersion: "3.5",
            computeProfile: {
              roles: [
                {
                  name: "headnode",
                  hardwareProfile: { vmSize: "Standard_D3_V2" },
                  minInstanceCount: 1,
                  osProfile: {
                    linuxOperatingSystemProfile: {
                      sshProfile: { publicKeys: [{ certificateData: "**********" }] },
                      username: "sshuser",
                    },
                  },
                  targetInstanceCount: 2,
                },
                {
                  name: "workernode",
                  hardwareProfile: { vmSize: "Standard_D3_V2" },
                  minInstanceCount: 1,
                  osProfile: {
                    linuxOperatingSystemProfile: {
                      password: "**********",
                      username: "sshuser",
                    },
                  },
                  targetInstanceCount: 4,
                },
                {
                  name: "zookeepernode",
                  hardwareProfile: { vmSize: "Small" },
                  minInstanceCount: 1,
                  osProfile: {
                    linuxOperatingSystemProfile: {
                      password: "**********",
                      username: "sshuser",
                    },
                  },
                  targetInstanceCount: 3,
                },
              ],
            },
            osType: "Linux",
            storageProfile: {
              storageaccounts: [
                {
                  name: "mystorage.blob.core.windows.net",
                  container: "containername",
                  isDefault: true,
                  key: "storagekey",
                },
              ],
            },
            tier: "Standard",
          },
          tags: { key1: "val1" },
        };
        const credential = new DefaultAzureCredential();
        const client = new HDInsightManagementClient(credential, subscriptionId);
        const result = await client.clusters.beginCreateAndWait(
          resourceGroupName,
          clusterName,
          parameters
        );
        console.log(result);
      }

      createHadoopOnLinuxClusterWithSshPublicKey().catch(console.error);

      ```
      Read this [SDK documentation](https://github.com/Azure/azure-sdk-for-js/blob/%40azure%2Farm-hdinsight_1.2.0/sdk/hdinsight/arm-hdinsight/README.md) on how to add the SDK to your project and authenticate.
  responses:
  - statusCode: "200"
    headers:
    - name: location
      value: https://management.azure.com/subscriptions/subid/providers/Microsoft.HDInsight/pathToOperationResult
    body: >-
      {
        "id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rg1/providers/Microsoft.HDInsight/clusters/cluster1",
        "name": "cluster1",
        "type": "Microsoft.HDInsight/clusters",
        "location": "East US",
        "etag": "fdf2a6e8-ce83-42cc-8c2d-0ceb11a370ff",
        "properties": {
          "clusterVersion": "4.0.1000.1",
          "osType": "Linux",
          "clusterDefinition": {
            "blueprint": "https://blueprints.azurehdinsight.net/hadoop-4.0.1000.1.1910270459.json",
            "kind": "HADOOP",
            "componentVersion": {
              "Hadoop": "3.1"
            }
          },
          "computeProfile": {
            "roles": [
              {
                "name": "headnode",
                "targetInstanceCount": 2,
                "hardwareProfile": {
                  "vmSize": "standard_d12_v2"
                },
                "osProfile": {
                  "linuxOperatingSystemProfile": {
                    "username": "sshuser"
                  }
                }
              },
              {
                "name": "workernode",
                "targetInstanceCount": 4,
                "hardwareProfile": {
                  "vmSize": "standard_d4_v2"
                },
                "osProfile": {
                  "linuxOperatingSystemProfile": {
                    "username": "sshuser"
                  }
                }
              },
              {
                "name": "zookeepernode",
                "targetInstanceCount": 3,
                "hardwareProfile": {
                  "vmSize": "standard_a2_v2"
                },
                "osProfile": {
                  "linuxOperatingSystemProfile": {
                    "username": "sshuser"
                  }
                }
              }
            ]
          },
          "provisioningState": "Succeeded",
          "clusterState": "Running",
          "createdDate": "2019-11-18T12:25:43.48",
          "quotaInfo": {
            "coresUsed": 40
          },
          "connectivityEndpoints": [
            {
              "name": "SSH",
              "protocol": "TCP",
              "location": "cluster1-ssh.azurehdinsight.net",
              "port": 22
            },
            {
              "name": "HTTPS",
              "protocol": "TCP",
              "location": "cluster1.azurehdinsight.net",
              "port": 443
            }
          ],
          "tier": "Standard"
        }
      }
- name: Create Spark on Linux Cluster with SSH password
  request:
    uri: PUT https://management.azure.com/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.HDInsight/clusters/cluster1?api-version=2021-06-01
    body: >-
      {
        "tags": {
          "key1": "val1"
        },
        "properties": {
          "clusterVersion": "3.5",
          "osType": "Linux",
          "tier": "Standard",
          "clusterDefinition": {
            "kind": "Spark",
            "componentVersion": {
              "Spark": "2.0"
            },
            "configurations": {
              "gateway": {
                "restAuthCredential.isEnabled": true,
                "restAuthCredential.username": "admin",
                "restAuthCredential.password": "**********"
              }
            }
          },
          "storageProfile": {
            "storageaccounts": [
              {
                "name": "mystorage.blob.core.windows.net",
                "isDefault": true,
                "container": "containername",
                "key": "storageapikey*"
              }
            ]
          },
          "computeProfile": {
            "roles": [
              {
                "name": "headnode",
                "minInstanceCount": 1,
                "targetInstanceCount": 2,
                "hardwareProfile": {
                  "vmSize": "Standard_D12_V2"
                },
                "osProfile": {
                  "linuxOperatingSystemProfile": {
                    "username": "sshuser",
                    "password": "**********"
                  }
                }
              },
              {
                "name": "workernode",
                "minInstanceCount": 1,
                "targetInstanceCount": 4,
                "hardwareProfile": {
                  "vmSize": "Standard_D4_V2"
                },
                "osProfile": {
                  "linuxOperatingSystemProfile": {
                    "username": "sshuser",
                    "password": "**********"
                  }
                }
              }
            ]
          }
        }
      }
    codeTab: |+
      # [HTTP](#tab/HTTP)
      ``` http
      PUT https://management.azure.com/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.HDInsight/clusters/cluster1?api-version=2021-06-01

      {
        "tags": {
          "key1": "val1"
        },
        "properties": {
          "clusterVersion": "3.5",
          "osType": "Linux",
          "tier": "Standard",
          "clusterDefinition": {
            "kind": "Spark",
            "componentVersion": {
              "Spark": "2.0"
            },
            "configurations": {
              "gateway": {
                "restAuthCredential.isEnabled": true,
                "restAuthCredential.username": "admin",
                "restAuthCredential.password": "**********"
              }
            }
          },
          "storageProfile": {
            "storageaccounts": [
              {
                "name": "mystorage.blob.core.windows.net",
                "isDefault": true,
                "container": "containername",
                "key": "storageapikey*"
              }
            ]
          },
          "computeProfile": {
            "roles": [
              {
                "name": "headnode",
                "minInstanceCount": 1,
                "targetInstanceCount": 2,
                "hardwareProfile": {
                  "vmSize": "Standard_D12_V2"
                },
                "osProfile": {
                  "linuxOperatingSystemProfile": {
                    "username": "sshuser",
                    "password": "**********"
                  }
                }
              },
              {
                "name": "workernode",
                "minInstanceCount": 1,
                "targetInstanceCount": 4,
                "hardwareProfile": {
                  "vmSize": "Standard_D4_V2"
                },
                "osProfile": {
                  "linuxOperatingSystemProfile": {
                    "username": "sshuser",
                    "password": "**********"
                  }
                }
              }
            ]
          }
        }
      }

      ```

      # [Java](#tab/Java)
      ``` java
      import com.azure.core.management.serializer.SerializerFactory;
      import com.azure.core.util.serializer.SerializerEncoding;
      import com.azure.resourcemanager.hdinsight.models.ClusterCreateProperties;
      import com.azure.resourcemanager.hdinsight.models.ClusterDefinition;
      import com.azure.resourcemanager.hdinsight.models.ComputeProfile;
      import com.azure.resourcemanager.hdinsight.models.HardwareProfile;
      import com.azure.resourcemanager.hdinsight.models.LinuxOperatingSystemProfile;
      import com.azure.resourcemanager.hdinsight.models.OSType;
      import com.azure.resourcemanager.hdinsight.models.OsProfile;
      import com.azure.resourcemanager.hdinsight.models.Role;
      import com.azure.resourcemanager.hdinsight.models.StorageAccount;
      import com.azure.resourcemanager.hdinsight.models.StorageProfile;
      import com.azure.resourcemanager.hdinsight.models.Tier;
      import java.io.IOException;
      import java.util.Arrays;
      import java.util.HashMap;
      import java.util.Map;

      /** Samples for Clusters Create. */
      public final class Main {
          /*
           * x-ms-original-file: specification/hdinsight/resource-manager/Microsoft.HDInsight/stable/2021-06-01/examples/CreateLinuxSparkSshPassword.json
           */
          /**
           * Sample code: Create Spark on Linux Cluster with SSH password.
           *
           * @param manager Entry point to HDInsightManager.
           */
          public static void createSparkOnLinuxClusterWithSSHPassword(
              com.azure.resourcemanager.hdinsight.HDInsightManager manager) throws IOException {
              manager
                  .clusters()
                  .define("cluster1")
                  .withExistingResourceGroup("rg1")
                  .withTags(mapOf("key1", "val1"))
                  .withProperties(
                      new ClusterCreateProperties()
                          .withClusterVersion("3.5")
                          .withOsType(OSType.LINUX)
                          .withTier(Tier.STANDARD)
                          .withClusterDefinition(
                              new ClusterDefinition()
                                  .withKind("Spark")
                                  .withComponentVersion(mapOf("Spark", "2.0"))
                                  .withConfigurations(
                                      SerializerFactory
                                          .createDefaultManagementSerializerAdapter()
                                          .deserialize(
                                              "{\"gateway\":{\"restAuthCredential.isEnabled\":true,\"restAuthCredential.password\":\"**********\",\"restAuthCredential.username\":\"admin\"}}",
                                              Object.class,
                                              SerializerEncoding.JSON)))
                          .withComputeProfile(
                              new ComputeProfile()
                                  .withRoles(
                                      Arrays
                                          .asList(
                                              new Role()
                                                  .withName("headnode")
                                                  .withMinInstanceCount(1)
                                                  .withTargetInstanceCount(2)
                                                  .withHardwareProfile(new HardwareProfile().withVmSize("Standard_D12_V2"))
                                                  .withOsProfile(
                                                      new OsProfile()
                                                          .withLinuxOperatingSystemProfile(
                                                              new LinuxOperatingSystemProfile()
                                                                  .withUsername("sshuser")
                                                                  .withPassword("**********"))),
                                              new Role()
                                                  .withName("workernode")
                                                  .withMinInstanceCount(1)
                                                  .withTargetInstanceCount(4)
                                                  .withHardwareProfile(new HardwareProfile().withVmSize("Standard_D4_V2"))
                                                  .withOsProfile(
                                                      new OsProfile()
                                                          .withLinuxOperatingSystemProfile(
                                                              new LinuxOperatingSystemProfile()
                                                                  .withUsername("sshuser")
                                                                  .withPassword("**********"))))))
                          .withStorageProfile(
                              new StorageProfile()
                                  .withStorageaccounts(
                                      Arrays
                                          .asList(
                                              new StorageAccount()
                                                  .withName("mystorage.blob.core.windows.net")
                                                  .withIsDefault(true)
                                                  .withContainer("containername")
                                                  .withKey("storageapikey*")))))
                  .create();
          }

          @SuppressWarnings("unchecked")
          private static <T> Map<String, T> mapOf(Object... inputs) {
              Map<String, T> map = new HashMap<>();
              for (int i = 0; i < inputs.length; i += 2) {
                  String key = (String) inputs[i];
                  T value = (T) inputs[i + 1];
                  map.put(key, value);
              }
              return map;
          }
      }

      ```
      Read this [SDK documentation](https://github.com/Azure/azure-sdk-for-java/blob/azure-resourcemanager-hdinsight_1.0.0-beta.5/sdk/hdinsight/azure-resourcemanager-hdinsight/README.md) on how to add the SDK to your project and authenticate.
      # [JavaScript](#tab/JavaScript)
      ``` js
      const { HDInsightManagementClient } = require("@azure/arm-hdinsight");
      const { DefaultAzureCredential } = require("@azure/identity");

      /**
       * This sample demonstrates how to Creates a new HDInsight cluster with the specified parameters.
       *
       * @summary Creates a new HDInsight cluster with the specified parameters.
       * x-ms-original-file: specification/hdinsight/resource-manager/Microsoft.HDInsight/stable/2021-06-01/examples/CreateLinuxSparkSshPassword.json
       */
      async function createSparkOnLinuxClusterWithSshPassword() {
        const subscriptionId = "subid";
        const resourceGroupName = "rg1";
        const clusterName = "cluster1";
        const parameters = {
          properties: {
            clusterDefinition: {
              componentVersion: { spark: "2.0" },
              configurations: {
                gateway: {
                  "restAuthCredential.isEnabled": true,
                  "restAuthCredential.password": "**********",
                  "restAuthCredential.username": "admin",
                },
              },
              kind: "Spark",
            },
            clusterVersion: "3.5",
            computeProfile: {
              roles: [
                {
                  name: "headnode",
                  hardwareProfile: { vmSize: "Standard_D12_V2" },
                  minInstanceCount: 1,
                  osProfile: {
                    linuxOperatingSystemProfile: {
                      password: "**********",
                      username: "sshuser",
                    },
                  },
                  targetInstanceCount: 2,
                },
                {
                  name: "workernode",
                  hardwareProfile: { vmSize: "Standard_D4_V2" },
                  minInstanceCount: 1,
                  osProfile: {
                    linuxOperatingSystemProfile: {
                      password: "**********",
                      username: "sshuser",
                    },
                  },
                  targetInstanceCount: 4,
                },
              ],
            },
            osType: "Linux",
            storageProfile: {
              storageaccounts: [
                {
                  name: "mystorage.blob.core.windows.net",
                  container: "containername",
                  isDefault: true,
                  key: "storageapikey*",
                },
              ],
            },
            tier: "Standard",
          },
          tags: { key1: "val1" },
        };
        const credential = new DefaultAzureCredential();
        const client = new HDInsightManagementClient(credential, subscriptionId);
        const result = await client.clusters.beginCreateAndWait(
          resourceGroupName,
          clusterName,
          parameters
        );
        console.log(result);
      }

      createSparkOnLinuxClusterWithSshPassword().catch(console.error);

      ```
      Read this [SDK documentation](https://github.com/Azure/azure-sdk-for-js/blob/%40azure%2Farm-hdinsight_1.2.0/sdk/hdinsight/arm-hdinsight/README.md) on how to add the SDK to your project and authenticate.
  responses:
  - statusCode: "200"
    headers:
    - name: location
      value: https://management.azure.com/subscriptions/subid/providers/Microsoft.HDInsight/pathToOperationResult
    body: >-
      {
        "id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rg1/providers/Microsoft.HDInsight/clusters/cluster1",
        "name": "cluster1",
        "type": "Microsoft.HDInsight/clusters",
        "location": "East US",
        "etag": "fdf2a6e8-ce83-42cc-8c2d-0ceb11a370ff",
        "properties": {
          "clusterVersion": "4.0.1000.1",
          "osType": "Linux",
          "clusterDefinition": {
            "blueprint": "https://blueprints.azurehdinsight.net/hadoop-4.0.1000.1.1910270459.json",
            "kind": "SPARK",
            "componentVersion": {
              "Hadoop": "3.1"
            }
          },
          "computeProfile": {
            "roles": [
              {
                "name": "headnode",
                "targetInstanceCount": 2,
                "hardwareProfile": {
                  "vmSize": "standard_d12_v2"
                },
                "osProfile": {
                  "linuxOperatingSystemProfile": {
                    "username": "sshuser"
                  }
                }
              },
              {
                "name": "workernode",
                "targetInstanceCount": 4,
                "hardwareProfile": {
                  "vmSize": "standard_d4_v2"
                },
                "osProfile": {
                  "linuxOperatingSystemProfile": {
                    "username": "sshuser"
                  }
                }
              },
              {
                "name": "zookeepernode",
                "targetInstanceCount": 3,
                "hardwareProfile": {
                  "vmSize": "standard_a2_v2"
                },
                "osProfile": {
                  "linuxOperatingSystemProfile": {
                    "username": "sshuser"
                  }
                }
              }
            ]
          },
          "provisioningState": "Succeeded",
          "clusterState": "Running",
          "createdDate": "2019-11-18T12:25:43.48",
          "quotaInfo": {
            "coresUsed": 40
          },
          "connectivityEndpoints": [
            {
              "name": "SSH",
              "protocol": "TCP",
              "location": "cluster1-ssh.azurehdinsight.net",
              "port": 22
            },
            {
              "name": "HTTPS",
              "protocol": "TCP",
              "location": "cluster1.azurehdinsight.net",
              "port": 443
            }
          ],
          "tier": "Standard"
        }
      }
- name: Create Secure Hadoop cluster
  request:
    uri: PUT https://management.azure.com/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.HDInsight/clusters/cluster1?api-version=2021-06-01
    body: >-
      {
        "tags": {
          "key1": "val1"
        },
        "properties": {
          "clusterVersion": "3.5",
          "osType": "Linux",
          "tier": "Premium",
          "clusterDefinition": {
            "kind": "Hadoop",
            "configurations": {
              "gateway": {
                "restAuthCredential.isEnabled": true,
                "restAuthCredential.username": "admin",
                "restAuthCredential.password": "**********"
              }
            }
          },
          "storageProfile": {
            "storageaccounts": [
              {
                "name": "mystorage.blob.core.windows.net",
                "isDefault": true,
                "container": "containername",
                "key": "storage account key"
              }
            ]
          },
          "securityProfile": {
            "directoryType": "ActiveDirectory",
            "domain": "DomainName",
            "organizationalUnitDN": "OU=Hadoop,DC=hdinsight,DC=test",
            "ldapsUrls": [
              "ldaps://10.10.0.4:636"
            ],
            "domainUsername": "DomainUsername",
            "domainUserPassword": "**********",
            "clusterUsersGroupDNs": [
              "hdiusers"
            ]
          },
          "computeProfile": {
            "roles": [
              {
                "name": "headnode",
                "minInstanceCount": 1,
                "targetInstanceCount": 2,
                "hardwareProfile": {
                  "vmSize": "Standard_D3_V2"
                },
                "osProfile": {
                  "linuxOperatingSystemProfile": {
                    "username": "sshuser",
                    "password": "**********",
                    "sshProfile": {
                      "publicKeys": [
                        {
                          "certificateData": "**********"
                        }
                      ]
                    }
                  }
                },
                "virtualNetworkProfile": {
                  "id": "/subscriptions/subId/resourceGroups/rg/providers/Microsoft.Network/virtualNetworks/vnetname",
                  "subnet": "/subscriptions/subId/resourceGroups/rg/providers/Microsoft.Network/virtualNetworks/vnetname/subnets/vnetsubnet"
                },
                "scriptActions": []
              },
              {
                "name": "workernode",
                "minInstanceCount": 1,
                "targetInstanceCount": 4,
                "hardwareProfile": {
                  "vmSize": "Standard_D3_V2"
                },
                "osProfile": {
                  "linuxOperatingSystemProfile": {
                    "username": "sshuser",
                    "password": "**********",
                    "sshProfile": {
                      "publicKeys": [
                        {
                          "certificateData": "**********"
                        }
                      ]
                    }
                  }
                },
                "virtualNetworkProfile": {
                  "id": "/subscriptions/subId/resourceGroups/rg/providers/Microsoft.Network/virtualNetworks/vnetname",
                  "subnet": "/subscriptions/subId/resourceGroups/rg/providers/Microsoft.Network/virtualNetworks/vnetname/subnets/vnetsubnet"
                },
                "scriptActions": []
              },
              {
                "name": "zookeepernode",
                "minInstanceCount": 1,
                "targetInstanceCount": 3,
                "hardwareProfile": {
                  "vmSize": "Small"
                },
                "osProfile": {
                  "linuxOperatingSystemProfile": {
                    "username": "sshuser",
                    "password": "**********",
                    "sshProfile": {
                      "publicKeys": [
                        {
                          "certificateData": "**********"
                        }
                      ]
                    }
                  }
                },
                "virtualNetworkProfile": {
                  "id": "/subscriptions/subId/resourceGroups/rg/providers/Microsoft.Network/virtualNetworks/vnetname",
                  "subnet": "/subscriptions/subId/resourceGroups/rg/providers/Microsoft.Network/virtualNetworks/vnetname/subnets/vnetsubnet"
                },
                "scriptActions": []
              }
            ]
          }
        }
      }
    codeTab: |+
      # [HTTP](#tab/HTTP)
      ``` http
      PUT https://management.azure.com/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.HDInsight/clusters/cluster1?api-version=2021-06-01

      {
        "tags": {
          "key1": "val1"
        },
        "properties": {
          "clusterVersion": "3.5",
          "osType": "Linux",
          "tier": "Premium",
          "clusterDefinition": {
            "kind": "Hadoop",
            "configurations": {
              "gateway": {
                "restAuthCredential.isEnabled": true,
                "restAuthCredential.username": "admin",
                "restAuthCredential.password": "**********"
              }
            }
          },
          "storageProfile": {
            "storageaccounts": [
              {
                "name": "mystorage.blob.core.windows.net",
                "isDefault": true,
                "container": "containername",
                "key": "storage account key"
              }
            ]
          },
          "securityProfile": {
            "directoryType": "ActiveDirectory",
            "domain": "DomainName",
            "organizationalUnitDN": "OU=Hadoop,DC=hdinsight,DC=test",
            "ldapsUrls": [
              "ldaps://10.10.0.4:636"
            ],
            "domainUsername": "DomainUsername",
            "domainUserPassword": "**********",
            "clusterUsersGroupDNs": [
              "hdiusers"
            ]
          },
          "computeProfile": {
            "roles": [
              {
                "name": "headnode",
                "minInstanceCount": 1,
                "targetInstanceCount": 2,
                "hardwareProfile": {
                  "vmSize": "Standard_D3_V2"
                },
                "osProfile": {
                  "linuxOperatingSystemProfile": {
                    "username": "sshuser",
                    "password": "**********",
                    "sshProfile": {
                      "publicKeys": [
                        {
                          "certificateData": "**********"
                        }
                      ]
                    }
                  }
                },
                "virtualNetworkProfile": {
                  "id": "/subscriptions/subId/resourceGroups/rg/providers/Microsoft.Network/virtualNetworks/vnetname",
                  "subnet": "/subscriptions/subId/resourceGroups/rg/providers/Microsoft.Network/virtualNetworks/vnetname/subnets/vnetsubnet"
                },
                "scriptActions": []
              },
              {
                "name": "workernode",
                "minInstanceCount": 1,
                "targetInstanceCount": 4,
                "hardwareProfile": {
                  "vmSize": "Standard_D3_V2"
                },
                "osProfile": {
                  "linuxOperatingSystemProfile": {
                    "username": "sshuser",
                    "password": "**********",
                    "sshProfile": {
                      "publicKeys": [
                        {
                          "certificateData": "**********"
                        }
                      ]
                    }
                  }
                },
                "virtualNetworkProfile": {
                  "id": "/subscriptions/subId/resourceGroups/rg/providers/Microsoft.Network/virtualNetworks/vnetname",
                  "subnet": "/subscriptions/subId/resourceGroups/rg/providers/Microsoft.Network/virtualNetworks/vnetname/subnets/vnetsubnet"
                },
                "scriptActions": []
              },
              {
                "name": "zookeepernode",
                "minInstanceCount": 1,
                "targetInstanceCount": 3,
                "hardwareProfile": {
                  "vmSize": "Small"
                },
                "osProfile": {
                  "linuxOperatingSystemProfile": {
                    "username": "sshuser",
                    "password": "**********",
                    "sshProfile": {
                      "publicKeys": [
                        {
                          "certificateData": "**********"
                        }
                      ]
                    }
                  }
                },
                "virtualNetworkProfile": {
                  "id": "/subscriptions/subId/resourceGroups/rg/providers/Microsoft.Network/virtualNetworks/vnetname",
                  "subnet": "/subscriptions/subId/resourceGroups/rg/providers/Microsoft.Network/virtualNetworks/vnetname/subnets/vnetsubnet"
                },
                "scriptActions": []
              }
            ]
          }
        }
      }

      ```

      # [Java](#tab/Java)
      ``` java
      import com.azure.core.management.serializer.SerializerFactory;
      import com.azure.core.util.serializer.SerializerEncoding;
      import com.azure.resourcemanager.hdinsight.models.ClusterCreateProperties;
      import com.azure.resourcemanager.hdinsight.models.ClusterDefinition;
      import com.azure.resourcemanager.hdinsight.models.ComputeProfile;
      import com.azure.resourcemanager.hdinsight.models.DirectoryType;
      import com.azure.resourcemanager.hdinsight.models.HardwareProfile;
      import com.azure.resourcemanager.hdinsight.models.LinuxOperatingSystemProfile;
      import com.azure.resourcemanager.hdinsight.models.OSType;
      import com.azure.resourcemanager.hdinsight.models.OsProfile;
      import com.azure.resourcemanager.hdinsight.models.Role;
      import com.azure.resourcemanager.hdinsight.models.SecurityProfile;
      import com.azure.resourcemanager.hdinsight.models.SshProfile;
      import com.azure.resourcemanager.hdinsight.models.SshPublicKey;
      import com.azure.resourcemanager.hdinsight.models.StorageAccount;
      import com.azure.resourcemanager.hdinsight.models.StorageProfile;
      import com.azure.resourcemanager.hdinsight.models.Tier;
      import com.azure.resourcemanager.hdinsight.models.VirtualNetworkProfile;
      import java.io.IOException;
      import java.util.Arrays;
      import java.util.HashMap;
      import java.util.Map;

      /** Samples for Clusters Create. */
      public final class Main {
          /*
           * x-ms-original-file: specification/hdinsight/resource-manager/Microsoft.HDInsight/stable/2021-06-01/examples/CreateLinuxHadoopSecureHadoop.json
           */
          /**
           * Sample code: Create Secure Hadoop cluster.
           *
           * @param manager Entry point to HDInsightManager.
           */
          public static void createSecureHadoopCluster(com.azure.resourcemanager.hdinsight.HDInsightManager manager)
              throws IOException {
              manager
                  .clusters()
                  .define("cluster1")
                  .withExistingResourceGroup("rg1")
                  .withTags(mapOf("key1", "val1"))
                  .withProperties(
                      new ClusterCreateProperties()
                          .withClusterVersion("3.5")
                          .withOsType(OSType.LINUX)
                          .withTier(Tier.PREMIUM)
                          .withClusterDefinition(
                              new ClusterDefinition()
                                  .withKind("Hadoop")
                                  .withConfigurations(
                                      SerializerFactory
                                          .createDefaultManagementSerializerAdapter()
                                          .deserialize(
                                              "{\"gateway\":{\"restAuthCredential.isEnabled\":true,\"restAuthCredential.password\":\"**********\",\"restAuthCredential.username\":\"admin\"}}",
                                              Object.class,
                                              SerializerEncoding.JSON)))
                          .withSecurityProfile(
                              new SecurityProfile()
                                  .withDirectoryType(DirectoryType.ACTIVE_DIRECTORY)
                                  .withDomain("DomainName")
                                  .withOrganizationalUnitDN("OU=Hadoop,DC=hdinsight,DC=test")
                                  .withLdapsUrls(Arrays.asList("ldaps://10.10.0.4:636"))
                                  .withDomainUsername("DomainUsername")
                                  .withDomainUserPassword("**********")
                                  .withClusterUsersGroupDNs(Arrays.asList("hdiusers")))
                          .withComputeProfile(
                              new ComputeProfile()
                                  .withRoles(
                                      Arrays
                                          .asList(
                                              new Role()
                                                  .withName("headnode")
                                                  .withMinInstanceCount(1)
                                                  .withTargetInstanceCount(2)
                                                  .withHardwareProfile(new HardwareProfile().withVmSize("Standard_D3_V2"))
                                                  .withOsProfile(
                                                      new OsProfile()
                                                          .withLinuxOperatingSystemProfile(
                                                              new LinuxOperatingSystemProfile()
                                                                  .withUsername("sshuser")
                                                                  .withPassword("**********")
                                                                  .withSshProfile(
                                                                      new SshProfile()
                                                                          .withPublicKeys(
                                                                              Arrays
                                                                                  .asList(
                                                                                      new SshPublicKey()
                                                                                          .withCertificateData(
                                                                                              "**********"))))))
                                                  .withVirtualNetworkProfile(
                                                      new VirtualNetworkProfile()
                                                          .withId(
                                                              "/subscriptions/subId/resourceGroups/rg/providers/Microsoft.Network/virtualNetworks/vnetname")
                                                          .withSubnet(
                                                              "/subscriptions/subId/resourceGroups/rg/providers/Microsoft.Network/virtualNetworks/vnetname/subnets/vnetsubnet"))
                                                  .withScriptActions(Arrays.asList()),
                                              new Role()
                                                  .withName("workernode")
                                                  .withMinInstanceCount(1)
                                                  .withTargetInstanceCount(4)
                                                  .withHardwareProfile(new HardwareProfile().withVmSize("Standard_D3_V2"))
                                                  .withOsProfile(
                                                      new OsProfile()
                                                          .withLinuxOperatingSystemProfile(
                                                              new LinuxOperatingSystemProfile()
                                                                  .withUsername("sshuser")
                                                                  .withPassword("**********")
                                                                  .withSshProfile(
                                                                      new SshProfile()
                                                                          .withPublicKeys(
                                                                              Arrays
                                                                                  .asList(
                                                                                      new SshPublicKey()
                                                                                          .withCertificateData(
                                                                                              "**********"))))))
                                                  .withVirtualNetworkProfile(
                                                      new VirtualNetworkProfile()
                                                          .withId(
                                                              "/subscriptions/subId/resourceGroups/rg/providers/Microsoft.Network/virtualNetworks/vnetname")
                                                          .withSubnet(
                                                              "/subscriptions/subId/resourceGroups/rg/providers/Microsoft.Network/virtualNetworks/vnetname/subnets/vnetsubnet"))
                                                  .withScriptActions(Arrays.asList()),
                                              new Role()
                                                  .withName("zookeepernode")
                                                  .withMinInstanceCount(1)
                                                  .withTargetInstanceCount(3)
                                                  .withHardwareProfile(new HardwareProfile().withVmSize("Small"))
                                                  .withOsProfile(
                                                      new OsProfile()
                                                          .withLinuxOperatingSystemProfile(
                                                              new LinuxOperatingSystemProfile()
                                                                  .withUsername("sshuser")
                                                                  .withPassword("**********")
                                                                  .withSshProfile(
                                                                      new SshProfile()
                                                                          .withPublicKeys(
                                                                              Arrays
                                                                                  .asList(
                                                                                      new SshPublicKey()
                                                                                          .withCertificateData(
                                                                                              "**********"))))))
                                                  .withVirtualNetworkProfile(
                                                      new VirtualNetworkProfile()
                                                          .withId(
                                                              "/subscriptions/subId/resourceGroups/rg/providers/Microsoft.Network/virtualNetworks/vnetname")
                                                          .withSubnet(
                                                              "/subscriptions/subId/resourceGroups/rg/providers/Microsoft.Network/virtualNetworks/vnetname/subnets/vnetsubnet"))
                                                  .withScriptActions(Arrays.asList()))))
                          .withStorageProfile(
                              new StorageProfile()
                                  .withStorageaccounts(
                                      Arrays
                                          .asList(
                                              new StorageAccount()
                                                  .withName("mystorage.blob.core.windows.net")
                                                  .withIsDefault(true)
                                                  .withContainer("containername")
                                                  .withKey("storage account key")))))
                  .create();
          }

          @SuppressWarnings("unchecked")
          private static <T> Map<String, T> mapOf(Object... inputs) {
              Map<String, T> map = new HashMap<>();
              for (int i = 0; i < inputs.length; i += 2) {
                  String key = (String) inputs[i];
                  T value = (T) inputs[i + 1];
                  map.put(key, value);
              }
              return map;
          }
      }

      ```
      Read this [SDK documentation](https://github.com/Azure/azure-sdk-for-java/blob/azure-resourcemanager-hdinsight_1.0.0-beta.5/sdk/hdinsight/azure-resourcemanager-hdinsight/README.md) on how to add the SDK to your project and authenticate.
      # [JavaScript](#tab/JavaScript)
      ``` js
      const { HDInsightManagementClient } = require("@azure/arm-hdinsight");
      const { DefaultAzureCredential } = require("@azure/identity");

      /**
       * This sample demonstrates how to Creates a new HDInsight cluster with the specified parameters.
       *
       * @summary Creates a new HDInsight cluster with the specified parameters.
       * x-ms-original-file: specification/hdinsight/resource-manager/Microsoft.HDInsight/stable/2021-06-01/examples/CreateLinuxHadoopSecureHadoop.json
       */
      async function createSecureHadoopCluster() {
        const subscriptionId = "subid";
        const resourceGroupName = "rg1";
        const clusterName = "cluster1";
        const parameters = {
          properties: {
            clusterDefinition: {
              configurations: {
                gateway: {
                  "restAuthCredential.isEnabled": true,
                  "restAuthCredential.password": "**********",
                  "restAuthCredential.username": "admin",
                },
              },
              kind: "Hadoop",
            },
            clusterVersion: "3.5",
            computeProfile: {
              roles: [
                {
                  name: "headnode",
                  hardwareProfile: { vmSize: "Standard_D3_V2" },
                  minInstanceCount: 1,
                  osProfile: {
                    linuxOperatingSystemProfile: {
                      password: "**********",
                      sshProfile: { publicKeys: [{ certificateData: "**********" }] },
                      username: "sshuser",
                    },
                  },
                  scriptActions: [],
                  targetInstanceCount: 2,
                  virtualNetworkProfile: {
                    id: "/subscriptions/subId/resourceGroups/rg/providers/Microsoft.Network/virtualNetworks/vnetname",
                    subnet:
                      "/subscriptions/subId/resourceGroups/rg/providers/Microsoft.Network/virtualNetworks/vnetname/subnets/vnetsubnet",
                  },
                },
                {
                  name: "workernode",
                  hardwareProfile: { vmSize: "Standard_D3_V2" },
                  minInstanceCount: 1,
                  osProfile: {
                    linuxOperatingSystemProfile: {
                      password: "**********",
                      sshProfile: { publicKeys: [{ certificateData: "**********" }] },
                      username: "sshuser",
                    },
                  },
                  scriptActions: [],
                  targetInstanceCount: 4,
                  virtualNetworkProfile: {
                    id: "/subscriptions/subId/resourceGroups/rg/providers/Microsoft.Network/virtualNetworks/vnetname",
                    subnet:
                      "/subscriptions/subId/resourceGroups/rg/providers/Microsoft.Network/virtualNetworks/vnetname/subnets/vnetsubnet",
                  },
                },
                {
                  name: "zookeepernode",
                  hardwareProfile: { vmSize: "Small" },
                  minInstanceCount: 1,
                  osProfile: {
                    linuxOperatingSystemProfile: {
                      password: "**********",
                      sshProfile: { publicKeys: [{ certificateData: "**********" }] },
                      username: "sshuser",
                    },
                  },
                  scriptActions: [],
                  targetInstanceCount: 3,
                  virtualNetworkProfile: {
                    id: "/subscriptions/subId/resourceGroups/rg/providers/Microsoft.Network/virtualNetworks/vnetname",
                    subnet:
                      "/subscriptions/subId/resourceGroups/rg/providers/Microsoft.Network/virtualNetworks/vnetname/subnets/vnetsubnet",
                  },
                },
              ],
            },
            osType: "Linux",
            securityProfile: {
              clusterUsersGroupDNs: ["hdiusers"],
              directoryType: "ActiveDirectory",
              domain: "DomainName",
              domainUserPassword: "**********",
              domainUsername: "DomainUsername",
              ldapsUrls: ["ldaps://10.10.0.4:636"],
              organizationalUnitDN: "OU=Hadoop,DC=hdinsight,DC=test",
            },
            storageProfile: {
              storageaccounts: [
                {
                  name: "mystorage.blob.core.windows.net",
                  container: "containername",
                  isDefault: true,
                  key: "storage account key",
                },
              ],
            },
            tier: "Premium",
          },
          tags: { key1: "val1" },
        };
        const credential = new DefaultAzureCredential();
        const client = new HDInsightManagementClient(credential, subscriptionId);
        const result = await client.clusters.beginCreateAndWait(
          resourceGroupName,
          clusterName,
          parameters
        );
        console.log(result);
      }

      createSecureHadoopCluster().catch(console.error);

      ```
      Read this [SDK documentation](https://github.com/Azure/azure-sdk-for-js/blob/%40azure%2Farm-hdinsight_1.2.0/sdk/hdinsight/arm-hdinsight/README.md) on how to add the SDK to your project and authenticate.
  responses:
  - statusCode: "200"
    headers:
    - name: location
      value: https://management.azure.com/subscriptions/subid/providers/Microsoft.HDInsight/pathToOperationResult
    body: >-
      {
        "id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rg1/providers/Microsoft.HDInsight/clusters/cluster1",
        "name": "cluster1",
        "type": "Microsoft.HDInsight/clusters",
        "location": "East US",
        "etag": "fdf2a6e8-ce83-42cc-8c2d-0ceb11a370ff",
        "properties": {
          "clusterVersion": "4.0.1000.1",
          "osType": "Linux",
          "clusterDefinition": {
            "blueprint": "https://blueprints.azurehdinsight.net/hadoop-4.0.1000.1.1910270459.json",
            "kind": "HADOOP",
            "componentVersion": {
              "Hadoop": "3.1"
            }
          },
          "computeProfile": {
            "roles": [
              {
                "name": "headnode",
                "targetInstanceCount": 2,
                "hardwareProfile": {
                  "vmSize": "standard_d12_v2"
                },
                "osProfile": {
                  "linuxOperatingSystemProfile": {
                    "username": "sshuser"
                  }
                }
              },
              {
                "name": "workernode",
                "targetInstanceCount": 4,
                "hardwareProfile": {
                  "vmSize": "standard_d4_v2"
                },
                "osProfile": {
                  "linuxOperatingSystemProfile": {
                    "username": "sshuser"
                  }
                }
              },
              {
                "name": "zookeepernode",
                "targetInstanceCount": 3,
                "hardwareProfile": {
                  "vmSize": "standard_a2_v2"
                },
                "osProfile": {
                  "linuxOperatingSystemProfile": {
                    "username": "sshuser"
                  }
                }
              }
            ]
          },
          "provisioningState": "Succeeded",
          "clusterState": "Running",
          "createdDate": "2019-11-18T12:25:43.48",
          "quotaInfo": {
            "coresUsed": 40
          },
          "connectivityEndpoints": [
            {
              "name": "SSH",
              "protocol": "TCP",
              "location": "cluster1-ssh.azurehdinsight.net",
              "port": 22
            },
            {
              "name": "HTTPS",
              "protocol": "TCP",
              "location": "cluster1.azurehdinsight.net",
              "port": 443
            }
          ],
          "tier": "Standard"
        }
      }
- name: Create Hadoop cluster with Azure Data Lake Storage Gen 2
  request:
    uri: PUT https://management.azure.com/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.HDInsight/clusters/cluster1?api-version=2021-06-01
    body: >-
      {
        "tags": {
          "key1": "val1"
        },
        "properties": {
          "clusterVersion": "3.6",
          "osType": "Linux",
          "tier": "Standard",
          "clusterDefinition": {
            "kind": "Hadoop",
            "configurations": {
              "gateway": {
                "restAuthCredential.isEnabled": "true",
                "restAuthCredential.username": "admin",
                "restAuthCredential.password": "**********"
              }
            }
          },
          "storageProfile": {
            "storageaccounts": [
              {
                "name": "mystorage.dfs.core.windows.net",
                "isDefault": true,
                "fileSystem": "default",
                "key": "storagekey"
              }
            ]
          },
          "computeProfile": {
            "roles": [
              {
                "name": "headnode",
                "minInstanceCount": 1,
                "targetInstanceCount": 2,
                "hardwareProfile": {
                  "vmSize": "Standard_D3_V2"
                },
                "osProfile": {
                  "linuxOperatingSystemProfile": {
                    "username": "sshuser",
                    "password": "**********"
                  }
                }
              },
              {
                "name": "workernode",
                "minInstanceCount": 1,
                "targetInstanceCount": 4,
                "hardwareProfile": {
                  "vmSize": "Standard_D3_V2"
                },
                "osProfile": {
                  "linuxOperatingSystemProfile": {
                    "username": "sshuser",
                    "password": "**********"
                  }
                }
              },
              {
                "name": "zookeepernode",
                "minInstanceCount": 1,
                "targetInstanceCount": 3,
                "hardwareProfile": {
                  "vmSize": "Small"
                },
                "osProfile": {
                  "linuxOperatingSystemProfile": {
                    "username": "sshuser",
                    "password": "**********"
                  }
                }
              }
            ]
          }
        }
      }
    codeTab: |+
      # [HTTP](#tab/HTTP)
      ``` http
      PUT https://management.azure.com/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.HDInsight/clusters/cluster1?api-version=2021-06-01

      {
        "tags": {
          "key1": "val1"
        },
        "properties": {
          "clusterVersion": "3.6",
          "osType": "Linux",
          "tier": "Standard",
          "clusterDefinition": {
            "kind": "Hadoop",
            "configurations": {
              "gateway": {
                "restAuthCredential.isEnabled": "true",
                "restAuthCredential.username": "admin",
                "restAuthCredential.password": "**********"
              }
            }
          },
          "storageProfile": {
            "storageaccounts": [
              {
                "name": "mystorage.dfs.core.windows.net",
                "isDefault": true,
                "fileSystem": "default",
                "key": "storagekey"
              }
            ]
          },
          "computeProfile": {
            "roles": [
              {
                "name": "headnode",
                "minInstanceCount": 1,
                "targetInstanceCount": 2,
                "hardwareProfile": {
                  "vmSize": "Standard_D3_V2"
                },
                "osProfile": {
                  "linuxOperatingSystemProfile": {
                    "username": "sshuser",
                    "password": "**********"
                  }
                }
              },
              {
                "name": "workernode",
                "minInstanceCount": 1,
                "targetInstanceCount": 4,
                "hardwareProfile": {
                  "vmSize": "Standard_D3_V2"
                },
                "osProfile": {
                  "linuxOperatingSystemProfile": {
                    "username": "sshuser",
                    "password": "**********"
                  }
                }
              },
              {
                "name": "zookeepernode",
                "minInstanceCount": 1,
                "targetInstanceCount": 3,
                "hardwareProfile": {
                  "vmSize": "Small"
                },
                "osProfile": {
                  "linuxOperatingSystemProfile": {
                    "username": "sshuser",
                    "password": "**********"
                  }
                }
              }
            ]
          }
        }
      }

      ```

      # [Java](#tab/Java)
      ``` java
      import com.azure.core.management.serializer.SerializerFactory;
      import com.azure.core.util.serializer.SerializerEncoding;
      import com.azure.resourcemanager.hdinsight.models.ClusterCreateProperties;
      import com.azure.resourcemanager.hdinsight.models.ClusterDefinition;
      import com.azure.resourcemanager.hdinsight.models.ComputeProfile;
      import com.azure.resourcemanager.hdinsight.models.HardwareProfile;
      import com.azure.resourcemanager.hdinsight.models.LinuxOperatingSystemProfile;
      import com.azure.resourcemanager.hdinsight.models.OSType;
      import com.azure.resourcemanager.hdinsight.models.OsProfile;
      import com.azure.resourcemanager.hdinsight.models.Role;
      import com.azure.resourcemanager.hdinsight.models.StorageAccount;
      import com.azure.resourcemanager.hdinsight.models.StorageProfile;
      import com.azure.resourcemanager.hdinsight.models.Tier;
      import java.io.IOException;
      import java.util.Arrays;
      import java.util.HashMap;
      import java.util.Map;

      /** Samples for Clusters Create. */
      public final class Main {
          /*
           * x-ms-original-file: specification/hdinsight/resource-manager/Microsoft.HDInsight/stable/2021-06-01/examples/CreateLinuxHadoopAdlsGen2.json
           */
          /**
           * Sample code: Create Hadoop cluster with Azure Data Lake Storage Gen 2.
           *
           * @param manager Entry point to HDInsightManager.
           */
          public static void createHadoopClusterWithAzureDataLakeStorageGen2(
              com.azure.resourcemanager.hdinsight.HDInsightManager manager) throws IOException {
              manager
                  .clusters()
                  .define("cluster1")
                  .withExistingResourceGroup("rg1")
                  .withTags(mapOf("key1", "val1"))
                  .withProperties(
                      new ClusterCreateProperties()
                          .withClusterVersion("3.6")
                          .withOsType(OSType.LINUX)
                          .withTier(Tier.STANDARD)
                          .withClusterDefinition(
                              new ClusterDefinition()
                                  .withKind("Hadoop")
                                  .withConfigurations(
                                      SerializerFactory
                                          .createDefaultManagementSerializerAdapter()
                                          .deserialize(
                                              "{\"gateway\":{\"restAuthCredential.isEnabled\":\"true\",\"restAuthCredential.password\":\"**********\",\"restAuthCredential.username\":\"admin\"}}",
                                              Object.class,
                                              SerializerEncoding.JSON)))
                          .withComputeProfile(
                              new ComputeProfile()
                                  .withRoles(
                                      Arrays
                                          .asList(
                                              new Role()
                                                  .withName("headnode")
                                                  .withMinInstanceCount(1)
                                                  .withTargetInstanceCount(2)
                                                  .withHardwareProfile(new HardwareProfile().withVmSize("Standard_D3_V2"))
                                                  .withOsProfile(
                                                      new OsProfile()
                                                          .withLinuxOperatingSystemProfile(
                                                              new LinuxOperatingSystemProfile()
                                                                  .withUsername("sshuser")
                                                                  .withPassword("**********"))),
                                              new Role()
                                                  .withName("workernode")
                                                  .withMinInstanceCount(1)
                                                  .withTargetInstanceCount(4)
                                                  .withHardwareProfile(new HardwareProfile().withVmSize("Standard_D3_V2"))
                                                  .withOsProfile(
                                                      new OsProfile()
                                                          .withLinuxOperatingSystemProfile(
                                                              new LinuxOperatingSystemProfile()
                                                                  .withUsername("sshuser")
                                                                  .withPassword("**********"))),
                                              new Role()
                                                  .withName("zookeepernode")
                                                  .withMinInstanceCount(1)
                                                  .withTargetInstanceCount(3)
                                                  .withHardwareProfile(new HardwareProfile().withVmSize("Small"))
                                                  .withOsProfile(
                                                      new OsProfile()
                                                          .withLinuxOperatingSystemProfile(
                                                              new LinuxOperatingSystemProfile()
                                                                  .withUsername("sshuser")
                                                                  .withPassword("**********"))))))
                          .withStorageProfile(
                              new StorageProfile()
                                  .withStorageaccounts(
                                      Arrays
                                          .asList(
                                              new StorageAccount()
                                                  .withName("mystorage.dfs.core.windows.net")
                                                  .withIsDefault(true)
                                                  .withFileSystem("default")
                                                  .withKey("storagekey")))))
                  .create();
          }

          @SuppressWarnings("unchecked")
          private static <T> Map<String, T> mapOf(Object... inputs) {
              Map<String, T> map = new HashMap<>();
              for (int i = 0; i < inputs.length; i += 2) {
                  String key = (String) inputs[i];
                  T value = (T) inputs[i + 1];
                  map.put(key, value);
              }
              return map;
          }
      }

      ```
      Read this [SDK documentation](https://github.com/Azure/azure-sdk-for-java/blob/azure-resourcemanager-hdinsight_1.0.0-beta.5/sdk/hdinsight/azure-resourcemanager-hdinsight/README.md) on how to add the SDK to your project and authenticate.
      # [JavaScript](#tab/JavaScript)
      ``` js
      const { HDInsightManagementClient } = require("@azure/arm-hdinsight");
      const { DefaultAzureCredential } = require("@azure/identity");

      /**
       * This sample demonstrates how to Creates a new HDInsight cluster with the specified parameters.
       *
       * @summary Creates a new HDInsight cluster with the specified parameters.
       * x-ms-original-file: specification/hdinsight/resource-manager/Microsoft.HDInsight/stable/2021-06-01/examples/CreateLinuxHadoopAdlsGen2.json
       */
      async function createHadoopClusterWithAzureDataLakeStorageGen2() {
        const subscriptionId = "subid";
        const resourceGroupName = "rg1";
        const clusterName = "cluster1";
        const parameters = {
          properties: {
            clusterDefinition: {
              configurations: {
                gateway: {
                  "restAuthCredential.isEnabled": "true",
                  "restAuthCredential.password": "**********",
                  "restAuthCredential.username": "admin",
                },
              },
              kind: "Hadoop",
            },
            clusterVersion: "3.6",
            computeProfile: {
              roles: [
                {
                  name: "headnode",
                  hardwareProfile: { vmSize: "Standard_D3_V2" },
                  minInstanceCount: 1,
                  osProfile: {
                    linuxOperatingSystemProfile: {
                      password: "**********",
                      username: "sshuser",
                    },
                  },
                  targetInstanceCount: 2,
                },
                {
                  name: "workernode",
                  hardwareProfile: { vmSize: "Standard_D3_V2" },
                  minInstanceCount: 1,
                  osProfile: {
                    linuxOperatingSystemProfile: {
                      password: "**********",
                      username: "sshuser",
                    },
                  },
                  targetInstanceCount: 4,
                },
                {
                  name: "zookeepernode",
                  hardwareProfile: { vmSize: "Small" },
                  minInstanceCount: 1,
                  osProfile: {
                    linuxOperatingSystemProfile: {
                      password: "**********",
                      username: "sshuser",
                    },
                  },
                  targetInstanceCount: 3,
                },
              ],
            },
            osType: "Linux",
            storageProfile: {
              storageaccounts: [
                {
                  name: "mystorage.dfs.core.windows.net",
                  fileSystem: "default",
                  isDefault: true,
                  key: "storagekey",
                },
              ],
            },
            tier: "Standard",
          },
          tags: { key1: "val1" },
        };
        const credential = new DefaultAzureCredential();
        const client = new HDInsightManagementClient(credential, subscriptionId);
        const result = await client.clusters.beginCreateAndWait(
          resourceGroupName,
          clusterName,
          parameters
        );
        console.log(result);
      }

      createHadoopClusterWithAzureDataLakeStorageGen2().catch(console.error);

      ```
      Read this [SDK documentation](https://github.com/Azure/azure-sdk-for-js/blob/%40azure%2Farm-hdinsight_1.2.0/sdk/hdinsight/arm-hdinsight/README.md) on how to add the SDK to your project and authenticate.
  responses:
  - statusCode: "200"
    headers:
    - name: location
      value: https://management.azure.com/subscriptions/subid/providers/Microsoft.HDInsight/pathToOperationResult
    body: >-
      {
        "id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rg1/providers/Microsoft.HDInsight/clusters/cluster1",
        "name": "cluster1",
        "type": "Microsoft.HDInsight/clusters",
        "location": "East US",
        "etag": "fdf2a6e8-ce83-42cc-8c2d-0ceb11a370ff",
        "properties": {
          "clusterVersion": "4.0.1000.1",
          "osType": "Linux",
          "clusterDefinition": {
            "blueprint": "https://blueprints.azurehdinsight.net/hadoop-4.0.1000.1.1910270459.json",
            "kind": "HADOOP",
            "componentVersion": {
              "Hadoop": "3.1"
            }
          },
          "computeProfile": {
            "roles": [
              {
                "name": "headnode",
                "targetInstanceCount": 2,
                "hardwareProfile": {
                  "vmSize": "standard_d12_v2"
                },
                "osProfile": {
                  "linuxOperatingSystemProfile": {
                    "username": "sshuser"
                  }
                }
              },
              {
                "name": "workernode",
                "targetInstanceCount": 4,
                "hardwareProfile": {
                  "vmSize": "standard_d4_v2"
                },
                "osProfile": {
                  "linuxOperatingSystemProfile": {
                    "username": "sshuser"
                  }
                }
              },
              {
                "name": "zookeepernode",
                "targetInstanceCount": 3,
                "hardwareProfile": {
                  "vmSize": "standard_a2_v2"
                },
                "osProfile": {
                  "linuxOperatingSystemProfile": {
                    "username": "sshuser"
                  }
                }
              }
            ]
          },
          "provisioningState": "Succeeded",
          "clusterState": "Running",
          "createdDate": "2019-11-18T12:25:43.48",
          "quotaInfo": {
            "coresUsed": 40
          },
          "connectivityEndpoints": [
            {
              "name": "SSH",
              "protocol": "TCP",
              "location": "cluster1-ssh.azurehdinsight.net",
              "port": 22
            },
            {
              "name": "HTTPS",
              "protocol": "TCP",
              "location": "cluster1.azurehdinsight.net",
              "port": 443
            }
          ],
          "tier": "Standard"
        }
      }
- name: Create HDInsight cluster with Autoscale configuration
  request:
    uri: PUT https://management.azure.com/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.HDInsight/clusters/cluster1?api-version=2021-06-01
    body: >-
      {
        "properties": {
          "clusterVersion": "3.6",
          "osType": "Linux",
          "tier": "Standard",
          "clusterDefinition": {
            "kind": "hadoop",
            "componentVersion": {
              "Hadoop": "2.7"
            },
            "configurations": {
              "gateway": {
                "restAuthCredential.isEnabled": true,
                "restAuthCredential.username": "admin",
                "restAuthCredential.password": "**********"
              }
            }
          },
          "storageProfile": {
            "storageaccounts": [
              {
                "name": "mystorage.blob.core.windows.net",
                "isDefault": true,
                "container": "hdinsight-autoscale-tes-2019-06-18t05-49-16-591z",
                "key": "storagekey"
              }
            ]
          },
          "computeProfile": {
            "roles": [
              {
                "autoscale": {
                  "capacity": null,
                  "recurrence": {
                    "timeZone": "China Standard Time",
                    "schedule": [
                      {
                        "days": [
                          "Monday",
                          "Tuesday",
                          "Wednesday",
                          "Thursday",
                          "Friday"
                        ],
                        "timeAndCapacity": {
                          "time": "09:00",
                          "minInstanceCount": 3,
                          "maxInstanceCount": 3
                        }
                      },
                      {
                        "days": [
                          "Monday",
                          "Tuesday",
                          "Wednesday",
                          "Thursday",
                          "Friday"
                        ],
                        "timeAndCapacity": {
                          "time": "18:00",
                          "minInstanceCount": 6,
                          "maxInstanceCount": 6
                        }
                      },
                      {
                        "days": [
                          "Saturday",
                          "Sunday"
                        ],
                        "timeAndCapacity": {
                          "time": "09:00",
                          "minInstanceCount": 2,
                          "maxInstanceCount": 2
                        }
                      },
                      {
                        "days": [
                          "Saturday",
                          "Sunday"
                        ],
                        "timeAndCapacity": {
                          "time": "18:00",
                          "minInstanceCount": 4,
                          "maxInstanceCount": 4
                        }
                      }
                    ]
                  }
                },
                "name": "workernode",
                "targetInstanceCount": 4,
                "hardwareProfile": {
                  "vmSize": "Standard_D4_V2"
                },
                "osProfile": {
                  "linuxOperatingSystemProfile": {
                    "username": "sshuser",
                    "password": "**********"
                  }
                },
                "virtualNetworkProfile": null,
                "scriptActions": [],
                "dataDisksGroups": null
              }
            ]
          }
        }
      }
    codeTab: |+
      # [HTTP](#tab/HTTP)
      ``` http
      PUT https://management.azure.com/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.HDInsight/clusters/cluster1?api-version=2021-06-01

      {
        "properties": {
          "clusterVersion": "3.6",
          "osType": "Linux",
          "tier": "Standard",
          "clusterDefinition": {
            "kind": "hadoop",
            "componentVersion": {
              "Hadoop": "2.7"
            },
            "configurations": {
              "gateway": {
                "restAuthCredential.isEnabled": true,
                "restAuthCredential.username": "admin",
                "restAuthCredential.password": "**********"
              }
            }
          },
          "storageProfile": {
            "storageaccounts": [
              {
                "name": "mystorage.blob.core.windows.net",
                "isDefault": true,
                "container": "hdinsight-autoscale-tes-2019-06-18t05-49-16-591z",
                "key": "storagekey"
              }
            ]
          },
          "computeProfile": {
            "roles": [
              {
                "autoscale": {
                  "capacity": null,
                  "recurrence": {
                    "timeZone": "China Standard Time",
                    "schedule": [
                      {
                        "days": [
                          "Monday",
                          "Tuesday",
                          "Wednesday",
                          "Thursday",
                          "Friday"
                        ],
                        "timeAndCapacity": {
                          "time": "09:00",
                          "minInstanceCount": 3,
                          "maxInstanceCount": 3
                        }
                      },
                      {
                        "days": [
                          "Monday",
                          "Tuesday",
                          "Wednesday",
                          "Thursday",
                          "Friday"
                        ],
                        "timeAndCapacity": {
                          "time": "18:00",
                          "minInstanceCount": 6,
                          "maxInstanceCount": 6
                        }
                      },
                      {
                        "days": [
                          "Saturday",
                          "Sunday"
                        ],
                        "timeAndCapacity": {
                          "time": "09:00",
                          "minInstanceCount": 2,
                          "maxInstanceCount": 2
                        }
                      },
                      {
                        "days": [
                          "Saturday",
                          "Sunday"
                        ],
                        "timeAndCapacity": {
                          "time": "18:00",
                          "minInstanceCount": 4,
                          "maxInstanceCount": 4
                        }
                      }
                    ]
                  }
                },
                "name": "workernode",
                "targetInstanceCount": 4,
                "hardwareProfile": {
                  "vmSize": "Standard_D4_V2"
                },
                "osProfile": {
                  "linuxOperatingSystemProfile": {
                    "username": "sshuser",
                    "password": "**********"
                  }
                },
                "virtualNetworkProfile": null,
                "scriptActions": [],
                "dataDisksGroups": null
              }
            ]
          }
        }
      }

      ```

      # [Java](#tab/Java)
      ``` java
      import com.azure.core.management.serializer.SerializerFactory;
      import com.azure.core.util.serializer.SerializerEncoding;
      import com.azure.resourcemanager.hdinsight.models.Autoscale;
      import com.azure.resourcemanager.hdinsight.models.AutoscaleRecurrence;
      import com.azure.resourcemanager.hdinsight.models.AutoscaleSchedule;
      import com.azure.resourcemanager.hdinsight.models.AutoscaleTimeAndCapacity;
      import com.azure.resourcemanager.hdinsight.models.ClusterCreateProperties;
      import com.azure.resourcemanager.hdinsight.models.ClusterDefinition;
      import com.azure.resourcemanager.hdinsight.models.ComputeProfile;
      import com.azure.resourcemanager.hdinsight.models.DaysOfWeek;
      import com.azure.resourcemanager.hdinsight.models.HardwareProfile;
      import com.azure.resourcemanager.hdinsight.models.LinuxOperatingSystemProfile;
      import com.azure.resourcemanager.hdinsight.models.OSType;
      import com.azure.resourcemanager.hdinsight.models.OsProfile;
      import com.azure.resourcemanager.hdinsight.models.Role;
      import com.azure.resourcemanager.hdinsight.models.StorageAccount;
      import com.azure.resourcemanager.hdinsight.models.StorageProfile;
      import com.azure.resourcemanager.hdinsight.models.Tier;
      import java.io.IOException;
      import java.util.Arrays;
      import java.util.HashMap;
      import java.util.Map;

      /** Samples for Clusters Create. */
      public final class Main {
          /*
           * x-ms-original-file: specification/hdinsight/resource-manager/Microsoft.HDInsight/stable/2021-06-01/examples/CreateHDInsightClusterWithAutoscaleConfig.json
           */
          /**
           * Sample code: Create HDInsight cluster with Autoscale configuration.
           *
           * @param manager Entry point to HDInsightManager.
           */
          public static void createHDInsightClusterWithAutoscaleConfiguration(
              com.azure.resourcemanager.hdinsight.HDInsightManager manager) throws IOException {
              manager
                  .clusters()
                  .define("cluster1")
                  .withExistingResourceGroup("rg1")
                  .withProperties(
                      new ClusterCreateProperties()
                          .withClusterVersion("3.6")
                          .withOsType(OSType.LINUX)
                          .withTier(Tier.STANDARD)
                          .withClusterDefinition(
                              new ClusterDefinition()
                                  .withKind("hadoop")
                                  .withComponentVersion(mapOf("Hadoop", "2.7"))
                                  .withConfigurations(
                                      SerializerFactory
                                          .createDefaultManagementSerializerAdapter()
                                          .deserialize(
                                              "{\"gateway\":{\"restAuthCredential.isEnabled\":true,\"restAuthCredential.password\":\"**********\",\"restAuthCredential.username\":\"admin\"}}",
                                              Object.class,
                                              SerializerEncoding.JSON)))
                          .withComputeProfile(
                              new ComputeProfile()
                                  .withRoles(
                                      Arrays
                                          .asList(
                                              new Role()
                                                  .withName("workernode")
                                                  .withTargetInstanceCount(4)
                                                  .withAutoscaleConfiguration(
                                                      new Autoscale()
                                                          .withRecurrence(
                                                              new AutoscaleRecurrence()
                                                                  .withTimeZone("China Standard Time")
                                                                  .withSchedule(
                                                                      Arrays
                                                                          .asList(
                                                                              new AutoscaleSchedule()
                                                                                  .withDays(
                                                                                      Arrays
                                                                                          .asList(
                                                                                              DaysOfWeek.MONDAY,
                                                                                              DaysOfWeek.TUESDAY,
                                                                                              DaysOfWeek.WEDNESDAY,
                                                                                              DaysOfWeek.THURSDAY,
                                                                                              DaysOfWeek.FRIDAY))
                                                                                  .withTimeAndCapacity(
                                                                                      new AutoscaleTimeAndCapacity()
                                                                                          .withTime("09:00")
                                                                                          .withMinInstanceCount(3)
                                                                                          .withMaxInstanceCount(3)),
                                                                              new AutoscaleSchedule()
                                                                                  .withDays(
                                                                                      Arrays
                                                                                          .asList(
                                                                                              DaysOfWeek.MONDAY,
                                                                                              DaysOfWeek.TUESDAY,
                                                                                              DaysOfWeek.WEDNESDAY,
                                                                                              DaysOfWeek.THURSDAY,
                                                                                              DaysOfWeek.FRIDAY))
                                                                                  .withTimeAndCapacity(
                                                                                      new AutoscaleTimeAndCapacity()
                                                                                          .withTime("18:00")
                                                                                          .withMinInstanceCount(6)
                                                                                          .withMaxInstanceCount(6)),
                                                                              new AutoscaleSchedule()
                                                                                  .withDays(
                                                                                      Arrays
                                                                                          .asList(
                                                                                              DaysOfWeek.SATURDAY,
                                                                                              DaysOfWeek.SUNDAY))
                                                                                  .withTimeAndCapacity(
                                                                                      new AutoscaleTimeAndCapacity()
                                                                                          .withTime("09:00")
                                                                                          .withMinInstanceCount(2)
                                                                                          .withMaxInstanceCount(2)),
                                                                              new AutoscaleSchedule()
                                                                                  .withDays(
                                                                                      Arrays
                                                                                          .asList(
                                                                                              DaysOfWeek.SATURDAY,
                                                                                              DaysOfWeek.SUNDAY))
                                                                                  .withTimeAndCapacity(
                                                                                      new AutoscaleTimeAndCapacity()
                                                                                          .withTime("18:00")
                                                                                          .withMinInstanceCount(4)
                                                                                          .withMaxInstanceCount(4))))))
                                                  .withHardwareProfile(new HardwareProfile().withVmSize("Standard_D4_V2"))
                                                  .withOsProfile(
                                                      new OsProfile()
                                                          .withLinuxOperatingSystemProfile(
                                                              new LinuxOperatingSystemProfile()
                                                                  .withUsername("sshuser")
                                                                  .withPassword("**********")))
                                                  .withScriptActions(Arrays.asList()))))
                          .withStorageProfile(
                              new StorageProfile()
                                  .withStorageaccounts(
                                      Arrays
                                          .asList(
                                              new StorageAccount()
                                                  .withName("mystorage.blob.core.windows.net")
                                                  .withIsDefault(true)
                                                  .withContainer("hdinsight-autoscale-tes-2019-06-18t05-49-16-591z")
                                                  .withKey("storagekey")))))
                  .create();
          }

          @SuppressWarnings("unchecked")
          private static <T> Map<String, T> mapOf(Object... inputs) {
              Map<String, T> map = new HashMap<>();
              for (int i = 0; i < inputs.length; i += 2) {
                  String key = (String) inputs[i];
                  T value = (T) inputs[i + 1];
                  map.put(key, value);
              }
              return map;
          }
      }

      ```
      Read this [SDK documentation](https://github.com/Azure/azure-sdk-for-java/blob/azure-resourcemanager-hdinsight_1.0.0-beta.5/sdk/hdinsight/azure-resourcemanager-hdinsight/README.md) on how to add the SDK to your project and authenticate.
      # [Go](#tab/Go)
      ``` go
      package armhdinsight_test

      import (
      	"context"
      	"log"

      	"github.com/Azure/azure-sdk-for-go/sdk/azcore/to"
      	"github.com/Azure/azure-sdk-for-go/sdk/azidentity"
      	"github.com/Azure/azure-sdk-for-go/sdk/resourcemanager/hdinsight/armhdinsight"
      )

      // Generated from example definition: https://github.com/Azure/azure-rest-api-specs/tree/main/specification/hdinsight/resource-manager/Microsoft.HDInsight/stable/2021-06-01/examples/CreateHDInsightClusterWithAutoscaleConfig.json
      func ExampleClustersClient_BeginCreate() {
      	cred, err := azidentity.NewDefaultAzureCredential(nil)
      	if err != nil {
      		log.Fatalf("failed to obtain a credential: %v", err)
      	}
      	ctx := context.Background()
      	client, err := armhdinsight.NewClustersClient("subid", cred, nil)
      	if err != nil {
      		log.Fatalf("failed to create client: %v", err)
      	}
      	poller, err := client.BeginCreate(ctx,
      		"rg1",
      		"cluster1",
      		armhdinsight.ClusterCreateParametersExtended{
      			Properties: &armhdinsight.ClusterCreateProperties{
      				ClusterDefinition: &armhdinsight.ClusterDefinition{
      					ComponentVersion: map[string]*string{
      						"Hadoop": to.Ptr("2.7"),
      					},
      					Configurations: map[string]interface{}{
      						"gateway": map[string]interface{}{
      							"restAuthCredential.isEnabled": true,
      							"restAuthCredential.password":  "**********",
      							"restAuthCredential.username":  "admin",
      						},
      					},
      					Kind: to.Ptr("hadoop"),
      				},
      				ClusterVersion: to.Ptr("3.6"),
      				ComputeProfile: &armhdinsight.ComputeProfile{
      					Roles: []*armhdinsight.Role{
      						{
      							Name: to.Ptr("workernode"),
      							AutoscaleConfiguration: &armhdinsight.Autoscale{
      								Recurrence: &armhdinsight.AutoscaleRecurrence{
      									Schedule: []*armhdinsight.AutoscaleSchedule{
      										{
      											Days: []*armhdinsight.DaysOfWeek{
      												to.Ptr(armhdinsight.DaysOfWeekMonday),
      												to.Ptr(armhdinsight.DaysOfWeekTuesday),
      												to.Ptr(armhdinsight.DaysOfWeekWednesday),
      												to.Ptr(armhdinsight.DaysOfWeekThursday),
      												to.Ptr(armhdinsight.DaysOfWeekFriday)},
      											TimeAndCapacity: &armhdinsight.AutoscaleTimeAndCapacity{
      												MaxInstanceCount: to.Ptr[int32](3),
      												MinInstanceCount: to.Ptr[int32](3),
      												Time:             to.Ptr("09:00"),
      											},
      										},
      										{
      											Days: []*armhdinsight.DaysOfWeek{
      												to.Ptr(armhdinsight.DaysOfWeekMonday),
      												to.Ptr(armhdinsight.DaysOfWeekTuesday),
      												to.Ptr(armhdinsight.DaysOfWeekWednesday),
      												to.Ptr(armhdinsight.DaysOfWeekThursday),
      												to.Ptr(armhdinsight.DaysOfWeekFriday)},
      											TimeAndCapacity: &armhdinsight.AutoscaleTimeAndCapacity{
      												MaxInstanceCount: to.Ptr[int32](6),
      												MinInstanceCount: to.Ptr[int32](6),
      												Time:             to.Ptr("18:00"),
      											},
      										},
      										{
      											Days: []*armhdinsight.DaysOfWeek{
      												to.Ptr(armhdinsight.DaysOfWeekSaturday),
      												to.Ptr(armhdinsight.DaysOfWeekSunday)},
      											TimeAndCapacity: &armhdinsight.AutoscaleTimeAndCapacity{
      												MaxInstanceCount: to.Ptr[int32](2),
      												MinInstanceCount: to.Ptr[int32](2),
      												Time:             to.Ptr("09:00"),
      											},
      										},
      										{
      											Days: []*armhdinsight.DaysOfWeek{
      												to.Ptr(armhdinsight.DaysOfWeekSaturday),
      												to.Ptr(armhdinsight.DaysOfWeekSunday)},
      											TimeAndCapacity: &armhdinsight.AutoscaleTimeAndCapacity{
      												MaxInstanceCount: to.Ptr[int32](4),
      												MinInstanceCount: to.Ptr[int32](4),
      												Time:             to.Ptr("18:00"),
      											},
      										}},
      									TimeZone: to.Ptr("China Standard Time"),
      								},
      							},
      							HardwareProfile: &armhdinsight.HardwareProfile{
      								VMSize: to.Ptr("Standard_D4_V2"),
      							},
      							OSProfile: &armhdinsight.OsProfile{
      								LinuxOperatingSystemProfile: &armhdinsight.LinuxOperatingSystemProfile{
      									Password: to.Ptr("**********"),
      									Username: to.Ptr("sshuser"),
      								},
      							},
      							ScriptActions:       []*armhdinsight.ScriptAction{},
      							TargetInstanceCount: to.Ptr[int32](4),
      						}},
      				},
      				OSType: to.Ptr(armhdinsight.OSTypeLinux),
      				StorageProfile: &armhdinsight.StorageProfile{
      					Storageaccounts: []*armhdinsight.StorageAccount{
      						{
      							Name:      to.Ptr("mystorage.blob.core.windows.net"),
      							Container: to.Ptr("hdinsight-autoscale-tes-2019-06-18t05-49-16-591z"),
      							IsDefault: to.Ptr(true),
      							Key:       to.Ptr("storagekey"),
      						}},
      				},
      				Tier: to.Ptr(armhdinsight.TierStandard),
      			},
      		},
      		nil)
      	if err != nil {
      		log.Fatalf("failed to finish the request: %v", err)
      	}
      	res, err := poller.PollUntilDone(ctx, nil)
      	if err != nil {
      		log.Fatalf("failed to pull the result: %v", err)
      	}
      	// TODO: use response item
      	_ = res
      }

      ```
      Read this [SDK documentation](https://github.com/Azure/azure-sdk-for-go/blob/sdk%2Fresourcemanager%2Fhdinsight%2Farmhdinsight%2Fv1.0.0/sdk/resourcemanager/hdinsight/armhdinsight/README.md) on how to add the SDK to your project and authenticate.
      # [JavaScript](#tab/JavaScript)
      ``` js
      const { HDInsightManagementClient } = require("@azure/arm-hdinsight");
      const { DefaultAzureCredential } = require("@azure/identity");

      /**
       * This sample demonstrates how to Creates a new HDInsight cluster with the specified parameters.
       *
       * @summary Creates a new HDInsight cluster with the specified parameters.
       * x-ms-original-file: specification/hdinsight/resource-manager/Microsoft.HDInsight/stable/2021-06-01/examples/CreateHDInsightClusterWithAutoscaleConfig.json
       */
      async function createHdInsightClusterWithAutoscaleConfiguration() {
        const subscriptionId = "subid";
        const resourceGroupName = "rg1";
        const clusterName = "cluster1";
        const parameters = {
          properties: {
            clusterDefinition: {
              componentVersion: { hadoop: "2.7" },
              configurations: {
                gateway: {
                  "restAuthCredential.isEnabled": true,
                  "restAuthCredential.password": "**********",
                  "restAuthCredential.username": "admin",
                },
              },
              kind: "hadoop",
            },
            clusterVersion: "3.6",
            computeProfile: {
              roles: [
                {
                  name: "workernode",
                  autoscaleConfiguration: {
                    capacity: {},
                    recurrence: {
                      schedule: [
                        {
                          days: ["Monday", "Tuesday", "Wednesday", "Thursday", "Friday"],
                          timeAndCapacity: {
                            maxInstanceCount: 3,
                            minInstanceCount: 3,
                            time: "09:00",
                          },
                        },
                        {
                          days: ["Monday", "Tuesday", "Wednesday", "Thursday", "Friday"],
                          timeAndCapacity: {
                            maxInstanceCount: 6,
                            minInstanceCount: 6,
                            time: "18:00",
                          },
                        },
                        {
                          days: ["Saturday", "Sunday"],
                          timeAndCapacity: {
                            maxInstanceCount: 2,
                            minInstanceCount: 2,
                            time: "09:00",
                          },
                        },
                        {
                          days: ["Saturday", "Sunday"],
                          timeAndCapacity: {
                            maxInstanceCount: 4,
                            minInstanceCount: 4,
                            time: "18:00",
                          },
                        },
                      ],
                      timeZone: "China Standard Time",
                    },
                  },
                  dataDisksGroups: [],
                  hardwareProfile: { vmSize: "Standard_D4_V2" },
                  osProfile: {
                    linuxOperatingSystemProfile: {
                      password: "**********",
                      username: "sshuser",
                    },
                  },
                  scriptActions: [],
                  targetInstanceCount: 4,
                  virtualNetworkProfile: {},
                },
              ],
            },
            osType: "Linux",
            storageProfile: {
              storageaccounts: [
                {
                  name: "mystorage.blob.core.windows.net",
                  container: "hdinsight-autoscale-tes-2019-06-18t05-49-16-591z",
                  isDefault: true,
                  key: "storagekey",
                },
              ],
            },
            tier: "Standard",
          },
        };
        const credential = new DefaultAzureCredential();
        const client = new HDInsightManagementClient(credential, subscriptionId);
        const result = await client.clusters.beginCreateAndWait(
          resourceGroupName,
          clusterName,
          parameters
        );
        console.log(result);
      }

      createHdInsightClusterWithAutoscaleConfiguration().catch(console.error);

      ```
      Read this [SDK documentation](https://github.com/Azure/azure-sdk-for-js/blob/%40azure%2Farm-hdinsight_1.2.0/sdk/hdinsight/arm-hdinsight/README.md) on how to add the SDK to your project and authenticate.
  responses:
  - statusCode: "200"
    headers:
    - name: location
      value: https://management.azure.com/subscriptions/subid/providers/Microsoft.HDInsight/pathToOperationResult
    body: >-
      {
        "id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rg1/providers/Microsoft.HDInsight/clusters/cluster1",
        "name": "cluster1",
        "type": "Microsoft.HDInsight/clusters",
        "location": "East US",
        "etag": "fdf2a6e8-ce83-42cc-8c2d-0ceb11a370ff",
        "properties": {
          "clusterVersion": "4.0.1000.1",
          "osType": "Linux",
          "clusterDefinition": {
            "blueprint": "https://blueprints.azurehdinsight.net/hadoop-4.0.1000.1.1910270459.json",
            "kind": "HADOOP",
            "componentVersion": {
              "Hadoop": "3.1"
            }
          },
          "computeProfile": {
            "roles": [
              {
                "name": "headnode",
                "targetInstanceCount": 2,
                "hardwareProfile": {
                  "vmSize": "standard_d12_v2"
                },
                "osProfile": {
                  "linuxOperatingSystemProfile": {
                    "username": "sshuser"
                  }
                }
              },
              {
                "name": "workernode",
                "targetInstanceCount": 4,
                "hardwareProfile": {
                  "vmSize": "standard_d4_v2"
                },
                "osProfile": {
                  "linuxOperatingSystemProfile": {
                    "username": "sshuser"
                  }
                }
              },
              {
                "name": "zookeepernode",
                "targetInstanceCount": 3,
                "hardwareProfile": {
                  "vmSize": "standard_a2_v2"
                },
                "osProfile": {
                  "linuxOperatingSystemProfile": {
                    "username": "sshuser"
                  }
                }
              }
            ]
          },
          "provisioningState": "Succeeded",
          "clusterState": "Running",
          "createdDate": "2019-11-18T12:25:43.48",
          "quotaInfo": {
            "coresUsed": 40
          },
          "connectivityEndpoints": [
            {
              "name": "SSH",
              "protocol": "TCP",
              "location": "cluster1-ssh.azurehdinsight.net",
              "port": 22
            },
            {
              "name": "HTTPS",
              "protocol": "TCP",
              "location": "cluster1.azurehdinsight.net",
              "port": 443
            }
          ],
          "tier": "Standard"
        }
      }
- name: Create Kafka cluster with Kafka Rest Proxy
  request:
    uri: PUT https://management.azure.com/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.HDInsight/clusters/cluster1?api-version=2021-06-01
    body: >-
      {
        "properties": {
          "clusterVersion": "4.0",
          "osType": "Linux",
          "tier": "Standard",
          "clusterDefinition": {
            "kind": "kafka",
            "componentVersion": {
              "Kafka": "2.1"
            },
            "configurations": {
              "gateway": {
                "restAuthCredential.isEnabled": true,
                "restAuthCredential.username": "admin",
                "restAuthCredential.password": "**********"
              }
            }
          },
          "kafkaRestProperties": {
            "clientGroupInfo": {
              "groupName": "Kafka security group name",
              "groupId": "00000000-0000-0000-0000-111111111111"
            }
          },
          "computeProfile": {
            "roles": [
              {
                "name": "headnode",
                "targetInstanceCount": 2,
                "hardwareProfile": {
                  "vmSize": "Large"
                },
                "osProfile": {
                  "linuxOperatingSystemProfile": {
                    "username": "sshuser",
                    "password": "**********"
                  }
                }
              },
              {
                "name": "workernode",
                "targetInstanceCount": 3,
                "hardwareProfile": {
                  "vmSize": "Large"
                },
                "osProfile": {
                  "linuxOperatingSystemProfile": {
                    "username": "sshuser",
                    "password": "**********"
                  }
                },
                "dataDisksGroups": [
                  {
                    "disksPerNode": 8
                  }
                ]
              },
              {
                "name": "zookeepernode",
                "targetInstanceCount": 3,
                "hardwareProfile": {
                  "vmSize": "Small"
                },
                "osProfile": {
                  "linuxOperatingSystemProfile": {
                    "username": "sshuser",
                    "password": "**********"
                  }
                }
              },
              {
                "name": "kafkamanagementnode",
                "targetInstanceCount": 2,
                "hardwareProfile": {
                  "vmSize": "Standard_D4_v2"
                },
                "osProfile": {
                  "linuxOperatingSystemProfile": {
                    "username": "kafkauser",
                    "password": "**********"
                  }
                }
              }
            ]
          },
          "storageProfile": {
            "storageaccounts": [
              {
                "name": "mystorage.blob.core.windows.net",
                "isDefault": true,
                "container": "containername",
                "key": "storagekey"
              }
            ]
          }
        }
      }
    codeTab: |+
      # [HTTP](#tab/HTTP)
      ``` http
      PUT https://management.azure.com/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.HDInsight/clusters/cluster1?api-version=2021-06-01

      {
        "properties": {
          "clusterVersion": "4.0",
          "osType": "Linux",
          "tier": "Standard",
          "clusterDefinition": {
            "kind": "kafka",
            "componentVersion": {
              "Kafka": "2.1"
            },
            "configurations": {
              "gateway": {
                "restAuthCredential.isEnabled": true,
                "restAuthCredential.username": "admin",
                "restAuthCredential.password": "**********"
              }
            }
          },
          "kafkaRestProperties": {
            "clientGroupInfo": {
              "groupName": "Kafka security group name",
              "groupId": "00000000-0000-0000-0000-111111111111"
            }
          },
          "computeProfile": {
            "roles": [
              {
                "name": "headnode",
                "targetInstanceCount": 2,
                "hardwareProfile": {
                  "vmSize": "Large"
                },
                "osProfile": {
                  "linuxOperatingSystemProfile": {
                    "username": "sshuser",
                    "password": "**********"
                  }
                }
              },
              {
                "name": "workernode",
                "targetInstanceCount": 3,
                "hardwareProfile": {
                  "vmSize": "Large"
                },
                "osProfile": {
                  "linuxOperatingSystemProfile": {
                    "username": "sshuser",
                    "password": "**********"
                  }
                },
                "dataDisksGroups": [
                  {
                    "disksPerNode": 8
                  }
                ]
              },
              {
                "name": "zookeepernode",
                "targetInstanceCount": 3,
                "hardwareProfile": {
                  "vmSize": "Small"
                },
                "osProfile": {
                  "linuxOperatingSystemProfile": {
                    "username": "sshuser",
                    "password": "**********"
                  }
                }
              },
              {
                "name": "kafkamanagementnode",
                "targetInstanceCount": 2,
                "hardwareProfile": {
                  "vmSize": "Standard_D4_v2"
                },
                "osProfile": {
                  "linuxOperatingSystemProfile": {
                    "username": "kafkauser",
                    "password": "**********"
                  }
                }
              }
            ]
          },
          "storageProfile": {
            "storageaccounts": [
              {
                "name": "mystorage.blob.core.windows.net",
                "isDefault": true,
                "container": "containername",
                "key": "storagekey"
              }
            ]
          }
        }
      }

      ```

      # [Java](#tab/Java)
      ``` java
      import com.azure.core.management.serializer.SerializerFactory;
      import com.azure.core.util.serializer.SerializerEncoding;
      import com.azure.resourcemanager.hdinsight.models.ClientGroupInfo;
      import com.azure.resourcemanager.hdinsight.models.ClusterCreateProperties;
      import com.azure.resourcemanager.hdinsight.models.ClusterDefinition;
      import com.azure.resourcemanager.hdinsight.models.ComputeProfile;
      import com.azure.resourcemanager.hdinsight.models.DataDisksGroups;
      import com.azure.resourcemanager.hdinsight.models.HardwareProfile;
      import com.azure.resourcemanager.hdinsight.models.KafkaRestProperties;
      import com.azure.resourcemanager.hdinsight.models.LinuxOperatingSystemProfile;
      import com.azure.resourcemanager.hdinsight.models.OSType;
      import com.azure.resourcemanager.hdinsight.models.OsProfile;
      import com.azure.resourcemanager.hdinsight.models.Role;
      import com.azure.resourcemanager.hdinsight.models.StorageAccount;
      import com.azure.resourcemanager.hdinsight.models.StorageProfile;
      import com.azure.resourcemanager.hdinsight.models.Tier;
      import java.io.IOException;
      import java.util.Arrays;
      import java.util.HashMap;
      import java.util.Map;

      /** Samples for Clusters Create. */
      public final class Main {
          /*
           * x-ms-original-file: specification/hdinsight/resource-manager/Microsoft.HDInsight/stable/2021-06-01/examples/CreateKafkaClusterWithKafkaRestProxy.json
           */
          /**
           * Sample code: Create Kafka cluster with Kafka Rest Proxy.
           *
           * @param manager Entry point to HDInsightManager.
           */
          public static void createKafkaClusterWithKafkaRestProxy(
              com.azure.resourcemanager.hdinsight.HDInsightManager manager) throws IOException {
              manager
                  .clusters()
                  .define("cluster1")
                  .withExistingResourceGroup("rg1")
                  .withProperties(
                      new ClusterCreateProperties()
                          .withClusterVersion("4.0")
                          .withOsType(OSType.LINUX)
                          .withTier(Tier.STANDARD)
                          .withClusterDefinition(
                              new ClusterDefinition()
                                  .withKind("kafka")
                                  .withComponentVersion(mapOf("Kafka", "2.1"))
                                  .withConfigurations(
                                      SerializerFactory
                                          .createDefaultManagementSerializerAdapter()
                                          .deserialize(
                                              "{\"gateway\":{\"restAuthCredential.isEnabled\":true,\"restAuthCredential.password\":\"**********\",\"restAuthCredential.username\":\"admin\"}}",
                                              Object.class,
                                              SerializerEncoding.JSON)))
                          .withKafkaRestProperties(
                              new KafkaRestProperties()
                                  .withClientGroupInfo(
                                      new ClientGroupInfo()
                                          .withGroupName("Kafka security group name")
                                          .withGroupId("00000000-0000-0000-0000-111111111111")))
                          .withComputeProfile(
                              new ComputeProfile()
                                  .withRoles(
                                      Arrays
                                          .asList(
                                              new Role()
                                                  .withName("headnode")
                                                  .withTargetInstanceCount(2)
                                                  .withHardwareProfile(new HardwareProfile().withVmSize("Large"))
                                                  .withOsProfile(
                                                      new OsProfile()
                                                          .withLinuxOperatingSystemProfile(
                                                              new LinuxOperatingSystemProfile()
                                                                  .withUsername("sshuser")
                                                                  .withPassword("**********"))),
                                              new Role()
                                                  .withName("workernode")
                                                  .withTargetInstanceCount(3)
                                                  .withHardwareProfile(new HardwareProfile().withVmSize("Large"))
                                                  .withOsProfile(
                                                      new OsProfile()
                                                          .withLinuxOperatingSystemProfile(
                                                              new LinuxOperatingSystemProfile()
                                                                  .withUsername("sshuser")
                                                                  .withPassword("**********")))
                                                  .withDataDisksGroups(
                                                      Arrays.asList(new DataDisksGroups().withDisksPerNode(8))),
                                              new Role()
                                                  .withName("zookeepernode")
                                                  .withTargetInstanceCount(3)
                                                  .withHardwareProfile(new HardwareProfile().withVmSize("Small"))
                                                  .withOsProfile(
                                                      new OsProfile()
                                                          .withLinuxOperatingSystemProfile(
                                                              new LinuxOperatingSystemProfile()
                                                                  .withUsername("sshuser")
                                                                  .withPassword("**********"))),
                                              new Role()
                                                  .withName("kafkamanagementnode")
                                                  .withTargetInstanceCount(2)
                                                  .withHardwareProfile(new HardwareProfile().withVmSize("Standard_D4_v2"))
                                                  .withOsProfile(
                                                      new OsProfile()
                                                          .withLinuxOperatingSystemProfile(
                                                              new LinuxOperatingSystemProfile()
                                                                  .withUsername("kafkauser")
                                                                  .withPassword("**********"))))))
                          .withStorageProfile(
                              new StorageProfile()
                                  .withStorageaccounts(
                                      Arrays
                                          .asList(
                                              new StorageAccount()
                                                  .withName("mystorage.blob.core.windows.net")
                                                  .withIsDefault(true)
                                                  .withContainer("containername")
                                                  .withKey("storagekey")))))
                  .create();
          }

          @SuppressWarnings("unchecked")
          private static <T> Map<String, T> mapOf(Object... inputs) {
              Map<String, T> map = new HashMap<>();
              for (int i = 0; i < inputs.length; i += 2) {
                  String key = (String) inputs[i];
                  T value = (T) inputs[i + 1];
                  map.put(key, value);
              }
              return map;
          }
      }

      ```
      Read this [SDK documentation](https://github.com/Azure/azure-sdk-for-java/blob/azure-resourcemanager-hdinsight_1.0.0-beta.5/sdk/hdinsight/azure-resourcemanager-hdinsight/README.md) on how to add the SDK to your project and authenticate.
      # [JavaScript](#tab/JavaScript)
      ``` js
      const { HDInsightManagementClient } = require("@azure/arm-hdinsight");
      const { DefaultAzureCredential } = require("@azure/identity");

      /**
       * This sample demonstrates how to Creates a new HDInsight cluster with the specified parameters.
       *
       * @summary Creates a new HDInsight cluster with the specified parameters.
       * x-ms-original-file: specification/hdinsight/resource-manager/Microsoft.HDInsight/stable/2021-06-01/examples/CreateKafkaClusterWithKafkaRestProxy.json
       */
      async function createKafkaClusterWithKafkaRestProxy() {
        const subscriptionId = "subid";
        const resourceGroupName = "rg1";
        const clusterName = "cluster1";
        const parameters = {
          properties: {
            clusterDefinition: {
              componentVersion: { kafka: "2.1" },
              configurations: {
                gateway: {
                  "restAuthCredential.isEnabled": true,
                  "restAuthCredential.password": "**********",
                  "restAuthCredential.username": "admin",
                },
              },
              kind: "kafka",
            },
            clusterVersion: "4.0",
            computeProfile: {
              roles: [
                {
                  name: "headnode",
                  hardwareProfile: { vmSize: "Large" },
                  osProfile: {
                    linuxOperatingSystemProfile: {
                      password: "**********",
                      username: "sshuser",
                    },
                  },
                  targetInstanceCount: 2,
                },
                {
                  name: "workernode",
                  dataDisksGroups: [{ disksPerNode: 8 }],
                  hardwareProfile: { vmSize: "Large" },
                  osProfile: {
                    linuxOperatingSystemProfile: {
                      password: "**********",
                      username: "sshuser",
                    },
                  },
                  targetInstanceCount: 3,
                },
                {
                  name: "zookeepernode",
                  hardwareProfile: { vmSize: "Small" },
                  osProfile: {
                    linuxOperatingSystemProfile: {
                      password: "**********",
                      username: "sshuser",
                    },
                  },
                  targetInstanceCount: 3,
                },
                {
                  name: "kafkamanagementnode",
                  hardwareProfile: { vmSize: "Standard_D4_v2" },
                  osProfile: {
                    linuxOperatingSystemProfile: {
                      password: "**********",
                      username: "kafkauser",
                    },
                  },
                  targetInstanceCount: 2,
                },
              ],
            },
            kafkaRestProperties: {
              clientGroupInfo: {
                groupId: "00000000-0000-0000-0000-111111111111",
                groupName: "Kafka security group name",
              },
            },
            osType: "Linux",
            storageProfile: {
              storageaccounts: [
                {
                  name: "mystorage.blob.core.windows.net",
                  container: "containername",
                  isDefault: true,
                  key: "storagekey",
                },
              ],
            },
            tier: "Standard",
          },
        };
        const credential = new DefaultAzureCredential();
        const client = new HDInsightManagementClient(credential, subscriptionId);
        const result = await client.clusters.beginCreateAndWait(
          resourceGroupName,
          clusterName,
          parameters
        );
        console.log(result);
      }

      createKafkaClusterWithKafkaRestProxy().catch(console.error);

      ```
      Read this [SDK documentation](https://github.com/Azure/azure-sdk-for-js/blob/%40azure%2Farm-hdinsight_1.2.0/sdk/hdinsight/arm-hdinsight/README.md) on how to add the SDK to your project and authenticate.
  responses:
  - statusCode: "200"
    headers:
    - name: location
      value: https://management.azure.com/subscriptions/subid/providers/Microsoft.HDInsight/pathToOperationResult
    body: >-
      {
        "id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rg1/providers/Microsoft.HDInsight/clusters/cluster1",
        "name": "cluster1",
        "type": "Microsoft.HDInsight/clusters",
        "location": "South Central US",
        "etag": "e1266b83-9bda-4797-a906-1bf82c8eb09a",
        "tags": null,
        "properties": {
          "clusterVersion": "4.0.1000.1",
          "osType": "Linux",
          "clusterDefinition": {
            "blueprint": "https://blueprints.azurehdinsight.net/kafka-4.0.1000.1.1911212244.json",
            "kind": "KAFKA",
            "componentVersion": {
              "Kafka": "2.1"
            }
          },
          "computeProfile": {
            "roles": [
              {
                "name": "headnode",
                "targetInstanceCount": 2,
                "hardwareProfile": {
                  "vmSize": "standard_d3_v2"
                },
                "osProfile": {
                  "linuxOperatingSystemProfile": {
                    "username": "sshuser"
                  }
                }
              },
              {
                "name": "workernode",
                "targetInstanceCount": 4,
                "hardwareProfile": {
                  "vmSize": "standard_d3_v2"
                },
                "osProfile": {
                  "linuxOperatingSystemProfile": {
                    "username": "sshuser"
                  }
                },
                "dataDisksGroups": [
                  {
                    "disksPerNode": 2,
                    "storageAccountType": "Standard_LRS",
                    "diskSizeGB": 1023
                  }
                ]
              },
              {
                "name": "kafkamanagementnode",
                "targetInstanceCount": 2,
                "hardwareProfile": {
                  "vmSize": "standard_d4_v2"
                },
                "osProfile": {
                  "linuxOperatingSystemProfile": {
                    "username": "sshuser"
                  }
                }
              },
              {
                "name": "zookeepernode",
                "targetInstanceCount": 3,
                "hardwareProfile": {
                  "vmSize": "standard_a4_v2"
                },
                "osProfile": {
                  "linuxOperatingSystemProfile": {
                    "username": "sshuser"
                  }
                }
              }
            ]
          },
          "provisioningState": "Succeeded",
          "clusterState": "Running",
          "createdDate": "2019-11-25T03:43:23.663",
          "quotaInfo": {
            "coresUsed": 52
          },
          "connectivityEndpoints": [
            {
              "name": "SSH",
              "protocol": "TCP",
              "location": "cluster1-ssh.azurehdinsight.net",
              "port": 22
            },
            {
              "name": "HTTPS",
              "protocol": "TCP",
              "location": "cluster1.azurehdinsight.net",
              "port": 443
            },
            {
              "name": "KafkaRestProxyPublicEndpoint",
              "protocol": "TCP",
              "location": "cluster1-kafkarest.azurehdinsight.net",
              "port": 443
            }
          ],
          "tier": "Standard",
          "kafkaRestProperties": {
            "clientGroupInfo": {
              "groupName": "security group name",
              "groupId": "00000000-0000-0000-0000-000000000000"
            }
          }
        }
      }
- name: Create cluster with TLS 1.2
  request:
    uri: PUT https://management.azure.com/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.HDInsight/clusters/cluster1?api-version=2021-06-01
    body: >-
      {
        "properties": {
          "clusterVersion": "3.6",
          "osType": "Linux",
          "tier": "Standard",
          "clusterDefinition": {
            "kind": "Hadoop",
            "configurations": {
              "gateway": {
                "restAuthCredential.isEnabled": true,
                "restAuthCredential.username": "admin",
                "restAuthCredential.password": "**********"
              }
            }
          },
          "computeProfile": {
            "roles": [
              {
                "name": "headnode",
                "targetInstanceCount": 2,
                "hardwareProfile": {
                  "vmSize": "Large"
                },
                "osProfile": {
                  "linuxOperatingSystemProfile": {
                    "username": "sshuser",
                    "password": "**********"
                  }
                }
              },
              {
                "name": "workernode",
                "targetInstanceCount": 3,
                "hardwareProfile": {
                  "vmSize": "Large"
                },
                "osProfile": {
                  "linuxOperatingSystemProfile": {
                    "username": "sshuser",
                    "password": "**********"
                  }
                }
              },
              {
                "name": "zookeepernode",
                "targetInstanceCount": 3,
                "hardwareProfile": {
                  "vmSize": "Small"
                },
                "osProfile": {
                  "linuxOperatingSystemProfile": {
                    "username": "sshuser",
                    "password": "**********"
                  }
                }
              }
            ]
          },
          "storageProfile": {
            "storageaccounts": [
              {
                "name": "mystorage.blob.core.windows.net",
                "isDefault": true,
                "container": "default8525",
                "key": "storagekey"
              }
            ]
          },
          "minSupportedTlsVersion": "1.2"
        }
      }
    codeTab: |+
      # [HTTP](#tab/HTTP)
      ``` http
      PUT https://management.azure.com/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.HDInsight/clusters/cluster1?api-version=2021-06-01

      {
        "properties": {
          "clusterVersion": "3.6",
          "osType": "Linux",
          "tier": "Standard",
          "clusterDefinition": {
            "kind": "Hadoop",
            "configurations": {
              "gateway": {
                "restAuthCredential.isEnabled": true,
                "restAuthCredential.username": "admin",
                "restAuthCredential.password": "**********"
              }
            }
          },
          "computeProfile": {
            "roles": [
              {
                "name": "headnode",
                "targetInstanceCount": 2,
                "hardwareProfile": {
                  "vmSize": "Large"
                },
                "osProfile": {
                  "linuxOperatingSystemProfile": {
                    "username": "sshuser",
                    "password": "**********"
                  }
                }
              },
              {
                "name": "workernode",
                "targetInstanceCount": 3,
                "hardwareProfile": {
                  "vmSize": "Large"
                },
                "osProfile": {
                  "linuxOperatingSystemProfile": {
                    "username": "sshuser",
                    "password": "**********"
                  }
                }
              },
              {
                "name": "zookeepernode",
                "targetInstanceCount": 3,
                "hardwareProfile": {
                  "vmSize": "Small"
                },
                "osProfile": {
                  "linuxOperatingSystemProfile": {
                    "username": "sshuser",
                    "password": "**********"
                  }
                }
              }
            ]
          },
          "storageProfile": {
            "storageaccounts": [
              {
                "name": "mystorage.blob.core.windows.net",
                "isDefault": true,
                "container": "default8525",
                "key": "storagekey"
              }
            ]
          },
          "minSupportedTlsVersion": "1.2"
        }
      }

      ```

      # [Java](#tab/Java)
      ``` java
      import com.azure.core.management.serializer.SerializerFactory;
      import com.azure.core.util.serializer.SerializerEncoding;
      import com.azure.resourcemanager.hdinsight.models.ClusterCreateProperties;
      import com.azure.resourcemanager.hdinsight.models.ClusterDefinition;
      import com.azure.resourcemanager.hdinsight.models.ComputeProfile;
      import com.azure.resourcemanager.hdinsight.models.HardwareProfile;
      import com.azure.resourcemanager.hdinsight.models.LinuxOperatingSystemProfile;
      import com.azure.resourcemanager.hdinsight.models.OSType;
      import com.azure.resourcemanager.hdinsight.models.OsProfile;
      import com.azure.resourcemanager.hdinsight.models.Role;
      import com.azure.resourcemanager.hdinsight.models.StorageAccount;
      import com.azure.resourcemanager.hdinsight.models.StorageProfile;
      import com.azure.resourcemanager.hdinsight.models.Tier;
      import java.io.IOException;
      import java.util.Arrays;
      import java.util.HashMap;
      import java.util.Map;

      /** Samples for Clusters Create. */
      public final class Main {
          /*
           * x-ms-original-file: specification/hdinsight/resource-manager/Microsoft.HDInsight/stable/2021-06-01/examples/CreateHDInsightClusterWithTLS12.json
           */
          /**
           * Sample code: Create cluster with TLS 1.2.
           *
           * @param manager Entry point to HDInsightManager.
           */
          public static void createClusterWithTLS12(com.azure.resourcemanager.hdinsight.HDInsightManager manager)
              throws IOException {
              manager
                  .clusters()
                  .define("cluster1")
                  .withExistingResourceGroup("rg1")
                  .withProperties(
                      new ClusterCreateProperties()
                          .withClusterVersion("3.6")
                          .withOsType(OSType.LINUX)
                          .withTier(Tier.STANDARD)
                          .withClusterDefinition(
                              new ClusterDefinition()
                                  .withKind("Hadoop")
                                  .withConfigurations(
                                      SerializerFactory
                                          .createDefaultManagementSerializerAdapter()
                                          .deserialize(
                                              "{\"gateway\":{\"restAuthCredential.isEnabled\":true,\"restAuthCredential.password\":\"**********\",\"restAuthCredential.username\":\"admin\"}}",
                                              Object.class,
                                              SerializerEncoding.JSON)))
                          .withComputeProfile(
                              new ComputeProfile()
                                  .withRoles(
                                      Arrays
                                          .asList(
                                              new Role()
                                                  .withName("headnode")
                                                  .withTargetInstanceCount(2)
                                                  .withHardwareProfile(new HardwareProfile().withVmSize("Large"))
                                                  .withOsProfile(
                                                      new OsProfile()
                                                          .withLinuxOperatingSystemProfile(
                                                              new LinuxOperatingSystemProfile()
                                                                  .withUsername("sshuser")
                                                                  .withPassword("**********"))),
                                              new Role()
                                                  .withName("workernode")
                                                  .withTargetInstanceCount(3)
                                                  .withHardwareProfile(new HardwareProfile().withVmSize("Large"))
                                                  .withOsProfile(
                                                      new OsProfile()
                                                          .withLinuxOperatingSystemProfile(
                                                              new LinuxOperatingSystemProfile()
                                                                  .withUsername("sshuser")
                                                                  .withPassword("**********"))),
                                              new Role()
                                                  .withName("zookeepernode")
                                                  .withTargetInstanceCount(3)
                                                  .withHardwareProfile(new HardwareProfile().withVmSize("Small"))
                                                  .withOsProfile(
                                                      new OsProfile()
                                                          .withLinuxOperatingSystemProfile(
                                                              new LinuxOperatingSystemProfile()
                                                                  .withUsername("sshuser")
                                                                  .withPassword("**********"))))))
                          .withStorageProfile(
                              new StorageProfile()
                                  .withStorageaccounts(
                                      Arrays
                                          .asList(
                                              new StorageAccount()
                                                  .withName("mystorage.blob.core.windows.net")
                                                  .withIsDefault(true)
                                                  .withContainer("default8525")
                                                  .withKey("storagekey"))))
                          .withMinSupportedTlsVersion("1.2"))
                  .create();
          }

          @SuppressWarnings("unchecked")
          private static <T> Map<String, T> mapOf(Object... inputs) {
              Map<String, T> map = new HashMap<>();
              for (int i = 0; i < inputs.length; i += 2) {
                  String key = (String) inputs[i];
                  T value = (T) inputs[i + 1];
                  map.put(key, value);
              }
              return map;
          }
      }

      ```
      Read this [SDK documentation](https://github.com/Azure/azure-sdk-for-java/blob/azure-resourcemanager-hdinsight_1.0.0-beta.5/sdk/hdinsight/azure-resourcemanager-hdinsight/README.md) on how to add the SDK to your project and authenticate.
      # [JavaScript](#tab/JavaScript)
      ``` js
      const { HDInsightManagementClient } = require("@azure/arm-hdinsight");
      const { DefaultAzureCredential } = require("@azure/identity");

      /**
       * This sample demonstrates how to Creates a new HDInsight cluster with the specified parameters.
       *
       * @summary Creates a new HDInsight cluster with the specified parameters.
       * x-ms-original-file: specification/hdinsight/resource-manager/Microsoft.HDInsight/stable/2021-06-01/examples/CreateHDInsightClusterWithTLS12.json
       */
      async function createClusterWithTls12() {
        const subscriptionId = "subid";
        const resourceGroupName = "rg1";
        const clusterName = "cluster1";
        const parameters = {
          properties: {
            clusterDefinition: {
              configurations: {
                gateway: {
                  "restAuthCredential.isEnabled": true,
                  "restAuthCredential.password": "**********",
                  "restAuthCredential.username": "admin",
                },
              },
              kind: "Hadoop",
            },
            clusterVersion: "3.6",
            computeProfile: {
              roles: [
                {
                  name: "headnode",
                  hardwareProfile: { vmSize: "Large" },
                  osProfile: {
                    linuxOperatingSystemProfile: {
                      password: "**********",
                      username: "sshuser",
                    },
                  },
                  targetInstanceCount: 2,
                },
                {
                  name: "workernode",
                  hardwareProfile: { vmSize: "Large" },
                  osProfile: {
                    linuxOperatingSystemProfile: {
                      password: "**********",
                      username: "sshuser",
                    },
                  },
                  targetInstanceCount: 3,
                },
                {
                  name: "zookeepernode",
                  hardwareProfile: { vmSize: "Small" },
                  osProfile: {
                    linuxOperatingSystemProfile: {
                      password: "**********",
                      username: "sshuser",
                    },
                  },
                  targetInstanceCount: 3,
                },
              ],
            },
            minSupportedTlsVersion: "1.2",
            osType: "Linux",
            storageProfile: {
              storageaccounts: [
                {
                  name: "mystorage.blob.core.windows.net",
                  container: "default8525",
                  isDefault: true,
                  key: "storagekey",
                },
              ],
            },
            tier: "Standard",
          },
        };
        const credential = new DefaultAzureCredential();
        const client = new HDInsightManagementClient(credential, subscriptionId);
        const result = await client.clusters.beginCreateAndWait(
          resourceGroupName,
          clusterName,
          parameters
        );
        console.log(result);
      }

      createClusterWithTls12().catch(console.error);

      ```
      Read this [SDK documentation](https://github.com/Azure/azure-sdk-for-js/blob/%40azure%2Farm-hdinsight_1.2.0/sdk/hdinsight/arm-hdinsight/README.md) on how to add the SDK to your project and authenticate.
  responses:
  - statusCode: "200"
    headers:
    - name: location
      value: https://management.azure.com/subscriptions/subid/providers/Microsoft.HDInsight/pathToOperationResult
    body: >-
      {
        "id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rg1/providers/Microsoft.HDInsight/clusters/cluster1",
        "name": "cluster1",
        "type": "Microsoft.HDInsight/clusters",
        "location": "South Central US",
        "etag": "3b76ce3d-892c-4036-9d8b-8ade18ba7a4b",
        "tags": null,
        "properties": {
          "clusterVersion": "3.6.1000.67",
          "osType": "Linux",
          "clusterDefinition": {
            "blueprint": "https://blueprints.azurehdinsight.net/hadoop-3.6.1000.67.2001080246.json",
            "kind": "Hadoop",
            "componentVersion": {
              "Hadoop": "2.7"
            }
          },
          "computeProfile": {
            "roles": [
              {
                "name": "headnode",
                "targetInstanceCount": 2,
                "hardwareProfile": {
                  "vmSize": "standard_a4_v2"
                },
                "osProfile": {
                  "linuxOperatingSystemProfile": {
                    "username": "sshuser"
                  }
                }
              },
              {
                "name": "workernode",
                "targetInstanceCount": 3,
                "hardwareProfile": {
                  "vmSize": "standard_a4_v2"
                },
                "osProfile": {
                  "linuxOperatingSystemProfile": {
                    "username": "sshuser"
                  }
                }
              },
              {
                "name": "zookeepernode",
                "targetInstanceCount": 3,
                "hardwareProfile": {
                  "vmSize": "standard_a2_v2"
                },
                "osProfile": {
                  "linuxOperatingSystemProfile": {
                    "username": "sshuser"
                  }
                }
              }
            ]
          },
          "provisioningState": "Succeeded",
          "clusterState": "Running",
          "createdDate": "2020-01-10T08:36:39.153",
          "quotaInfo": {
            "coresUsed": 20
          },
          "connectivityEndpoints": [
            {
              "name": "SSH",
              "protocol": "TCP",
              "location": "cluster1-ssh.azurehdinsight.net",
              "port": 22
            },
            {
              "name": "HTTPS",
              "protocol": "TCP",
              "location": "cluster1.azurehdinsight.net",
              "port": 443
            }
          ],
          "tier": "Standard",
          "minSupportedTlsVersion": "1.2"
        }
      }
- name: Create cluster with encryption in transit
  request:
    uri: PUT https://management.azure.com/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.HDInsight/clusters/cluster1?api-version=2021-06-01
    body: >-
      {
        "properties": {
          "clusterVersion": "3.6",
          "osType": "Linux",
          "tier": "Standard",
          "clusterDefinition": {
            "kind": "Hadoop",
            "configurations": {
              "gateway": {
                "restAuthCredential.isEnabled": true,
                "restAuthCredential.username": "admin",
                "restAuthCredential.password": "**********"
              }
            }
          },
          "computeProfile": {
            "roles": [
              {
                "name": "headnode",
                "targetInstanceCount": 2,
                "hardwareProfile": {
                  "vmSize": "Large"
                },
                "osProfile": {
                  "linuxOperatingSystemProfile": {
                    "username": "sshuser",
                    "password": "**********"
                  }
                }
              },
              {
                "name": "workernode",
                "targetInstanceCount": 3,
                "hardwareProfile": {
                  "vmSize": "Large"
                },
                "osProfile": {
                  "linuxOperatingSystemProfile": {
                    "username": "sshuser",
                    "password": "**********"
                  }
                }
              },
              {
                "name": "zookeepernode",
                "targetInstanceCount": 3,
                "hardwareProfile": {
                  "vmSize": "Small"
                },
                "osProfile": {
                  "linuxOperatingSystemProfile": {
                    "username": "sshuser",
                    "password": "**********"
                  }
                }
              }
            ]
          },
          "storageProfile": {
            "storageaccounts": [
              {
                "name": "mystorage.blob.core.windows.net",
                "isDefault": true,
                "container": "default8525",
                "key": "storagekey"
              }
            ]
          },
          "encryptionInTransitProperties": {
            "isEncryptionInTransitEnabled": true
          }
        }
      }
    codeTab: |+
      # [HTTP](#tab/HTTP)
      ``` http
      PUT https://management.azure.com/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.HDInsight/clusters/cluster1?api-version=2021-06-01

      {
        "properties": {
          "clusterVersion": "3.6",
          "osType": "Linux",
          "tier": "Standard",
          "clusterDefinition": {
            "kind": "Hadoop",
            "configurations": {
              "gateway": {
                "restAuthCredential.isEnabled": true,
                "restAuthCredential.username": "admin",
                "restAuthCredential.password": "**********"
              }
            }
          },
          "computeProfile": {
            "roles": [
              {
                "name": "headnode",
                "targetInstanceCount": 2,
                "hardwareProfile": {
                  "vmSize": "Large"
                },
                "osProfile": {
                  "linuxOperatingSystemProfile": {
                    "username": "sshuser",
                    "password": "**********"
                  }
                }
              },
              {
                "name": "workernode",
                "targetInstanceCount": 3,
                "hardwareProfile": {
                  "vmSize": "Large"
                },
                "osProfile": {
                  "linuxOperatingSystemProfile": {
                    "username": "sshuser",
                    "password": "**********"
                  }
                }
              },
              {
                "name": "zookeepernode",
                "targetInstanceCount": 3,
                "hardwareProfile": {
                  "vmSize": "Small"
                },
                "osProfile": {
                  "linuxOperatingSystemProfile": {
                    "username": "sshuser",
                    "password": "**********"
                  }
                }
              }
            ]
          },
          "storageProfile": {
            "storageaccounts": [
              {
                "name": "mystorage.blob.core.windows.net",
                "isDefault": true,
                "container": "default8525",
                "key": "storagekey"
              }
            ]
          },
          "encryptionInTransitProperties": {
            "isEncryptionInTransitEnabled": true
          }
        }
      }

      ```

      # [Java](#tab/Java)
      ``` java
      import com.azure.core.management.serializer.SerializerFactory;
      import com.azure.core.util.serializer.SerializerEncoding;
      import com.azure.resourcemanager.hdinsight.models.ClusterCreateProperties;
      import com.azure.resourcemanager.hdinsight.models.ClusterDefinition;
      import com.azure.resourcemanager.hdinsight.models.ComputeProfile;
      import com.azure.resourcemanager.hdinsight.models.EncryptionInTransitProperties;
      import com.azure.resourcemanager.hdinsight.models.HardwareProfile;
      import com.azure.resourcemanager.hdinsight.models.LinuxOperatingSystemProfile;
      import com.azure.resourcemanager.hdinsight.models.OSType;
      import com.azure.resourcemanager.hdinsight.models.OsProfile;
      import com.azure.resourcemanager.hdinsight.models.Role;
      import com.azure.resourcemanager.hdinsight.models.StorageAccount;
      import com.azure.resourcemanager.hdinsight.models.StorageProfile;
      import com.azure.resourcemanager.hdinsight.models.Tier;
      import java.io.IOException;
      import java.util.Arrays;
      import java.util.HashMap;
      import java.util.Map;

      /** Samples for Clusters Create. */
      public final class Main {
          /*
           * x-ms-original-file: specification/hdinsight/resource-manager/Microsoft.HDInsight/stable/2021-06-01/examples/CreateHDInsightClusterWithEncryptionInTransit.json
           */
          /**
           * Sample code: Create cluster with encryption in transit.
           *
           * @param manager Entry point to HDInsightManager.
           */
          public static void createClusterWithEncryptionInTransit(
              com.azure.resourcemanager.hdinsight.HDInsightManager manager) throws IOException {
              manager
                  .clusters()
                  .define("cluster1")
                  .withExistingResourceGroup("rg1")
                  .withProperties(
                      new ClusterCreateProperties()
                          .withClusterVersion("3.6")
                          .withOsType(OSType.LINUX)
                          .withTier(Tier.STANDARD)
                          .withClusterDefinition(
                              new ClusterDefinition()
                                  .withKind("Hadoop")
                                  .withConfigurations(
                                      SerializerFactory
                                          .createDefaultManagementSerializerAdapter()
                                          .deserialize(
                                              "{\"gateway\":{\"restAuthCredential.isEnabled\":true,\"restAuthCredential.password\":\"**********\",\"restAuthCredential.username\":\"admin\"}}",
                                              Object.class,
                                              SerializerEncoding.JSON)))
                          .withComputeProfile(
                              new ComputeProfile()
                                  .withRoles(
                                      Arrays
                                          .asList(
                                              new Role()
                                                  .withName("headnode")
                                                  .withTargetInstanceCount(2)
                                                  .withHardwareProfile(new HardwareProfile().withVmSize("Large"))
                                                  .withOsProfile(
                                                      new OsProfile()
                                                          .withLinuxOperatingSystemProfile(
                                                              new LinuxOperatingSystemProfile()
                                                                  .withUsername("sshuser")
                                                                  .withPassword("**********"))),
                                              new Role()
                                                  .withName("workernode")
                                                  .withTargetInstanceCount(3)
                                                  .withHardwareProfile(new HardwareProfile().withVmSize("Large"))
                                                  .withOsProfile(
                                                      new OsProfile()
                                                          .withLinuxOperatingSystemProfile(
                                                              new LinuxOperatingSystemProfile()
                                                                  .withUsername("sshuser")
                                                                  .withPassword("**********"))),
                                              new Role()
                                                  .withName("zookeepernode")
                                                  .withTargetInstanceCount(3)
                                                  .withHardwareProfile(new HardwareProfile().withVmSize("Small"))
                                                  .withOsProfile(
                                                      new OsProfile()
                                                          .withLinuxOperatingSystemProfile(
                                                              new LinuxOperatingSystemProfile()
                                                                  .withUsername("sshuser")
                                                                  .withPassword("**********"))))))
                          .withStorageProfile(
                              new StorageProfile()
                                  .withStorageaccounts(
                                      Arrays
                                          .asList(
                                              new StorageAccount()
                                                  .withName("mystorage.blob.core.windows.net")
                                                  .withIsDefault(true)
                                                  .withContainer("default8525")
                                                  .withKey("storagekey"))))
                          .withEncryptionInTransitProperties(
                              new EncryptionInTransitProperties().withIsEncryptionInTransitEnabled(true)))
                  .create();
          }

          @SuppressWarnings("unchecked")
          private static <T> Map<String, T> mapOf(Object... inputs) {
              Map<String, T> map = new HashMap<>();
              for (int i = 0; i < inputs.length; i += 2) {
                  String key = (String) inputs[i];
                  T value = (T) inputs[i + 1];
                  map.put(key, value);
              }
              return map;
          }
      }

      ```
      Read this [SDK documentation](https://github.com/Azure/azure-sdk-for-java/blob/azure-resourcemanager-hdinsight_1.0.0-beta.5/sdk/hdinsight/azure-resourcemanager-hdinsight/README.md) on how to add the SDK to your project and authenticate.
      # [JavaScript](#tab/JavaScript)
      ``` js
      const { HDInsightManagementClient } = require("@azure/arm-hdinsight");
      const { DefaultAzureCredential } = require("@azure/identity");

      /**
       * This sample demonstrates how to Creates a new HDInsight cluster with the specified parameters.
       *
       * @summary Creates a new HDInsight cluster with the specified parameters.
       * x-ms-original-file: specification/hdinsight/resource-manager/Microsoft.HDInsight/stable/2021-06-01/examples/CreateHDInsightClusterWithEncryptionInTransit.json
       */
      async function createClusterWithEncryptionInTransit() {
        const subscriptionId = "subid";
        const resourceGroupName = "rg1";
        const clusterName = "cluster1";
        const parameters = {
          properties: {
            clusterDefinition: {
              configurations: {
                gateway: {
                  "restAuthCredential.isEnabled": true,
                  "restAuthCredential.password": "**********",
                  "restAuthCredential.username": "admin",
                },
              },
              kind: "Hadoop",
            },
            clusterVersion: "3.6",
            computeProfile: {
              roles: [
                {
                  name: "headnode",
                  hardwareProfile: { vmSize: "Large" },
                  osProfile: {
                    linuxOperatingSystemProfile: {
                      password: "**********",
                      username: "sshuser",
                    },
                  },
                  targetInstanceCount: 2,
                },
                {
                  name: "workernode",
                  hardwareProfile: { vmSize: "Large" },
                  osProfile: {
                    linuxOperatingSystemProfile: {
                      password: "**********",
                      username: "sshuser",
                    },
                  },
                  targetInstanceCount: 3,
                },
                {
                  name: "zookeepernode",
                  hardwareProfile: { vmSize: "Small" },
                  osProfile: {
                    linuxOperatingSystemProfile: {
                      password: "**********",
                      username: "sshuser",
                    },
                  },
                  targetInstanceCount: 3,
                },
              ],
            },
            encryptionInTransitProperties: { isEncryptionInTransitEnabled: true },
            osType: "Linux",
            storageProfile: {
              storageaccounts: [
                {
                  name: "mystorage.blob.core.windows.net",
                  container: "default8525",
                  isDefault: true,
                  key: "storagekey",
                },
              ],
            },
            tier: "Standard",
          },
        };
        const credential = new DefaultAzureCredential();
        const client = new HDInsightManagementClient(credential, subscriptionId);
        const result = await client.clusters.beginCreateAndWait(
          resourceGroupName,
          clusterName,
          parameters
        );
        console.log(result);
      }

      createClusterWithEncryptionInTransit().catch(console.error);

      ```
      Read this [SDK documentation](https://github.com/Azure/azure-sdk-for-js/blob/%40azure%2Farm-hdinsight_1.2.0/sdk/hdinsight/arm-hdinsight/README.md) on how to add the SDK to your project and authenticate.
  responses:
  - statusCode: "200"
    headers:
    - name: location
      value: https://management.azure.com/subscriptions/subid/providers/Microsoft.HDInsight/pathToOperationResult
    body: >-
      {
        "id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rg1/providers/Microsoft.HDInsight/clusters/cluster1",
        "name": "cluster1",
        "type": "Microsoft.HDInsight/clusters",
        "location": "South Central US",
        "etag": "3b76ce3d-892c-4036-9d8b-8ade18ba7a4b",
        "tags": null,
        "properties": {
          "clusterVersion": "3.6.1000.67",
          "osType": "Linux",
          "clusterDefinition": {
            "blueprint": "https://blueprints.azurehdinsight.net/hadoop-3.6.1000.67.2001080246.json",
            "kind": "Hadoop",
            "componentVersion": {
              "Hadoop": "2.7"
            }
          },
          "computeProfile": {
            "roles": [
              {
                "name": "headnode",
                "targetInstanceCount": 2,
                "hardwareProfile": {
                  "vmSize": "standard_a4_v2"
                },
                "osProfile": {
                  "linuxOperatingSystemProfile": {
                    "username": "sshuser"
                  }
                }
              },
              {
                "name": "workernode",
                "targetInstanceCount": 3,
                "hardwareProfile": {
                  "vmSize": "standard_a4_v2"
                },
                "osProfile": {
                  "linuxOperatingSystemProfile": {
                    "username": "sshuser"
                  }
                }
              },
              {
                "name": "zookeepernode",
                "targetInstanceCount": 3,
                "hardwareProfile": {
                  "vmSize": "standard_a2_v2"
                },
                "osProfile": {
                  "linuxOperatingSystemProfile": {
                    "username": "sshuser"
                  }
                }
              }
            ]
          },
          "provisioningState": "Succeeded",
          "clusterState": "Running",
          "createdDate": "2020-01-10T08:36:39.153",
          "quotaInfo": {
            "coresUsed": 20
          },
          "connectivityEndpoints": [
            {
              "name": "SSH",
              "protocol": "TCP",
              "location": "cluster1-ssh.azurehdinsight.net",
              "port": 22
            },
            {
              "name": "HTTPS",
              "protocol": "TCP",
              "location": "cluster1.azurehdinsight.net",
              "port": 443
            }
          ],
          "tier": "Standard",
          "encryptionInTransitProperties": {
            "isEncryptionInTransitEnabled": true
          }
        }
      }
- name: Create cluster with encryption at host
  request:
    uri: PUT https://management.azure.com/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.HDInsight/clusters/cluster1?api-version=2021-06-01
    body: >-
      {
        "properties": {
          "clusterVersion": "3.6",
          "osType": "Linux",
          "tier": "Standard",
          "clusterDefinition": {
            "kind": "Hadoop",
            "configurations": {
              "gateway": {
                "restAuthCredential.isEnabled": true,
                "restAuthCredential.username": "admin",
                "restAuthCredential.password": "**********"
              }
            }
          },
          "computeProfile": {
            "roles": [
              {
                "name": "headnode",
                "targetInstanceCount": 2,
                "hardwareProfile": {
                  "vmSize": "Standard_DS14_v2"
                },
                "osProfile": {
                  "linuxOperatingSystemProfile": {
                    "username": "sshuser",
                    "password": "**********"
                  }
                }
              },
              {
                "name": "workernode",
                "targetInstanceCount": 3,
                "hardwareProfile": {
                  "vmSize": "Standard_DS14_v2"
                },
                "osProfile": {
                  "linuxOperatingSystemProfile": {
                    "username": "sshuser",
                    "password": "**********"
                  }
                }
              },
              {
                "name": "zookeepernode",
                "targetInstanceCount": 3,
                "hardwareProfile": {
                  "vmSize": "Standard_DS14_v2"
                },
                "osProfile": {
                  "linuxOperatingSystemProfile": {
                    "username": "sshuser",
                    "password": "**********"
                  }
                }
              }
            ]
          },
          "storageProfile": {
            "storageaccounts": [
              {
                "name": "mystorage.blob.core.windows.net",
                "isDefault": true,
                "container": "default8525",
                "key": "storagekey"
              }
            ]
          },
          "diskEncryptionProperties": {
            "encryptionAtHost": true
          }
        }
      }
    codeTab: |+
      # [HTTP](#tab/HTTP)
      ``` http
      PUT https://management.azure.com/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.HDInsight/clusters/cluster1?api-version=2021-06-01

      {
        "properties": {
          "clusterVersion": "3.6",
          "osType": "Linux",
          "tier": "Standard",
          "clusterDefinition": {
            "kind": "Hadoop",
            "configurations": {
              "gateway": {
                "restAuthCredential.isEnabled": true,
                "restAuthCredential.username": "admin",
                "restAuthCredential.password": "**********"
              }
            }
          },
          "computeProfile": {
            "roles": [
              {
                "name": "headnode",
                "targetInstanceCount": 2,
                "hardwareProfile": {
                  "vmSize": "Standard_DS14_v2"
                },
                "osProfile": {
                  "linuxOperatingSystemProfile": {
                    "username": "sshuser",
                    "password": "**********"
                  }
                }
              },
              {
                "name": "workernode",
                "targetInstanceCount": 3,
                "hardwareProfile": {
                  "vmSize": "Standard_DS14_v2"
                },
                "osProfile": {
                  "linuxOperatingSystemProfile": {
                    "username": "sshuser",
                    "password": "**********"
                  }
                }
              },
              {
                "name": "zookeepernode",
                "targetInstanceCount": 3,
                "hardwareProfile": {
                  "vmSize": "Standard_DS14_v2"
                },
                "osProfile": {
                  "linuxOperatingSystemProfile": {
                    "username": "sshuser",
                    "password": "**********"
                  }
                }
              }
            ]
          },
          "storageProfile": {
            "storageaccounts": [
              {
                "name": "mystorage.blob.core.windows.net",
                "isDefault": true,
                "container": "default8525",
                "key": "storagekey"
              }
            ]
          },
          "diskEncryptionProperties": {
            "encryptionAtHost": true
          }
        }
      }

      ```

      # [Java](#tab/Java)
      ``` java
      import com.azure.core.management.serializer.SerializerFactory;
      import com.azure.core.util.serializer.SerializerEncoding;
      import com.azure.resourcemanager.hdinsight.models.ClusterCreateProperties;
      import com.azure.resourcemanager.hdinsight.models.ClusterDefinition;
      import com.azure.resourcemanager.hdinsight.models.ComputeProfile;
      import com.azure.resourcemanager.hdinsight.models.DiskEncryptionProperties;
      import com.azure.resourcemanager.hdinsight.models.HardwareProfile;
      import com.azure.resourcemanager.hdinsight.models.LinuxOperatingSystemProfile;
      import com.azure.resourcemanager.hdinsight.models.OSType;
      import com.azure.resourcemanager.hdinsight.models.OsProfile;
      import com.azure.resourcemanager.hdinsight.models.Role;
      import com.azure.resourcemanager.hdinsight.models.StorageAccount;
      import com.azure.resourcemanager.hdinsight.models.StorageProfile;
      import com.azure.resourcemanager.hdinsight.models.Tier;
      import java.io.IOException;
      import java.util.Arrays;
      import java.util.HashMap;
      import java.util.Map;

      /** Samples for Clusters Create. */
      public final class Main {
          /*
           * x-ms-original-file: specification/hdinsight/resource-manager/Microsoft.HDInsight/stable/2021-06-01/examples/CreateHDInsightClusterWithEncryptionAtHost.json
           */
          /**
           * Sample code: Create cluster with encryption at host.
           *
           * @param manager Entry point to HDInsightManager.
           */
          public static void createClusterWithEncryptionAtHost(com.azure.resourcemanager.hdinsight.HDInsightManager manager)
              throws IOException {
              manager
                  .clusters()
                  .define("cluster1")
                  .withExistingResourceGroup("rg1")
                  .withProperties(
                      new ClusterCreateProperties()
                          .withClusterVersion("3.6")
                          .withOsType(OSType.LINUX)
                          .withTier(Tier.STANDARD)
                          .withClusterDefinition(
                              new ClusterDefinition()
                                  .withKind("Hadoop")
                                  .withConfigurations(
                                      SerializerFactory
                                          .createDefaultManagementSerializerAdapter()
                                          .deserialize(
                                              "{\"gateway\":{\"restAuthCredential.isEnabled\":true,\"restAuthCredential.password\":\"**********\",\"restAuthCredential.username\":\"admin\"}}",
                                              Object.class,
                                              SerializerEncoding.JSON)))
                          .withComputeProfile(
                              new ComputeProfile()
                                  .withRoles(
                                      Arrays
                                          .asList(
                                              new Role()
                                                  .withName("headnode")
                                                  .withTargetInstanceCount(2)
                                                  .withHardwareProfile(new HardwareProfile().withVmSize("Standard_DS14_v2"))
                                                  .withOsProfile(
                                                      new OsProfile()
                                                          .withLinuxOperatingSystemProfile(
                                                              new LinuxOperatingSystemProfile()
                                                                  .withUsername("sshuser")
                                                                  .withPassword("**********"))),
                                              new Role()
                                                  .withName("workernode")
                                                  .withTargetInstanceCount(3)
                                                  .withHardwareProfile(new HardwareProfile().withVmSize("Standard_DS14_v2"))
                                                  .withOsProfile(
                                                      new OsProfile()
                                                          .withLinuxOperatingSystemProfile(
                                                              new LinuxOperatingSystemProfile()
                                                                  .withUsername("sshuser")
                                                                  .withPassword("**********"))),
                                              new Role()
                                                  .withName("zookeepernode")
                                                  .withTargetInstanceCount(3)
                                                  .withHardwareProfile(new HardwareProfile().withVmSize("Standard_DS14_v2"))
                                                  .withOsProfile(
                                                      new OsProfile()
                                                          .withLinuxOperatingSystemProfile(
                                                              new LinuxOperatingSystemProfile()
                                                                  .withUsername("sshuser")
                                                                  .withPassword("**********"))))))
                          .withStorageProfile(
                              new StorageProfile()
                                  .withStorageaccounts(
                                      Arrays
                                          .asList(
                                              new StorageAccount()
                                                  .withName("mystorage.blob.core.windows.net")
                                                  .withIsDefault(true)
                                                  .withContainer("default8525")
                                                  .withKey("storagekey"))))
                          .withDiskEncryptionProperties(new DiskEncryptionProperties().withEncryptionAtHost(true)))
                  .create();
          }

          @SuppressWarnings("unchecked")
          private static <T> Map<String, T> mapOf(Object... inputs) {
              Map<String, T> map = new HashMap<>();
              for (int i = 0; i < inputs.length; i += 2) {
                  String key = (String) inputs[i];
                  T value = (T) inputs[i + 1];
                  map.put(key, value);
              }
              return map;
          }
      }

      ```
      Read this [SDK documentation](https://github.com/Azure/azure-sdk-for-java/blob/azure-resourcemanager-hdinsight_1.0.0-beta.5/sdk/hdinsight/azure-resourcemanager-hdinsight/README.md) on how to add the SDK to your project and authenticate.
      # [JavaScript](#tab/JavaScript)
      ``` js
      const { HDInsightManagementClient } = require("@azure/arm-hdinsight");
      const { DefaultAzureCredential } = require("@azure/identity");

      /**
       * This sample demonstrates how to Creates a new HDInsight cluster with the specified parameters.
       *
       * @summary Creates a new HDInsight cluster with the specified parameters.
       * x-ms-original-file: specification/hdinsight/resource-manager/Microsoft.HDInsight/stable/2021-06-01/examples/CreateHDInsightClusterWithEncryptionAtHost.json
       */
      async function createClusterWithEncryptionAtHost() {
        const subscriptionId = "subid";
        const resourceGroupName = "rg1";
        const clusterName = "cluster1";
        const parameters = {
          properties: {
            clusterDefinition: {
              configurations: {
                gateway: {
                  "restAuthCredential.isEnabled": true,
                  "restAuthCredential.password": "**********",
                  "restAuthCredential.username": "admin",
                },
              },
              kind: "Hadoop",
            },
            clusterVersion: "3.6",
            computeProfile: {
              roles: [
                {
                  name: "headnode",
                  hardwareProfile: { vmSize: "Standard_DS14_v2" },
                  osProfile: {
                    linuxOperatingSystemProfile: {
                      password: "**********",
                      username: "sshuser",
                    },
                  },
                  targetInstanceCount: 2,
                },
                {
                  name: "workernode",
                  hardwareProfile: { vmSize: "Standard_DS14_v2" },
                  osProfile: {
                    linuxOperatingSystemProfile: {
                      password: "**********",
                      username: "sshuser",
                    },
                  },
                  targetInstanceCount: 3,
                },
                {
                  name: "zookeepernode",
                  hardwareProfile: { vmSize: "Standard_DS14_v2" },
                  osProfile: {
                    linuxOperatingSystemProfile: {
                      password: "**********",
                      username: "sshuser",
                    },
                  },
                  targetInstanceCount: 3,
                },
              ],
            },
            diskEncryptionProperties: { encryptionAtHost: true },
            osType: "Linux",
            storageProfile: {
              storageaccounts: [
                {
                  name: "mystorage.blob.core.windows.net",
                  container: "default8525",
                  isDefault: true,
                  key: "storagekey",
                },
              ],
            },
            tier: "Standard",
          },
        };
        const credential = new DefaultAzureCredential();
        const client = new HDInsightManagementClient(credential, subscriptionId);
        const result = await client.clusters.beginCreateAndWait(
          resourceGroupName,
          clusterName,
          parameters
        );
        console.log(result);
      }

      createClusterWithEncryptionAtHost().catch(console.error);

      ```
      Read this [SDK documentation](https://github.com/Azure/azure-sdk-for-js/blob/%40azure%2Farm-hdinsight_1.2.0/sdk/hdinsight/arm-hdinsight/README.md) on how to add the SDK to your project and authenticate.
  responses:
  - statusCode: "200"
    headers:
    - name: location
      value: https://management.azure.com/subscriptions/subid/providers/Microsoft.HDInsight/pathToOperationResult
    body: >-
      {
        "id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rg1/providers/Microsoft.HDInsight/clusters/cluster1",
        "name": "cluster1",
        "type": "Microsoft.HDInsight/clusters",
        "location": "South Central US",
        "etag": "3b76ce3d-892c-4036-9d8b-8ade18ba7a4b",
        "tags": null,
        "properties": {
          "clusterVersion": "3.6.1000.67",
          "osType": "Linux",
          "clusterDefinition": {
            "blueprint": "https://blueprints.azurehdinsight.net/hadoop-3.6.1000.67.2001080246.json",
            "kind": "Hadoop",
            "componentVersion": {
              "Hadoop": "2.7"
            }
          },
          "computeProfile": {
            "roles": [
              {
                "name": "headnode",
                "targetInstanceCount": 2,
                "hardwareProfile": {
                  "vmSize": "standard_ds14_v2"
                },
                "osProfile": {
                  "linuxOperatingSystemProfile": {
                    "username": "sshuser"
                  }
                }
              },
              {
                "name": "workernode",
                "targetInstanceCount": 3,
                "hardwareProfile": {
                  "vmSize": "standard_ds14_v2"
                },
                "osProfile": {
                  "linuxOperatingSystemProfile": {
                    "username": "sshuser"
                  }
                }
              },
              {
                "name": "zookeepernode",
                "targetInstanceCount": 3,
                "hardwareProfile": {
                  "vmSize": "standard_ds14_v2"
                },
                "osProfile": {
                  "linuxOperatingSystemProfile": {
                    "username": "sshuser"
                  }
                }
              }
            ]
          },
          "provisioningState": "Succeeded",
          "clusterState": "Running",
          "createdDate": "2020-01-10T08:36:39.153",
          "quotaInfo": {
            "coresUsed": 20
          },
          "connectivityEndpoints": [
            {
              "name": "SSH",
              "protocol": "TCP",
              "location": "cluster1-ssh.azurehdinsight.net",
              "port": 22
            },
            {
              "name": "HTTPS",
              "protocol": "TCP",
              "location": "cluster1.azurehdinsight.net",
              "port": 443
            }
          ],
          "tier": "Standard",
          "diskEncryptionProperties": {
            "vaultUri": null,
            "keyName": null,
            "keyVersion": null,
            "encryptionAlgorithm": null,
            "msiResourceId": null,
            "encryptionAtHost": true
          }
        }
      }
- name: Create cluster with network properties
  request:
    uri: PUT https://management.azure.com/subscriptions/subId/resourceGroups/rg1/providers/Microsoft.HDInsight/clusters/cluster1?api-version=2021-06-01
    body: >-
      {
        "properties": {
          "clusterVersion": "3.6",
          "osType": "Linux",
          "clusterDefinition": {
            "kind": "hadoop",
            "configurations": {
              "gateway": {
                "restAuthCredential.isEnabled": true,
                "restAuthCredential.username": "admin",
                "restAuthCredential.password": "**********"
              }
            }
          },
          "storageProfile": {
            "storageaccounts": [
              {
                "name": "mystorage",
                "isDefault": true,
                "container": "containername",
                "key": "storage account key"
              }
            ]
          },
          "computeProfile": {
            "roles": [
              {
                "name": "headnode",
                "targetInstanceCount": 2,
                "hardwareProfile": {
                  "vmSize": "standard_d3"
                },
                "osProfile": {
                  "linuxOperatingSystemProfile": {
                    "username": "sshuser",
                    "password": "**********",
                    "sshProfile": {
                      "publicKeys": [
                        {
                          "certificateData": "**********"
                        }
                      ]
                    }
                  }
                },
                "virtualNetworkProfile": {
                  "id": "/subscriptions/subId/resourceGroups/rg/providers/Microsoft.Network/virtualNetworks/vnetname",
                  "subnet": "/subscriptions/subId/resourceGroups/rg/providers/Microsoft.Network/virtualNetworks/vnetname/subnets/vnetsubnet"
                }
              },
              {
                "name": "workernode",
                "targetInstanceCount": 2,
                "hardwareProfile": {
                  "vmSize": "standard_d3"
                },
                "osProfile": {
                  "linuxOperatingSystemProfile": {
                    "username": "sshuser",
                    "password": "**********",
                    "sshProfile": {
                      "publicKeys": [
                        {
                          "certificateData": "**********"
                        }
                      ]
                    }
                  }
                },
                "virtualNetworkProfile": {
                  "id": "/subscriptions/subId/resourceGroups/rg/providers/Microsoft.Network/virtualNetworks/vnetname",
                  "subnet": "/subscriptions/subId/resourceGroups/rg/providers/Microsoft.Network/virtualNetworks/vnetname/subnets/vnetsubnet"
                }
              }
            ]
          },
          "networkProperties": {
            "resourceProviderConnection": "Outbound",
            "privateLink": "Enabled"
          }
        }
      }
    codeTab: |+
      # [HTTP](#tab/HTTP)
      ``` http
      PUT https://management.azure.com/subscriptions/subId/resourceGroups/rg1/providers/Microsoft.HDInsight/clusters/cluster1?api-version=2021-06-01

      {
        "properties": {
          "clusterVersion": "3.6",
          "osType": "Linux",
          "clusterDefinition": {
            "kind": "hadoop",
            "configurations": {
              "gateway": {
                "restAuthCredential.isEnabled": true,
                "restAuthCredential.username": "admin",
                "restAuthCredential.password": "**********"
              }
            }
          },
          "storageProfile": {
            "storageaccounts": [
              {
                "name": "mystorage",
                "isDefault": true,
                "container": "containername",
                "key": "storage account key"
              }
            ]
          },
          "computeProfile": {
            "roles": [
              {
                "name": "headnode",
                "targetInstanceCount": 2,
                "hardwareProfile": {
                  "vmSize": "standard_d3"
                },
                "osProfile": {
                  "linuxOperatingSystemProfile": {
                    "username": "sshuser",
                    "password": "**********",
                    "sshProfile": {
                      "publicKeys": [
                        {
                          "certificateData": "**********"
                        }
                      ]
                    }
                  }
                },
                "virtualNetworkProfile": {
                  "id": "/subscriptions/subId/resourceGroups/rg/providers/Microsoft.Network/virtualNetworks/vnetname",
                  "subnet": "/subscriptions/subId/resourceGroups/rg/providers/Microsoft.Network/virtualNetworks/vnetname/subnets/vnetsubnet"
                }
              },
              {
                "name": "workernode",
                "targetInstanceCount": 2,
                "hardwareProfile": {
                  "vmSize": "standard_d3"
                },
                "osProfile": {
                  "linuxOperatingSystemProfile": {
                    "username": "sshuser",
                    "password": "**********",
                    "sshProfile": {
                      "publicKeys": [
                        {
                          "certificateData": "**********"
                        }
                      ]
                    }
                  }
                },
                "virtualNetworkProfile": {
                  "id": "/subscriptions/subId/resourceGroups/rg/providers/Microsoft.Network/virtualNetworks/vnetname",
                  "subnet": "/subscriptions/subId/resourceGroups/rg/providers/Microsoft.Network/virtualNetworks/vnetname/subnets/vnetsubnet"
                }
              }
            ]
          },
          "networkProperties": {
            "resourceProviderConnection": "Outbound",
            "privateLink": "Enabled"
          }
        }
      }

      ```

      # [Java](#tab/Java)
      ``` java
      import com.azure.core.management.serializer.SerializerFactory;
      import com.azure.core.util.serializer.SerializerEncoding;
      import com.azure.resourcemanager.hdinsight.models.ClusterCreateProperties;
      import com.azure.resourcemanager.hdinsight.models.ClusterDefinition;
      import com.azure.resourcemanager.hdinsight.models.ComputeProfile;
      import com.azure.resourcemanager.hdinsight.models.HardwareProfile;
      import com.azure.resourcemanager.hdinsight.models.LinuxOperatingSystemProfile;
      import com.azure.resourcemanager.hdinsight.models.NetworkProperties;
      import com.azure.resourcemanager.hdinsight.models.OSType;
      import com.azure.resourcemanager.hdinsight.models.OsProfile;
      import com.azure.resourcemanager.hdinsight.models.PrivateLink;
      import com.azure.resourcemanager.hdinsight.models.ResourceProviderConnection;
      import com.azure.resourcemanager.hdinsight.models.Role;
      import com.azure.resourcemanager.hdinsight.models.SshProfile;
      import com.azure.resourcemanager.hdinsight.models.SshPublicKey;
      import com.azure.resourcemanager.hdinsight.models.StorageAccount;
      import com.azure.resourcemanager.hdinsight.models.StorageProfile;
      import com.azure.resourcemanager.hdinsight.models.VirtualNetworkProfile;
      import java.io.IOException;
      import java.util.Arrays;
      import java.util.HashMap;
      import java.util.Map;

      /** Samples for Clusters Create. */
      public final class Main {
          /*
           * x-ms-original-file: specification/hdinsight/resource-manager/Microsoft.HDInsight/stable/2021-06-01/examples/CreateHDInsightClusterWithCustomNetworkProperties.json
           */
          /**
           * Sample code: Create cluster with network properties.
           *
           * @param manager Entry point to HDInsightManager.
           */
          public static void createClusterWithNetworkProperties(com.azure.resourcemanager.hdinsight.HDInsightManager manager)
              throws IOException {
              manager
                  .clusters()
                  .define("cluster1")
                  .withExistingResourceGroup("rg1")
                  .withProperties(
                      new ClusterCreateProperties()
                          .withClusterVersion("3.6")
                          .withOsType(OSType.LINUX)
                          .withClusterDefinition(
                              new ClusterDefinition()
                                  .withKind("hadoop")
                                  .withConfigurations(
                                      SerializerFactory
                                          .createDefaultManagementSerializerAdapter()
                                          .deserialize(
                                              "{\"gateway\":{\"restAuthCredential.isEnabled\":true,\"restAuthCredential.password\":\"**********\",\"restAuthCredential.username\":\"admin\"}}",
                                              Object.class,
                                              SerializerEncoding.JSON)))
                          .withComputeProfile(
                              new ComputeProfile()
                                  .withRoles(
                                      Arrays
                                          .asList(
                                              new Role()
                                                  .withName("headnode")
                                                  .withTargetInstanceCount(2)
                                                  .withHardwareProfile(new HardwareProfile().withVmSize("standard_d3"))
                                                  .withOsProfile(
                                                      new OsProfile()
                                                          .withLinuxOperatingSystemProfile(
                                                              new LinuxOperatingSystemProfile()
                                                                  .withUsername("sshuser")
                                                                  .withPassword("**********")
                                                                  .withSshProfile(
                                                                      new SshProfile()
                                                                          .withPublicKeys(
                                                                              Arrays
                                                                                  .asList(
                                                                                      new SshPublicKey()
                                                                                          .withCertificateData(
                                                                                              "**********"))))))
                                                  .withVirtualNetworkProfile(
                                                      new VirtualNetworkProfile()
                                                          .withId(
                                                              "/subscriptions/subId/resourceGroups/rg/providers/Microsoft.Network/virtualNetworks/vnetname")
                                                          .withSubnet(
                                                              "/subscriptions/subId/resourceGroups/rg/providers/Microsoft.Network/virtualNetworks/vnetname/subnets/vnetsubnet")),
                                              new Role()
                                                  .withName("workernode")
                                                  .withTargetInstanceCount(2)
                                                  .withHardwareProfile(new HardwareProfile().withVmSize("standard_d3"))
                                                  .withOsProfile(
                                                      new OsProfile()
                                                          .withLinuxOperatingSystemProfile(
                                                              new LinuxOperatingSystemProfile()
                                                                  .withUsername("sshuser")
                                                                  .withPassword("**********")
                                                                  .withSshProfile(
                                                                      new SshProfile()
                                                                          .withPublicKeys(
                                                                              Arrays
                                                                                  .asList(
                                                                                      new SshPublicKey()
                                                                                          .withCertificateData(
                                                                                              "**********"))))))
                                                  .withVirtualNetworkProfile(
                                                      new VirtualNetworkProfile()
                                                          .withId(
                                                              "/subscriptions/subId/resourceGroups/rg/providers/Microsoft.Network/virtualNetworks/vnetname")
                                                          .withSubnet(
                                                              "/subscriptions/subId/resourceGroups/rg/providers/Microsoft.Network/virtualNetworks/vnetname/subnets/vnetsubnet")))))
                          .withStorageProfile(
                              new StorageProfile()
                                  .withStorageaccounts(
                                      Arrays
                                          .asList(
                                              new StorageAccount()
                                                  .withName("mystorage")
                                                  .withIsDefault(true)
                                                  .withContainer("containername")
                                                  .withKey("storage account key"))))
                          .withNetworkProperties(
                              new NetworkProperties()
                                  .withResourceProviderConnection(ResourceProviderConnection.OUTBOUND)
                                  .withPrivateLink(PrivateLink.ENABLED)))
                  .create();
          }

          @SuppressWarnings("unchecked")
          private static <T> Map<String, T> mapOf(Object... inputs) {
              Map<String, T> map = new HashMap<>();
              for (int i = 0; i < inputs.length; i += 2) {
                  String key = (String) inputs[i];
                  T value = (T) inputs[i + 1];
                  map.put(key, value);
              }
              return map;
          }
      }

      ```
      Read this [SDK documentation](https://github.com/Azure/azure-sdk-for-java/blob/azure-resourcemanager-hdinsight_1.0.0-beta.5/sdk/hdinsight/azure-resourcemanager-hdinsight/README.md) on how to add the SDK to your project and authenticate.
      # [JavaScript](#tab/JavaScript)
      ``` js
      const { HDInsightManagementClient } = require("@azure/arm-hdinsight");
      const { DefaultAzureCredential } = require("@azure/identity");

      /**
       * This sample demonstrates how to Creates a new HDInsight cluster with the specified parameters.
       *
       * @summary Creates a new HDInsight cluster with the specified parameters.
       * x-ms-original-file: specification/hdinsight/resource-manager/Microsoft.HDInsight/stable/2021-06-01/examples/CreateHDInsightClusterWithCustomNetworkProperties.json
       */
      async function createClusterWithNetworkProperties() {
        const subscriptionId = "subId";
        const resourceGroupName = "rg1";
        const clusterName = "cluster1";
        const parameters = {
          properties: {
            clusterDefinition: {
              configurations: {
                gateway: {
                  "restAuthCredential.isEnabled": true,
                  "restAuthCredential.password": "**********",
                  "restAuthCredential.username": "admin",
                },
              },
              kind: "hadoop",
            },
            clusterVersion: "3.6",
            computeProfile: {
              roles: [
                {
                  name: "headnode",
                  hardwareProfile: { vmSize: "standard_d3" },
                  osProfile: {
                    linuxOperatingSystemProfile: {
                      password: "**********",
                      sshProfile: { publicKeys: [{ certificateData: "**********" }] },
                      username: "sshuser",
                    },
                  },
                  targetInstanceCount: 2,
                  virtualNetworkProfile: {
                    id: "/subscriptions/subId/resourceGroups/rg/providers/Microsoft.Network/virtualNetworks/vnetname",
                    subnet:
                      "/subscriptions/subId/resourceGroups/rg/providers/Microsoft.Network/virtualNetworks/vnetname/subnets/vnetsubnet",
                  },
                },
                {
                  name: "workernode",
                  hardwareProfile: { vmSize: "standard_d3" },
                  osProfile: {
                    linuxOperatingSystemProfile: {
                      password: "**********",
                      sshProfile: { publicKeys: [{ certificateData: "**********" }] },
                      username: "sshuser",
                    },
                  },
                  targetInstanceCount: 2,
                  virtualNetworkProfile: {
                    id: "/subscriptions/subId/resourceGroups/rg/providers/Microsoft.Network/virtualNetworks/vnetname",
                    subnet:
                      "/subscriptions/subId/resourceGroups/rg/providers/Microsoft.Network/virtualNetworks/vnetname/subnets/vnetsubnet",
                  },
                },
              ],
            },
            networkProperties: {
              privateLink: "Enabled",
              resourceProviderConnection: "Outbound",
            },
            osType: "Linux",
            storageProfile: {
              storageaccounts: [
                {
                  name: "mystorage",
                  container: "containername",
                  isDefault: true,
                  key: "storage account key",
                },
              ],
            },
          },
        };
        const credential = new DefaultAzureCredential();
        const client = new HDInsightManagementClient(credential, subscriptionId);
        const result = await client.clusters.beginCreateAndWait(
          resourceGroupName,
          clusterName,
          parameters
        );
        console.log(result);
      }

      createClusterWithNetworkProperties().catch(console.error);

      ```
      Read this [SDK documentation](https://github.com/Azure/azure-sdk-for-js/blob/%40azure%2Farm-hdinsight_1.2.0/sdk/hdinsight/arm-hdinsight/README.md) on how to add the SDK to your project and authenticate.
  responses:
  - statusCode: "200"
    headers:
    - name: location
      value: https://management.azure.com/subscriptions/subid/providers/Microsoft.HDInsight/pathToOperationResult
    body: >-
      {
        "id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rg1/providers/Microsoft.HDInsight/clusters/cluster1",
        "name": "cluster1",
        "type": "Microsoft.HDInsight/clusters",
        "location": "South Central US",
        "etag": "fdf2a6e8-ce83-42cc-8c2d-0ceb11a370ff",
        "tags": null,
        "properties": {
          "clusterVersion": "3.6.1000.67",
          "osType": "Linux",
          "clusterId": "8186508b6234470e9d16c9e8e13bd821",
          "clusterDefinition": {
            "blueprint": "https://blueprints.azurehdinsight.net/hadoop-3.6.1000.67.2005040905.json",
            "kind": "hadoop"
          },
          "computeProfile": {
            "roles": [
              {
                "name": "headnode",
                "targetInstanceCount": 2,
                "hardwareProfile": {
                  "vmSize": "standard_d3"
                },
                "osProfile": {
                  "linuxOperatingSystemProfile": {
                    "username": "sshuser"
                  }
                },
                "virtualNetworkProfile": {
                  "id": "/subscriptions/subId/resourceGroups/rg/providers/Microsoft.Network/virtualNetworks/vnetname",
                  "subnet": "/subscriptions/subId/resourceGroups/rg/providers/Microsoft.Network/virtualNetworks/vnetname/subnets/vnetsubnet"
                }
              },
              {
                "name": "workernode",
                "targetInstanceCount": 2,
                "hardwareProfile": {
                  "vmSize": "standard_d3"
                },
                "osProfile": {
                  "linuxOperatingSystemProfile": {
                    "username": "sshuser"
                  }
                },
                "virtualNetworkProfile": {
                  "id": "/subscriptions/subId/resourceGroups/rg/providers/Microsoft.Network/virtualNetworks/vnetname",
                  "subnet": "/subscriptions/subId/resourceGroups/rg/providers/Microsoft.Network/virtualNetworks/vnetname/subnets/vnetsubnet"
                }
              }
            ]
          },
          "networkProperties": {
            "resourceProviderConnection": "Outbound",
            "privateLink": "Enabled"
          },
          "provisioningState": "Succeeded",
          "clusterState": "Running",
          "createdDate": "2020-06-09T12:25:43.48",
          "quotaInfo": {
            "coresUsed": 16
          },
          "tier": "Standard"
        }
      }
- name: Create cluster with compute isolation properties
  request:
    uri: PUT https://management.azure.com/subscriptions/subId/resourceGroups/rg1/providers/Microsoft.HDInsight/clusters/cluster1?api-version=2021-06-01
    body: >-
      {
        "properties": {
          "clusterVersion": "3.6",
          "osType": "Linux",
          "clusterDefinition": {
            "kind": "hadoop",
            "configurations": {
              "gateway": {
                "restAuthCredential.isEnabled": true,
                "restAuthCredential.username": "admin",
                "restAuthCredential.password": "**********"
              }
            }
          },
          "storageProfile": {
            "storageaccounts": [
              {
                "name": "mystorage",
                "isDefault": true,
                "container": "containername",
                "key": "storage account key"
              }
            ]
          },
          "computeProfile": {
            "roles": [
              {
                "name": "headnode",
                "targetInstanceCount": 2,
                "hardwareProfile": {
                  "vmSize": "standard_d3"
                },
                "osProfile": {
                  "linuxOperatingSystemProfile": {
                    "username": "sshuser",
                    "password": "**********",
                    "sshProfile": {
                      "publicKeys": [
                        {
                          "certificateData": "**********"
                        }
                      ]
                    }
                  }
                }
              },
              {
                "name": "workernode",
                "targetInstanceCount": 2,
                "hardwareProfile": {
                  "vmSize": "standard_d3"
                },
                "osProfile": {
                  "linuxOperatingSystemProfile": {
                    "username": "sshuser",
                    "password": "**********",
                    "sshProfile": {
                      "publicKeys": [
                        {
                          "certificateData": "**********"
                        }
                      ]
                    }
                  }
                }
              }
            ]
          },
          "computeIsolationProperties": {
            "enableComputeIsolation": true,
            "hostSku": null
          }
        }
      }
    codeTab: |+
      # [HTTP](#tab/HTTP)
      ``` http
      PUT https://management.azure.com/subscriptions/subId/resourceGroups/rg1/providers/Microsoft.HDInsight/clusters/cluster1?api-version=2021-06-01

      {
        "properties": {
          "clusterVersion": "3.6",
          "osType": "Linux",
          "clusterDefinition": {
            "kind": "hadoop",
            "configurations": {
              "gateway": {
                "restAuthCredential.isEnabled": true,
                "restAuthCredential.username": "admin",
                "restAuthCredential.password": "**********"
              }
            }
          },
          "storageProfile": {
            "storageaccounts": [
              {
                "name": "mystorage",
                "isDefault": true,
                "container": "containername",
                "key": "storage account key"
              }
            ]
          },
          "computeProfile": {
            "roles": [
              {
                "name": "headnode",
                "targetInstanceCount": 2,
                "hardwareProfile": {
                  "vmSize": "standard_d3"
                },
                "osProfile": {
                  "linuxOperatingSystemProfile": {
                    "username": "sshuser",
                    "password": "**********",
                    "sshProfile": {
                      "publicKeys": [
                        {
                          "certificateData": "**********"
                        }
                      ]
                    }
                  }
                }
              },
              {
                "name": "workernode",
                "targetInstanceCount": 2,
                "hardwareProfile": {
                  "vmSize": "standard_d3"
                },
                "osProfile": {
                  "linuxOperatingSystemProfile": {
                    "username": "sshuser",
                    "password": "**********",
                    "sshProfile": {
                      "publicKeys": [
                        {
                          "certificateData": "**********"
                        }
                      ]
                    }
                  }
                }
              }
            ]
          },
          "computeIsolationProperties": {
            "enableComputeIsolation": true,
            "hostSku": null
          }
        }
      }

      ```

      # [Java](#tab/Java)
      ``` java
      import com.azure.core.management.serializer.SerializerFactory;
      import com.azure.core.util.serializer.SerializerEncoding;
      import com.azure.resourcemanager.hdinsight.models.ClusterCreateProperties;
      import com.azure.resourcemanager.hdinsight.models.ClusterDefinition;
      import com.azure.resourcemanager.hdinsight.models.ComputeIsolationProperties;
      import com.azure.resourcemanager.hdinsight.models.ComputeProfile;
      import com.azure.resourcemanager.hdinsight.models.HardwareProfile;
      import com.azure.resourcemanager.hdinsight.models.LinuxOperatingSystemProfile;
      import com.azure.resourcemanager.hdinsight.models.OSType;
      import com.azure.resourcemanager.hdinsight.models.OsProfile;
      import com.azure.resourcemanager.hdinsight.models.Role;
      import com.azure.resourcemanager.hdinsight.models.SshProfile;
      import com.azure.resourcemanager.hdinsight.models.SshPublicKey;
      import com.azure.resourcemanager.hdinsight.models.StorageAccount;
      import com.azure.resourcemanager.hdinsight.models.StorageProfile;
      import java.io.IOException;
      import java.util.Arrays;
      import java.util.HashMap;
      import java.util.Map;

      /** Samples for Clusters Create. */
      public final class Main {
          /*
           * x-ms-original-file: specification/hdinsight/resource-manager/Microsoft.HDInsight/stable/2021-06-01/examples/CreateHDInsightClusterWithComputeIsolationProperties.json
           */
          /**
           * Sample code: Create cluster with compute isolation properties.
           *
           * @param manager Entry point to HDInsightManager.
           */
          public static void createClusterWithComputeIsolationProperties(
              com.azure.resourcemanager.hdinsight.HDInsightManager manager) throws IOException {
              manager
                  .clusters()
                  .define("cluster1")
                  .withExistingResourceGroup("rg1")
                  .withProperties(
                      new ClusterCreateProperties()
                          .withClusterVersion("3.6")
                          .withOsType(OSType.LINUX)
                          .withClusterDefinition(
                              new ClusterDefinition()
                                  .withKind("hadoop")
                                  .withConfigurations(
                                      SerializerFactory
                                          .createDefaultManagementSerializerAdapter()
                                          .deserialize(
                                              "{\"gateway\":{\"restAuthCredential.isEnabled\":true,\"restAuthCredential.password\":\"**********\",\"restAuthCredential.username\":\"admin\"}}",
                                              Object.class,
                                              SerializerEncoding.JSON)))
                          .withComputeProfile(
                              new ComputeProfile()
                                  .withRoles(
                                      Arrays
                                          .asList(
                                              new Role()
                                                  .withName("headnode")
                                                  .withTargetInstanceCount(2)
                                                  .withHardwareProfile(new HardwareProfile().withVmSize("standard_d3"))
                                                  .withOsProfile(
                                                      new OsProfile()
                                                          .withLinuxOperatingSystemProfile(
                                                              new LinuxOperatingSystemProfile()
                                                                  .withUsername("sshuser")
                                                                  .withPassword("**********")
                                                                  .withSshProfile(
                                                                      new SshProfile()
                                                                          .withPublicKeys(
                                                                              Arrays
                                                                                  .asList(
                                                                                      new SshPublicKey()
                                                                                          .withCertificateData(
                                                                                              "**********")))))),
                                              new Role()
                                                  .withName("workernode")
                                                  .withTargetInstanceCount(2)
                                                  .withHardwareProfile(new HardwareProfile().withVmSize("standard_d3"))
                                                  .withOsProfile(
                                                      new OsProfile()
                                                          .withLinuxOperatingSystemProfile(
                                                              new LinuxOperatingSystemProfile()
                                                                  .withUsername("sshuser")
                                                                  .withPassword("**********")
                                                                  .withSshProfile(
                                                                      new SshProfile()
                                                                          .withPublicKeys(
                                                                              Arrays
                                                                                  .asList(
                                                                                      new SshPublicKey()
                                                                                          .withCertificateData(
                                                                                              "**********")))))))))
                          .withStorageProfile(
                              new StorageProfile()
                                  .withStorageaccounts(
                                      Arrays
                                          .asList(
                                              new StorageAccount()
                                                  .withName("mystorage")
                                                  .withIsDefault(true)
                                                  .withContainer("containername")
                                                  .withKey("storage account key"))))
                          .withComputeIsolationProperties(new ComputeIsolationProperties().withEnableComputeIsolation(true)))
                  .create();
          }

          @SuppressWarnings("unchecked")
          private static <T> Map<String, T> mapOf(Object... inputs) {
              Map<String, T> map = new HashMap<>();
              for (int i = 0; i < inputs.length; i += 2) {
                  String key = (String) inputs[i];
                  T value = (T) inputs[i + 1];
                  map.put(key, value);
              }
              return map;
          }
      }

      ```
      Read this [SDK documentation](https://github.com/Azure/azure-sdk-for-java/blob/azure-resourcemanager-hdinsight_1.0.0-beta.5/sdk/hdinsight/azure-resourcemanager-hdinsight/README.md) on how to add the SDK to your project and authenticate.
      # [JavaScript](#tab/JavaScript)
      ``` js
      const { HDInsightManagementClient } = require("@azure/arm-hdinsight");
      const { DefaultAzureCredential } = require("@azure/identity");

      /**
       * This sample demonstrates how to Creates a new HDInsight cluster with the specified parameters.
       *
       * @summary Creates a new HDInsight cluster with the specified parameters.
       * x-ms-original-file: specification/hdinsight/resource-manager/Microsoft.HDInsight/stable/2021-06-01/examples/CreateHDInsightClusterWithComputeIsolationProperties.json
       */
      async function createClusterWithComputeIsolationProperties() {
        const subscriptionId = "subId";
        const resourceGroupName = "rg1";
        const clusterName = "cluster1";
        const parameters = {
          properties: {
            clusterDefinition: {
              configurations: {
                gateway: {
                  "restAuthCredential.isEnabled": true,
                  "restAuthCredential.password": "**********",
                  "restAuthCredential.username": "admin",
                },
              },
              kind: "hadoop",
            },
            clusterVersion: "3.6",
            computeIsolationProperties: {
              enableComputeIsolation: true,
              hostSku: undefined,
            },
            computeProfile: {
              roles: [
                {
                  name: "headnode",
                  hardwareProfile: { vmSize: "standard_d3" },
                  osProfile: {
                    linuxOperatingSystemProfile: {
                      password: "**********",
                      sshProfile: { publicKeys: [{ certificateData: "**********" }] },
                      username: "sshuser",
                    },
                  },
                  targetInstanceCount: 2,
                },
                {
                  name: "workernode",
                  hardwareProfile: { vmSize: "standard_d3" },
                  osProfile: {
                    linuxOperatingSystemProfile: {
                      password: "**********",
                      sshProfile: { publicKeys: [{ certificateData: "**********" }] },
                      username: "sshuser",
                    },
                  },
                  targetInstanceCount: 2,
                },
              ],
            },
            osType: "Linux",
            storageProfile: {
              storageaccounts: [
                {
                  name: "mystorage",
                  container: "containername",
                  isDefault: true,
                  key: "storage account key",
                },
              ],
            },
          },
        };
        const credential = new DefaultAzureCredential();
        const client = new HDInsightManagementClient(credential, subscriptionId);
        const result = await client.clusters.beginCreateAndWait(
          resourceGroupName,
          clusterName,
          parameters
        );
        console.log(result);
      }

      createClusterWithComputeIsolationProperties().catch(console.error);

      ```
      Read this [SDK documentation](https://github.com/Azure/azure-sdk-for-js/blob/%40azure%2Farm-hdinsight_1.2.0/sdk/hdinsight/arm-hdinsight/README.md) on how to add the SDK to your project and authenticate.
  responses:
  - statusCode: "200"
    headers:
    - name: location
      value: https://management.azure.com/subscriptions/subid/providers/Microsoft.HDInsight/pathToOperationResult
    body: >-
      {
        "id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rg1/providers/Microsoft.HDInsight/clusters/cluster1",
        "name": "cluster1",
        "type": "Microsoft.HDInsight/clusters",
        "location": "South Central US",
        "etag": "fdf2a6e8-ce83-42cc-8c2d-0ceb11a370ff",
        "tags": null,
        "properties": {
          "clusterVersion": "3.6.1000.67",
          "osType": "Linux",
          "clusterId": "8186508b6234470e9d16c9e8e13bd821",
          "clusterDefinition": {
            "blueprint": "https://blueprints.azurehdinsight.net/hadoop-3.6.1000.67.2005040905.json",
            "kind": "hadoop"
          },
          "computeProfile": {
            "roles": [
              {
                "name": "headnode",
                "targetInstanceCount": 2,
                "hardwareProfile": {
                  "vmSize": "standard_d3"
                },
                "osProfile": {
                  "linuxOperatingSystemProfile": {
                    "username": "sshuser"
                  }
                },
                "virtualNetworkProfile": {
                  "id": "/subscriptions/subId/resourceGroups/rg/providers/Microsoft.Network/virtualNetworks/vnetname",
                  "subnet": "/subscriptions/subId/resourceGroups/rg/providers/Microsoft.Network/virtualNetworks/vnetname/subnets/vnetsubnet"
                }
              },
              {
                "name": "workernode",
                "targetInstanceCount": 2,
                "hardwareProfile": {
                  "vmSize": "standard_d3"
                },
                "osProfile": {
                  "linuxOperatingSystemProfile": {
                    "username": "sshuser"
                  }
                }
              }
            ]
          },
          "computeIsolationProperties": {
            "enableComputeIsolation": true,
            "hostSku": null
          },
          "provisioningState": "Succeeded",
          "clusterState": "Running",
          "createdDate": "2020-06-09T12:25:43.48",
          "quotaInfo": {
            "coresUsed": 16
          },
          "tier": "Standard"
        }
      }
- name: Create cluster with availability zones
  request:
    uri: PUT https://management.azure.com/subscriptions/subId/resourceGroups/rg1/providers/Microsoft.HDInsight/clusters/cluster1?api-version=2021-06-01
    body: >-
      {
        "zones": [
          "1"
        ],
        "properties": {
          "clusterVersion": "3.6",
          "osType": "Linux",
          "clusterDefinition": {
            "kind": "hadoop",
            "configurations": {
              "gateway": {
                "restAuthCredential.isEnabled": true,
                "restAuthCredential.username": "admin",
                "restAuthCredential.password": "**********"
              },
              "ambari-conf": {
                "database-server": "{sql server name}.database.windows.net",
                "database-name": "{ambari database name}",
                "database-user-name": "**********",
                "database-user-password": "**********"
              },
              "hive-site": {
                "javax.jdo.option.ConnectionURL": "jdbc:sqlserver://{sql server name}.database.windows.net;database={hive metastore name};encrypt=true;trustServerCertificate=true;create=false;loginTimeout=300;sendStringParametersAsUnicode=true;prepareSQL=0",
                "javax.jdo.option.ConnectionUserName": "**********",
                "javax.jdo.option.ConnectionPassword": "**********!",
                "javax.jdo.option.ConnectionDriverName": "com.microsoft.sqlserver.jdbc.SQLServerDriver"
              },
              "hive-env": {
                "hive_database": "Existing MSSQL Server database with SQL authentication",
                "hive_database_name": "{hive metastore name}",
                "hive_database_type": "mssql",
                "hive_existing_mssql_server_database": "{hive metastore name}",
                "hive_existing_mssql_server_host": "{sql server name}.database.windows.net",
                "hive_hostname": "{sql server name}.database.windows.net"
              },
              "oozie-site": {
                "oozie.service.JPAService.jdbc.url": "jdbc:sqlserver://{sql server name}.database.windows.net;database={oozie metastore name};encrypt=true;trustServerCertificate=true;create=false;loginTimeout=300;sendStringParametersAsUnicode=true;prepareSQL=0",
                "oozie.service.JPAService.jdbc.username": "**********",
                "oozie.service.JPAService.jdbc.password": "**********",
                "oozie.service.JPAService.jdbc.driver": "com.microsoft.sqlserver.jdbc.SQLServerDriver",
                "oozie.db.schema.name": "oozie"
              },
              "oozie-env": {
                "oozie_database": "Existing MSSQL Server database with SQL authentication",
                "oozie_database_name": "{oozie metastore name}",
                "oozie_database_type": "mssql",
                "oozie_existing_mssql_server_database": "{oozie metastore name}",
                "oozie_existing_mssql_server_host": "{sql server name}.database.windows.net",
                "oozie_hostname": "{sql server name}.database.windows.net"
              }
            }
          },
          "storageProfile": {
            "storageaccounts": [
              {
                "name": "mystorage",
                "isDefault": true,
                "container": "containername",
                "key": "storage account key"
              }
            ]
          },
          "computeProfile": {
            "roles": [
              {
                "name": "headnode",
                "targetInstanceCount": 2,
                "hardwareProfile": {
                  "vmSize": "standard_d3"
                },
                "osProfile": {
                  "linuxOperatingSystemProfile": {
                    "username": "sshuser",
                    "password": "**********",
                    "sshProfile": {
                      "publicKeys": [
                        {
                          "certificateData": "**********"
                        }
                      ]
                    }
                  }
                },
                "virtualNetworkProfile": {
                  "id": "/subscriptions/subId/resourceGroups/rg/providers/Microsoft.Network/virtualNetworks/vnetname",
                  "subnet": "/subscriptions/subId/resourceGroups/rg/providers/Microsoft.Network/virtualNetworks/vnetname/subnets/vnetsubnet"
                }
              },
              {
                "name": "workernode",
                "targetInstanceCount": 2,
                "hardwareProfile": {
                  "vmSize": "standard_d3"
                },
                "osProfile": {
                  "linuxOperatingSystemProfile": {
                    "username": "sshuser",
                    "password": "**********",
                    "sshProfile": {
                      "publicKeys": [
                        {
                          "certificateData": "**********"
                        }
                      ]
                    }
                  }
                },
                "virtualNetworkProfile": {
                  "id": "/subscriptions/subId/resourceGroups/rg/providers/Microsoft.Network/virtualNetworks/vnetname",
                  "subnet": "/subscriptions/subId/resourceGroups/rg/providers/Microsoft.Network/virtualNetworks/vnetname/subnets/vnetsubnet"
                }
              }
            ]
          }
        }
      }
    codeTab: |+
      # [HTTP](#tab/HTTP)
      ``` http
      PUT https://management.azure.com/subscriptions/subId/resourceGroups/rg1/providers/Microsoft.HDInsight/clusters/cluster1?api-version=2021-06-01

      {
        "zones": [
          "1"
        ],
        "properties": {
          "clusterVersion": "3.6",
          "osType": "Linux",
          "clusterDefinition": {
            "kind": "hadoop",
            "configurations": {
              "gateway": {
                "restAuthCredential.isEnabled": true,
                "restAuthCredential.username": "admin",
                "restAuthCredential.password": "**********"
              },
              "ambari-conf": {
                "database-server": "{sql server name}.database.windows.net",
                "database-name": "{ambari database name}",
                "database-user-name": "**********",
                "database-user-password": "**********"
              },
              "hive-site": {
                "javax.jdo.option.ConnectionURL": "jdbc:sqlserver://{sql server name}.database.windows.net;database={hive metastore name};encrypt=true;trustServerCertificate=true;create=false;loginTimeout=300;sendStringParametersAsUnicode=true;prepareSQL=0",
                "javax.jdo.option.ConnectionUserName": "**********",
                "javax.jdo.option.ConnectionPassword": "**********!",
                "javax.jdo.option.ConnectionDriverName": "com.microsoft.sqlserver.jdbc.SQLServerDriver"
              },
              "hive-env": {
                "hive_database": "Existing MSSQL Server database with SQL authentication",
                "hive_database_name": "{hive metastore name}",
                "hive_database_type": "mssql",
                "hive_existing_mssql_server_database": "{hive metastore name}",
                "hive_existing_mssql_server_host": "{sql server name}.database.windows.net",
                "hive_hostname": "{sql server name}.database.windows.net"
              },
              "oozie-site": {
                "oozie.service.JPAService.jdbc.url": "jdbc:sqlserver://{sql server name}.database.windows.net;database={oozie metastore name};encrypt=true;trustServerCertificate=true;create=false;loginTimeout=300;sendStringParametersAsUnicode=true;prepareSQL=0",
                "oozie.service.JPAService.jdbc.username": "**********",
                "oozie.service.JPAService.jdbc.password": "**********",
                "oozie.service.JPAService.jdbc.driver": "com.microsoft.sqlserver.jdbc.SQLServerDriver",
                "oozie.db.schema.name": "oozie"
              },
              "oozie-env": {
                "oozie_database": "Existing MSSQL Server database with SQL authentication",
                "oozie_database_name": "{oozie metastore name}",
                "oozie_database_type": "mssql",
                "oozie_existing_mssql_server_database": "{oozie metastore name}",
                "oozie_existing_mssql_server_host": "{sql server name}.database.windows.net",
                "oozie_hostname": "{sql server name}.database.windows.net"
              }
            }
          },
          "storageProfile": {
            "storageaccounts": [
              {
                "name": "mystorage",
                "isDefault": true,
                "container": "containername",
                "key": "storage account key"
              }
            ]
          },
          "computeProfile": {
            "roles": [
              {
                "name": "headnode",
                "targetInstanceCount": 2,
                "hardwareProfile": {
                  "vmSize": "standard_d3"
                },
                "osProfile": {
                  "linuxOperatingSystemProfile": {
                    "username": "sshuser",
                    "password": "**********",
                    "sshProfile": {
                      "publicKeys": [
                        {
                          "certificateData": "**********"
                        }
                      ]
                    }
                  }
                },
                "virtualNetworkProfile": {
                  "id": "/subscriptions/subId/resourceGroups/rg/providers/Microsoft.Network/virtualNetworks/vnetname",
                  "subnet": "/subscriptions/subId/resourceGroups/rg/providers/Microsoft.Network/virtualNetworks/vnetname/subnets/vnetsubnet"
                }
              },
              {
                "name": "workernode",
                "targetInstanceCount": 2,
                "hardwareProfile": {
                  "vmSize": "standard_d3"
                },
                "osProfile": {
                  "linuxOperatingSystemProfile": {
                    "username": "sshuser",
                    "password": "**********",
                    "sshProfile": {
                      "publicKeys": [
                        {
                          "certificateData": "**********"
                        }
                      ]
                    }
                  }
                },
                "virtualNetworkProfile": {
                  "id": "/subscriptions/subId/resourceGroups/rg/providers/Microsoft.Network/virtualNetworks/vnetname",
                  "subnet": "/subscriptions/subId/resourceGroups/rg/providers/Microsoft.Network/virtualNetworks/vnetname/subnets/vnetsubnet"
                }
              }
            ]
          }
        }
      }

      ```

      # [Java](#tab/Java)
      ``` java
      import com.azure.core.management.serializer.SerializerFactory;
      import com.azure.core.util.serializer.SerializerEncoding;
      import com.azure.resourcemanager.hdinsight.models.ClusterCreateProperties;
      import com.azure.resourcemanager.hdinsight.models.ClusterDefinition;
      import com.azure.resourcemanager.hdinsight.models.ComputeProfile;
      import com.azure.resourcemanager.hdinsight.models.HardwareProfile;
      import com.azure.resourcemanager.hdinsight.models.LinuxOperatingSystemProfile;
      import com.azure.resourcemanager.hdinsight.models.OSType;
      import com.azure.resourcemanager.hdinsight.models.OsProfile;
      import com.azure.resourcemanager.hdinsight.models.Role;
      import com.azure.resourcemanager.hdinsight.models.SshProfile;
      import com.azure.resourcemanager.hdinsight.models.SshPublicKey;
      import com.azure.resourcemanager.hdinsight.models.StorageAccount;
      import com.azure.resourcemanager.hdinsight.models.StorageProfile;
      import com.azure.resourcemanager.hdinsight.models.VirtualNetworkProfile;
      import java.io.IOException;
      import java.util.Arrays;
      import java.util.HashMap;
      import java.util.Map;

      /** Samples for Clusters Create. */
      public final class Main {
          /*
           * x-ms-original-file: specification/hdinsight/resource-manager/Microsoft.HDInsight/stable/2021-06-01/examples/CreateHDInsightClusterWithAvailabilityZones.json
           */
          /**
           * Sample code: Create cluster with availability zones.
           *
           * @param manager Entry point to HDInsightManager.
           */
          public static void createClusterWithAvailabilityZones(com.azure.resourcemanager.hdinsight.HDInsightManager manager)
              throws IOException {
              manager
                  .clusters()
                  .define("cluster1")
                  .withExistingResourceGroup("rg1")
                  .withZones(Arrays.asList("1"))
                  .withProperties(
                      new ClusterCreateProperties()
                          .withClusterVersion("3.6")
                          .withOsType(OSType.LINUX)
                          .withClusterDefinition(
                              new ClusterDefinition()
                                  .withKind("hadoop")
                                  .withConfigurations(
                                      SerializerFactory
                                          .createDefaultManagementSerializerAdapter()
                                          .deserialize(
                                              "{\"ambari-conf\":{\"database-name\":\"{ambari database"
                                                  + " name}\",\"database-server\":\"{sql server"
                                                  + " name}.database.windows.net\",\"database-user-name\":\"**********\",\"database-user-password\":\"**********\"},\"gateway\":{\"restAuthCredential.isEnabled\":true,\"restAuthCredential.password\":\"**********\",\"restAuthCredential.username\":\"admin\"},\"hive-env\":{\"hive_database\":\"Existing"
                                                  + " MSSQL Server database with SQL"
                                                  + " authentication\",\"hive_database_name\":\"{hive metastore"
                                                  + " name}\",\"hive_database_type\":\"mssql\",\"hive_existing_mssql_server_database\":\"{hive"
                                                  + " metastore name}\",\"hive_existing_mssql_server_host\":\"{sql server"
                                                  + " name}.database.windows.net\",\"hive_hostname\":\"{sql server"
                                                  + " name}.database.windows.net\"},\"hive-site\":{\"javax.jdo.option.ConnectionDriverName\":\"com.microsoft.sqlserver.jdbc.SQLServerDriver\",\"javax.jdo.option.ConnectionPassword\":\"**********!\",\"javax.jdo.option.ConnectionURL\":\"jdbc:sqlserver://{sql"
                                                  + " server name}.database.windows.net;database={hive metastore"
                                                  + " name};encrypt=true;trustServerCertificate=true;create=false;loginTimeout=300;sendStringParametersAsUnicode=true;prepareSQL=0\",\"javax.jdo.option.ConnectionUserName\":\"**********\"},\"oozie-env\":{\"oozie_database\":\"Existing"
                                                  + " MSSQL Server database with SQL"
                                                  + " authentication\",\"oozie_database_name\":\"{oozie metastore"
                                                  + " name}\",\"oozie_database_type\":\"mssql\",\"oozie_existing_mssql_server_database\":\"{oozie"
                                                  + " metastore name}\",\"oozie_existing_mssql_server_host\":\"{sql server"
                                                  + " name}.database.windows.net\",\"oozie_hostname\":\"{sql server"
                                                  + " name}.database.windows.net\"},\"oozie-site\":{\"oozie.db.schema.name\":\"oozie\",\"oozie.service.JPAService.jdbc.driver\":\"com.microsoft.sqlserver.jdbc.SQLServerDriver\",\"oozie.service.JPAService.jdbc.password\":\"**********\",\"oozie.service.JPAService.jdbc.url\":\"jdbc:sqlserver://{sql"
                                                  + " server name}.database.windows.net;database={oozie metastore"
                                                  + " name};encrypt=true;trustServerCertificate=true;create=false;loginTimeout=300;sendStringParametersAsUnicode=true;prepareSQL=0\",\"oozie.service.JPAService.jdbc.username\":\"**********\"}}",
                                              Object.class,
                                              SerializerEncoding.JSON)))
                          .withComputeProfile(
                              new ComputeProfile()
                                  .withRoles(
                                      Arrays
                                          .asList(
                                              new Role()
                                                  .withName("headnode")
                                                  .withTargetInstanceCount(2)
                                                  .withHardwareProfile(new HardwareProfile().withVmSize("standard_d3"))
                                                  .withOsProfile(
                                                      new OsProfile()
                                                          .withLinuxOperatingSystemProfile(
                                                              new LinuxOperatingSystemProfile()
                                                                  .withUsername("sshuser")
                                                                  .withPassword("**********")
                                                                  .withSshProfile(
                                                                      new SshProfile()
                                                                          .withPublicKeys(
                                                                              Arrays
                                                                                  .asList(
                                                                                      new SshPublicKey()
                                                                                          .withCertificateData(
                                                                                              "**********"))))))
                                                  .withVirtualNetworkProfile(
                                                      new VirtualNetworkProfile()
                                                          .withId(
                                                              "/subscriptions/subId/resourceGroups/rg/providers/Microsoft.Network/virtualNetworks/vnetname")
                                                          .withSubnet(
                                                              "/subscriptions/subId/resourceGroups/rg/providers/Microsoft.Network/virtualNetworks/vnetname/subnets/vnetsubnet")),
                                              new Role()
                                                  .withName("workernode")
                                                  .withTargetInstanceCount(2)
                                                  .withHardwareProfile(new HardwareProfile().withVmSize("standard_d3"))
                                                  .withOsProfile(
                                                      new OsProfile()
                                                          .withLinuxOperatingSystemProfile(
                                                              new LinuxOperatingSystemProfile()
                                                                  .withUsername("sshuser")
                                                                  .withPassword("**********")
                                                                  .withSshProfile(
                                                                      new SshProfile()
                                                                          .withPublicKeys(
                                                                              Arrays
                                                                                  .asList(
                                                                                      new SshPublicKey()
                                                                                          .withCertificateData(
                                                                                              "**********"))))))
                                                  .withVirtualNetworkProfile(
                                                      new VirtualNetworkProfile()
                                                          .withId(
                                                              "/subscriptions/subId/resourceGroups/rg/providers/Microsoft.Network/virtualNetworks/vnetname")
                                                          .withSubnet(
                                                              "/subscriptions/subId/resourceGroups/rg/providers/Microsoft.Network/virtualNetworks/vnetname/subnets/vnetsubnet")))))
                          .withStorageProfile(
                              new StorageProfile()
                                  .withStorageaccounts(
                                      Arrays
                                          .asList(
                                              new StorageAccount()
                                                  .withName("mystorage")
                                                  .withIsDefault(true)
                                                  .withContainer("containername")
                                                  .withKey("storage account key")))))
                  .create();
          }

          @SuppressWarnings("unchecked")
          private static <T> Map<String, T> mapOf(Object... inputs) {
              Map<String, T> map = new HashMap<>();
              for (int i = 0; i < inputs.length; i += 2) {
                  String key = (String) inputs[i];
                  T value = (T) inputs[i + 1];
                  map.put(key, value);
              }
              return map;
          }
      }

      ```
      Read this [SDK documentation](https://github.com/Azure/azure-sdk-for-java/blob/azure-resourcemanager-hdinsight_1.0.0-beta.5/sdk/hdinsight/azure-resourcemanager-hdinsight/README.md) on how to add the SDK to your project and authenticate.
      # [JavaScript](#tab/JavaScript)
      ``` js
      const { HDInsightManagementClient } = require("@azure/arm-hdinsight");
      const { DefaultAzureCredential } = require("@azure/identity");

      /**
       * This sample demonstrates how to Creates a new HDInsight cluster with the specified parameters.
       *
       * @summary Creates a new HDInsight cluster with the specified parameters.
       * x-ms-original-file: specification/hdinsight/resource-manager/Microsoft.HDInsight/stable/2021-06-01/examples/CreateHDInsightClusterWithAvailabilityZones.json
       */
      async function createClusterWithAvailabilityZones() {
        const subscriptionId = "subId";
        const resourceGroupName = "rg1";
        const clusterName = "cluster1";
        const parameters = {
          properties: {
            clusterDefinition: {
              configurations: {
                "ambari-conf": {
                  "database-name": "{ambari database name}",
                  "database-server": "{sql server name}.database.windows.net",
                  "database-user-name": "**********",
                  "database-user-password": "**********",
                },
                gateway: {
                  "restAuthCredential.isEnabled": true,
                  "restAuthCredential.password": "**********",
                  "restAuthCredential.username": "admin",
                },
                "hive-env": {
                  hive_database: "Existing MSSQL Server database with SQL authentication",
                  hive_database_name: "{hive metastore name}",
                  hive_database_type: "mssql",
                  hive_existing_mssql_server_database: "{hive metastore name}",
                  hive_existing_mssql_server_host: "{sql server name}.database.windows.net",
                  hive_hostname: "{sql server name}.database.windows.net",
                },
                "hive-site": {
                  "javax.jdo.option.ConnectionDriverName": "com.microsoft.sqlserver.jdbc.SQLServerDriver",
                  "javax.jdo.option.ConnectionPassword": "**********!",
                  "javax.jdo.option.ConnectionURL":
                    "jdbc:sqlserver://{sql server name}.database.windows.net;database={hive metastore name};encrypt=true;trustServerCertificate=true;create=false;loginTimeout=300;sendStringParametersAsUnicode=true;prepareSQL=0",
                  "javax.jdo.option.ConnectionUserName": "**********",
                },
                "oozie-env": {
                  oozie_database: "Existing MSSQL Server database with SQL authentication",
                  oozie_database_name: "{oozie metastore name}",
                  oozie_database_type: "mssql",
                  oozie_existing_mssql_server_database: "{oozie metastore name}",
                  oozie_existing_mssql_server_host: "{sql server name}.database.windows.net",
                  oozie_hostname: "{sql server name}.database.windows.net",
                },
                "oozie-site": {
                  "oozie.db.schema.name": "oozie",
                  "oozie.service.JPAService.jdbc.driver": "com.microsoft.sqlserver.jdbc.SQLServerDriver",
                  "oozie.service.JPAService.jdbc.password": "**********",
                  "oozie.service.JPAService.jdbc.url":
                    "jdbc:sqlserver://{sql server name}.database.windows.net;database={oozie metastore name};encrypt=true;trustServerCertificate=true;create=false;loginTimeout=300;sendStringParametersAsUnicode=true;prepareSQL=0",
                  "oozie.service.JPAService.jdbc.username": "**********",
                },
              },
              kind: "hadoop",
            },
            clusterVersion: "3.6",
            computeProfile: {
              roles: [
                {
                  name: "headnode",
                  hardwareProfile: { vmSize: "standard_d3" },
                  osProfile: {
                    linuxOperatingSystemProfile: {
                      password: "**********",
                      sshProfile: { publicKeys: [{ certificateData: "**********" }] },
                      username: "sshuser",
                    },
                  },
                  targetInstanceCount: 2,
                  virtualNetworkProfile: {
                    id: "/subscriptions/subId/resourceGroups/rg/providers/Microsoft.Network/virtualNetworks/vnetname",
                    subnet:
                      "/subscriptions/subId/resourceGroups/rg/providers/Microsoft.Network/virtualNetworks/vnetname/subnets/vnetsubnet",
                  },
                },
                {
                  name: "workernode",
                  hardwareProfile: { vmSize: "standard_d3" },
                  osProfile: {
                    linuxOperatingSystemProfile: {
                      password: "**********",
                      sshProfile: { publicKeys: [{ certificateData: "**********" }] },
                      username: "sshuser",
                    },
                  },
                  targetInstanceCount: 2,
                  virtualNetworkProfile: {
                    id: "/subscriptions/subId/resourceGroups/rg/providers/Microsoft.Network/virtualNetworks/vnetname",
                    subnet:
                      "/subscriptions/subId/resourceGroups/rg/providers/Microsoft.Network/virtualNetworks/vnetname/subnets/vnetsubnet",
                  },
                },
              ],
            },
            osType: "Linux",
            storageProfile: {
              storageaccounts: [
                {
                  name: "mystorage",
                  container: "containername",
                  isDefault: true,
                  key: "storage account key",
                },
              ],
            },
          },
          zones: ["1"],
        };
        const credential = new DefaultAzureCredential();
        const client = new HDInsightManagementClient(credential, subscriptionId);
        const result = await client.clusters.beginCreateAndWait(
          resourceGroupName,
          clusterName,
          parameters
        );
        console.log(result);
      }

      createClusterWithAvailabilityZones().catch(console.error);

      ```
      Read this [SDK documentation](https://github.com/Azure/azure-sdk-for-js/blob/%40azure%2Farm-hdinsight_1.2.0/sdk/hdinsight/arm-hdinsight/README.md) on how to add the SDK to your project and authenticate.
  responses:
  - statusCode: "200"
    headers:
    - name: location
      value: https://management.azure.com/subscriptions/subid/providers/Microsoft.HDInsight/pathToOperationResult
    body: >-
      {
        "id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rg1/providers/Microsoft.HDInsight/clusters/cluster1",
        "name": "cluster1",
        "type": "Microsoft.HDInsight/clusters",
        "location": "South Central US",
        "etag": "fdf2a6e8-ce83-42cc-8c2d-0ceb11a370ff",
        "tags": null,
        "zones": [
          "1"
        ],
        "properties": {
          "clusterVersion": "3.6.1000.67",
          "osType": "Linux",
          "clusterId": "8186508b6234470e9d16c9e8e13bd821",
          "clusterDefinition": {
            "blueprint": "https://blueprints.azurehdinsight.net/hadoop-3.6.1000.67.2005040905.json",
            "kind": "hadoop"
          },
          "computeProfile": {
            "roles": [
              {
                "name": "headnode",
                "targetInstanceCount": 2,
                "hardwareProfile": {
                  "vmSize": "standard_d3"
                },
                "osProfile": {
                  "linuxOperatingSystemProfile": {
                    "username": "sshuser"
                  }
                },
                "virtualNetworkProfile": {
                  "id": "/subscriptions/subId/resourceGroups/rg/providers/Microsoft.Network/virtualNetworks/vnetname",
                  "subnet": "/subscriptions/subId/resourceGroups/rg/providers/Microsoft.Network/virtualNetworks/vnetname/subnets/vnetsubnet"
                }
              },
              {
                "name": "workernode",
                "targetInstanceCount": 2,
                "hardwareProfile": {
                  "vmSize": "standard_d3"
                },
                "osProfile": {
                  "linuxOperatingSystemProfile": {
                    "username": "sshuser"
                  }
                },
                "virtualNetworkProfile": {
                  "id": "/subscriptions/subId/resourceGroups/rg/providers/Microsoft.Network/virtualNetworks/vnetname",
                  "subnet": "/subscriptions/subId/resourceGroups/rg/providers/Microsoft.Network/virtualNetworks/vnetname/subnets/vnetsubnet"
                }
              }
            ]
          },
          "provisioningState": "Succeeded",
          "clusterState": "Running",
          "createdDate": "2020-06-09T12:25:43.48",
          "quotaInfo": {
            "coresUsed": 16
          },
          "tier": "Standard"
        }
      }
security:
- name: azure_auth
  type: oauth2
  description: Azure Active Directory OAuth2 Flow
  flow: implicit
  authorizationUrl: https://login.microsoftonline.com/common/oauth2/authorize
  scopes:
  - name: user_impersonation
    description: impersonate your user account
metadata:
  description: >
    Learn more about HDInsight service - Creates a new HDInsight cluster with the specified parameters.
errorCodes: []
