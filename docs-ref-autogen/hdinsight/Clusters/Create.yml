### YamlMime:RESTOperation
uid: management.azure.com.hdinsight.clusters.create
name: Create
service: HDInsight
groupName: Clusters
apiVersion: 2018-06-01-preview
summary: Creates a new HDInsight cluster with the specified parameters.
consumes:
- application/json
produces:
- application/json
paths:
- content: PUT https://management.azure.com/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.HDInsight/clusters/{clusterName}?api-version=2018-06-01-preview
uriParameters:
- name: subscriptionId
  in: path
  isRequired: true
  description: The subscription credentials which uniquely identify Microsoft Azure subscription. The subscription ID forms part of the URI for every service call.
  types:
  - uid: string
- name: resourceGroupName
  in: path
  isRequired: true
  description: The name of the resource group.
  types:
  - uid: string
- name: clusterName
  in: path
  isRequired: true
  description: The name of the cluster.
  types:
  - uid: string
- name: api-version
  in: query
  isRequired: true
  description: The HDInsight client API Version.
  types:
  - uid: string
responses:
- name: Other Status Codes
  description: Error response describing why the operation failed.
  types:
  - uid: ErrorResponse
- name: 200 OK
  description: OK response definition.
  types:
  - uid: Cluster
requestBody:
- name: default
  parameters:
  - name: location
    in: body
    description: The location of the cluster.
    types:
    - uid: string
  - name: tags
    in: body
    description: The resource tags.
    types:
    - uid: object
      isDictionary: true
      additionalTypes:
      - uid: string
      - uid: string
  - name: properties
    in: body
    description: The cluster create parameters.
    types:
    - uid: ClusterCreateProperties
  - name: identity
    in: body
    description: The identity of the cluster, if configured.
    types:
    - uid: ClusterIdentity
requestHeader: []
definitions:
- name: ClusterCreateProperties
  description: The cluster create parameters.
  kind: object
  properties:
  - name: clusterVersion
    description: The version of the cluster.
    types:
    - uid: string
  - name: osType
    description: The type of operating system.
    types:
    - uid: OSType
  - name: tier
    description: The cluster tier.
    types:
    - uid: Tier
  - name: clusterDefinition
    description: The cluster definition.
    types:
    - uid: ClusterDefinition
  - name: kafkaRestProperties
    description: The cluster kafka rest proxy configuration.
    types:
    - uid: KafkaRestProperties
  - name: securityProfile
    description: The security profile.
    types:
    - uid: SecurityProfile
  - name: computeProfile
    description: The compute profile.
    types:
    - uid: ComputeProfile
  - name: storageProfile
    description: The storage profile.
    types:
    - uid: StorageProfile
  - name: diskEncryptionProperties
    description: The disk encryption properties.
    types:
    - uid: DiskEncryptionProperties
  - name: encryptionInTransitProperties
    description: The encryption-in-transit properties.
    types:
    - uid: EncryptionInTransitProperties
  - name: minSupportedTlsVersion
    description: The minimal supported tls version.
    types:
    - uid: string
  - name: networkProperties
    description: The network properties.
    types:
    - uid: NetworkProperties
  - name: computeIsolationProperties
    description: The compute isolation properties.
    types:
    - uid: ComputeIsolationProperties
- name: ClusterIdentity
  description: Identity for the cluster.
  kind: object
  properties:
  - name: principalId
    isReadyOnly: true
    description: The principal id of cluster identity. This property will only be provided for a system assigned identity.
    types:
    - uid: string
  - name: tenantId
    isReadyOnly: true
    description: The tenant id associated with the cluster. This property will only be provided for a system assigned identity.
    types:
    - uid: string
  - name: type
    description: The type of identity used for the cluster. The type 'SystemAssigned, UserAssigned' includes both an implicitly created identity and a set of user assigned identities.
    types:
    - uid: ResourceIdentityType
  - name: userAssignedIdentities
    description: "The list of user identities associated with the cluster. The user identity dictionary key references will be ARM resource ids in the form: '/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.ManagedIdentity/userAssignedIdentities/{identityName}'."
    types:
    - uid: UserAssignedIdentities
- name: ErrorResponse
  description: Describes the format of Error response.
  kind: object
  properties:
  - name: code
    description: Error code
    types:
    - uid: string
  - name: message
    description: Error message indicating why the operation failed.
    types:
    - uid: string
- name: Cluster
  description: The HDInsight cluster.
  kind: object
  properties:
  - name: etag
    description: The ETag for the resource
    types:
    - uid: string
  - name: properties
    description: The properties of the cluster.
    types:
    - uid: ClusterGetProperties
  - name: identity
    description: The identity of the cluster, if configured.
    types:
    - uid: ClusterIdentity
  - name: location
    description: The Azure Region where the resource lives
    types:
    - uid: string
  - name: tags
    description: Resource tags.
    types:
    - uid: object
      isDictionary: true
      additionalTypes:
      - uid: string
      - uid: string
  - name: id
    isReadyOnly: true
    description: Fully qualified resource Id for the resource.
    types:
    - uid: string
  - name: name
    isReadyOnly: true
    description: The name of the resource
    types:
    - uid: string
  - name: type
    isReadyOnly: true
    description: The type of the resource.
    types:
    - uid: string
- name: ClusterCreateParametersExtended
  description: The CreateCluster request parameters.
  kind: object
  properties:
  - name: location
    description: The location of the cluster.
    types:
    - uid: string
  - name: tags
    description: The resource tags.
    types:
    - uid: object
      isDictionary: true
      additionalTypes:
      - uid: string
      - uid: string
  - name: properties
    description: The cluster create parameters.
    types:
    - uid: ClusterCreateProperties
  - name: identity
    description: The identity of the cluster, if configured.
    types:
    - uid: ClusterIdentity
- name: OSType
  description: The type of operating system.
  kind: enum
  properties:
  - name: Windows
    types:
    - uid: string
  - name: Linux
    types:
    - uid: string
- name: Tier
  description: The cluster tier.
  kind: enum
  properties:
  - name: Standard
    types:
    - uid: string
  - name: Premium
    types:
    - uid: string
- name: ClusterDefinition
  description: The cluster definition.
  kind: object
  properties:
  - name: blueprint
    description: The link to the blueprint.
    types:
    - uid: string
  - name: kind
    description: The type of cluster.
    types:
    - uid: string
  - name: componentVersion
    description: The versions of different services in the cluster.
    types:
    - uid: object
      isDictionary: true
      additionalTypes:
      - uid: string
      - uid: string
  - name: configurations
    description: The cluster configurations.
    types:
    - uid: object
- name: KafkaRestProperties
  description: The kafka rest proxy configuration which contains AAD security group information.
  kind: object
  properties:
  - name: clientGroupInfo
    description: The information of AAD security group.
    types:
    - uid: ClientGroupInfo
- name: SecurityProfile
  description: The security profile which contains Ssh public key for the HDInsight cluster.
  kind: object
  properties:
  - name: directoryType
    description: The directory type.
    types:
    - uid: DirectoryType
  - name: domain
    description: The organization's active directory domain.
    types:
    - uid: string
  - name: organizationalUnitDN
    description: The organizational unit within the Active Directory to place the cluster and service accounts.
    types:
    - uid: string
  - name: ldapsUrls
    description: The LDAPS protocol URLs to communicate with the Active Directory.
    types:
    - uid: string
      isArray: true
  - name: domainUsername
    description: The domain user account that will have admin privileges on the cluster.
    types:
    - uid: string
  - name: domainUserPassword
    description: The domain admin password.
    types:
    - uid: string
  - name: clusterUsersGroupDNs
    description: Optional. The Distinguished Names for cluster user groups
    types:
    - uid: string
      isArray: true
  - name: aaddsResourceId
    description: The resource ID of the user's Azure Active Directory Domain Service.
    types:
    - uid: string
  - name: msiResourceId
    description: User assigned identity that has permissions to read and create cluster-related artifacts in the user's AADDS.
    types:
    - uid: string
- name: ComputeProfile
  description: Describes the compute profile.
  kind: object
  properties:
  - name: roles
    description: The list of roles in the cluster.
    types:
    - uid: Role
      isArray: true
- name: StorageProfile
  description: The storage profile.
  kind: object
  properties:
  - name: storageaccounts
    description: The list of storage accounts in the cluster.
    types:
    - uid: StorageAccount
      isArray: true
- name: DiskEncryptionProperties
  description: The disk encryption properties
  kind: object
  properties:
  - name: vaultUri
    description: Base key vault URI where the customers key is located eg. https://myvault.vault.azure.net
    types:
    - uid: string
  - name: keyName
    description: Key name that is used for enabling disk encryption.
    types:
    - uid: string
  - name: keyVersion
    description: Specific key version that is used for enabling disk encryption.
    types:
    - uid: string
  - name: encryptionAlgorithm
    description: Algorithm identifier for encryption, default RSA-OAEP.
    types:
    - uid: JsonWebKeyEncryptionAlgorithm
  - name: msiResourceId
    description: Resource ID of Managed Identity that is used to access the key vault.
    types:
    - uid: string
  - name: encryptionAtHost
    description: Indicates whether or not resource disk encryption is enabled.
    types:
    - uid: boolean
- name: EncryptionInTransitProperties
  description: The encryption-in-transit properties.
  kind: object
  properties:
  - name: isEncryptionInTransitEnabled
    description: Indicates whether or not inter cluster node communication is encrypted in transit.
    types:
    - uid: boolean
- name: NetworkProperties
  description: The network properties.
  kind: object
  properties:
  - name: resourceProviderConnection
    description: The direction for the resource provider connection.
    types:
    - uid: ResourceProviderConnection
  - name: privateLink
    description: Indicates whether or not private link is enabled.
    types:
    - uid: PrivateLink
- name: ComputeIsolationProperties
  description: The compute isolation properties.
  kind: object
  properties:
  - name: enableComputeIsolation
    description: The flag indicates whether enable compute isolation or not.
    types:
    - uid: boolean
  - name: hostSku
    description: The host sku.
    types:
    - uid: string
- name: ResourceIdentityType
  description: The type of identity used for the cluster. The type 'SystemAssigned, UserAssigned' includes both an implicitly created identity and a set of user assigned identities.
  kind: enum
  properties:
  - name: SystemAssigned
    types:
    - uid: string
  - name: UserAssigned
    types:
    - uid: string
  - name: SystemAssigned, UserAssigned
    types:
    - uid: string
  - name: None
    types:
    - uid: string
- name: UserAssignedIdentities
  description: "The list of user identities associated with the cluster. The user identity dictionary key references will be ARM resource ids in the form: '/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.ManagedIdentity/userAssignedIdentities/{identityName}'."
  kind: object
  properties:
  - name: ''
    description: ''
    types:
    - uid: ''
- name: ClusterGetProperties
  description: The properties of cluster.
  kind: object
  properties:
  - name: clusterVersion
    description: The version of the cluster.
    types:
    - uid: string
  - name: clusterHdpVersion
    description: The hdp version of the cluster.
    types:
    - uid: string
  - name: osType
    description: The type of operating system.
    types:
    - uid: OSType
  - name: tier
    description: The cluster tier.
    types:
    - uid: Tier
  - name: clusterId
    description: The cluster id.
    types:
    - uid: string
  - name: clusterDefinition
    description: The cluster definition.
    types:
    - uid: ClusterDefinition
  - name: kafkaRestProperties
    description: The cluster kafka rest proxy configuration.
    types:
    - uid: KafkaRestProperties
  - name: securityProfile
    description: The security profile.
    types:
    - uid: SecurityProfile
  - name: computeProfile
    description: The compute profile.
    types:
    - uid: ComputeProfile
  - name: provisioningState
    description: The provisioning state, which only appears in the response.
    types:
    - uid: HDInsightClusterProvisioningState
  - name: createdDate
    description: The date on which the cluster was created.
    types:
    - uid: string
  - name: clusterState
    description: The state of the cluster.
    types:
    - uid: string
  - name: quotaInfo
    description: The quota information.
    types:
    - uid: QuotaInfo
  - name: errors
    description: The list of errors.
    types:
    - uid: Errors
      isArray: true
  - name: connectivityEndpoints
    description: The list of connectivity endpoints.
    types:
    - uid: ConnectivityEndpoint
      isArray: true
  - name: diskEncryptionProperties
    description: The disk encryption properties.
    types:
    - uid: DiskEncryptionProperties
  - name: encryptionInTransitProperties
    description: The encryption-in-transit properties.
    types:
    - uid: EncryptionInTransitProperties
  - name: storageProfile
    description: The storage profile.
    types:
    - uid: StorageProfile
  - name: minSupportedTlsVersion
    description: The minimal supported tls version.
    types:
    - uid: string
  - name: excludedServicesConfig
    description: The excluded services config.
    types:
    - uid: ExcludedServicesConfig
  - name: networkProperties
    description: The network properties.
    types:
    - uid: NetworkProperties
  - name: computeIsolationProperties
    description: The compute isolation properties.
    types:
    - uid: ComputeIsolationProperties
- name: ClientGroupInfo
  description: The information of AAD security group.
  kind: object
  properties:
  - name: groupName
    description: The AAD security group name.
    types:
    - uid: string
  - name: groupId
    description: The AAD security group id.
    types:
    - uid: string
- name: DirectoryType
  description: The directory type.
  kind: enum
  properties:
  - name: ActiveDirectory
    types:
    - uid: string
- name: Role
  description: Describes a role on the cluster.
  kind: object
  properties:
  - name: name
    description: The name of the role.
    types:
    - uid: string
  - name: minInstanceCount
    description: The minimum instance count of the cluster.
    types:
    - uid: integer
  - name: targetInstanceCount
    description: The instance count of the cluster.
    types:
    - uid: integer
  - name: autoscale
    description: The autoscale configurations.
    types:
    - uid: Autoscale
  - name: hardwareProfile
    description: The hardware profile.
    types:
    - uid: HardwareProfile
  - name: osProfile
    description: The operating system profile.
    types:
    - uid: OsProfile
  - name: virtualNetworkProfile
    description: The virtual network profile.
    types:
    - uid: VirtualNetworkProfile
  - name: dataDisksGroups
    description: The data disks groups for the role.
    types:
    - uid: DataDisksGroups
      isArray: true
  - name: scriptActions
    description: The list of script actions on the role.
    types:
    - uid: ScriptAction
      isArray: true
  - name: encryptDataDisks
    description: Indicates whether encrypt the data disks.
    types:
    - uid: boolean
- name: StorageAccount
  description: The storage Account.
  kind: object
  properties:
  - name: name
    description: The name of the storage account.
    types:
    - uid: string
  - name: isDefault
    description: Whether or not the storage account is the default storage account.
    types:
    - uid: boolean
  - name: container
    description: The container in the storage account, only to be specified for WASB storage accounts.
    types:
    - uid: string
  - name: fileSystem
    description: The filesystem, only to be specified for Azure Data Lake Storage Gen 2.
    types:
    - uid: string
  - name: key
    description: The storage account access key.
    types:
    - uid: string
  - name: resourceId
    description: The resource ID of storage account, only to be specified for Azure Data Lake Storage Gen 2.
    types:
    - uid: string
  - name: msiResourceId
    description: The managed identity (MSI) that is allowed to access the storage account, only to be specified for Azure Data Lake Storage Gen 2.
    types:
    - uid: string
- name: JsonWebKeyEncryptionAlgorithm
  description: Algorithm identifier for encryption, default RSA-OAEP.
  kind: enum
  properties:
  - name: RSA-OAEP
    types:
    - uid: string
  - name: RSA-OAEP-256
    types:
    - uid: string
  - name: RSA1_5
    types:
    - uid: string
- name: ResourceProviderConnection
  description: The direction for the resource provider connection.
  kind: enum
  properties:
  - name: Inbound
    types:
    - uid: string
  - name: Outbound
    types:
    - uid: string
- name: PrivateLink
  description: Indicates whether or not private link is enabled.
  kind: enum
  properties:
  - name: Disabled
    types:
    - uid: string
  - name: Enabled
    types:
    - uid: string
- name: HDInsightClusterProvisioningState
  description: The provisioning state, which only appears in the response.
  kind: enum
  properties:
  - name: InProgress
    types:
    - uid: string
  - name: Failed
    types:
    - uid: string
  - name: Succeeded
    types:
    - uid: string
  - name: Canceled
    types:
    - uid: string
  - name: Deleting
    types:
    - uid: string
- name: QuotaInfo
  description: The quota properties for the cluster.
  kind: object
  properties:
  - name: coresUsed
    description: The cores used by the cluster.
    types:
    - uid: integer
- name: Errors
  description: The error message associated with the cluster creation.
  kind: object
  properties:
  - name: code
    description: The error code.
    types:
    - uid: string
  - name: message
    description: The error message.
    types:
    - uid: string
- name: ConnectivityEndpoint
  description: The connectivity properties
  kind: object
  properties:
  - name: name
    description: The name of the endpoint.
    types:
    - uid: string
  - name: protocol
    description: The protocol of the endpoint.
    types:
    - uid: string
  - name: location
    description: The location of the endpoint.
    types:
    - uid: string
  - name: port
    description: The port to connect to.
    types:
    - uid: integer
- name: ExcludedServicesConfig
  description: The configuration that services will be excluded when creating cluster.
  kind: object
  properties:
  - name: excludedServicesConfigId
    description: The config id of excluded services.
    types:
    - uid: string
  - name: excludedServicesList
    description: The list of excluded services.
    types:
    - uid: string
- name: Autoscale
  description: The autoscale request parameters
  kind: object
  properties:
  - name: capacity
    description: Parameters for load-based autoscale
    types:
    - uid: AutoscaleCapacity
  - name: recurrence
    description: Parameters for schedule-based autoscale
    types:
    - uid: AutoscaleRecurrence
- name: HardwareProfile
  description: The hardware profile.
  kind: object
  properties:
  - name: vmSize
    description: The size of the VM
    types:
    - uid: string
- name: OsProfile
  description: The Linux operation systems profile.
  kind: object
  properties:
  - name: linuxOperatingSystemProfile
    description: The Linux OS profile.
    types:
    - uid: LinuxOperatingSystemProfile
- name: VirtualNetworkProfile
  description: The virtual network properties.
  kind: object
  properties:
  - name: id
    description: The ID of the virtual network.
    types:
    - uid: string
  - name: subnet
    description: The name of the subnet.
    types:
    - uid: string
- name: DataDisksGroups
  description: The data disks groups for the role.
  kind: object
  properties:
  - name: disksPerNode
    description: The number of disks per node.
    types:
    - uid: integer
  - name: storageAccountType
    isReadyOnly: true
    description: ReadOnly. The storage account type. Do not set this value.
    types:
    - uid: string
  - name: diskSizeGB
    isReadyOnly: true
    description: ReadOnly. The DiskSize in GB. Do not set this value.
    types:
    - uid: integer
- name: ScriptAction
  description: Describes a script action on role on the cluster.
  kind: object
  properties:
  - name: name
    description: The name of the script action.
    types:
    - uid: string
  - name: uri
    description: The URI to the script.
    types:
    - uid: string
  - name: parameters
    description: The parameters for the script provided.
    types:
    - uid: string
- name: AutoscaleCapacity
  description: The load-based autoscale request parameters
  kind: object
  properties:
  - name: minInstanceCount
    description: The minimum instance count of the cluster
    types:
    - uid: integer
  - name: maxInstanceCount
    description: The maximum instance count of the cluster
    types:
    - uid: integer
- name: AutoscaleRecurrence
  description: Schedule-based autoscale request parameters
  kind: object
  properties:
  - name: timeZone
    description: The time zone for the autoscale schedule times
    types:
    - uid: string
  - name: schedule
    description: Array of schedule-based autoscale rules
    types:
    - uid: AutoscaleSchedule
      isArray: true
- name: LinuxOperatingSystemProfile
  description: The ssh username, password, and ssh public key.
  kind: object
  properties:
  - name: username
    description: The username.
    types:
    - uid: string
  - name: password
    description: The password.
    types:
    - uid: string
  - name: sshProfile
    description: The SSH profile.
    types:
    - uid: SshProfile
- name: AutoscaleSchedule
  description: Parameters for a schedule-based autoscale rule, consisting of an array of days + a time and capacity
  kind: object
  properties:
  - name: days
    description: Days of the week for a schedule-based autoscale rule
    types:
    - uid: string
      isArray: true
  - name: timeAndCapacity
    description: Time and capacity for a schedule-based autoscale rule
    types:
    - uid: AutoscaleTimeAndCapacity
- name: SshProfile
  description: The list of SSH public keys.
  kind: object
  properties:
  - name: publicKeys
    description: The list of SSH public keys.
    types:
    - uid: SshPublicKey
      isArray: true
- name: AutoscaleTimeAndCapacity
  description: Time and capacity request parameters
  kind: object
  properties:
  - name: time
    description: 24-hour time in the form xx:xx
    types:
    - uid: string
  - name: minInstanceCount
    description: The minimum instance count of the cluster
    types:
    - uid: integer
  - name: maxInstanceCount
    description: The maximum instance count of the cluster
    types:
    - uid: integer
- name: SshPublicKey
  description: The SSH public key for the cluster nodes.
  kind: object
  properties:
  - name: certificateData
    description: The certificate for SSH.
    types:
    - uid: string
examples:
- name: Create Hadoop on Linux cluster with SSH password
  request:
    uri: PUT https://management.azure.com/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.HDInsight/clusters/cluster1?api-version=2018-06-01-preview
    body: >-
      {
        "tags": {
          "key1": "val1"
        },
        "properties": {
          "clusterVersion": "3.5",
          "osType": "Linux",
          "tier": "Standard",
          "clusterDefinition": {
            "kind": "Hadoop",
            "configurations": {
              "gateway": {
                "restAuthCredential.isEnabled": "true",
                "restAuthCredential.username": "admin",
                "restAuthCredential.password": "**********"
              }
            }
          },
          "storageProfile": {
            "storageaccounts": [
              {
                "name": "mystorage.blob.core.windows.net",
                "isDefault": true,
                "container": "containername",
                "key": "storagekey"
              }
            ]
          },
          "computeProfile": {
            "roles": [
              {
                "name": "headnode",
                "minInstanceCount": 1,
                "targetInstanceCount": 2,
                "hardwareProfile": {
                  "vmSize": "Standard_D3_V2"
                },
                "osProfile": {
                  "linuxOperatingSystemProfile": {
                    "username": "sshuser",
                    "password": "**********"
                  }
                }
              },
              {
                "name": "workernode",
                "minInstanceCount": 1,
                "targetInstanceCount": 4,
                "hardwareProfile": {
                  "vmSize": "Standard_D3_V2"
                },
                "osProfile": {
                  "linuxOperatingSystemProfile": {
                    "username": "sshuser",
                    "password": "**********"
                  }
                }
              },
              {
                "name": "zookeepernode",
                "minInstanceCount": 1,
                "targetInstanceCount": 3,
                "hardwareProfile": {
                  "vmSize": "Small"
                },
                "osProfile": {
                  "linuxOperatingSystemProfile": {
                    "username": "sshuser",
                    "password": "**********"
                  }
                }
              }
            ]
          }
        }
      }
  responses:
  - statusCode: "200"
    headers:
    - name: location
      value: https://management.azure.com/subscriptions/subid/providers/Microsoft.HDInsight/pathToOperationResult
    body: >-
      {
        "id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rg1/providers/Microsoft.HDInsight/clusters/cluster1",
        "name": "cluster1",
        "type": "Microsoft.HDInsight/clusters",
        "location": "East US",
        "etag": "fdf2a6e8-ce83-42cc-8c2d-0ceb11a370ff",
        "properties": {
          "clusterVersion": "4.0.1000.1",
          "osType": "Linux",
          "clusterDefinition": {
            "blueprint": "https://blueprints.azurehdinsight.net/hadoop-4.0.1000.1.1910270459.json",
            "kind": "HADOOP",
            "componentVersion": {
              "Hadoop": "3.1"
            }
          },
          "computeProfile": {
            "roles": [
              {
                "name": "headnode",
                "targetInstanceCount": 2,
                "hardwareProfile": {
                  "vmSize": "standard_d12_v2"
                },
                "osProfile": {
                  "linuxOperatingSystemProfile": {
                    "username": "sshuser"
                  }
                }
              },
              {
                "name": "workernode",
                "targetInstanceCount": 4,
                "hardwareProfile": {
                  "vmSize": "standard_d4_v2"
                },
                "osProfile": {
                  "linuxOperatingSystemProfile": {
                    "username": "sshuser"
                  }
                }
              },
              {
                "name": "zookeepernode",
                "targetInstanceCount": 3,
                "hardwareProfile": {
                  "vmSize": "standard_a2_v2"
                },
                "osProfile": {
                  "linuxOperatingSystemProfile": {
                    "username": "sshuser"
                  }
                }
              }
            ]
          },
          "provisioningState": "Succeeded",
          "clusterState": "Running",
          "createdDate": "2019-11-18T12:25:43.48",
          "quotaInfo": {
            "coresUsed": 40
          },
          "connectivityEndpoints": [
            {
              "name": "SSH",
              "protocol": "TCP",
              "location": "cluster1-ssh.azurehdinsight.net",
              "port": 22
            },
            {
              "name": "HTTPS",
              "protocol": "TCP",
              "location": "cluster1.azurehdinsight.net",
              "port": 443
            }
          ],
          "tier": "Standard"
        }
      }
- name: Create Hadoop on Linux cluster with SSH public key
  request:
    uri: PUT https://management.azure.com/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.HDInsight/clusters/cluster1?api-version=2018-06-01-preview
    body: >-
      {
        "tags": {
          "key1": "val1"
        },
        "properties": {
          "clusterVersion": "3.5",
          "osType": "Linux",
          "tier": "Standard",
          "clusterDefinition": {
            "kind": "Hadoop",
            "configurations": {
              "gateway": {
                "restAuthCredential.isEnabled": true,
                "restAuthCredential.username": "admin",
                "restAuthCredential.password": "**********"
              }
            }
          },
          "storageProfile": {
            "storageaccounts": [
              {
                "name": "mystorage.blob.core.windows.net",
                "isDefault": true,
                "container": "containername",
                "key": "storagekey"
              }
            ]
          },
          "computeProfile": {
            "roles": [
              {
                "name": "headnode",
                "minInstanceCount": 1,
                "targetInstanceCount": 2,
                "hardwareProfile": {
                  "vmSize": "Standard_D3_V2"
                },
                "osProfile": {
                  "linuxOperatingSystemProfile": {
                    "username": "sshuser",
                    "sshProfile": {
                      "publicKeys": [
                        {
                          "certificateData": "**********"
                        }
                      ]
                    }
                  }
                }
              },
              {
                "name": "workernode",
                "minInstanceCount": 1,
                "targetInstanceCount": 4,
                "hardwareProfile": {
                  "vmSize": "Standard_D3_V2"
                },
                "osProfile": {
                  "linuxOperatingSystemProfile": {
                    "username": "sshuser",
                    "password": "**********"
                  }
                }
              },
              {
                "name": "zookeepernode",
                "minInstanceCount": 1,
                "targetInstanceCount": 3,
                "hardwareProfile": {
                  "vmSize": "Small"
                },
                "osProfile": {
                  "linuxOperatingSystemProfile": {
                    "username": "sshuser",
                    "password": "**********"
                  }
                }
              }
            ]
          }
        }
      }
  responses:
  - statusCode: "200"
    headers:
    - name: location
      value: https://management.azure.com/subscriptions/subid/providers/Microsoft.HDInsight/pathToOperationResult
    body: >-
      {
        "id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rg1/providers/Microsoft.HDInsight/clusters/cluster1",
        "name": "cluster1",
        "type": "Microsoft.HDInsight/clusters",
        "location": "East US",
        "etag": "fdf2a6e8-ce83-42cc-8c2d-0ceb11a370ff",
        "properties": {
          "clusterVersion": "4.0.1000.1",
          "osType": "Linux",
          "clusterDefinition": {
            "blueprint": "https://blueprints.azurehdinsight.net/hadoop-4.0.1000.1.1910270459.json",
            "kind": "HADOOP",
            "componentVersion": {
              "Hadoop": "3.1"
            }
          },
          "computeProfile": {
            "roles": [
              {
                "name": "headnode",
                "targetInstanceCount": 2,
                "hardwareProfile": {
                  "vmSize": "standard_d12_v2"
                },
                "osProfile": {
                  "linuxOperatingSystemProfile": {
                    "username": "sshuser"
                  }
                }
              },
              {
                "name": "workernode",
                "targetInstanceCount": 4,
                "hardwareProfile": {
                  "vmSize": "standard_d4_v2"
                },
                "osProfile": {
                  "linuxOperatingSystemProfile": {
                    "username": "sshuser"
                  }
                }
              },
              {
                "name": "zookeepernode",
                "targetInstanceCount": 3,
                "hardwareProfile": {
                  "vmSize": "standard_a2_v2"
                },
                "osProfile": {
                  "linuxOperatingSystemProfile": {
                    "username": "sshuser"
                  }
                }
              }
            ]
          },
          "provisioningState": "Succeeded",
          "clusterState": "Running",
          "createdDate": "2019-11-18T12:25:43.48",
          "quotaInfo": {
            "coresUsed": 40
          },
          "connectivityEndpoints": [
            {
              "name": "SSH",
              "protocol": "TCP",
              "location": "cluster1-ssh.azurehdinsight.net",
              "port": 22
            },
            {
              "name": "HTTPS",
              "protocol": "TCP",
              "location": "cluster1.azurehdinsight.net",
              "port": 443
            }
          ],
          "tier": "Standard"
        }
      }
- name: Create Spark on Linux Cluster with SSH password
  request:
    uri: PUT https://management.azure.com/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.HDInsight/clusters/cluster1?api-version=2018-06-01-preview
    body: >-
      {
        "tags": {
          "key1": "val1"
        },
        "properties": {
          "clusterVersion": "3.5",
          "osType": "Linux",
          "tier": "Standard",
          "clusterDefinition": {
            "kind": "Spark",
            "componentVersion": {
              "Spark": "2.0"
            },
            "configurations": {
              "gateway": {
                "restAuthCredential.isEnabled": true,
                "restAuthCredential.username": "admin",
                "restAuthCredential.password": "**********"
              }
            }
          },
          "storageProfile": {
            "storageaccounts": [
              {
                "name": "mystorage.blob.core.windows.net",
                "isDefault": true,
                "container": "containername",
                "key": "storageapikey*"
              }
            ]
          },
          "computeProfile": {
            "roles": [
              {
                "name": "headnode",
                "minInstanceCount": 1,
                "targetInstanceCount": 2,
                "hardwareProfile": {
                  "vmSize": "Standard_D12_V2"
                },
                "osProfile": {
                  "linuxOperatingSystemProfile": {
                    "username": "sshuser",
                    "password": "**********"
                  }
                }
              },
              {
                "name": "workernode",
                "minInstanceCount": 1,
                "targetInstanceCount": 4,
                "hardwareProfile": {
                  "vmSize": "Standard_D4_V2"
                },
                "osProfile": {
                  "linuxOperatingSystemProfile": {
                    "username": "sshuser",
                    "password": "**********"
                  }
                }
              }
            ]
          }
        }
      }
  responses:
  - statusCode: "200"
    headers:
    - name: location
      value: https://management.azure.com/subscriptions/subid/providers/Microsoft.HDInsight/pathToOperationResult
    body: >-
      {
        "id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rg1/providers/Microsoft.HDInsight/clusters/cluster1",
        "name": "cluster1",
        "type": "Microsoft.HDInsight/clusters",
        "location": "East US",
        "etag": "fdf2a6e8-ce83-42cc-8c2d-0ceb11a370ff",
        "properties": {
          "clusterVersion": "4.0.1000.1",
          "osType": "Linux",
          "clusterDefinition": {
            "blueprint": "https://blueprints.azurehdinsight.net/hadoop-4.0.1000.1.1910270459.json",
            "kind": "SPARK",
            "componentVersion": {
              "Hadoop": "3.1"
            }
          },
          "computeProfile": {
            "roles": [
              {
                "name": "headnode",
                "targetInstanceCount": 2,
                "hardwareProfile": {
                  "vmSize": "standard_d12_v2"
                },
                "osProfile": {
                  "linuxOperatingSystemProfile": {
                    "username": "sshuser"
                  }
                }
              },
              {
                "name": "workernode",
                "targetInstanceCount": 4,
                "hardwareProfile": {
                  "vmSize": "standard_d4_v2"
                },
                "osProfile": {
                  "linuxOperatingSystemProfile": {
                    "username": "sshuser"
                  }
                }
              },
              {
                "name": "zookeepernode",
                "targetInstanceCount": 3,
                "hardwareProfile": {
                  "vmSize": "standard_a2_v2"
                },
                "osProfile": {
                  "linuxOperatingSystemProfile": {
                    "username": "sshuser"
                  }
                }
              }
            ]
          },
          "provisioningState": "Succeeded",
          "clusterState": "Running",
          "createdDate": "2019-11-18T12:25:43.48",
          "quotaInfo": {
            "coresUsed": 40
          },
          "connectivityEndpoints": [
            {
              "name": "SSH",
              "protocol": "TCP",
              "location": "cluster1-ssh.azurehdinsight.net",
              "port": 22
            },
            {
              "name": "HTTPS",
              "protocol": "TCP",
              "location": "cluster1.azurehdinsight.net",
              "port": 443
            }
          ],
          "tier": "Standard"
        }
      }
- name: Create Secure Hadoop cluster
  request:
    uri: PUT https://management.azure.com/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.HDInsight/clusters/cluster1?api-version=2018-06-01-preview
    body: >-
      {
        "tags": {
          "key1": "val1"
        },
        "properties": {
          "clusterVersion": "3.5",
          "osType": "Linux",
          "tier": "Premium",
          "clusterDefinition": {
            "kind": "Hadoop",
            "configurations": {
              "gateway": {
                "restAuthCredential.isEnabled": true,
                "restAuthCredential.username": "admin",
                "restAuthCredential.password": "**********"
              }
            }
          },
          "storageProfile": {
            "storageaccounts": [
              {
                "name": "mystorage.blob.core.windows.net",
                "isDefault": true,
                "container": "containername",
                "key": "storage account key"
              }
            ]
          },
          "securityProfile": {
            "directoryType": "ActiveDirectory",
            "domain": "DomainName",
            "organizationalUnitDN": "OU=Hadoop,DC=hdinsight,DC=test",
            "ldapsUrls": [
              "ldaps://10.10.0.4:636"
            ],
            "domainUsername": "DomainUsername",
            "domainUserPassword": "**********",
            "clusterUsersGroupDNs": [
              "hdiusers"
            ]
          },
          "computeProfile": {
            "roles": [
              {
                "name": "headnode",
                "minInstanceCount": 1,
                "targetInstanceCount": 2,
                "hardwareProfile": {
                  "vmSize": "Standard_D3_V2"
                },
                "osProfile": {
                  "linuxOperatingSystemProfile": {
                    "username": "sshuser",
                    "password": "**********",
                    "sshProfile": {
                      "publicKeys": [
                        {
                          "certificateData": "**********"
                        }
                      ]
                    }
                  }
                },
                "virtualNetworkProfile": {
                  "id": "/subscriptions/subId/resourceGroups/rg/providers/Microsoft.Network/virtualNetworks/vnetname",
                  "subnet": "/subscriptions/subId/resourceGroups/rg/providers/Microsoft.Network/virtualNetworks/vnetname/subnets/vnetsubnet"
                },
                "scriptActions": []
              },
              {
                "name": "workernode",
                "minInstanceCount": 1,
                "targetInstanceCount": 4,
                "hardwareProfile": {
                  "vmSize": "Standard_D3_V2"
                },
                "osProfile": {
                  "linuxOperatingSystemProfile": {
                    "username": "sshuser",
                    "password": "**********",
                    "sshProfile": {
                      "publicKeys": [
                        {
                          "certificateData": "**********"
                        }
                      ]
                    }
                  }
                },
                "virtualNetworkProfile": {
                  "id": "/subscriptions/subId/resourceGroups/rg/providers/Microsoft.Network/virtualNetworks/vnetname",
                  "subnet": "/subscriptions/subId/resourceGroups/rg/providers/Microsoft.Network/virtualNetworks/vnetname/subnets/vnetsubnet"
                },
                "scriptActions": []
              },
              {
                "name": "zookeepernode",
                "minInstanceCount": 1,
                "targetInstanceCount": 3,
                "hardwareProfile": {
                  "vmSize": "Small"
                },
                "osProfile": {
                  "linuxOperatingSystemProfile": {
                    "username": "sshuser",
                    "password": "**********",
                    "sshProfile": {
                      "publicKeys": [
                        {
                          "certificateData": "**********"
                        }
                      ]
                    }
                  }
                },
                "virtualNetworkProfile": {
                  "id": "/subscriptions/subId/resourceGroups/rg/providers/Microsoft.Network/virtualNetworks/vnetname",
                  "subnet": "/subscriptions/subId/resourceGroups/rg/providers/Microsoft.Network/virtualNetworks/vnetname/subnets/vnetsubnet"
                },
                "scriptActions": []
              }
            ]
          }
        }
      }
  responses:
  - statusCode: "200"
    headers:
    - name: location
      value: https://management.azure.com/subscriptions/subid/providers/Microsoft.HDInsight/pathToOperationResult
    body: >-
      {
        "id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rg1/providers/Microsoft.HDInsight/clusters/cluster1",
        "name": "cluster1",
        "type": "Microsoft.HDInsight/clusters",
        "location": "East US",
        "etag": "fdf2a6e8-ce83-42cc-8c2d-0ceb11a370ff",
        "properties": {
          "clusterVersion": "4.0.1000.1",
          "osType": "Linux",
          "clusterDefinition": {
            "blueprint": "https://blueprints.azurehdinsight.net/hadoop-4.0.1000.1.1910270459.json",
            "kind": "HADOOP",
            "componentVersion": {
              "Hadoop": "3.1"
            }
          },
          "computeProfile": {
            "roles": [
              {
                "name": "headnode",
                "targetInstanceCount": 2,
                "hardwareProfile": {
                  "vmSize": "standard_d12_v2"
                },
                "osProfile": {
                  "linuxOperatingSystemProfile": {
                    "username": "sshuser"
                  }
                }
              },
              {
                "name": "workernode",
                "targetInstanceCount": 4,
                "hardwareProfile": {
                  "vmSize": "standard_d4_v2"
                },
                "osProfile": {
                  "linuxOperatingSystemProfile": {
                    "username": "sshuser"
                  }
                }
              },
              {
                "name": "zookeepernode",
                "targetInstanceCount": 3,
                "hardwareProfile": {
                  "vmSize": "standard_a2_v2"
                },
                "osProfile": {
                  "linuxOperatingSystemProfile": {
                    "username": "sshuser"
                  }
                }
              }
            ]
          },
          "provisioningState": "Succeeded",
          "clusterState": "Running",
          "createdDate": "2019-11-18T12:25:43.48",
          "quotaInfo": {
            "coresUsed": 40
          },
          "connectivityEndpoints": [
            {
              "name": "SSH",
              "protocol": "TCP",
              "location": "cluster1-ssh.azurehdinsight.net",
              "port": 22
            },
            {
              "name": "HTTPS",
              "protocol": "TCP",
              "location": "cluster1.azurehdinsight.net",
              "port": 443
            }
          ],
          "tier": "Standard"
        }
      }
- name: Create Hadoop cluster with Azure Data Lake Storage Gen 2
  request:
    uri: PUT https://management.azure.com/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.HDInsight/clusters/cluster1?api-version=2018-06-01-preview
    body: >-
      {
        "tags": {
          "key1": "val1"
        },
        "properties": {
          "clusterVersion": "3.6",
          "osType": "Linux",
          "tier": "Standard",
          "clusterDefinition": {
            "kind": "Hadoop",
            "configurations": {
              "gateway": {
                "restAuthCredential.isEnabled": "true",
                "restAuthCredential.username": "admin",
                "restAuthCredential.password": "**********"
              }
            }
          },
          "storageProfile": {
            "storageaccounts": [
              {
                "name": "mystorage.dfs.core.windows.net",
                "isDefault": true,
                "fileSystem": "default",
                "key": "storagekey"
              }
            ]
          },
          "computeProfile": {
            "roles": [
              {
                "name": "headnode",
                "minInstanceCount": 1,
                "targetInstanceCount": 2,
                "hardwareProfile": {
                  "vmSize": "Standard_D3_V2"
                },
                "osProfile": {
                  "linuxOperatingSystemProfile": {
                    "username": "sshuser",
                    "password": "**********"
                  }
                }
              },
              {
                "name": "workernode",
                "minInstanceCount": 1,
                "targetInstanceCount": 4,
                "hardwareProfile": {
                  "vmSize": "Standard_D3_V2"
                },
                "osProfile": {
                  "linuxOperatingSystemProfile": {
                    "username": "sshuser",
                    "password": "**********"
                  }
                }
              },
              {
                "name": "zookeepernode",
                "minInstanceCount": 1,
                "targetInstanceCount": 3,
                "hardwareProfile": {
                  "vmSize": "Small"
                },
                "osProfile": {
                  "linuxOperatingSystemProfile": {
                    "username": "sshuser",
                    "password": "**********"
                  }
                }
              }
            ]
          }
        }
      }
  responses:
  - statusCode: "200"
    headers:
    - name: location
      value: https://management.azure.com/subscriptions/subid/providers/Microsoft.HDInsight/pathToOperationResult
    body: >-
      {
        "id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rg1/providers/Microsoft.HDInsight/clusters/cluster1",
        "name": "cluster1",
        "type": "Microsoft.HDInsight/clusters",
        "location": "East US",
        "etag": "fdf2a6e8-ce83-42cc-8c2d-0ceb11a370ff",
        "properties": {
          "clusterVersion": "4.0.1000.1",
          "osType": "Linux",
          "clusterDefinition": {
            "blueprint": "https://blueprints.azurehdinsight.net/hadoop-4.0.1000.1.1910270459.json",
            "kind": "HADOOP",
            "componentVersion": {
              "Hadoop": "3.1"
            }
          },
          "computeProfile": {
            "roles": [
              {
                "name": "headnode",
                "targetInstanceCount": 2,
                "hardwareProfile": {
                  "vmSize": "standard_d12_v2"
                },
                "osProfile": {
                  "linuxOperatingSystemProfile": {
                    "username": "sshuser"
                  }
                }
              },
              {
                "name": "workernode",
                "targetInstanceCount": 4,
                "hardwareProfile": {
                  "vmSize": "standard_d4_v2"
                },
                "osProfile": {
                  "linuxOperatingSystemProfile": {
                    "username": "sshuser"
                  }
                }
              },
              {
                "name": "zookeepernode",
                "targetInstanceCount": 3,
                "hardwareProfile": {
                  "vmSize": "standard_a2_v2"
                },
                "osProfile": {
                  "linuxOperatingSystemProfile": {
                    "username": "sshuser"
                  }
                }
              }
            ]
          },
          "provisioningState": "Succeeded",
          "clusterState": "Running",
          "createdDate": "2019-11-18T12:25:43.48",
          "quotaInfo": {
            "coresUsed": 40
          },
          "connectivityEndpoints": [
            {
              "name": "SSH",
              "protocol": "TCP",
              "location": "cluster1-ssh.azurehdinsight.net",
              "port": 22
            },
            {
              "name": "HTTPS",
              "protocol": "TCP",
              "location": "cluster1.azurehdinsight.net",
              "port": 443
            }
          ],
          "tier": "Standard"
        }
      }
- name: Create HDInsight cluster with Autoscale configuration
  request:
    uri: PUT https://management.azure.com/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.HDInsight/clusters/cluster1?api-version=2018-06-01-preview
    body: >-
      {
        "properties": {
          "clusterVersion": "3.6",
          "osType": "Linux",
          "tier": "Standard",
          "clusterDefinition": {
            "kind": "hadoop",
            "componentVersion": {
              "Hadoop": "2.7"
            },
            "configurations": {
              "gateway": {
                "restAuthCredential.isEnabled": true,
                "restAuthCredential.username": "admin",
                "restAuthCredential.password": "**********"
              }
            }
          },
          "storageProfile": {
            "storageaccounts": [
              {
                "name": "mystorage.blob.core.windows.net",
                "isDefault": true,
                "container": "hdinsight-autoscale-tes-2019-06-18t05-49-16-591z",
                "key": "storagekey"
              }
            ]
          },
          "computeProfile": {
            "roles": [
              {
                "autoscale": {
                  "capacity": null,
                  "recurrence": {
                    "timeZone": "China Standard Time",
                    "schedule": [
                      {
                        "days": [
                          "Monday",
                          "Tuesday",
                          "Wednesday",
                          "Thursday",
                          "Friday"
                        ],
                        "timeAndCapacity": {
                          "time": "09:00",
                          "minInstanceCount": 3,
                          "maxInstanceCount": 3
                        }
                      },
                      {
                        "days": [
                          "Monday",
                          "Tuesday",
                          "Wednesday",
                          "Thursday",
                          "Friday"
                        ],
                        "timeAndCapacity": {
                          "time": "18:00",
                          "minInstanceCount": 6,
                          "maxInstanceCount": 6
                        }
                      },
                      {
                        "days": [
                          "Saturday",
                          "Sunday"
                        ],
                        "timeAndCapacity": {
                          "time": "09:00",
                          "minInstanceCount": 2,
                          "maxInstanceCount": 2
                        }
                      },
                      {
                        "days": [
                          "Saturday",
                          "Sunday"
                        ],
                        "timeAndCapacity": {
                          "time": "18:00",
                          "minInstanceCount": 4,
                          "maxInstanceCount": 4
                        }
                      }
                    ]
                  }
                },
                "name": "workernode",
                "targetInstanceCount": 4,
                "hardwareProfile": {
                  "vmSize": "Standard_D4_V2"
                },
                "osProfile": {
                  "linuxOperatingSystemProfile": {
                    "username": "sshuser",
                    "password": "**********"
                  }
                },
                "virtualNetworkProfile": null,
                "scriptActions": [],
                "dataDisksGroups": null
              }
            ]
          }
        }
      }
  responses:
  - statusCode: "200"
    headers:
    - name: location
      value: https://management.azure.com/subscriptions/subid/providers/Microsoft.HDInsight/pathToOperationResult
    body: >-
      {
        "id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rg1/providers/Microsoft.HDInsight/clusters/cluster1",
        "name": "cluster1",
        "type": "Microsoft.HDInsight/clusters",
        "location": "East US",
        "etag": "fdf2a6e8-ce83-42cc-8c2d-0ceb11a370ff",
        "properties": {
          "clusterVersion": "4.0.1000.1",
          "osType": "Linux",
          "clusterDefinition": {
            "blueprint": "https://blueprints.azurehdinsight.net/hadoop-4.0.1000.1.1910270459.json",
            "kind": "HADOOP",
            "componentVersion": {
              "Hadoop": "3.1"
            }
          },
          "computeProfile": {
            "roles": [
              {
                "name": "headnode",
                "targetInstanceCount": 2,
                "hardwareProfile": {
                  "vmSize": "standard_d12_v2"
                },
                "osProfile": {
                  "linuxOperatingSystemProfile": {
                    "username": "sshuser"
                  }
                }
              },
              {
                "name": "workernode",
                "targetInstanceCount": 4,
                "hardwareProfile": {
                  "vmSize": "standard_d4_v2"
                },
                "osProfile": {
                  "linuxOperatingSystemProfile": {
                    "username": "sshuser"
                  }
                }
              },
              {
                "name": "zookeepernode",
                "targetInstanceCount": 3,
                "hardwareProfile": {
                  "vmSize": "standard_a2_v2"
                },
                "osProfile": {
                  "linuxOperatingSystemProfile": {
                    "username": "sshuser"
                  }
                }
              }
            ]
          },
          "provisioningState": "Succeeded",
          "clusterState": "Running",
          "createdDate": "2019-11-18T12:25:43.48",
          "quotaInfo": {
            "coresUsed": 40
          },
          "connectivityEndpoints": [
            {
              "name": "SSH",
              "protocol": "TCP",
              "location": "cluster1-ssh.azurehdinsight.net",
              "port": 22
            },
            {
              "name": "HTTPS",
              "protocol": "TCP",
              "location": "cluster1.azurehdinsight.net",
              "port": 443
            }
          ],
          "tier": "Standard"
        }
      }
- name: Create Kafka cluster with Kafka Rest Proxy
  request:
    uri: PUT https://management.azure.com/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.HDInsight/clusters/cluster1?api-version=2018-06-01-preview
    body: >-
      {
        "properties": {
          "clusterVersion": "4.0",
          "osType": "Linux",
          "tier": "Standard",
          "clusterDefinition": {
            "kind": "kafka",
            "componentVersion": {
              "Kafka": "2.1"
            },
            "configurations": {
              "gateway": {
                "restAuthCredential.isEnabled": true,
                "restAuthCredential.username": "admin",
                "restAuthCredential.password": "**********"
              }
            }
          },
          "kafkaRestProperties": {
            "clientGroupInfo": {
              "groupName": "Kafka security group name",
              "groupId": "00000000-0000-0000-0000-111111111111"
            }
          },
          "computeProfile": {
            "roles": [
              {
                "name": "headnode",
                "targetInstanceCount": 2,
                "hardwareProfile": {
                  "vmSize": "Large"
                },
                "osProfile": {
                  "linuxOperatingSystemProfile": {
                    "username": "sshuser",
                    "password": "**********"
                  }
                }
              },
              {
                "name": "workernode",
                "targetInstanceCount": 3,
                "hardwareProfile": {
                  "vmSize": "Large"
                },
                "osProfile": {
                  "linuxOperatingSystemProfile": {
                    "username": "sshuser",
                    "password": "**********"
                  }
                },
                "dataDisksGroups": [
                  {
                    "disksPerNode": 8
                  }
                ]
              },
              {
                "name": "zookeepernode",
                "targetInstanceCount": 3,
                "hardwareProfile": {
                  "vmSize": "Small"
                },
                "osProfile": {
                  "linuxOperatingSystemProfile": {
                    "username": "sshuser",
                    "password": "**********"
                  }
                }
              },
              {
                "name": "kafkamanagementnode",
                "targetInstanceCount": 2,
                "hardwareProfile": {
                  "vmSize": "Standard_D4_v2"
                },
                "osProfile": {
                  "linuxOperatingSystemProfile": {
                    "username": "kafkauser",
                    "password": "**********"
                  }
                }
              }
            ]
          },
          "storageProfile": {
            "storageaccounts": [
              {
                "name": "mystorage.blob.core.windows.net",
                "isDefault": true,
                "container": "containername",
                "key": "storagekey"
              }
            ]
          }
        }
      }
  responses:
  - statusCode: "200"
    headers:
    - name: location
      value: https://management.azure.com/subscriptions/subid/providers/Microsoft.HDInsight/pathToOperationResult
    body: >-
      {
        "id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rg1/providers/Microsoft.HDInsight/clusters/cluster1",
        "name": "cluster1",
        "type": "Microsoft.HDInsight/clusters",
        "location": "South Central US",
        "etag": "e1266b83-9bda-4797-a906-1bf82c8eb09a",
        "tags": null,
        "properties": {
          "clusterVersion": "4.0.1000.1",
          "osType": "Linux",
          "clusterDefinition": {
            "blueprint": "https://blueprints.azurehdinsight.net/kafka-4.0.1000.1.1911212244.json",
            "kind": "KAFKA",
            "componentVersion": {
              "Kafka": "2.1"
            }
          },
          "computeProfile": {
            "roles": [
              {
                "name": "headnode",
                "targetInstanceCount": 2,
                "hardwareProfile": {
                  "vmSize": "standard_d3_v2"
                },
                "osProfile": {
                  "linuxOperatingSystemProfile": {
                    "username": "sshuser"
                  }
                }
              },
              {
                "name": "workernode",
                "targetInstanceCount": 4,
                "hardwareProfile": {
                  "vmSize": "standard_d3_v2"
                },
                "osProfile": {
                  "linuxOperatingSystemProfile": {
                    "username": "sshuser"
                  }
                },
                "dataDisksGroups": [
                  {
                    "disksPerNode": 2,
                    "storageAccountType": "Standard_LRS",
                    "diskSizeGB": 1023
                  }
                ]
              },
              {
                "name": "kafkamanagementnode",
                "targetInstanceCount": 2,
                "hardwareProfile": {
                  "vmSize": "standard_d4_v2"
                },
                "osProfile": {
                  "linuxOperatingSystemProfile": {
                    "username": "sshuser"
                  }
                }
              },
              {
                "name": "zookeepernode",
                "targetInstanceCount": 3,
                "hardwareProfile": {
                  "vmSize": "standard_a4_v2"
                },
                "osProfile": {
                  "linuxOperatingSystemProfile": {
                    "username": "sshuser"
                  }
                }
              }
            ]
          },
          "provisioningState": "Succeeded",
          "clusterState": "Running",
          "createdDate": "2019-11-25T03:43:23.663",
          "quotaInfo": {
            "coresUsed": 52
          },
          "connectivityEndpoints": [
            {
              "name": "SSH",
              "protocol": "TCP",
              "location": "cluster1-ssh.azurehdinsight.net",
              "port": 22
            },
            {
              "name": "HTTPS",
              "protocol": "TCP",
              "location": "cluster1.azurehdinsight.net",
              "port": 443
            },
            {
              "name": "KafkaRestProxyPublicEndpoint",
              "protocol": "TCP",
              "location": "cluster1-kafkarest.azurehdinsight.net",
              "port": 443
            }
          ],
          "tier": "Standard",
          "kafkaRestProperties": {
            "clientGroupInfo": {
              "groupName": "security group name",
              "groupId": "00000000-0000-0000-0000-000000000000"
            }
          }
        }
      }
- name: Create cluster with TLS 1.2
  request:
    uri: PUT https://management.azure.com/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.HDInsight/clusters/cluster1?api-version=2018-06-01-preview
    body: >-
      {
        "properties": {
          "clusterVersion": "3.6",
          "osType": "Linux",
          "tier": "Standard",
          "clusterDefinition": {
            "kind": "Hadoop",
            "configurations": {
              "gateway": {
                "restAuthCredential.isEnabled": true,
                "restAuthCredential.username": "admin",
                "restAuthCredential.password": "**********"
              }
            }
          },
          "computeProfile": {
            "roles": [
              {
                "name": "headnode",
                "targetInstanceCount": 2,
                "hardwareProfile": {
                  "vmSize": "Large"
                },
                "osProfile": {
                  "linuxOperatingSystemProfile": {
                    "username": "sshuser",
                    "password": "**********"
                  }
                }
              },
              {
                "name": "workernode",
                "targetInstanceCount": 3,
                "hardwareProfile": {
                  "vmSize": "Large"
                },
                "osProfile": {
                  "linuxOperatingSystemProfile": {
                    "username": "sshuser",
                    "password": "**********"
                  }
                }
              },
              {
                "name": "zookeepernode",
                "targetInstanceCount": 3,
                "hardwareProfile": {
                  "vmSize": "Small"
                },
                "osProfile": {
                  "linuxOperatingSystemProfile": {
                    "username": "sshuser",
                    "password": "**********"
                  }
                }
              }
            ]
          },
          "storageProfile": {
            "storageaccounts": [
              {
                "name": "mystorage.blob.core.windows.net",
                "isDefault": true,
                "container": "default8525",
                "key": "storagekey"
              }
            ]
          },
          "minSupportedTlsVersion": "1.2"
        }
      }
  responses:
  - statusCode: "200"
    headers:
    - name: location
      value: https://management.azure.com/subscriptions/subid/providers/Microsoft.HDInsight/pathToOperationResult
    body: >-
      {
        "id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rg1/providers/Microsoft.HDInsight/clusters/cluster1",
        "name": "cluster1",
        "type": "Microsoft.HDInsight/clusters",
        "location": "South Central US",
        "etag": "3b76ce3d-892c-4036-9d8b-8ade18ba7a4b",
        "tags": null,
        "properties": {
          "clusterVersion": "3.6.1000.67",
          "osType": "Linux",
          "clusterDefinition": {
            "blueprint": "https://blueprints.azurehdinsight.net/hadoop-3.6.1000.67.2001080246.json",
            "kind": "Hadoop",
            "componentVersion": {
              "Hadoop": "2.7"
            }
          },
          "computeProfile": {
            "roles": [
              {
                "name": "headnode",
                "targetInstanceCount": 2,
                "hardwareProfile": {
                  "vmSize": "standard_a4_v2"
                },
                "osProfile": {
                  "linuxOperatingSystemProfile": {
                    "username": "sshuser"
                  }
                }
              },
              {
                "name": "workernode",
                "targetInstanceCount": 3,
                "hardwareProfile": {
                  "vmSize": "standard_a4_v2"
                },
                "osProfile": {
                  "linuxOperatingSystemProfile": {
                    "username": "sshuser"
                  }
                }
              },
              {
                "name": "zookeepernode",
                "targetInstanceCount": 3,
                "hardwareProfile": {
                  "vmSize": "standard_a2_v2"
                },
                "osProfile": {
                  "linuxOperatingSystemProfile": {
                    "username": "sshuser"
                  }
                }
              }
            ]
          },
          "provisioningState": "Succeeded",
          "clusterState": "Running",
          "createdDate": "2020-01-10T08:36:39.153",
          "quotaInfo": {
            "coresUsed": 20
          },
          "connectivityEndpoints": [
            {
              "name": "SSH",
              "protocol": "TCP",
              "location": "cluster1-ssh.azurehdinsight.net",
              "port": 22
            },
            {
              "name": "HTTPS",
              "protocol": "TCP",
              "location": "cluster1.azurehdinsight.net",
              "port": 443
            }
          ],
          "tier": "Standard",
          "minSupportedTlsVersion": "1.2"
        }
      }
- name: Create cluster with encryption in transit
  request:
    uri: PUT https://management.azure.com/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.HDInsight/clusters/cluster1?api-version=2018-06-01-preview
    body: >-
      {
        "properties": {
          "clusterVersion": "3.6",
          "osType": "Linux",
          "tier": "Standard",
          "clusterDefinition": {
            "kind": "Hadoop",
            "configurations": {
              "gateway": {
                "restAuthCredential.isEnabled": true,
                "restAuthCredential.username": "admin",
                "restAuthCredential.password": "**********"
              }
            }
          },
          "computeProfile": {
            "roles": [
              {
                "name": "headnode",
                "targetInstanceCount": 2,
                "hardwareProfile": {
                  "vmSize": "Large"
                },
                "osProfile": {
                  "linuxOperatingSystemProfile": {
                    "username": "sshuser",
                    "password": "**********"
                  }
                }
              },
              {
                "name": "workernode",
                "targetInstanceCount": 3,
                "hardwareProfile": {
                  "vmSize": "Large"
                },
                "osProfile": {
                  "linuxOperatingSystemProfile": {
                    "username": "sshuser",
                    "password": "**********"
                  }
                }
              },
              {
                "name": "zookeepernode",
                "targetInstanceCount": 3,
                "hardwareProfile": {
                  "vmSize": "Small"
                },
                "osProfile": {
                  "linuxOperatingSystemProfile": {
                    "username": "sshuser",
                    "password": "**********"
                  }
                }
              }
            ]
          },
          "storageProfile": {
            "storageaccounts": [
              {
                "name": "mystorage.blob.core.windows.net",
                "isDefault": true,
                "container": "default8525",
                "key": "storagekey"
              }
            ]
          },
          "encryptionInTransitProperties": {
            "isEncryptionInTransitEnabled": true
          }
        }
      }
  responses:
  - statusCode: "200"
    headers:
    - name: location
      value: https://management.azure.com/subscriptions/subid/providers/Microsoft.HDInsight/pathToOperationResult
    body: >-
      {
        "id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rg1/providers/Microsoft.HDInsight/clusters/cluster1",
        "name": "cluster1",
        "type": "Microsoft.HDInsight/clusters",
        "location": "South Central US",
        "etag": "3b76ce3d-892c-4036-9d8b-8ade18ba7a4b",
        "tags": null,
        "properties": {
          "clusterVersion": "3.6.1000.67",
          "osType": "Linux",
          "clusterDefinition": {
            "blueprint": "https://blueprints.azurehdinsight.net/hadoop-3.6.1000.67.2001080246.json",
            "kind": "Hadoop",
            "componentVersion": {
              "Hadoop": "2.7"
            }
          },
          "computeProfile": {
            "roles": [
              {
                "name": "headnode",
                "targetInstanceCount": 2,
                "hardwareProfile": {
                  "vmSize": "standard_a4_v2"
                },
                "osProfile": {
                  "linuxOperatingSystemProfile": {
                    "username": "sshuser"
                  }
                }
              },
              {
                "name": "workernode",
                "targetInstanceCount": 3,
                "hardwareProfile": {
                  "vmSize": "standard_a4_v2"
                },
                "osProfile": {
                  "linuxOperatingSystemProfile": {
                    "username": "sshuser"
                  }
                }
              },
              {
                "name": "zookeepernode",
                "targetInstanceCount": 3,
                "hardwareProfile": {
                  "vmSize": "standard_a2_v2"
                },
                "osProfile": {
                  "linuxOperatingSystemProfile": {
                    "username": "sshuser"
                  }
                }
              }
            ]
          },
          "provisioningState": "Succeeded",
          "clusterState": "Running",
          "createdDate": "2020-01-10T08:36:39.153",
          "quotaInfo": {
            "coresUsed": 20
          },
          "connectivityEndpoints": [
            {
              "name": "SSH",
              "protocol": "TCP",
              "location": "cluster1-ssh.azurehdinsight.net",
              "port": 22
            },
            {
              "name": "HTTPS",
              "protocol": "TCP",
              "location": "cluster1.azurehdinsight.net",
              "port": 443
            }
          ],
          "tier": "Standard",
          "encryptionInTransitProperties": {
            "isEncryptionInTransitEnabled": true
          }
        }
      }
- name: Create cluster with encryption at host
  request:
    uri: PUT https://management.azure.com/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.HDInsight/clusters/cluster1?api-version=2018-06-01-preview
    body: >-
      {
        "properties": {
          "clusterVersion": "3.6",
          "osType": "Linux",
          "tier": "Standard",
          "clusterDefinition": {
            "kind": "Hadoop",
            "configurations": {
              "gateway": {
                "restAuthCredential.isEnabled": true,
                "restAuthCredential.username": "admin",
                "restAuthCredential.password": "**********"
              }
            }
          },
          "computeProfile": {
            "roles": [
              {
                "name": "headnode",
                "targetInstanceCount": 2,
                "hardwareProfile": {
                  "vmSize": "Standard_DS14_v2"
                },
                "osProfile": {
                  "linuxOperatingSystemProfile": {
                    "username": "sshuser",
                    "password": "**********"
                  }
                }
              },
              {
                "name": "workernode",
                "targetInstanceCount": 3,
                "hardwareProfile": {
                  "vmSize": "Standard_DS14_v2"
                },
                "osProfile": {
                  "linuxOperatingSystemProfile": {
                    "username": "sshuser",
                    "password": "**********"
                  }
                }
              },
              {
                "name": "zookeepernode",
                "targetInstanceCount": 3,
                "hardwareProfile": {
                  "vmSize": "Standard_DS14_v2"
                },
                "osProfile": {
                  "linuxOperatingSystemProfile": {
                    "username": "sshuser",
                    "password": "**********"
                  }
                }
              }
            ]
          },
          "storageProfile": {
            "storageaccounts": [
              {
                "name": "mystorage.blob.core.windows.net",
                "isDefault": true,
                "container": "default8525",
                "key": "storagekey"
              }
            ]
          },
          "diskEncryptionProperties": {
            "encryptionAtHost": true
          }
        }
      }
  responses:
  - statusCode: "200"
    headers:
    - name: location
      value: https://management.azure.com/subscriptions/subid/providers/Microsoft.HDInsight/pathToOperationResult
    body: >-
      {
        "id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rg1/providers/Microsoft.HDInsight/clusters/cluster1",
        "name": "cluster1",
        "type": "Microsoft.HDInsight/clusters",
        "location": "South Central US",
        "etag": "3b76ce3d-892c-4036-9d8b-8ade18ba7a4b",
        "tags": null,
        "properties": {
          "clusterVersion": "3.6.1000.67",
          "osType": "Linux",
          "clusterDefinition": {
            "blueprint": "https://blueprints.azurehdinsight.net/hadoop-3.6.1000.67.2001080246.json",
            "kind": "Hadoop",
            "componentVersion": {
              "Hadoop": "2.7"
            }
          },
          "computeProfile": {
            "roles": [
              {
                "name": "headnode",
                "targetInstanceCount": 2,
                "hardwareProfile": {
                  "vmSize": "standard_ds14_v2"
                },
                "osProfile": {
                  "linuxOperatingSystemProfile": {
                    "username": "sshuser"
                  }
                }
              },
              {
                "name": "workernode",
                "targetInstanceCount": 3,
                "hardwareProfile": {
                  "vmSize": "standard_ds14_v2"
                },
                "osProfile": {
                  "linuxOperatingSystemProfile": {
                    "username": "sshuser"
                  }
                }
              },
              {
                "name": "zookeepernode",
                "targetInstanceCount": 3,
                "hardwareProfile": {
                  "vmSize": "standard_ds14_v2"
                },
                "osProfile": {
                  "linuxOperatingSystemProfile": {
                    "username": "sshuser"
                  }
                }
              }
            ]
          },
          "provisioningState": "Succeeded",
          "clusterState": "Running",
          "createdDate": "2020-01-10T08:36:39.153",
          "quotaInfo": {
            "coresUsed": 20
          },
          "connectivityEndpoints": [
            {
              "name": "SSH",
              "protocol": "TCP",
              "location": "cluster1-ssh.azurehdinsight.net",
              "port": 22
            },
            {
              "name": "HTTPS",
              "protocol": "TCP",
              "location": "cluster1.azurehdinsight.net",
              "port": 443
            }
          ],
          "tier": "Standard",
          "diskEncryptionProperties": {
            "vaultUri": null,
            "keyName": null,
            "keyVersion": null,
            "encryptionAlgorithm": null,
            "msiResourceId": null,
            "encryptionAtHost": true
          }
        }
      }
- name: Create cluster with network properties
  request:
    uri: PUT https://management.azure.com/subscriptions/subId/resourceGroups/rg1/providers/Microsoft.HDInsight/clusters/cluster1?api-version=2018-06-01-preview
    body: >-
      {
        "properties": {
          "clusterVersion": "3.6",
          "osType": "Linux",
          "clusterDefinition": {
            "kind": "hadoop",
            "configurations": {
              "gateway": {
                "restAuthCredential.isEnabled": true,
                "restAuthCredential.username": "admin",
                "restAuthCredential.password": "**********"
              }
            }
          },
          "storageProfile": {
            "storageaccounts": [
              {
                "name": "mystorage",
                "isDefault": true,
                "container": "containername",
                "key": "storage account key"
              }
            ]
          },
          "computeProfile": {
            "roles": [
              {
                "name": "headnode",
                "targetInstanceCount": 2,
                "hardwareProfile": {
                  "vmSize": "standard_d3"
                },
                "osProfile": {
                  "linuxOperatingSystemProfile": {
                    "username": "sshuser",
                    "password": "**********",
                    "sshProfile": {
                      "publicKeys": [
                        {
                          "certificateData": "**********"
                        }
                      ]
                    }
                  }
                },
                "virtualNetworkProfile": {
                  "id": "/subscriptions/subId/resourceGroups/rg/providers/Microsoft.Network/virtualNetworks/vnetname",
                  "subnet": "/subscriptions/subId/resourceGroups/rg/providers/Microsoft.Network/virtualNetworks/vnetname/subnets/vnetsubnet"
                }
              },
              {
                "name": "workernode",
                "targetInstanceCount": 2,
                "hardwareProfile": {
                  "vmSize": "standard_d3"
                },
                "osProfile": {
                  "linuxOperatingSystemProfile": {
                    "username": "sshuser",
                    "password": "**********",
                    "sshProfile": {
                      "publicKeys": [
                        {
                          "certificateData": "**********"
                        }
                      ]
                    }
                  }
                },
                "virtualNetworkProfile": {
                  "id": "/subscriptions/subId/resourceGroups/rg/providers/Microsoft.Network/virtualNetworks/vnetname",
                  "subnet": "/subscriptions/subId/resourceGroups/rg/providers/Microsoft.Network/virtualNetworks/vnetname/subnets/vnetsubnet"
                }
              }
            ]
          },
          "networkProperties": {
            "resourceProviderConnection": "Outbound",
            "privateLink": "Enabled"
          }
        }
      }
  responses:
  - statusCode: "200"
    headers:
    - name: location
      value: https://management.azure.com/subscriptions/subid/providers/Microsoft.HDInsight/pathToOperationResult
    body: >-
      {
        "id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rg1/providers/Microsoft.HDInsight/clusters/cluster1",
        "name": "cluster1",
        "type": "Microsoft.HDInsight/clusters",
        "location": "South Central US",
        "etag": "fdf2a6e8-ce83-42cc-8c2d-0ceb11a370ff",
        "tags": null,
        "properties": {
          "clusterVersion": "3.6.1000.67",
          "osType": "Linux",
          "clusterId": "8186508b6234470e9d16c9e8e13bd821",
          "clusterDefinition": {
            "blueprint": "https://blueprints.azurehdinsight.net/hadoop-3.6.1000.67.2005040905.json",
            "kind": "hadoop"
          },
          "computeProfile": {
            "roles": [
              {
                "name": "headnode",
                "targetInstanceCount": 2,
                "hardwareProfile": {
                  "vmSize": "standard_d3"
                },
                "osProfile": {
                  "linuxOperatingSystemProfile": {
                    "username": "sshuser"
                  }
                },
                "virtualNetworkProfile": {
                  "id": "/subscriptions/subId/resourceGroups/rg/providers/Microsoft.Network/virtualNetworks/vnetname",
                  "subnet": "/subscriptions/subId/resourceGroups/rg/providers/Microsoft.Network/virtualNetworks/vnetname/subnets/vnetsubnet"
                }
              },
              {
                "name": "workernode",
                "targetInstanceCount": 2,
                "hardwareProfile": {
                  "vmSize": "standard_d3"
                },
                "osProfile": {
                  "linuxOperatingSystemProfile": {
                    "username": "sshuser"
                  }
                },
                "virtualNetworkProfile": {
                  "id": "/subscriptions/subId/resourceGroups/rg/providers/Microsoft.Network/virtualNetworks/vnetname",
                  "subnet": "/subscriptions/subId/resourceGroups/rg/providers/Microsoft.Network/virtualNetworks/vnetname/subnets/vnetsubnet"
                }
              }
            ]
          },
          "networkProperties": {
            "resourceProviderConnection": "Outbound",
            "privateLink": "Enabled"
          },
          "provisioningState": "Succeeded",
          "clusterState": "Running",
          "createdDate": "2020-06-09T12:25:43.48",
          "quotaInfo": {
            "coresUsed": 16
          },
          "tier": "Standard"
        }
      }
- name: Create cluster with compute isolation properties
  request:
    uri: PUT https://management.azure.com/subscriptions/subId/resourceGroups/rg1/providers/Microsoft.HDInsight/clusters/cluster1?api-version=2018-06-01-preview
    body: >-
      {
        "properties": {
          "clusterVersion": "3.6",
          "osType": "Linux",
          "clusterDefinition": {
            "kind": "hadoop",
            "configurations": {
              "gateway": {
                "restAuthCredential.isEnabled": true,
                "restAuthCredential.username": "admin",
                "restAuthCredential.password": "**********"
              }
            }
          },
          "storageProfile": {
            "storageaccounts": [
              {
                "name": "mystorage",
                "isDefault": true,
                "container": "containername",
                "key": "storage account key"
              }
            ]
          },
          "computeProfile": {
            "roles": [
              {
                "name": "headnode",
                "targetInstanceCount": 2,
                "hardwareProfile": {
                  "vmSize": "standard_d3"
                },
                "osProfile": {
                  "linuxOperatingSystemProfile": {
                    "username": "sshuser",
                    "password": "**********",
                    "sshProfile": {
                      "publicKeys": [
                        {
                          "certificateData": "**********"
                        }
                      ]
                    }
                  }
                }
              },
              {
                "name": "workernode",
                "targetInstanceCount": 2,
                "hardwareProfile": {
                  "vmSize": "standard_d3"
                },
                "osProfile": {
                  "linuxOperatingSystemProfile": {
                    "username": "sshuser",
                    "password": "**********",
                    "sshProfile": {
                      "publicKeys": [
                        {
                          "certificateData": "**********"
                        }
                      ]
                    }
                  }
                }
              }
            ]
          },
          "computeIsolationProperties": {
            "enableComputeIsolation": true,
            "hostSku": null
          }
        }
      }
  responses:
  - statusCode: "200"
    headers:
    - name: location
      value: https://management.azure.com/subscriptions/subid/providers/Microsoft.HDInsight/pathToOperationResult
    body: >-
      {
        "id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rg1/providers/Microsoft.HDInsight/clusters/cluster1",
        "name": "cluster1",
        "type": "Microsoft.HDInsight/clusters",
        "location": "South Central US",
        "etag": "fdf2a6e8-ce83-42cc-8c2d-0ceb11a370ff",
        "tags": null,
        "properties": {
          "clusterVersion": "3.6.1000.67",
          "osType": "Linux",
          "clusterId": "8186508b6234470e9d16c9e8e13bd821",
          "clusterDefinition": {
            "blueprint": "https://blueprints.azurehdinsight.net/hadoop-3.6.1000.67.2005040905.json",
            "kind": "hadoop"
          },
          "computeProfile": {
            "roles": [
              {
                "name": "headnode",
                "targetInstanceCount": 2,
                "hardwareProfile": {
                  "vmSize": "standard_d3"
                },
                "osProfile": {
                  "linuxOperatingSystemProfile": {
                    "username": "sshuser"
                  }
                },
                "virtualNetworkProfile": {
                  "id": "/subscriptions/subId/resourceGroups/rg/providers/Microsoft.Network/virtualNetworks/vnetname",
                  "subnet": "/subscriptions/subId/resourceGroups/rg/providers/Microsoft.Network/virtualNetworks/vnetname/subnets/vnetsubnet"
                }
              },
              {
                "name": "workernode",
                "targetInstanceCount": 2,
                "hardwareProfile": {
                  "vmSize": "standard_d3"
                },
                "osProfile": {
                  "linuxOperatingSystemProfile": {
                    "username": "sshuser"
                  }
                }
              }
            ]
          },
          "computeIsolationProperties": {
            "enableComputeIsolation": true,
            "hostSku": null
          },
          "provisioningState": "Succeeded",
          "clusterState": "Running",
          "createdDate": "2020-06-09T12:25:43.48",
          "quotaInfo": {
            "coresUsed": 16
          },
          "tier": "Standard"
        }
      }
security:
- name: azure_auth
  type: oauth2
  description: Azure Active Directory OAuth2 Flow
  flow: implicit
  authorizationUrl: https://login.microsoftonline.com/common/oauth2/authorize
  scopes:
  - name: user_impersonation
    description: impersonate your user account
errorCodes: []
