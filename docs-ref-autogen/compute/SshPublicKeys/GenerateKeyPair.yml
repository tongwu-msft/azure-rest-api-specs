### YamlMime:RESTOperation
uid: management.azure.com.compute.sshpublickeys.generatekeypair
name: Generate Key Pair
service: Compute
groupName: Ssh Public Keys
apiVersion: 2019-12-01
summary: Generates and returns a public/private key pair and populates the SSH public key resource with the public key. The length of the key will be 3072 bits. This operation can only be performed once per SSH public key resource.
consumes:
- application/json
produces:
- application/json
paths:
- content: POST https://management.azure.com/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Compute/sshPublicKeys/{sshPublicKeyName}/generateKeyPair?api-version=2019-12-01
uriParameters:
- name: subscriptionId
  in: path
  isRequired: true
  description: Subscription credentials which uniquely identify Microsoft Azure subscription. The subscription ID forms part of the URI for every service call.
  types:
  - uid: string
- name: resourceGroupName
  in: path
  isRequired: true
  description: The name of the resource group.
  types:
  - uid: string
- name: sshPublicKeyName
  in: path
  isRequired: true
  description: The name of the SSH public key.
  types:
  - uid: string
- name: api-version
  in: query
  isRequired: true
  description: Client Api Version.
  types:
  - uid: string
responses:
- name: 200 OK
  description: OK
  types:
  - uid: SshPublicKeyGenerateKeyPairResult
requestHeader: []
definitions:
- name: SshPublicKeyGenerateKeyPairResult
  description: Response from generation of an SSH key pair.
  kind: object
  properties:
  - name: privateKey
    description: Private key portion of the key pair used to authenticate to a virtual machine through ssh. The private key is returned in RFC3447 format and should be treated as a secret.
    types:
    - uid: string
  - name: publicKey
    description: Public key portion of the key pair used to authenticate to a virtual machine through ssh. The public key is in ssh-rsa format.
    types:
    - uid: string
  - name: id
    description: The ARM resource id in the form of /subscriptions/{SubscriptionId}/resourceGroups/{ResourceGroupName}/providers/Microsoft.Compute/sshPublicKeys/{SshPublicKeyName}
    types:
    - uid: string
examples:
- name: Generate an SSH key pair.
  request:
    uri: POST https://management.azure.com/subscriptions/{subscription-id}/resourceGroups/myResourceGroup/providers/Microsoft.Compute/sshPublicKeys/mySshPublicKeyName/generateKeyPair?api-version=2019-12-01
  responses:
  - statusCode: "200"
    body: >-
      {
        "privateKey": "{ssh private key}",
        "publicKey": "{ssh-rsa public key}",
        "id": "/subscriptions/{subscription-id}/resourceGroups/myResourceGroup/providers/Microsoft.Compute/SshPublicKeys/mySshPublicKeyName"
      }
security:
- name: azure_auth
  type: oauth2
  description: Azure Active Directory OAuth2 Flow
  flow: implicit
  authorizationUrl: https://login.microsoftonline.com/common/oauth2/authorize
  scopes:
  - name: user_impersonation
    description: impersonate your user account
errorCodes: []
