### YamlMime:RESTOperation
uid: management.azure.com.compute.disks.createorupdate
name: Create Or Update
service: Compute
groupName: Disks
apiVersion: 2021-12-01
summary: Creates or updates a disk.
consumes:
- application/json
produces:
- application/json
paths:
- content: PUT https://management.azure.com/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Compute/disks/{diskName}?api-version=2021-12-01
uriParameters:
- name: subscriptionId
  in: path
  isRequired: true
  description: Subscription credentials which uniquely identify Microsoft Azure subscription. The subscription ID forms part of the URI for every service call.
  types:
  - uid: string
- name: resourceGroupName
  in: path
  isRequired: true
  description: The name of the resource group.
  types:
  - uid: string
- name: diskName
  in: path
  isRequired: true
  description: The name of the managed disk that is being created. The name can't be changed after the disk is created. Supported characters for the name are a-z, A-Z, 0-9, _ and -. The maximum name length is 80 characters.
  types:
  - uid: string
- name: api-version
  in: query
  isRequired: true
  description: Client Api Version.
  types:
  - uid: string
responses:
- name: 200 OK
  description: OK
  types:
  - uid: Disk
- name: 202 Accepted
  description: Accepted
  types:
  - uid: Disk
requestBody:
- name: default
  parameters:
  - name: sku
    in: body
    description: The disks sku name. Can be Standard_LRS, Premium_LRS, StandardSSD_LRS, UltraSSD_LRS, Premium_ZRS, or StandardSSD_ZRS.
    types:
    - uid: DiskSku
  - name: zones
    in: body
    description: The Logical zone list for Disk.
    types:
    - uid: string
      isArray: true
  - name: extendedLocation
    in: body
    description: The extended location where the disk will be created. Extended location cannot be changed.
    types:
    - uid: ExtendedLocation
  - name: properties.osType
    in: body
    description: The Operating System type.
    types:
    - uid: OperatingSystemTypes
  - name: properties.hyperVGeneration
    in: body
    description: The hypervisor generation of the Virtual Machine. Applicable to OS disks only.
    types:
    - uid: HyperVGeneration
  - name: properties.purchasePlan
    in: body
    description: 'Purchase plan information for the the image from which the OS disk was created. E.g. - {name: 2019-Datacenter, publisher: MicrosoftWindowsServer, product: WindowsServer}'
    types:
    - uid: PurchasePlan
  - name: properties.supportedCapabilities
    in: body
    description: List of supported capabilities for the image from which the OS disk was created.
    types:
    - uid: SupportedCapabilities
  - name: properties.creationData
    in: body
    isRequired: true
    description: Disk source information. CreationData information cannot be changed after the disk has been created.
    types:
    - uid: CreationData
  - name: properties.diskSizeGB
    in: body
    description: If creationData.createOption is Empty, this field is mandatory and it indicates the size of the disk to create. If this field is present for updates or creation with other options, it indicates a resize. Resizes are only allowed if the disk is not attached to a running VM, and can only increase the disk's size.
    types:
    - uid: integer
  - name: properties.encryptionSettingsCollection
    in: body
    description: Encryption settings collection used for Azure Disk Encryption, can contain multiple encryption settings per disk or snapshot.
    types:
    - uid: EncryptionSettingsCollection
  - name: properties.diskIOPSReadWrite
    in: body
    description: The number of IOPS allowed for this disk; only settable for UltraSSD disks. One operation can transfer between 4k and 256k bytes.
    types:
    - uid: integer
  - name: properties.diskMBpsReadWrite
    in: body
    description: The bandwidth allowed for this disk; only settable for UltraSSD disks. MBps means millions of bytes per second - MB here uses the ISO notation, of powers of 10.
    types:
    - uid: integer
  - name: properties.diskIOPSReadOnly
    in: body
    description: The total number of IOPS that will be allowed across all VMs mounting the shared disk as ReadOnly. One operation can transfer between 4k and 256k bytes.
    types:
    - uid: integer
  - name: properties.diskMBpsReadOnly
    in: body
    description: The total throughput (MBps) that will be allowed across all VMs mounting the shared disk as ReadOnly. MBps means millions of bytes per second - MB here uses the ISO notation, of powers of 10.
    types:
    - uid: integer
  - name: properties.encryption
    in: body
    description: Encryption property can be used to encrypt data at rest with customer managed keys or platform managed keys.
    types:
    - uid: Encryption
  - name: properties.maxShares
    in: body
    description: The maximum number of VMs that can attach to the disk at the same time. Value greater than one indicates a disk that can be mounted on multiple VMs at the same time.
    types:
    - uid: integer
  - name: properties.networkAccessPolicy
    in: body
    description: Policy for accessing the disk via network.
    types:
    - uid: NetworkAccessPolicy
  - name: properties.diskAccessId
    in: body
    description: ARM id of the DiskAccess resource for using private endpoints on disks.
    types:
    - uid: string
  - name: properties.tier
    in: body
    description: 'Performance tier of the disk (e.g, P4, S10) as described here: https://azure.microsoft.com/en-us/pricing/details/managed-disks/. Does not apply to Ultra disks.'
    types:
    - uid: string
  - name: properties.burstingEnabled
    in: body
    description: Set to true to enable bursting beyond the provisioned performance target of the disk. Bursting is disabled by default. Does not apply to Ultra disks.
    types:
    - uid: boolean
  - name: properties.supportsHibernation
    in: body
    description: Indicates the OS on a disk supports hibernation.
    types:
    - uid: boolean
  - name: properties.securityProfile
    in: body
    description: Contains the security related information for the resource.
    types:
    - uid: DiskSecurityProfile
  - name: properties.completionPercent
    in: body
    description: Percentage complete for the background copy when a resource is created via the CopyStart operation.
    types:
    - uid: number
  - name: properties.publicNetworkAccess
    in: body
    description: Policy for controlling export on the disk.
    types:
    - uid: PublicNetworkAccess
  - name: properties.dataAccessAuthMode
    in: body
    description: Additional authentication requirements when exporting or uploading to a disk or snapshot.
    types:
    - uid: DataAccessAuthMode
  - name: location
    in: body
    isRequired: true
    description: Resource location
    types:
    - uid: string
  - name: tags
    in: body
    description: Resource tags
    types:
    - uid: object
      isDictionary: true
      additionalTypes:
      - uid: string
      - uid: string
requestHeader: []
definitions:
- name: DiskSku
  description: The disks sku name. Can be Standard_LRS, Premium_LRS, StandardSSD_LRS, UltraSSD_LRS, Premium_ZRS, or StandardSSD_ZRS.
  kind: object
  properties:
  - name: name
    description: The sku name.
    types:
    - uid: DiskStorageAccountTypes
  - name: tier
    isReadyOnly: true
    description: The sku tier.
    types:
    - uid: string
- name: ExtendedLocation
  description: The complex type of the extended location.
  kind: object
  properties:
  - name: name
    description: The name of the extended location.
    types:
    - uid: string
  - name: type
    description: The type of the extended location.
    types:
    - uid: ExtendedLocationTypes
- name: PurchasePlan
  description: Used for establishing the purchase context of any 3rd Party artifact through MarketPlace.
  kind: object
  properties:
  - name: name
    description: The plan ID.
    types:
    - uid: string
  - name: publisher
    description: The publisher ID.
    types:
    - uid: string
  - name: product
    description: Specifies the product of the image from the marketplace. This is the same value as Offer under the imageReference element.
    types:
    - uid: string
  - name: promotionCode
    description: The Offer Promotion Code.
    types:
    - uid: string
- name: SupportedCapabilities
  description: List of supported capabilities persisted on the disk resource for VM use.
  kind: object
  properties:
  - name: acceleratedNetwork
    description: True if the image from which the OS disk is created supports accelerated networking.
    types:
    - uid: boolean
  - name: architecture
    description: CPU architecture supported by an OS disk.
    types:
    - uid: Architecture
- name: CreationData
  description: Data used when creating a disk.
  kind: object
  properties:
  - name: createOption
    description: This enumerates the possible sources of a disk's creation.
    types:
    - uid: DiskCreateOption
  - name: storageAccountId
    description: Required if createOption is Import. The Azure Resource Manager identifier of the storage account containing the blob to import as a disk.
    types:
    - uid: string
  - name: imageReference
    description: Disk source information.
    types:
    - uid: ImageDiskReference
  - name: galleryImageReference
    description: Required if creating from a Gallery Image. The id of the ImageDiskReference will be the ARM id of the shared galley image version from which to create a disk.
    types:
    - uid: ImageDiskReference
  - name: sourceUri
    description: If createOption is Import, this is the URI of a blob to be imported into a managed disk.
    types:
    - uid: string
  - name: sourceResourceId
    description: If createOption is Copy, this is the ARM id of the source snapshot or disk.
    types:
    - uid: string
  - name: sourceUniqueId
    isReadyOnly: true
    description: If this field is set, this is the unique id identifying the source of this resource.
    types:
    - uid: string
  - name: uploadSizeBytes
    description: If createOption is Upload, this is the size of the contents of the upload including the VHD footer. This value should be between 20972032 (20 MiB + 512 bytes for the VHD footer) and 35183298347520 bytes (32 TiB + 512 bytes for the VHD footer).
    types:
    - uid: integer
  - name: logicalSectorSize
    description: Logical sector size in bytes for Ultra disks. Supported values are 512 ad 4096. 4096 is the default.
    types:
    - uid: integer
  - name: securityDataUri
    description: If createOption is ImportSecure, this is the URI of a blob to be imported into VM guest state.
    types:
    - uid: string
- name: EncryptionSettingsCollection
  description: Encryption settings for disk or snapshot
  kind: object
  properties:
  - name: enabled
    description: Set this flag to true and provide DiskEncryptionKey and optional KeyEncryptionKey to enable encryption. Set this flag to false and remove DiskEncryptionKey and KeyEncryptionKey to disable encryption. If EncryptionSettings is null in the request object, the existing settings remain unchanged.
    types:
    - uid: boolean
  - name: encryptionSettings
    description: A collection of encryption settings, one for each disk volume.
    types:
    - uid: EncryptionSettingsElement
      isArray: true
  - name: encryptionSettingsVersion
    description: Describes what type of encryption is used for the disks. Once this field is set, it cannot be overwritten. '1.0' corresponds to Azure Disk Encryption with AAD app.'1.1' corresponds to Azure Disk Encryption.
    types:
    - uid: string
- name: Encryption
  description: Encryption at rest settings for disk or snapshot
  kind: object
  properties:
  - name: diskEncryptionSetId
    description: ResourceId of the disk encryption set to use for enabling encryption at rest.
    types:
    - uid: string
  - name: type
    description: The type of key used to encrypt the data of the disk.
    types:
    - uid: EncryptionType
- name: ShareInfoElement
  kind: object
  properties:
  - name: vmUri
    isReadyOnly: true
    description: A relative URI containing the ID of the VM that has the disk attached.
    types:
    - uid: string
- name: PropertyUpdatesInProgress
  description: Properties of the disk for which update is pending.
  kind: object
  properties:
  - name: targetTier
    description: The target performance tier of the disk if a tier change operation is in progress.
    types:
    - uid: string
- name: DiskSecurityProfile
  description: Contains the security related information for the resource.
  kind: object
  properties:
  - name: securityType
    description: Specifies the SecurityType of the VM. Applicable for OS disks only.
    types:
    - uid: DiskSecurityTypes
  - name: secureVMDiskEncryptionSetId
    description: ResourceId of the disk encryption set associated to Confidential VM supported disk encrypted with customer managed key
    types:
    - uid: string
- name: Disk
  description: Disk resource.
  kind: object
  properties:
  - name: managedBy
    isReadyOnly: true
    description: A relative URI containing the ID of the VM that has the disk attached.
    types:
    - uid: string
  - name: managedByExtended
    isReadyOnly: true
    description: List of relative URIs containing the IDs of the VMs that have the disk attached. maxShares should be set to a value greater than one for disks to allow attaching them to multiple VMs.
    types:
    - uid: string
      isArray: true
  - name: sku
    description: The disks sku name. Can be Standard_LRS, Premium_LRS, StandardSSD_LRS, UltraSSD_LRS, Premium_ZRS, or StandardSSD_ZRS.
    types:
    - uid: DiskSku
  - name: zones
    description: The Logical zone list for Disk.
    types:
    - uid: string
      isArray: true
  - name: extendedLocation
    description: The extended location where the disk will be created. Extended location cannot be changed.
    types:
    - uid: ExtendedLocation
  - name: properties.timeCreated
    isReadyOnly: true
    description: The time when the disk was created.
    types:
    - uid: string
  - name: properties.osType
    description: The Operating System type.
    types:
    - uid: OperatingSystemTypes
  - name: properties.hyperVGeneration
    description: The hypervisor generation of the Virtual Machine. Applicable to OS disks only.
    types:
    - uid: HyperVGeneration
  - name: properties.purchasePlan
    description: 'Purchase plan information for the the image from which the OS disk was created. E.g. - {name: 2019-Datacenter, publisher: MicrosoftWindowsServer, product: WindowsServer}'
    types:
    - uid: PurchasePlan
  - name: properties.supportedCapabilities
    description: List of supported capabilities for the image from which the OS disk was created.
    types:
    - uid: SupportedCapabilities
  - name: properties.creationData
    description: Disk source information. CreationData information cannot be changed after the disk has been created.
    types:
    - uid: CreationData
  - name: properties.diskSizeGB
    description: If creationData.createOption is Empty, this field is mandatory and it indicates the size of the disk to create. If this field is present for updates or creation with other options, it indicates a resize. Resizes are only allowed if the disk is not attached to a running VM, and can only increase the disk's size.
    types:
    - uid: integer
  - name: properties.diskSizeBytes
    isReadyOnly: true
    description: The size of the disk in bytes. This field is read only.
    types:
    - uid: integer
  - name: properties.uniqueId
    isReadyOnly: true
    description: Unique Guid identifying the resource.
    types:
    - uid: string
  - name: properties.encryptionSettingsCollection
    description: Encryption settings collection used for Azure Disk Encryption, can contain multiple encryption settings per disk or snapshot.
    types:
    - uid: EncryptionSettingsCollection
  - name: properties.provisioningState
    isReadyOnly: true
    description: The disk provisioning state.
    types:
    - uid: string
  - name: properties.diskIOPSReadWrite
    description: The number of IOPS allowed for this disk; only settable for UltraSSD disks. One operation can transfer between 4k and 256k bytes.
    types:
    - uid: integer
  - name: properties.diskMBpsReadWrite
    description: The bandwidth allowed for this disk; only settable for UltraSSD disks. MBps means millions of bytes per second - MB here uses the ISO notation, of powers of 10.
    types:
    - uid: integer
  - name: properties.diskIOPSReadOnly
    description: The total number of IOPS that will be allowed across all VMs mounting the shared disk as ReadOnly. One operation can transfer between 4k and 256k bytes.
    types:
    - uid: integer
  - name: properties.diskMBpsReadOnly
    description: The total throughput (MBps) that will be allowed across all VMs mounting the shared disk as ReadOnly. MBps means millions of bytes per second - MB here uses the ISO notation, of powers of 10.
    types:
    - uid: integer
  - name: properties.diskState
    isReadyOnly: true
    description: The state of the disk.
    types:
    - uid: DiskState
  - name: properties.encryption
    description: Encryption property can be used to encrypt data at rest with customer managed keys or platform managed keys.
    types:
    - uid: Encryption
  - name: properties.maxShares
    description: The maximum number of VMs that can attach to the disk at the same time. Value greater than one indicates a disk that can be mounted on multiple VMs at the same time.
    types:
    - uid: integer
  - name: properties.shareInfo
    isReadyOnly: true
    description: Details of the list of all VMs that have the disk attached. maxShares should be set to a value greater than one for disks to allow attaching them to multiple VMs.
    types:
    - uid: ShareInfoElement
      isArray: true
  - name: properties.networkAccessPolicy
    description: Policy for accessing the disk via network.
    types:
    - uid: NetworkAccessPolicy
  - name: properties.diskAccessId
    description: ARM id of the DiskAccess resource for using private endpoints on disks.
    types:
    - uid: string
  - name: properties.tier
    description: 'Performance tier of the disk (e.g, P4, S10) as described here: https://azure.microsoft.com/en-us/pricing/details/managed-disks/. Does not apply to Ultra disks.'
    types:
    - uid: string
  - name: properties.burstingEnabled
    description: Set to true to enable bursting beyond the provisioned performance target of the disk. Bursting is disabled by default. Does not apply to Ultra disks.
    types:
    - uid: boolean
  - name: properties.propertyUpdatesInProgress
    isReadyOnly: true
    description: Properties of the disk for which update is pending.
    types:
    - uid: PropertyUpdatesInProgress
  - name: properties.supportsHibernation
    description: Indicates the OS on a disk supports hibernation.
    types:
    - uid: boolean
  - name: properties.securityProfile
    description: Contains the security related information for the resource.
    types:
    - uid: DiskSecurityProfile
  - name: properties.completionPercent
    description: Percentage complete for the background copy when a resource is created via the CopyStart operation.
    types:
    - uid: number
  - name: properties.publicNetworkAccess
    description: Policy for controlling export on the disk.
    types:
    - uid: PublicNetworkAccess
  - name: properties.dataAccessAuthMode
    description: Additional authentication requirements when exporting or uploading to a disk or snapshot.
    types:
    - uid: DataAccessAuthMode
  - name: id
    isReadyOnly: true
    description: Resource Id
    types:
    - uid: string
  - name: name
    isReadyOnly: true
    description: Resource name
    types:
    - uid: string
  - name: type
    isReadyOnly: true
    description: Resource type
    types:
    - uid: string
  - name: location
    description: Resource location
    types:
    - uid: string
  - name: tags
    description: Resource tags
    types:
    - uid: object
      isDictionary: true
      additionalTypes:
      - uid: string
      - uid: string
- name: DiskStorageAccountTypes
  description: The sku name.
  kind: enum
  properties:
  - name: Standard_LRS
    description: Standard HDD locally redundant storage. Best for backup, non-critical, and infrequent access.
    types:
    - uid: string
  - name: Premium_LRS
    description: Premium SSD locally redundant storage. Best for production and performance sensitive workloads.
    types:
    - uid: string
  - name: StandardSSD_LRS
    description: Standard SSD locally redundant storage. Best for web servers, lightly used enterprise applications and dev/test.
    types:
    - uid: string
  - name: UltraSSD_LRS
    description: Ultra SSD locally redundant storage. Best for IO-intensive workloads such as SAP HANA, top tier databases (for example, SQL, Oracle), and other transaction-heavy workloads.
    types:
    - uid: string
  - name: Premium_ZRS
    description: Premium SSD zone redundant storage. Best for the production workloads that need storage resiliency against zone failures.
    types:
    - uid: string
  - name: StandardSSD_ZRS
    description: Standard SSD zone redundant storage. Best for web servers, lightly used enterprise applications and dev/test that need storage resiliency against zone failures.
    types:
    - uid: string
- name: ExtendedLocationTypes
  description: The type of the extended location.
  kind: enum
  properties:
  - name: EdgeZone
    types:
    - uid: string
- name: Architecture
  description: CPU architecture supported by an OS disk.
  kind: enum
  properties:
  - name: x64
    types:
    - uid: string
  - name: Arm64
    types:
    - uid: string
- name: DiskCreateOption
  description: This enumerates the possible sources of a disk's creation.
  kind: enum
  properties:
  - name: Empty
    description: Create an empty data disk of a size given by diskSizeGB.
    types:
    - uid: string
  - name: Attach
    description: Disk will be attached to a VM.
    types:
    - uid: string
  - name: FromImage
    description: Create a new disk from a platform image specified by the given imageReference or galleryImageReference.
    types:
    - uid: string
  - name: Import
    description: Create a disk by importing from a blob specified by a sourceUri in a storage account specified by storageAccountId.
    types:
    - uid: string
  - name: Copy
    description: Create a new disk or snapshot by copying from a disk or snapshot specified by the given sourceResourceId.
    types:
    - uid: string
  - name: Restore
    description: Create a new disk by copying from a backup recovery point.
    types:
    - uid: string
  - name: Upload
    description: Create a new disk by obtaining a write token and using it to directly upload the contents of the disk.
    types:
    - uid: string
  - name: CopyStart
    description: Create a new disk by using a deep copy process, where the resource creation is considered complete only after all data has been copied from the source.
    types:
    - uid: string
  - name: ImportSecure
    description: Similar to Import create option. Create a new Trusted Launch VM or Confidential VM supported disk by importing additional blob for VM guest state specified by securityDataUri in storage account specified by storageAccountId
    types:
    - uid: string
  - name: UploadPreparedSecure
    description: Similar to Upload create option. Create a new Trusted Launch VM or Confidential VM supported disk and upload using write token in both disk and VM guest state
    types:
    - uid: string
- name: ImageDiskReference
  description: The source image used for creating the disk.
  kind: object
  properties:
  - name: id
    description: A relative uri containing either a Platform Image Repository or user image reference.
    types:
    - uid: string
  - name: lun
    description: If the disk is created from an image's data disk, this is an index that indicates which of the data disks in the image to use. For OS disks, this field is null.
    types:
    - uid: integer
- name: EncryptionSettingsElement
  description: Encryption settings for one disk volume.
  kind: object
  properties:
  - name: diskEncryptionKey
    description: Key Vault Secret Url and vault id of the disk encryption key
    types:
    - uid: KeyVaultAndSecretReference
  - name: keyEncryptionKey
    description: Key Vault Key Url and vault id of the key encryption key. KeyEncryptionKey is optional and when provided is used to unwrap the disk encryption key.
    types:
    - uid: KeyVaultAndKeyReference
- name: EncryptionType
  description: The type of key used to encrypt the data of the disk.
  kind: enum
  properties:
  - name: EncryptionAtRestWithPlatformKey
    description: Disk is encrypted at rest with Platform managed key. It is the default encryption type. This is not a valid encryption type for disk encryption sets.
    types:
    - uid: string
  - name: EncryptionAtRestWithCustomerKey
    description: Disk is encrypted at rest with Customer managed key that can be changed and revoked by a customer.
    types:
    - uid: string
  - name: EncryptionAtRestWithPlatformAndCustomerKeys
    description: Disk is encrypted at rest with 2 layers of encryption. One of the keys is Customer managed and the other key is Platform managed.
    types:
    - uid: string
- name: DiskSecurityTypes
  description: Specifies the SecurityType of the VM. Applicable for OS disks only.
  kind: enum
  properties:
  - name: TrustedLaunch
    description: Trusted Launch provides security features such as secure boot and virtual Trusted Platform Module (vTPM)
    types:
    - uid: string
  - name: ConfidentialVM_VMGuestStateOnlyEncryptedWithPlatformKey
    description: Indicates Confidential VM disk with only VM guest state encrypted
    types:
    - uid: string
  - name: ConfidentialVM_DiskEncryptedWithPlatformKey
    description: Indicates Confidential VM disk with both OS disk and VM guest state encrypted with a platform managed key
    types:
    - uid: string
  - name: ConfidentialVM_DiskEncryptedWithCustomerKey
    description: Indicates Confidential VM disk with both OS disk and VM guest state encrypted with a customer managed key
    types:
    - uid: string
- name: OperatingSystemTypes
  description: The Operating System type.
  kind: enum
  properties:
  - name: Windows
    types:
    - uid: string
  - name: Linux
    types:
    - uid: string
- name: HyperVGeneration
  description: The hypervisor generation of the Virtual Machine. Applicable to OS disks only.
  kind: enum
  properties:
  - name: V1
    types:
    - uid: string
  - name: V2
    types:
    - uid: string
- name: DiskState
  description: This enumerates the possible state of the disk.
  kind: enum
  properties:
  - name: Unattached
    description: The disk is not being used and can be attached to a VM.
    types:
    - uid: string
  - name: Attached
    description: The disk is currently attached to a running VM.
    types:
    - uid: string
  - name: Reserved
    description: The disk is attached to a stopped-deallocated VM.
    types:
    - uid: string
  - name: Frozen
    description: The disk is attached to a VM which is in hibernated state.
    types:
    - uid: string
  - name: ActiveSAS
    description: The disk currently has an Active SAS Uri associated with it.
    types:
    - uid: string
  - name: ActiveSASFrozen
    description: The disk is attached to a VM in hibernated state and has an active SAS URI associated with it.
    types:
    - uid: string
  - name: ReadyToUpload
    description: A disk is ready to be created by upload by requesting a write token.
    types:
    - uid: string
  - name: ActiveUpload
    description: A disk is created for upload and a write token has been issued for uploading to it.
    types:
    - uid: string
- name: NetworkAccessPolicy
  description: Policy for accessing the disk via network.
  kind: enum
  properties:
  - name: AllowAll
    description: The disk can be exported or uploaded to from any network.
    types:
    - uid: string
  - name: AllowPrivate
    description: The disk can be exported or uploaded to using a DiskAccess resource's private endpoints.
    types:
    - uid: string
  - name: DenyAll
    description: The disk cannot be exported.
    types:
    - uid: string
- name: PublicNetworkAccess
  description: Policy for controlling export on the disk.
  kind: enum
  properties:
  - name: Enabled
    description: You can generate a SAS URI to access the underlying data of the disk publicly on the internet when NetworkAccessPolicy is set to AllowAll. You can access the data via the SAS URI only from your trusted Azure VNET when NetworkAccessPolicy is set to AllowPrivate.
    types:
    - uid: string
  - name: Disabled
    description: You cannot access the underlying data of the disk publicly on the internet even when NetworkAccessPolicy is set to AllowAll. You can access the data via the SAS URI only from your trusted Azure VNET when NetworkAccessPolicy is set to AllowPrivate.
    types:
    - uid: string
- name: DataAccessAuthMode
  description: Additional authentication requirements when exporting or uploading to a disk or snapshot.
  kind: enum
  properties:
  - name: AzureActiveDirectory
    description: When export/upload URL is used, the system checks if the user has an identity in Azure Active Directory and has necessary permissions to export/upload the data. Please refer to aka.ms/DisksAzureADAuth.
    types:
    - uid: string
  - name: None
    description: No additional authentication would be performed when accessing export/upload URL.
    types:
    - uid: string
- name: KeyVaultAndSecretReference
  description: 'Key Vault Secret Url and vault id of the encryption key '
  kind: object
  properties:
  - name: sourceVault
    description: Resource id of the KeyVault containing the key or secret
    types:
    - uid: SourceVault
  - name: secretUrl
    description: Url pointing to a key or secret in KeyVault
    types:
    - uid: string
- name: KeyVaultAndKeyReference
  description: Key Vault Key Url and vault id of KeK, KeK is optional and when provided is used to unwrap the encryptionKey
  kind: object
  properties:
  - name: sourceVault
    description: Resource id of the KeyVault containing the key or secret
    types:
    - uid: SourceVault
  - name: keyUrl
    description: Url pointing to a key or secret in KeyVault
    types:
    - uid: string
- name: SourceVault
  description: The vault id is an Azure Resource Manager Resource id in the form /subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.KeyVault/vaults/{vaultName}
  kind: object
  properties:
  - name: id
    description: Resource Id
    types:
    - uid: string
examples:
- name: Create an empty managed disk.
  request:
    uri: PUT https://management.azure.com/subscriptions/{subscription-id}/resourceGroups/myResourceGroup/providers/Microsoft.Compute/disks/myDisk?api-version=2021-12-01
    body: >-
      {
        "location": "West US",
        "properties": {
          "creationData": {
            "createOption": "Empty"
          },
          "diskSizeGB": 200
        }
      }
    codeTab: |+
      # [HTTP](#tab/HTTP)
      ``` http
      PUT https://management.azure.com/subscriptions/{subscription-id}/resourceGroups/myResourceGroup/providers/Microsoft.Compute/disks/myDisk?api-version=2021-12-01

      {
        "location": "West US",
        "properties": {
          "creationData": {
            "createOption": "Empty"
          },
          "diskSizeGB": 200
        }
      }

      ```

      # [Java](#tab/Java)
      ``` java
      import com.azure.core.util.Context;
      import com.azure.resourcemanager.compute.fluent.models.DiskInner;
      import com.azure.resourcemanager.compute.models.CreationData;
      import com.azure.resourcemanager.compute.models.DiskCreateOption;

      /** Samples for Disks CreateOrUpdate. */
      public final class Main {
          /*
           * x-ms-original-file: specification/compute/resource-manager/Microsoft.Compute/stable/2021-12-01/examples/CreateAnEmptyManagedDisk.json
           */
          /**
           * Sample code: Create an empty managed disk.
           *
           * @param azure The entry point for accessing resource management APIs in Azure.
           */
          public static void createAnEmptyManagedDisk(com.azure.resourcemanager.AzureResourceManager azure) {
              azure
                  .virtualMachines()
                  .manager()
                  .serviceClient()
                  .getDisks()
                  .createOrUpdate(
                      "myResourceGroup",
                      "myDisk",
                      new DiskInner()
                          .withLocation("West US")
                          .withCreationData(new CreationData().withCreateOption(DiskCreateOption.EMPTY))
                          .withDiskSizeGB(200),
                      Context.NONE);
          }
      }

      ```
      Read this [SDK documentation](https://github.com/Azure/azure-sdk-for-java/blob/azure-resourcemanager_2.15.0/sdk/resourcemanager/azure-resourcemanager/README.md) on how to add the SDK to your project and authenticate.
      # [JavaScript](#tab/JavaScript)
      ``` js
      const { ComputeManagementClient } = require("@azure/arm-compute");
      const { DefaultAzureCredential } = require("@azure/identity");

      /**
       * This sample demonstrates how to Creates or updates a disk.
       *
       * @summary Creates or updates a disk.
       * x-ms-original-file: specification/compute/resource-manager/Microsoft.Compute/stable/2021-12-01/examples/CreateAnEmptyManagedDisk.json
       */
      async function createAnEmptyManagedDisk() {
        const subscriptionId = "{subscription-id}";
        const resourceGroupName = "myResourceGroup";
        const diskName = "myDisk";
        const disk = {
          creationData: { createOption: "Empty" },
          diskSizeGB: 200,
          location: "West US",
        };
        const credential = new DefaultAzureCredential();
        const client = new ComputeManagementClient(credential, subscriptionId);
        const result = await client.disks.beginCreateOrUpdateAndWait(resourceGroupName, diskName, disk);
        console.log(result);
      }

      createAnEmptyManagedDisk().catch(console.error);

      ```
      Read this [SDK documentation](https://github.com/Azure/azure-sdk-for-js/blob/%40azure%2Farm-compute_18.0.0/sdk/compute/arm-compute/README.md) on how to add the SDK to your project and authenticate.
  responses:
  - statusCode: "202"
    body: >-
      {
        "properties": {
          "creationData": {
            "createOption": "Empty"
          },
          "diskSizeGB": 200,
          "provisioningState": "Updating"
        },
        "location": "West US",
        "name": "myDisk"
      }
  - statusCode: "200"
    body: >-
      {
        "properties": {
          "creationData": {
            "createOption": "Empty"
          },
          "diskSizeGB": 200,
          "provisioningState": "Updating"
        },
        "location": "West US",
        "name": "myDisk"
      }
- name: Create a managed disk from a platform image.
  request:
    uri: PUT https://management.azure.com/subscriptions/{subscriptionId}/resourceGroups/myResourceGroup/providers/Microsoft.Compute/disks/myDisk?api-version=2021-12-01
    body: >-
      {
        "location": "West US",
        "properties": {
          "osType": "Windows",
          "creationData": {
            "createOption": "FromImage",
            "imageReference": {
              "id": "/Subscriptions/{subscriptionId}/Providers/Microsoft.Compute/Locations/westus/Publishers/{publisher}/ArtifactTypes/VMImage/Offers/{offer}/Skus/{sku}/Versions/1.0.0"
            }
          }
        }
      }
    codeTab: |+
      # [HTTP](#tab/HTTP)
      ``` http
      PUT https://management.azure.com/subscriptions/{subscriptionId}/resourceGroups/myResourceGroup/providers/Microsoft.Compute/disks/myDisk?api-version=2021-12-01

      {
        "location": "West US",
        "properties": {
          "osType": "Windows",
          "creationData": {
            "createOption": "FromImage",
            "imageReference": {
              "id": "/Subscriptions/{subscriptionId}/Providers/Microsoft.Compute/Locations/westus/Publishers/{publisher}/ArtifactTypes/VMImage/Offers/{offer}/Skus/{sku}/Versions/1.0.0"
            }
          }
        }
      }

      ```

      # [Java](#tab/Java)
      ``` java
      import com.azure.core.util.Context;
      import com.azure.resourcemanager.compute.fluent.models.DiskInner;
      import com.azure.resourcemanager.compute.models.CreationData;
      import com.azure.resourcemanager.compute.models.DiskCreateOption;
      import com.azure.resourcemanager.compute.models.ImageDiskReference;
      import com.azure.resourcemanager.compute.models.OperatingSystemTypes;

      /** Samples for Disks CreateOrUpdate. */
      public final class Main {
          /*
           * x-ms-original-file: specification/compute/resource-manager/Microsoft.Compute/stable/2021-12-01/examples/CreateAManagedDiskFromAPlatformImage.json
           */
          /**
           * Sample code: Create a managed disk from a platform image.
           *
           * @param azure The entry point for accessing resource management APIs in Azure.
           */
          public static void createAManagedDiskFromAPlatformImage(com.azure.resourcemanager.AzureResourceManager azure) {
              azure
                  .virtualMachines()
                  .manager()
                  .serviceClient()
                  .getDisks()
                  .createOrUpdate(
                      "myResourceGroup",
                      "myDisk",
                      new DiskInner()
                          .withLocation("West US")
                          .withOsType(OperatingSystemTypes.WINDOWS)
                          .withCreationData(
                              new CreationData()
                                  .withCreateOption(DiskCreateOption.FROM_IMAGE)
                                  .withImageReference(
                                      new ImageDiskReference()
                                          .withId(
                                              "/Subscriptions/{subscriptionId}/Providers/Microsoft.Compute/Locations/westus/Publishers/{publisher}/ArtifactTypes/VMImage/Offers/{offer}/Skus/{sku}/Versions/1.0.0"))),
                      Context.NONE);
          }
      }

      ```
      Read this [SDK documentation](https://github.com/Azure/azure-sdk-for-java/blob/azure-resourcemanager_2.15.0/sdk/resourcemanager/azure-resourcemanager/README.md) on how to add the SDK to your project and authenticate.
      # [JavaScript](#tab/JavaScript)
      ``` js
      const { ComputeManagementClient } = require("@azure/arm-compute");
      const { DefaultAzureCredential } = require("@azure/identity");

      /**
       * This sample demonstrates how to Creates or updates a disk.
       *
       * @summary Creates or updates a disk.
       * x-ms-original-file: specification/compute/resource-manager/Microsoft.Compute/stable/2021-12-01/examples/CreateAManagedDiskFromAPlatformImage.json
       */
      async function createAManagedDiskFromAPlatformImage() {
        const subscriptionId = "{subscriptionId}";
        const resourceGroupName = "myResourceGroup";
        const diskName = "myDisk";
        const disk = {
          creationData: {
            createOption: "FromImage",
            imageReference: {
              id: "/Subscriptions/{subscriptionId}/Providers/Microsoft.Compute/Locations/westus/Publishers/{publisher}/ArtifactTypes/VMImage/Offers/{offer}/Skus/{sku}/Versions/1.0.0",
            },
          },
          location: "West US",
          osType: "Windows",
        };
        const credential = new DefaultAzureCredential();
        const client = new ComputeManagementClient(credential, subscriptionId);
        const result = await client.disks.beginCreateOrUpdateAndWait(resourceGroupName, diskName, disk);
        console.log(result);
      }

      createAManagedDiskFromAPlatformImage().catch(console.error);

      ```
      Read this [SDK documentation](https://github.com/Azure/azure-sdk-for-js/blob/%40azure%2Farm-compute_18.0.0/sdk/compute/arm-compute/README.md) on how to add the SDK to your project and authenticate.
  responses:
  - statusCode: "202"
    body: >-
      {
        "name": "myDisk",
        "location": "West US",
        "properties": {
          "osType": "Windows",
          "hyperVGeneration": "V1",
          "purchasePlan": {
            "name": "{sku}",
            "publisher": "{publisher}",
            "product": "{offer}"
          },
          "supportedCapabilities": {
            "acceleratedNetwork": true,
            "architecture": "Arm64"
          },
          "creationData": {
            "createOption": "FromImage",
            "imageReference": {
              "id": "/Subscriptions/{subscriptionId}/Providers/Microsoft.Compute/Locations/westus/Publishers/{publisher}/ArtifactTypes/VMImage/Offers/{offer}/Skus/{sku}/Versions/1.0.0"
            }
          },
          "provisioningState": "Updating"
        }
      }
  - statusCode: "200"
    body: >-
      {
        "name": "myDisk",
        "location": "West US",
        "properties": {
          "provisioningState": "Succeeded",
          "osType": "Windows",
          "hyperVGeneration": "V1",
          "purchasePlan": {
            "name": "{sku}",
            "publisher": "{publisher}",
            "product": "{offer}"
          },
          "supportedCapabilities": {
            "acceleratedNetwork": true
          },
          "creationData": {
            "createOption": "FromImage",
            "imageReference": {
              "id": "/Subscriptions/{subscriptionId}/Providers/Microsoft.Compute/Locations/westus/Publishers/{publisher}/ArtifactTypes/VMImage/Offers/{offer}/Skus/{sku}/Versions/1.0.0"
            }
          }
        }
      }
- name: Create a managed disk from an existing managed disk in the same or different subscription.
  request:
    uri: PUT https://management.azure.com/subscriptions/{subscription-id}/resourceGroups/myResourceGroup/providers/Microsoft.Compute/disks/myDisk2?api-version=2021-12-01
    body: >-
      {
        "location": "West US",
        "properties": {
          "creationData": {
            "createOption": "Copy",
            "sourceResourceId": "subscriptions/{subscriptionId}/resourceGroups/myResourceGroup/providers/Microsoft.Compute/disks/myDisk1"
          }
        }
      }
    codeTab: |+
      # [HTTP](#tab/HTTP)
      ``` http
      PUT https://management.azure.com/subscriptions/{subscription-id}/resourceGroups/myResourceGroup/providers/Microsoft.Compute/disks/myDisk2?api-version=2021-12-01

      {
        "location": "West US",
        "properties": {
          "creationData": {
            "createOption": "Copy",
            "sourceResourceId": "subscriptions/{subscriptionId}/resourceGroups/myResourceGroup/providers/Microsoft.Compute/disks/myDisk1"
          }
        }
      }

      ```

      # [Java](#tab/Java)
      ``` java
      import com.azure.core.util.Context;
      import com.azure.resourcemanager.compute.fluent.models.DiskInner;
      import com.azure.resourcemanager.compute.models.CreationData;
      import com.azure.resourcemanager.compute.models.DiskCreateOption;

      /** Samples for Disks CreateOrUpdate. */
      public final class Main {
          /*
           * x-ms-original-file: specification/compute/resource-manager/Microsoft.Compute/stable/2021-12-01/examples/CreateAManagedDiskFromAnExistingManagedDisk.json
           */
          /**
           * Sample code: Create a managed disk from an existing managed disk in the same or different subscription.
           *
           * @param azure The entry point for accessing resource management APIs in Azure.
           */
          public static void createAManagedDiskFromAnExistingManagedDiskInTheSameOrDifferentSubscription(
              com.azure.resourcemanager.AzureResourceManager azure) {
              azure
                  .virtualMachines()
                  .manager()
                  .serviceClient()
                  .getDisks()
                  .createOrUpdate(
                      "myResourceGroup",
                      "myDisk2",
                      new DiskInner()
                          .withLocation("West US")
                          .withCreationData(
                              new CreationData()
                                  .withCreateOption(DiskCreateOption.COPY)
                                  .withSourceResourceId(
                                      "subscriptions/{subscriptionId}/resourceGroups/myResourceGroup/providers/Microsoft.Compute/disks/myDisk1")),
                      Context.NONE);
          }
      }

      ```
      Read this [SDK documentation](https://github.com/Azure/azure-sdk-for-java/blob/azure-resourcemanager_2.15.0/sdk/resourcemanager/azure-resourcemanager/README.md) on how to add the SDK to your project and authenticate.
      # [JavaScript](#tab/JavaScript)
      ``` js
      const { ComputeManagementClient } = require("@azure/arm-compute");
      const { DefaultAzureCredential } = require("@azure/identity");

      /**
       * This sample demonstrates how to Creates or updates a disk.
       *
       * @summary Creates or updates a disk.
       * x-ms-original-file: specification/compute/resource-manager/Microsoft.Compute/stable/2021-12-01/examples/CreateAManagedDiskFromAnExistingManagedDisk.json
       */
      async function createAManagedDiskFromAnExistingManagedDiskInTheSameOrDifferentSubscription() {
        const subscriptionId = "{subscription-id}";
        const resourceGroupName = "myResourceGroup";
        const diskName = "myDisk2";
        const disk = {
          creationData: {
            createOption: "Copy",
            sourceResourceId:
              "subscriptions/{subscriptionId}/resourceGroups/myResourceGroup/providers/Microsoft.Compute/disks/myDisk1",
          },
          location: "West US",
        };
        const credential = new DefaultAzureCredential();
        const client = new ComputeManagementClient(credential, subscriptionId);
        const result = await client.disks.beginCreateOrUpdateAndWait(resourceGroupName, diskName, disk);
        console.log(result);
      }

      createAManagedDiskFromAnExistingManagedDiskInTheSameOrDifferentSubscription().catch(console.error);

      ```
      Read this [SDK documentation](https://github.com/Azure/azure-sdk-for-js/blob/%40azure%2Farm-compute_18.0.0/sdk/compute/arm-compute/README.md) on how to add the SDK to your project and authenticate.
  responses:
  - statusCode: "202"
    body: >-
      {
        "properties": {
          "creationData": {
            "createOption": "Copy",
            "sourceResourceId": "subscriptions/{subscription-id}/resourceGroups/myResourceGroup/providers/Microsoft.Compute/disks/myDisk1"
          },
          "provisioningState": "Updating"
        },
        "location": "West US",
        "name": "myDisk2"
      }
  - statusCode: "200"
    body: >-
      {
        "properties": {
          "creationData": {
            "createOption": "Copy",
            "sourceResourceId": "subscriptions/{subscription-id}/resourceGroups/myResourceGroup/providers/Microsoft.Compute/disks/myDisk1"
          },
          "provisioningState": "Updating"
        },
        "location": "West US",
        "name": "myDisk2"
      }
- name: Create a managed disk by importing an unmanaged blob from the same subscription.
  request:
    uri: PUT https://management.azure.com/subscriptions/{subscription-id}/resourceGroups/myResourceGroup/providers/Microsoft.Compute/disks/myDisk?api-version=2021-12-01
    body: >-
      {
        "location": "West US",
        "properties": {
          "creationData": {
            "createOption": "Import",
            "sourceUri": "https://mystorageaccount.blob.core.windows.net/osimages/osimage.vhd"
          }
        }
      }
    codeTab: |+
      # [HTTP](#tab/HTTP)
      ``` http
      PUT https://management.azure.com/subscriptions/{subscription-id}/resourceGroups/myResourceGroup/providers/Microsoft.Compute/disks/myDisk?api-version=2021-12-01

      {
        "location": "West US",
        "properties": {
          "creationData": {
            "createOption": "Import",
            "sourceUri": "https://mystorageaccount.blob.core.windows.net/osimages/osimage.vhd"
          }
        }
      }

      ```

      # [Java](#tab/Java)
      ``` java
      import com.azure.core.util.Context;
      import com.azure.resourcemanager.compute.fluent.models.DiskInner;
      import com.azure.resourcemanager.compute.models.CreationData;
      import com.azure.resourcemanager.compute.models.DiskCreateOption;

      /** Samples for Disks CreateOrUpdate. */
      public final class Main {
          /*
           * x-ms-original-file: specification/compute/resource-manager/Microsoft.Compute/stable/2021-12-01/examples/CreateAManagedDiskByImportingAnUnmanagedBlobFromTheSameSubscription.json
           */
          /**
           * Sample code: Create a managed disk by importing an unmanaged blob from the same subscription.
           *
           * @param azure The entry point for accessing resource management APIs in Azure.
           */
          public static void createAManagedDiskByImportingAnUnmanagedBlobFromTheSameSubscription(
              com.azure.resourcemanager.AzureResourceManager azure) {
              azure
                  .virtualMachines()
                  .manager()
                  .serviceClient()
                  .getDisks()
                  .createOrUpdate(
                      "myResourceGroup",
                      "myDisk",
                      new DiskInner()
                          .withLocation("West US")
                          .withCreationData(
                              new CreationData()
                                  .withCreateOption(DiskCreateOption.IMPORT)
                                  .withSourceUri("https://mystorageaccount.blob.core.windows.net/osimages/osimage.vhd")),
                      Context.NONE);
          }
      }

      ```
      Read this [SDK documentation](https://github.com/Azure/azure-sdk-for-java/blob/azure-resourcemanager_2.15.0/sdk/resourcemanager/azure-resourcemanager/README.md) on how to add the SDK to your project and authenticate.
      # [JavaScript](#tab/JavaScript)
      ``` js
      const { ComputeManagementClient } = require("@azure/arm-compute");
      const { DefaultAzureCredential } = require("@azure/identity");

      /**
       * This sample demonstrates how to Creates or updates a disk.
       *
       * @summary Creates or updates a disk.
       * x-ms-original-file: specification/compute/resource-manager/Microsoft.Compute/stable/2021-12-01/examples/CreateAManagedDiskByImportingAnUnmanagedBlobFromTheSameSubscription.json
       */
      async function createAManagedDiskByImportingAnUnmanagedBlobFromTheSameSubscription() {
        const subscriptionId = "{subscription-id}";
        const resourceGroupName = "myResourceGroup";
        const diskName = "myDisk";
        const disk = {
          creationData: {
            createOption: "Import",
            sourceUri: "https://mystorageaccount.blob.core.windows.net/osimages/osimage.vhd",
          },
          location: "West US",
        };
        const credential = new DefaultAzureCredential();
        const client = new ComputeManagementClient(credential, subscriptionId);
        const result = await client.disks.beginCreateOrUpdateAndWait(resourceGroupName, diskName, disk);
        console.log(result);
      }

      createAManagedDiskByImportingAnUnmanagedBlobFromTheSameSubscription().catch(console.error);

      ```
      Read this [SDK documentation](https://github.com/Azure/azure-sdk-for-js/blob/%40azure%2Farm-compute_18.0.0/sdk/compute/arm-compute/README.md) on how to add the SDK to your project and authenticate.
  responses:
  - statusCode: "202"
    body: >-
      {
        "name": "myDisk",
        "location": "West US",
        "properties": {
          "provisioningState": "Updating",
          "creationData": {
            "createOption": "Import",
            "sourceUri": "https://mystorageaccount.blob.core.windows.net/osimages/osimage.vhd"
          }
        }
      }
  - statusCode: "200"
    body: >-
      {
        "name": "myDisk",
        "location": "West US",
        "properties": {
          "provisioningState": "Updating",
          "creationData": {
            "createOption": "Import",
            "sourceUri": "https://mystorageaccount.blob.core.windows.net/osimages/osimage.vhd"
          }
        }
      }
- name: Create a managed disk by importing an unmanaged blob from a different subscription.
  request:
    uri: PUT https://management.azure.com/subscriptions/{subscription-id}/resourceGroups/myResourceGroup/providers/Microsoft.Compute/disks/myDisk?api-version=2021-12-01
    body: >-
      {
        "location": "West US",
        "properties": {
          "creationData": {
            "createOption": "Import",
            "storageAccountId": "subscriptions/{subscriptionId}/resourceGroups/myResourceGroup/providers/Microsoft.Storage/storageAccounts/myStorageAccount",
            "sourceUri": "https://mystorageaccount.blob.core.windows.net/osimages/osimage.vhd"
          }
        }
      }
    codeTab: |+
      # [HTTP](#tab/HTTP)
      ``` http
      PUT https://management.azure.com/subscriptions/{subscription-id}/resourceGroups/myResourceGroup/providers/Microsoft.Compute/disks/myDisk?api-version=2021-12-01

      {
        "location": "West US",
        "properties": {
          "creationData": {
            "createOption": "Import",
            "storageAccountId": "subscriptions/{subscriptionId}/resourceGroups/myResourceGroup/providers/Microsoft.Storage/storageAccounts/myStorageAccount",
            "sourceUri": "https://mystorageaccount.blob.core.windows.net/osimages/osimage.vhd"
          }
        }
      }

      ```

      # [Java](#tab/Java)
      ``` java
      import com.azure.core.util.Context;
      import com.azure.resourcemanager.compute.fluent.models.DiskInner;
      import com.azure.resourcemanager.compute.models.CreationData;
      import com.azure.resourcemanager.compute.models.DiskCreateOption;

      /** Samples for Disks CreateOrUpdate. */
      public final class Main {
          /*
           * x-ms-original-file: specification/compute/resource-manager/Microsoft.Compute/stable/2021-12-01/examples/CreateAManagedDiskByImportingAnUnmanagedBlobFromADifferentSubscription.json
           */
          /**
           * Sample code: Create a managed disk by importing an unmanaged blob from a different subscription.
           *
           * @param azure The entry point for accessing resource management APIs in Azure.
           */
          public static void createAManagedDiskByImportingAnUnmanagedBlobFromADifferentSubscription(
              com.azure.resourcemanager.AzureResourceManager azure) {
              azure
                  .virtualMachines()
                  .manager()
                  .serviceClient()
                  .getDisks()
                  .createOrUpdate(
                      "myResourceGroup",
                      "myDisk",
                      new DiskInner()
                          .withLocation("West US")
                          .withCreationData(
                              new CreationData()
                                  .withCreateOption(DiskCreateOption.IMPORT)
                                  .withStorageAccountId(
                                      "subscriptions/{subscriptionId}/resourceGroups/myResourceGroup/providers/Microsoft.Storage/storageAccounts/myStorageAccount")
                                  .withSourceUri("https://mystorageaccount.blob.core.windows.net/osimages/osimage.vhd")),
                      Context.NONE);
          }
      }

      ```
      Read this [SDK documentation](https://github.com/Azure/azure-sdk-for-java/blob/azure-resourcemanager_2.15.0/sdk/resourcemanager/azure-resourcemanager/README.md) on how to add the SDK to your project and authenticate.
      # [JavaScript](#tab/JavaScript)
      ``` js
      const { ComputeManagementClient } = require("@azure/arm-compute");
      const { DefaultAzureCredential } = require("@azure/identity");

      /**
       * This sample demonstrates how to Creates or updates a disk.
       *
       * @summary Creates or updates a disk.
       * x-ms-original-file: specification/compute/resource-manager/Microsoft.Compute/stable/2021-12-01/examples/CreateAManagedDiskByImportingAnUnmanagedBlobFromADifferentSubscription.json
       */
      async function createAManagedDiskByImportingAnUnmanagedBlobFromADifferentSubscription() {
        const subscriptionId = "{subscription-id}";
        const resourceGroupName = "myResourceGroup";
        const diskName = "myDisk";
        const disk = {
          creationData: {
            createOption: "Import",
            sourceUri: "https://mystorageaccount.blob.core.windows.net/osimages/osimage.vhd",
            storageAccountId:
              "subscriptions/{subscriptionId}/resourceGroups/myResourceGroup/providers/Microsoft.Storage/storageAccounts/myStorageAccount",
          },
          location: "West US",
        };
        const credential = new DefaultAzureCredential();
        const client = new ComputeManagementClient(credential, subscriptionId);
        const result = await client.disks.beginCreateOrUpdateAndWait(resourceGroupName, diskName, disk);
        console.log(result);
      }

      createAManagedDiskByImportingAnUnmanagedBlobFromADifferentSubscription().catch(console.error);

      ```
      Read this [SDK documentation](https://github.com/Azure/azure-sdk-for-js/blob/%40azure%2Farm-compute_18.0.0/sdk/compute/arm-compute/README.md) on how to add the SDK to your project and authenticate.
  responses:
  - statusCode: "202"
    body: >-
      {
        "name": "myDisk",
        "location": "West US",
        "properties": {
          "provisioningState": "Updating",
          "creationData": {
            "createOption": "Import",
            "storageAccountId": "subscriptions/{subscriptionId}/resourceGroups/myResourceGroup/providers/Microsoft.Storage/storageAccounts/myStorageAccount",
            "sourceUri": "https://mystorageaccount.blob.core.windows.net/osimages/osimage.vhd"
          }
        }
      }
  - statusCode: "200"
    body: >-
      {
        "name": "myDisk",
        "location": "West US",
        "properties": {
          "provisioningState": "Updating",
          "creationData": {
            "createOption": "Import",
            "storageAccountId": "subscriptions/{subscriptionId}/resourceGroups/myResourceGroup/providers/Microsoft.Storage/storageAccounts/myStorageAccount",
            "sourceUri": "https://mystorageaccount.blob.core.windows.net/osimages/osimage.vhd"
          }
        }
      }
- name: Create a managed disk by copying a snapshot.
  request:
    uri: PUT https://management.azure.com/subscriptions/{subscription-id}/resourceGroups/myResourceGroup/providers/Microsoft.Compute/disks/myDisk?api-version=2021-12-01
    body: >-
      {
        "location": "West US",
        "properties": {
          "creationData": {
            "createOption": "Copy",
            "sourceResourceId": "subscriptions/{subscriptionId}/resourceGroups/myResourceGroup/providers/Microsoft.Compute/snapshots/mySnapshot"
          }
        }
      }
    codeTab: |+
      # [HTTP](#tab/HTTP)
      ``` http
      PUT https://management.azure.com/subscriptions/{subscription-id}/resourceGroups/myResourceGroup/providers/Microsoft.Compute/disks/myDisk?api-version=2021-12-01

      {
        "location": "West US",
        "properties": {
          "creationData": {
            "createOption": "Copy",
            "sourceResourceId": "subscriptions/{subscriptionId}/resourceGroups/myResourceGroup/providers/Microsoft.Compute/snapshots/mySnapshot"
          }
        }
      }

      ```

      # [Java](#tab/Java)
      ``` java
      import com.azure.core.util.Context;
      import com.azure.resourcemanager.compute.fluent.models.DiskInner;
      import com.azure.resourcemanager.compute.models.CreationData;
      import com.azure.resourcemanager.compute.models.DiskCreateOption;

      /** Samples for Disks CreateOrUpdate. */
      public final class Main {
          /*
           * x-ms-original-file: specification/compute/resource-manager/Microsoft.Compute/stable/2021-12-01/examples/CreateAManagedDiskByCopyingASnapshot.json
           */
          /**
           * Sample code: Create a managed disk by copying a snapshot.
           *
           * @param azure The entry point for accessing resource management APIs in Azure.
           */
          public static void createAManagedDiskByCopyingASnapshot(com.azure.resourcemanager.AzureResourceManager azure) {
              azure
                  .virtualMachines()
                  .manager()
                  .serviceClient()
                  .getDisks()
                  .createOrUpdate(
                      "myResourceGroup",
                      "myDisk",
                      new DiskInner()
                          .withLocation("West US")
                          .withCreationData(
                              new CreationData()
                                  .withCreateOption(DiskCreateOption.COPY)
                                  .withSourceResourceId(
                                      "subscriptions/{subscriptionId}/resourceGroups/myResourceGroup/providers/Microsoft.Compute/snapshots/mySnapshot")),
                      Context.NONE);
          }
      }

      ```
      Read this [SDK documentation](https://github.com/Azure/azure-sdk-for-java/blob/azure-resourcemanager_2.15.0/sdk/resourcemanager/azure-resourcemanager/README.md) on how to add the SDK to your project and authenticate.
      # [JavaScript](#tab/JavaScript)
      ``` js
      const { ComputeManagementClient } = require("@azure/arm-compute");
      const { DefaultAzureCredential } = require("@azure/identity");

      /**
       * This sample demonstrates how to Creates or updates a disk.
       *
       * @summary Creates or updates a disk.
       * x-ms-original-file: specification/compute/resource-manager/Microsoft.Compute/stable/2021-12-01/examples/CreateAManagedDiskByCopyingASnapshot.json
       */
      async function createAManagedDiskByCopyingASnapshot() {
        const subscriptionId = "{subscription-id}";
        const resourceGroupName = "myResourceGroup";
        const diskName = "myDisk";
        const disk = {
          creationData: {
            createOption: "Copy",
            sourceResourceId:
              "subscriptions/{subscriptionId}/resourceGroups/myResourceGroup/providers/Microsoft.Compute/snapshots/mySnapshot",
          },
          location: "West US",
        };
        const credential = new DefaultAzureCredential();
        const client = new ComputeManagementClient(credential, subscriptionId);
        const result = await client.disks.beginCreateOrUpdateAndWait(resourceGroupName, diskName, disk);
        console.log(result);
      }

      createAManagedDiskByCopyingASnapshot().catch(console.error);

      ```
      Read this [SDK documentation](https://github.com/Azure/azure-sdk-for-js/blob/%40azure%2Farm-compute_18.0.0/sdk/compute/arm-compute/README.md) on how to add the SDK to your project and authenticate.
  responses:
  - statusCode: "202"
    body: >-
      {
        "name": "myDisk",
        "location": "West US",
        "properties": {
          "provisioningState": "Updating",
          "creationData": {
            "createOption": "Copy",
            "sourceResourceId": "subscriptions/{subscriptionId}/resourceGroups/myResourceGroup/providers/Microsoft.Compute/snapshots/mySnapshot"
          }
        }
      }
  - statusCode: "200"
    body: >-
      {
        "name": "myDisk",
        "location": "West US",
        "properties": {
          "provisioningState": "Updating",
          "creationData": {
            "createOption": "Copy",
            "sourceResourceId": "subscriptions/{subscriptionId}/resourceGroups/myResourceGroup/providers/Microsoft.Compute/snapshots/mySnapshot"
          }
        }
      }
- name: Create a managed upload disk.
  request:
    uri: PUT https://management.azure.com/subscriptions/{subscription-id}/resourceGroups/myResourceGroup/providers/Microsoft.Compute/disks/myDisk?api-version=2021-12-01
    body: >-
      {
        "location": "West US",
        "properties": {
          "creationData": {
            "createOption": "Upload",
            "uploadSizeBytes": 10737418752
          }
        }
      }
    codeTab: |+
      # [HTTP](#tab/HTTP)
      ``` http
      PUT https://management.azure.com/subscriptions/{subscription-id}/resourceGroups/myResourceGroup/providers/Microsoft.Compute/disks/myDisk?api-version=2021-12-01

      {
        "location": "West US",
        "properties": {
          "creationData": {
            "createOption": "Upload",
            "uploadSizeBytes": 10737418752
          }
        }
      }

      ```

      # [Java](#tab/Java)
      ``` java
      import com.azure.core.util.Context;
      import com.azure.resourcemanager.compute.fluent.models.DiskInner;
      import com.azure.resourcemanager.compute.models.CreationData;
      import com.azure.resourcemanager.compute.models.DiskCreateOption;

      /** Samples for Disks CreateOrUpdate. */
      public final class Main {
          /*
           * x-ms-original-file: specification/compute/resource-manager/Microsoft.Compute/stable/2021-12-01/examples/CreateAManagedUploadDisk.json
           */
          /**
           * Sample code: Create a managed upload disk.
           *
           * @param azure The entry point for accessing resource management APIs in Azure.
           */
          public static void createAManagedUploadDisk(com.azure.resourcemanager.AzureResourceManager azure) {
              azure
                  .virtualMachines()
                  .manager()
                  .serviceClient()
                  .getDisks()
                  .createOrUpdate(
                      "myResourceGroup",
                      "myDisk",
                      new DiskInner()
                          .withLocation("West US")
                          .withCreationData(
                              new CreationData().withCreateOption(DiskCreateOption.UPLOAD).withUploadSizeBytes(10737418752L)),
                      Context.NONE);
          }
      }

      ```
      Read this [SDK documentation](https://github.com/Azure/azure-sdk-for-java/blob/azure-resourcemanager_2.15.0/sdk/resourcemanager/azure-resourcemanager/README.md) on how to add the SDK to your project and authenticate.
      # [JavaScript](#tab/JavaScript)
      ``` js
      const { ComputeManagementClient } = require("@azure/arm-compute");
      const { DefaultAzureCredential } = require("@azure/identity");

      /**
       * This sample demonstrates how to Creates or updates a disk.
       *
       * @summary Creates or updates a disk.
       * x-ms-original-file: specification/compute/resource-manager/Microsoft.Compute/stable/2021-12-01/examples/CreateAManagedUploadDisk.json
       */
      async function createAManagedUploadDisk() {
        const subscriptionId = "{subscription-id}";
        const resourceGroupName = "myResourceGroup";
        const diskName = "myDisk";
        const disk = {
          creationData: { createOption: "Upload", uploadSizeBytes: 10737418752 },
          location: "West US",
        };
        const credential = new DefaultAzureCredential();
        const client = new ComputeManagementClient(credential, subscriptionId);
        const result = await client.disks.beginCreateOrUpdateAndWait(resourceGroupName, diskName, disk);
        console.log(result);
      }

      createAManagedUploadDisk().catch(console.error);

      ```
      Read this [SDK documentation](https://github.com/Azure/azure-sdk-for-js/blob/%40azure%2Farm-compute_18.0.0/sdk/compute/arm-compute/README.md) on how to add the SDK to your project and authenticate.
  responses:
  - statusCode: "202"
    body: >-
      {
        "properties": {
          "creationData": {
            "createOption": "Upload",
            "uploadSizeBytes": 10737418752
          },
          "provisioningState": "Updating"
        },
        "location": "West US",
        "name": "myDisk"
      }
  - statusCode: "200"
    body: >-
      {
        "properties": {
          "creationData": {
            "createOption": "Upload",
            "uploadSizeBytes": 10737418752
          },
          "provisioningState": "Updating"
        },
        "location": "West US",
        "name": "myDisk"
      }
- name: Create a managed disk and associate with disk access resource.
  request:
    uri: PUT https://management.azure.com/subscriptions/{subscription-id}/resourceGroups/myResourceGroup/providers/Microsoft.Compute/disks/myDisk?api-version=2021-12-01
    body: >-
      {
        "location": "West US",
        "properties": {
          "creationData": {
            "createOption": "Empty"
          },
          "diskSizeGB": 200,
          "networkAccessPolicy": "AllowPrivate",
          "diskAccessId": "/subscriptions/{subscription-id}/resourceGroups/myResourceGroup/providers/Microsoft.Compute/diskAccesses/{existing-diskAccess-name}"
        }
      }
    codeTab: |+
      # [HTTP](#tab/HTTP)
      ``` http
      PUT https://management.azure.com/subscriptions/{subscription-id}/resourceGroups/myResourceGroup/providers/Microsoft.Compute/disks/myDisk?api-version=2021-12-01

      {
        "location": "West US",
        "properties": {
          "creationData": {
            "createOption": "Empty"
          },
          "diskSizeGB": 200,
          "networkAccessPolicy": "AllowPrivate",
          "diskAccessId": "/subscriptions/{subscription-id}/resourceGroups/myResourceGroup/providers/Microsoft.Compute/diskAccesses/{existing-diskAccess-name}"
        }
      }

      ```

      # [Java](#tab/Java)
      ``` java
      import com.azure.core.util.Context;
      import com.azure.resourcemanager.compute.fluent.models.DiskInner;
      import com.azure.resourcemanager.compute.models.CreationData;
      import com.azure.resourcemanager.compute.models.DiskCreateOption;
      import com.azure.resourcemanager.compute.models.NetworkAccessPolicy;

      /** Samples for Disks CreateOrUpdate. */
      public final class Main {
          /*
           * x-ms-original-file: specification/compute/resource-manager/Microsoft.Compute/stable/2021-12-01/examples/CreateAManagedDiskWithDiskAccess.json
           */
          /**
           * Sample code: Create a managed disk and associate with disk access resource.
           *
           * @param azure The entry point for accessing resource management APIs in Azure.
           */
          public static void createAManagedDiskAndAssociateWithDiskAccessResource(
              com.azure.resourcemanager.AzureResourceManager azure) {
              azure
                  .virtualMachines()
                  .manager()
                  .serviceClient()
                  .getDisks()
                  .createOrUpdate(
                      "myResourceGroup",
                      "myDisk",
                      new DiskInner()
                          .withLocation("West US")
                          .withCreationData(new CreationData().withCreateOption(DiskCreateOption.EMPTY))
                          .withDiskSizeGB(200)
                          .withNetworkAccessPolicy(NetworkAccessPolicy.ALLOW_PRIVATE)
                          .withDiskAccessId(
                              "/subscriptions/{subscription-id}/resourceGroups/myResourceGroup/providers/Microsoft.Compute/diskAccesses/{existing-diskAccess-name}"),
                      Context.NONE);
          }
      }

      ```
      Read this [SDK documentation](https://github.com/Azure/azure-sdk-for-java/blob/azure-resourcemanager_2.15.0/sdk/resourcemanager/azure-resourcemanager/README.md) on how to add the SDK to your project and authenticate.
      # [JavaScript](#tab/JavaScript)
      ``` js
      const { ComputeManagementClient } = require("@azure/arm-compute");
      const { DefaultAzureCredential } = require("@azure/identity");

      /**
       * This sample demonstrates how to Creates or updates a disk.
       *
       * @summary Creates or updates a disk.
       * x-ms-original-file: specification/compute/resource-manager/Microsoft.Compute/stable/2021-12-01/examples/CreateAManagedDiskWithDiskAccess.json
       */
      async function createAManagedDiskAndAssociateWithDiskAccessResource() {
        const subscriptionId = "{subscription-id}";
        const resourceGroupName = "myResourceGroup";
        const diskName = "myDisk";
        const disk = {
          creationData: { createOption: "Empty" },
          diskAccessId:
            "/subscriptions/{subscription-id}/resourceGroups/myResourceGroup/providers/Microsoft.Compute/diskAccesses/{existing-diskAccess-name}",
          diskSizeGB: 200,
          location: "West US",
          networkAccessPolicy: "AllowPrivate",
        };
        const credential = new DefaultAzureCredential();
        const client = new ComputeManagementClient(credential, subscriptionId);
        const result = await client.disks.beginCreateOrUpdateAndWait(resourceGroupName, diskName, disk);
        console.log(result);
      }

      createAManagedDiskAndAssociateWithDiskAccessResource().catch(console.error);

      ```
      Read this [SDK documentation](https://github.com/Azure/azure-sdk-for-js/blob/%40azure%2Farm-compute_18.0.0/sdk/compute/arm-compute/README.md) on how to add the SDK to your project and authenticate.
  responses:
  - statusCode: "202"
    body: >-
      {
        "properties": {
          "creationData": {
            "createOption": "Empty"
          },
          "diskSizeGB": 200,
          "provisioningState": "Updating"
        },
        "location": "West US",
        "name": "myDisk"
      }
  - statusCode: "200"
    body: >-
      {
        "properties": {
          "creationData": {
            "createOption": "Empty"
          },
          "diskSizeGB": 200,
          "provisioningState": "Succeeded",
          "networkAccessPolicy": "AllowPrivate",
          "diskAccessId": "/subscriptions/{subscription-id}/resourceGroups/myResourceGroup/providers/Microsoft.Compute/diskAccesses/{existing-diskAccess-name}",
          "publicNetworkAccess": "Enabled"
        },
        "location": "West US",
        "name": "myDisk"
      }
- name: Create a managed disk with dataAccessAuthMode
  request:
    uri: PUT https://management.azure.com/subscriptions/{subscription-id}/resourceGroups/myResourceGroup/providers/Microsoft.Compute/disks/myDisk?api-version=2021-12-01
    body: >-
      {
        "location": "West US",
        "properties": {
          "creationData": {
            "createOption": "Empty"
          },
          "diskSizeGB": 200,
          "dataAccessAuthMode": "AzureActiveDirectory"
        }
      }
    codeTab: |+
      # [HTTP](#tab/HTTP)
      ``` http
      PUT https://management.azure.com/subscriptions/{subscription-id}/resourceGroups/myResourceGroup/providers/Microsoft.Compute/disks/myDisk?api-version=2021-12-01

      {
        "location": "West US",
        "properties": {
          "creationData": {
            "createOption": "Empty"
          },
          "diskSizeGB": 200,
          "dataAccessAuthMode": "AzureActiveDirectory"
        }
      }

      ```

      # [Java](#tab/Java)
      ``` java
      import com.azure.core.util.Context;
      import com.azure.resourcemanager.compute.fluent.models.DiskInner;
      import com.azure.resourcemanager.compute.models.CreationData;
      import com.azure.resourcemanager.compute.models.DataAccessAuthMode;
      import com.azure.resourcemanager.compute.models.DiskCreateOption;

      /** Samples for Disks CreateOrUpdate. */
      public final class Main {
          /*
           * x-ms-original-file: specification/compute/resource-manager/Microsoft.Compute/stable/2021-12-01/examples/CreateAManagedDiskWithDataAccessAuthMode.json
           */
          /**
           * Sample code: Create a managed disk with dataAccessAuthMode.
           *
           * @param azure The entry point for accessing resource management APIs in Azure.
           */
          public static void createAManagedDiskWithDataAccessAuthMode(com.azure.resourcemanager.AzureResourceManager azure) {
              azure
                  .virtualMachines()
                  .manager()
                  .serviceClient()
                  .getDisks()
                  .createOrUpdate(
                      "myResourceGroup",
                      "myDisk",
                      new DiskInner()
                          .withLocation("West US")
                          .withCreationData(new CreationData().withCreateOption(DiskCreateOption.EMPTY))
                          .withDiskSizeGB(200)
                          .withDataAccessAuthMode(DataAccessAuthMode.AZURE_ACTIVE_DIRECTORY),
                      Context.NONE);
          }
      }

      ```
      Read this [SDK documentation](https://github.com/Azure/azure-sdk-for-java/blob/azure-resourcemanager_2.15.0/sdk/resourcemanager/azure-resourcemanager/README.md) on how to add the SDK to your project and authenticate.
      # [JavaScript](#tab/JavaScript)
      ``` js
      const { ComputeManagementClient } = require("@azure/arm-compute");
      const { DefaultAzureCredential } = require("@azure/identity");

      /**
       * This sample demonstrates how to Creates or updates a disk.
       *
       * @summary Creates or updates a disk.
       * x-ms-original-file: specification/compute/resource-manager/Microsoft.Compute/stable/2021-12-01/examples/CreateAManagedDiskWithDataAccessAuthMode.json
       */
      async function createAManagedDiskWithDataAccessAuthMode() {
        const subscriptionId = "{subscription-id}";
        const resourceGroupName = "myResourceGroup";
        const diskName = "myDisk";
        const disk = {
          creationData: { createOption: "Empty" },
          dataAccessAuthMode: "AzureActiveDirectory",
          diskSizeGB: 200,
          location: "West US",
        };
        const credential = new DefaultAzureCredential();
        const client = new ComputeManagementClient(credential, subscriptionId);
        const result = await client.disks.beginCreateOrUpdateAndWait(resourceGroupName, diskName, disk);
        console.log(result);
      }

      createAManagedDiskWithDataAccessAuthMode().catch(console.error);

      ```
      Read this [SDK documentation](https://github.com/Azure/azure-sdk-for-js/blob/%40azure%2Farm-compute_18.0.0/sdk/compute/arm-compute/README.md) on how to add the SDK to your project and authenticate.
  responses:
  - statusCode: "202"
    body: >-
      {
        "properties": {
          "creationData": {
            "createOption": "Empty"
          },
          "diskSizeGB": 200,
          "provisioningState": "Updating"
        },
        "location": "West US",
        "name": "myDisk"
      }
  - statusCode: "200"
    body: >-
      {
        "properties": {
          "creationData": {
            "createOption": "Empty"
          },
          "diskSizeGB": 200,
          "provisioningState": "Succeeded",
          "dataAccessAuthMode": "AzureActiveDirectory"
        },
        "location": "West US",
        "name": "myDisk"
      }
- name: Create a managed disk and associate with disk encryption set.
  request:
    uri: PUT https://management.azure.com/subscriptions/{subscription-id}/resourceGroups/myResourceGroup/providers/Microsoft.Compute/disks/myDisk?api-version=2021-12-01
    body: >-
      {
        "location": "West US",
        "properties": {
          "creationData": {
            "createOption": "Empty"
          },
          "diskSizeGB": 200,
          "encryption": {
            "diskEncryptionSetId": "/subscriptions/{subscription-id}/resourceGroups/myResourceGroup/providers/Microsoft.Compute/diskEncryptionSets/{existing-diskEncryptionSet-name}"
          }
        }
      }
    codeTab: |+
      # [HTTP](#tab/HTTP)
      ``` http
      PUT https://management.azure.com/subscriptions/{subscription-id}/resourceGroups/myResourceGroup/providers/Microsoft.Compute/disks/myDisk?api-version=2021-12-01

      {
        "location": "West US",
        "properties": {
          "creationData": {
            "createOption": "Empty"
          },
          "diskSizeGB": 200,
          "encryption": {
            "diskEncryptionSetId": "/subscriptions/{subscription-id}/resourceGroups/myResourceGroup/providers/Microsoft.Compute/diskEncryptionSets/{existing-diskEncryptionSet-name}"
          }
        }
      }

      ```

      # [Java](#tab/Java)
      ``` java
      import com.azure.core.util.Context;
      import com.azure.resourcemanager.compute.fluent.models.DiskInner;
      import com.azure.resourcemanager.compute.models.CreationData;
      import com.azure.resourcemanager.compute.models.DiskCreateOption;
      import com.azure.resourcemanager.compute.models.Encryption;

      /** Samples for Disks CreateOrUpdate. */
      public final class Main {
          /*
           * x-ms-original-file: specification/compute/resource-manager/Microsoft.Compute/stable/2021-12-01/examples/CreateAManagedDiskWithDiskEncryptionSet.json
           */
          /**
           * Sample code: Create a managed disk and associate with disk encryption set.
           *
           * @param azure The entry point for accessing resource management APIs in Azure.
           */
          public static void createAManagedDiskAndAssociateWithDiskEncryptionSet(
              com.azure.resourcemanager.AzureResourceManager azure) {
              azure
                  .virtualMachines()
                  .manager()
                  .serviceClient()
                  .getDisks()
                  .createOrUpdate(
                      "myResourceGroup",
                      "myDisk",
                      new DiskInner()
                          .withLocation("West US")
                          .withCreationData(new CreationData().withCreateOption(DiskCreateOption.EMPTY))
                          .withDiskSizeGB(200)
                          .withEncryption(
                              new Encryption()
                                  .withDiskEncryptionSetId(
                                      "/subscriptions/{subscription-id}/resourceGroups/myResourceGroup/providers/Microsoft.Compute/diskEncryptionSets/{existing-diskEncryptionSet-name}")),
                      Context.NONE);
          }
      }

      ```
      Read this [SDK documentation](https://github.com/Azure/azure-sdk-for-java/blob/azure-resourcemanager_2.15.0/sdk/resourcemanager/azure-resourcemanager/README.md) on how to add the SDK to your project and authenticate.
      # [JavaScript](#tab/JavaScript)
      ``` js
      const { ComputeManagementClient } = require("@azure/arm-compute");
      const { DefaultAzureCredential } = require("@azure/identity");

      /**
       * This sample demonstrates how to Creates or updates a disk.
       *
       * @summary Creates or updates a disk.
       * x-ms-original-file: specification/compute/resource-manager/Microsoft.Compute/stable/2021-12-01/examples/CreateAManagedDiskWithDiskEncryptionSet.json
       */
      async function createAManagedDiskAndAssociateWithDiskEncryptionSet() {
        const subscriptionId = "{subscription-id}";
        const resourceGroupName = "myResourceGroup";
        const diskName = "myDisk";
        const disk = {
          creationData: { createOption: "Empty" },
          diskSizeGB: 200,
          encryption: {
            diskEncryptionSetId:
              "/subscriptions/{subscription-id}/resourceGroups/myResourceGroup/providers/Microsoft.Compute/diskEncryptionSets/{existing-diskEncryptionSet-name}",
          },
          location: "West US",
        };
        const credential = new DefaultAzureCredential();
        const client = new ComputeManagementClient(credential, subscriptionId);
        const result = await client.disks.beginCreateOrUpdateAndWait(resourceGroupName, diskName, disk);
        console.log(result);
      }

      createAManagedDiskAndAssociateWithDiskEncryptionSet().catch(console.error);

      ```
      Read this [SDK documentation](https://github.com/Azure/azure-sdk-for-js/blob/%40azure%2Farm-compute_18.0.0/sdk/compute/arm-compute/README.md) on how to add the SDK to your project and authenticate.
  responses:
  - statusCode: "202"
    body: >-
      {
        "properties": {
          "creationData": {
            "createOption": "Empty"
          },
          "diskSizeGB": 200,
          "provisioningState": "Updating"
        },
        "location": "West US",
        "name": "myDisk"
      }
  - statusCode: "200"
    body: >-
      {
        "properties": {
          "creationData": {
            "createOption": "Empty"
          },
          "diskSizeGB": 200,
          "provisioningState": "Succeeded",
          "encryption": {
            "diskEncryptionSetId": "/subscriptions/{subscription-id}/resourceGroups/myResourceGroup/providers/Microsoft.Compute/diskEncryptionSets/{existing-diskEncryptionSet-name}"
          }
        },
        "location": "West US",
        "name": "myDisk"
      }
- name: Create an ultra managed disk with logicalSectorSize 512E
  request:
    uri: PUT https://management.azure.com/subscriptions/{subscription-id}/resourceGroups/myResourceGroup/providers/Microsoft.Compute/disks/myDisk?api-version=2021-12-01
    body: >-
      {
        "location": "West US",
        "sku": {
          "name": "UltraSSD_LRS"
        },
        "properties": {
          "creationData": {
            "createOption": "Empty",
            "logicalSectorSize": 512
          },
          "diskSizeGB": 200
        }
      }
    codeTab: |+
      # [HTTP](#tab/HTTP)
      ``` http
      PUT https://management.azure.com/subscriptions/{subscription-id}/resourceGroups/myResourceGroup/providers/Microsoft.Compute/disks/myDisk?api-version=2021-12-01

      {
        "location": "West US",
        "sku": {
          "name": "UltraSSD_LRS"
        },
        "properties": {
          "creationData": {
            "createOption": "Empty",
            "logicalSectorSize": 512
          },
          "diskSizeGB": 200
        }
      }

      ```

      # [Java](#tab/Java)
      ``` java
      import com.azure.core.util.Context;
      import com.azure.resourcemanager.compute.fluent.models.DiskInner;
      import com.azure.resourcemanager.compute.models.CreationData;
      import com.azure.resourcemanager.compute.models.DiskCreateOption;
      import com.azure.resourcemanager.compute.models.DiskSku;
      import com.azure.resourcemanager.compute.models.DiskStorageAccountTypes;

      /** Samples for Disks CreateOrUpdate. */
      public final class Main {
          /*
           * x-ms-original-file: specification/compute/resource-manager/Microsoft.Compute/stable/2021-12-01/examples/CreateAManagedDiskWithLogicalSectorSize.json
           */
          /**
           * Sample code: Create an ultra managed disk with logicalSectorSize 512E.
           *
           * @param azure The entry point for accessing resource management APIs in Azure.
           */
          public static void createAnUltraManagedDiskWithLogicalSectorSize512E(
              com.azure.resourcemanager.AzureResourceManager azure) {
              azure
                  .virtualMachines()
                  .manager()
                  .serviceClient()
                  .getDisks()
                  .createOrUpdate(
                      "myResourceGroup",
                      "myDisk",
                      new DiskInner()
                          .withLocation("West US")
                          .withSku(new DiskSku().withName(DiskStorageAccountTypes.ULTRA_SSD_LRS))
                          .withCreationData(
                              new CreationData().withCreateOption(DiskCreateOption.EMPTY).withLogicalSectorSize(512))
                          .withDiskSizeGB(200),
                      Context.NONE);
          }
      }

      ```
      Read this [SDK documentation](https://github.com/Azure/azure-sdk-for-java/blob/azure-resourcemanager_2.15.0/sdk/resourcemanager/azure-resourcemanager/README.md) on how to add the SDK to your project and authenticate.
      # [JavaScript](#tab/JavaScript)
      ``` js
      const { ComputeManagementClient } = require("@azure/arm-compute");
      const { DefaultAzureCredential } = require("@azure/identity");

      /**
       * This sample demonstrates how to Creates or updates a disk.
       *
       * @summary Creates or updates a disk.
       * x-ms-original-file: specification/compute/resource-manager/Microsoft.Compute/stable/2021-12-01/examples/CreateAManagedDiskWithLogicalSectorSize.json
       */
      async function createAnUltraManagedDiskWithLogicalSectorSize512E() {
        const subscriptionId = "{subscription-id}";
        const resourceGroupName = "myResourceGroup";
        const diskName = "myDisk";
        const disk = {
          creationData: { createOption: "Empty", logicalSectorSize: 512 },
          diskSizeGB: 200,
          location: "West US",
          sku: { name: "UltraSSD_LRS" },
        };
        const credential = new DefaultAzureCredential();
        const client = new ComputeManagementClient(credential, subscriptionId);
        const result = await client.disks.beginCreateOrUpdateAndWait(resourceGroupName, diskName, disk);
        console.log(result);
      }

      createAnUltraManagedDiskWithLogicalSectorSize512E().catch(console.error);

      ```
      Read this [SDK documentation](https://github.com/Azure/azure-sdk-for-js/blob/%40azure%2Farm-compute_18.0.0/sdk/compute/arm-compute/README.md) on how to add the SDK to your project and authenticate.
  responses:
  - statusCode: "202"
    body: >-
      {
        "properties": {
          "creationData": {
            "createOption": "Empty",
            "logicalSectorSize": 512
          },
          "diskSizeGB": 200,
          "provisioningState": "Updating"
        },
        "location": "West US",
        "name": "myDisk",
        "sku": {
          "name": "UltraSSD_LRS",
          "tier": "Ultra"
        }
      }
  - statusCode: "200"
    body: >-
      {
        "properties": {
          "creationData": {
            "createOption": "Empty",
            "logicalSectorSize": 512
          },
          "diskSizeGB": 200,
          "provisioningState": "Updating"
        },
        "location": "West US",
        "name": "myDisk",
        "sku": {
          "name": "UltraSSD_LRS",
          "tier": "Ultra"
        }
      }
- name: Create an empty managed disk in extended location.
  request:
    uri: PUT https://management.azure.com/subscriptions/{subscription-id}/resourceGroups/myResourceGroup/providers/Microsoft.Compute/disks/myDisk?api-version=2021-12-01
    body: >-
      {
        "location": "West US",
        "extendedLocation": {
          "type": "EdgeZone",
          "name": "{edge-zone-id}"
        },
        "properties": {
          "creationData": {
            "createOption": "Empty"
          },
          "diskSizeGB": 200
        }
      }
    codeTab: |+
      # [HTTP](#tab/HTTP)
      ``` http
      PUT https://management.azure.com/subscriptions/{subscription-id}/resourceGroups/myResourceGroup/providers/Microsoft.Compute/disks/myDisk?api-version=2021-12-01

      {
        "location": "West US",
        "extendedLocation": {
          "type": "EdgeZone",
          "name": "{edge-zone-id}"
        },
        "properties": {
          "creationData": {
            "createOption": "Empty"
          },
          "diskSizeGB": 200
        }
      }

      ```

      # [Java](#tab/Java)
      ``` java
      import com.azure.core.util.Context;
      import com.azure.resourcemanager.compute.fluent.models.DiskInner;
      import com.azure.resourcemanager.compute.models.CreationData;
      import com.azure.resourcemanager.compute.models.DiskCreateOption;
      import com.azure.resourcemanager.compute.models.ExtendedLocation;
      import com.azure.resourcemanager.compute.models.ExtendedLocationTypes;

      /** Samples for Disks CreateOrUpdate. */
      public final class Main {
          /*
           * x-ms-original-file: specification/compute/resource-manager/Microsoft.Compute/stable/2021-12-01/examples/CreateAnEmptyManagedDiskInExtendedLocation.json
           */
          /**
           * Sample code: Create an empty managed disk in extended location.
           *
           * @param azure The entry point for accessing resource management APIs in Azure.
           */
          public static void createAnEmptyManagedDiskInExtendedLocation(
              com.azure.resourcemanager.AzureResourceManager azure) {
              azure
                  .virtualMachines()
                  .manager()
                  .serviceClient()
                  .getDisks()
                  .createOrUpdate(
                      "myResourceGroup",
                      "myDisk",
                      new DiskInner()
                          .withLocation("West US")
                          .withExtendedLocation(
                              new ExtendedLocation().withName("{edge-zone-id}").withType(ExtendedLocationTypes.EDGE_ZONE))
                          .withCreationData(new CreationData().withCreateOption(DiskCreateOption.EMPTY))
                          .withDiskSizeGB(200),
                      Context.NONE);
          }
      }

      ```
      Read this [SDK documentation](https://github.com/Azure/azure-sdk-for-java/blob/azure-resourcemanager_2.15.0/sdk/resourcemanager/azure-resourcemanager/README.md) on how to add the SDK to your project and authenticate.
      # [JavaScript](#tab/JavaScript)
      ``` js
      const { ComputeManagementClient } = require("@azure/arm-compute");
      const { DefaultAzureCredential } = require("@azure/identity");

      /**
       * This sample demonstrates how to Creates or updates a disk.
       *
       * @summary Creates or updates a disk.
       * x-ms-original-file: specification/compute/resource-manager/Microsoft.Compute/stable/2021-12-01/examples/CreateAnEmptyManagedDiskInExtendedLocation.json
       */
      async function createAnEmptyManagedDiskInExtendedLocation() {
        const subscriptionId = "{subscription-id}";
        const resourceGroupName = "myResourceGroup";
        const diskName = "myDisk";
        const disk = {
          creationData: { createOption: "Empty" },
          diskSizeGB: 200,
          extendedLocation: { name: "{edge-zone-id}", type: "EdgeZone" },
          location: "West US",
        };
        const credential = new DefaultAzureCredential();
        const client = new ComputeManagementClient(credential, subscriptionId);
        const result = await client.disks.beginCreateOrUpdateAndWait(resourceGroupName, diskName, disk);
        console.log(result);
      }

      createAnEmptyManagedDiskInExtendedLocation().catch(console.error);

      ```
      Read this [SDK documentation](https://github.com/Azure/azure-sdk-for-js/blob/%40azure%2Farm-compute_18.0.0/sdk/compute/arm-compute/README.md) on how to add the SDK to your project and authenticate.
  responses:
  - statusCode: "202"
    body: >-
      {
        "properties": {
          "creationData": {
            "createOption": "Empty"
          },
          "diskSizeGB": 200,
          "provisioningState": "Updating"
        },
        "location": "West US",
        "name": "myDisk",
        "extendedLocation": {
          "type": "EdgeZone",
          "name": "{edge-zone-id}"
        }
      }
  - statusCode: "200"
    body: >-
      {
        "properties": {
          "creationData": {
            "createOption": "Empty"
          },
          "diskSizeGB": 200,
          "provisioningState": "Updating"
        },
        "location": "West US",
        "name": "myDisk",
        "extendedLocation": {
          "type": "EdgeZone",
          "name": "{edge-zone-id}"
        }
      }
- name: Create a managed disk with ssd zrs account type.
  request:
    uri: PUT https://management.azure.com/subscriptions/{subscription-id}/resourceGroups/myResourceGroup/providers/Microsoft.Compute/disks/myDisk?api-version=2021-12-01
    body: >-
      {
        "location": "West US",
        "sku": {
          "name": "Premium_ZRS"
        },
        "properties": {
          "creationData": {
            "createOption": "Empty"
          },
          "diskSizeGB": 200
        }
      }
    codeTab: |+
      # [HTTP](#tab/HTTP)
      ``` http
      PUT https://management.azure.com/subscriptions/{subscription-id}/resourceGroups/myResourceGroup/providers/Microsoft.Compute/disks/myDisk?api-version=2021-12-01

      {
        "location": "West US",
        "sku": {
          "name": "Premium_ZRS"
        },
        "properties": {
          "creationData": {
            "createOption": "Empty"
          },
          "diskSizeGB": 200
        }
      }

      ```

      # [Java](#tab/Java)
      ``` java
      import com.azure.core.util.Context;
      import com.azure.resourcemanager.compute.fluent.models.DiskInner;
      import com.azure.resourcemanager.compute.models.CreationData;
      import com.azure.resourcemanager.compute.models.DiskCreateOption;
      import com.azure.resourcemanager.compute.models.DiskSku;
      import com.azure.resourcemanager.compute.models.DiskStorageAccountTypes;

      /** Samples for Disks CreateOrUpdate. */
      public final class Main {
          /*
           * x-ms-original-file: specification/compute/resource-manager/Microsoft.Compute/stable/2021-12-01/examples/CreateAManagedDiskWithSSDZRSAccountType.json
           */
          /**
           * Sample code: Create a managed disk with ssd zrs account type.
           *
           * @param azure The entry point for accessing resource management APIs in Azure.
           */
          public static void createAManagedDiskWithSsdZrsAccountType(com.azure.resourcemanager.AzureResourceManager azure) {
              azure
                  .virtualMachines()
                  .manager()
                  .serviceClient()
                  .getDisks()
                  .createOrUpdate(
                      "myResourceGroup",
                      "myDisk",
                      new DiskInner()
                          .withLocation("West US")
                          .withSku(new DiskSku().withName(DiskStorageAccountTypes.PREMIUM_ZRS))
                          .withCreationData(new CreationData().withCreateOption(DiskCreateOption.EMPTY))
                          .withDiskSizeGB(200),
                      Context.NONE);
          }
      }

      ```
      Read this [SDK documentation](https://github.com/Azure/azure-sdk-for-java/blob/azure-resourcemanager_2.15.0/sdk/resourcemanager/azure-resourcemanager/README.md) on how to add the SDK to your project and authenticate.
      # [JavaScript](#tab/JavaScript)
      ``` js
      const { ComputeManagementClient } = require("@azure/arm-compute");
      const { DefaultAzureCredential } = require("@azure/identity");

      /**
       * This sample demonstrates how to Creates or updates a disk.
       *
       * @summary Creates or updates a disk.
       * x-ms-original-file: specification/compute/resource-manager/Microsoft.Compute/stable/2021-12-01/examples/CreateAManagedDiskWithSSDZRSAccountType.json
       */
      async function createAManagedDiskWithSsdZrsAccountType() {
        const subscriptionId = "{subscription-id}";
        const resourceGroupName = "myResourceGroup";
        const diskName = "myDisk";
        const disk = {
          creationData: { createOption: "Empty" },
          diskSizeGB: 200,
          location: "West US",
          sku: { name: "Premium_ZRS" },
        };
        const credential = new DefaultAzureCredential();
        const client = new ComputeManagementClient(credential, subscriptionId);
        const result = await client.disks.beginCreateOrUpdateAndWait(resourceGroupName, diskName, disk);
        console.log(result);
      }

      createAManagedDiskWithSsdZrsAccountType().catch(console.error);

      ```
      Read this [SDK documentation](https://github.com/Azure/azure-sdk-for-js/blob/%40azure%2Farm-compute_18.0.0/sdk/compute/arm-compute/README.md) on how to add the SDK to your project and authenticate.
  responses:
  - statusCode: "202"
    body: >-
      {
        "properties": {
          "creationData": {
            "createOption": "Empty"
          },
          "diskSizeGB": 200,
          "provisioningState": "Updating"
        },
        "location": "West US",
        "name": "myDisk",
        "sku": {
          "name": "Premium_ZRS",
          "tier": "Premium"
        }
      }
  - statusCode: "200"
    body: >-
      {
        "properties": {
          "creationData": {
            "createOption": "Empty"
          },
          "diskSizeGB": 200,
          "provisioningState": "Updating"
        },
        "location": "West US",
        "name": "myDisk",
        "sku": {
          "name": "Premium_ZRS",
          "tier": "Premium"
        }
      }
- name: Create a managed disk with security profile
  request:
    uri: PUT https://management.azure.com/subscriptions/{subscription-id}/resourceGroups/myResourceGroup/providers/Microsoft.Compute/disks/myDisk?api-version=2021-12-01
    body: >-
      {
        "location": "North Central US",
        "properties": {
          "osType": "Windows",
          "securityProfile": {
            "securityType": "TrustedLaunch"
          },
          "creationData": {
            "createOption": "FromImage",
            "imageReference": {
              "id": "/Subscriptions/{subscriptionId}/Providers/Microsoft.Compute/Locations/uswest/Publishers/Microsoft/ArtifactTypes/VMImage/Offers/{offer}"
            }
          }
        }
      }
    codeTab: |+
      # [HTTP](#tab/HTTP)
      ``` http
      PUT https://management.azure.com/subscriptions/{subscription-id}/resourceGroups/myResourceGroup/providers/Microsoft.Compute/disks/myDisk?api-version=2021-12-01

      {
        "location": "North Central US",
        "properties": {
          "osType": "Windows",
          "securityProfile": {
            "securityType": "TrustedLaunch"
          },
          "creationData": {
            "createOption": "FromImage",
            "imageReference": {
              "id": "/Subscriptions/{subscriptionId}/Providers/Microsoft.Compute/Locations/uswest/Publishers/Microsoft/ArtifactTypes/VMImage/Offers/{offer}"
            }
          }
        }
      }

      ```

      # [Java](#tab/Java)
      ``` java
      import com.azure.core.util.Context;
      import com.azure.resourcemanager.compute.fluent.models.DiskInner;
      import com.azure.resourcemanager.compute.models.CreationData;
      import com.azure.resourcemanager.compute.models.DiskCreateOption;
      import com.azure.resourcemanager.compute.models.DiskSecurityProfile;
      import com.azure.resourcemanager.compute.models.DiskSecurityTypes;
      import com.azure.resourcemanager.compute.models.ImageDiskReference;
      import com.azure.resourcemanager.compute.models.OperatingSystemTypes;

      /** Samples for Disks CreateOrUpdate. */
      public final class Main {
          /*
           * x-ms-original-file: specification/compute/resource-manager/Microsoft.Compute/stable/2021-12-01/examples/CreateAManagedDiskWithSecurityProfile.json
           */
          /**
           * Sample code: Create a managed disk with security profile.
           *
           * @param azure The entry point for accessing resource management APIs in Azure.
           */
          public static void createAManagedDiskWithSecurityProfile(com.azure.resourcemanager.AzureResourceManager azure) {
              azure
                  .virtualMachines()
                  .manager()
                  .serviceClient()
                  .getDisks()
                  .createOrUpdate(
                      "myResourceGroup",
                      "myDisk",
                      new DiskInner()
                          .withLocation("North Central US")
                          .withOsType(OperatingSystemTypes.WINDOWS)
                          .withCreationData(
                              new CreationData()
                                  .withCreateOption(DiskCreateOption.FROM_IMAGE)
                                  .withImageReference(
                                      new ImageDiskReference()
                                          .withId(
                                              "/Subscriptions/{subscriptionId}/Providers/Microsoft.Compute/Locations/uswest/Publishers/Microsoft/ArtifactTypes/VMImage/Offers/{offer}")))
                          .withSecurityProfile(new DiskSecurityProfile().withSecurityType(DiskSecurityTypes.TRUSTED_LAUNCH)),
                      Context.NONE);
          }
      }

      ```
      Read this [SDK documentation](https://github.com/Azure/azure-sdk-for-java/blob/azure-resourcemanager_2.15.0/sdk/resourcemanager/azure-resourcemanager/README.md) on how to add the SDK to your project and authenticate.
      # [JavaScript](#tab/JavaScript)
      ``` js
      const { ComputeManagementClient } = require("@azure/arm-compute");
      const { DefaultAzureCredential } = require("@azure/identity");

      /**
       * This sample demonstrates how to Creates or updates a disk.
       *
       * @summary Creates or updates a disk.
       * x-ms-original-file: specification/compute/resource-manager/Microsoft.Compute/stable/2021-12-01/examples/CreateAManagedDiskWithSecurityProfile.json
       */
      async function createAManagedDiskWithSecurityProfile() {
        const subscriptionId = "{subscription-id}";
        const resourceGroupName = "myResourceGroup";
        const diskName = "myDisk";
        const disk = {
          creationData: {
            createOption: "FromImage",
            imageReference: {
              id: "/Subscriptions/{subscriptionId}/Providers/Microsoft.Compute/Locations/uswest/Publishers/Microsoft/ArtifactTypes/VMImage/Offers/{offer}",
            },
          },
          location: "North Central US",
          osType: "Windows",
          securityProfile: { securityType: "TrustedLaunch" },
        };
        const credential = new DefaultAzureCredential();
        const client = new ComputeManagementClient(credential, subscriptionId);
        const result = await client.disks.beginCreateOrUpdateAndWait(resourceGroupName, diskName, disk);
        console.log(result);
      }

      createAManagedDiskWithSecurityProfile().catch(console.error);

      ```
      Read this [SDK documentation](https://github.com/Azure/azure-sdk-for-js/blob/%40azure%2Farm-compute_18.0.0/sdk/compute/arm-compute/README.md) on how to add the SDK to your project and authenticate.
  responses:
  - statusCode: "202"
    body: >-
      {
        "name": "myDisk",
        "location": "North Central US",
        "properties": {
          "provisioningState": "Updating",
          "osType": "Windows",
          "securityProfile": {
            "securityType": "TrustedLaunch"
          },
          "creationData": {
            "createOption": "FromImage",
            "imageReference": {
              "id": "/Subscriptions/{subscriptionId}/Providers/Microsoft.Compute/Locations/uswest/Publishers/Microsoft/ArtifactTypes/VMImage/Offers/{offer}"
            }
          }
        }
      }
  - statusCode: "200"
    body: >-
      {
        "name": "myDisk",
        "location": "North Central US",
        "properties": {
          "provisioningState": "Succeeded",
          "osType": "Windows",
          "securityProfile": {
            "securityType": "TrustedLaunch"
          },
          "creationData": {
            "createOption": "FromImage",
            "imageReference": {
              "id": "/Subscriptions/{subscriptionId}/Providers/Microsoft.Compute/Locations/uswest/Publishers/Microsoft/ArtifactTypes/VMImage/Offers/{offer}"
            }
          }
        }
      }
- name: Create a managed disk from ImportSecure create option
  request:
    uri: PUT https://management.azure.com/subscriptions/{subscription-id}/resourceGroups/myResourceGroup/providers/Microsoft.Compute/disks/myDisk?api-version=2021-12-01
    body: >-
      {
        "location": "West US",
        "properties": {
          "osType": "Windows",
          "securityProfile": {
            "securityType": "ConfidentialVM_VMGuestStateOnlyEncryptedWithPlatformKey"
          },
          "creationData": {
            "createOption": "ImportSecure",
            "storageAccountId": "subscriptions/{subscriptionId}/resourceGroups/myResourceGroup/providers/Microsoft.Storage/storageAccounts/myStorageAccount",
            "sourceUri": "https://mystorageaccount.blob.core.windows.net/osimages/osimage.vhd",
            "securityDataUri": "https://mystorageaccount.blob.core.windows.net/osimages/vmgs.vhd"
          }
        }
      }
    codeTab: |+
      # [HTTP](#tab/HTTP)
      ``` http
      PUT https://management.azure.com/subscriptions/{subscription-id}/resourceGroups/myResourceGroup/providers/Microsoft.Compute/disks/myDisk?api-version=2021-12-01

      {
        "location": "West US",
        "properties": {
          "osType": "Windows",
          "securityProfile": {
            "securityType": "ConfidentialVM_VMGuestStateOnlyEncryptedWithPlatformKey"
          },
          "creationData": {
            "createOption": "ImportSecure",
            "storageAccountId": "subscriptions/{subscriptionId}/resourceGroups/myResourceGroup/providers/Microsoft.Storage/storageAccounts/myStorageAccount",
            "sourceUri": "https://mystorageaccount.blob.core.windows.net/osimages/osimage.vhd",
            "securityDataUri": "https://mystorageaccount.blob.core.windows.net/osimages/vmgs.vhd"
          }
        }
      }

      ```

      # [Java](#tab/Java)
      ``` java
      import com.azure.core.util.Context;
      import com.azure.resourcemanager.compute.fluent.models.DiskInner;
      import com.azure.resourcemanager.compute.models.CreationData;
      import com.azure.resourcemanager.compute.models.DiskCreateOption;
      import com.azure.resourcemanager.compute.models.DiskSecurityProfile;
      import com.azure.resourcemanager.compute.models.DiskSecurityTypes;
      import com.azure.resourcemanager.compute.models.OperatingSystemTypes;

      /** Samples for Disks CreateOrUpdate. */
      public final class Main {
          /*
           * x-ms-original-file: specification/compute/resource-manager/Microsoft.Compute/stable/2021-12-01/examples/CreateAManagedDiskFromImportSecure.json
           */
          /**
           * Sample code: Create a managed disk from ImportSecure create option.
           *
           * @param azure The entry point for accessing resource management APIs in Azure.
           */
          public static void createAManagedDiskFromImportSecureCreateOption(
              com.azure.resourcemanager.AzureResourceManager azure) {
              azure
                  .virtualMachines()
                  .manager()
                  .serviceClient()
                  .getDisks()
                  .createOrUpdate(
                      "myResourceGroup",
                      "myDisk",
                      new DiskInner()
                          .withLocation("West US")
                          .withOsType(OperatingSystemTypes.WINDOWS)
                          .withCreationData(
                              new CreationData()
                                  .withCreateOption(DiskCreateOption.IMPORT_SECURE)
                                  .withStorageAccountId(
                                      "subscriptions/{subscriptionId}/resourceGroups/myResourceGroup/providers/Microsoft.Storage/storageAccounts/myStorageAccount")
                                  .withSourceUri("https://mystorageaccount.blob.core.windows.net/osimages/osimage.vhd")
                                  .withSecurityDataUri("https://mystorageaccount.blob.core.windows.net/osimages/vmgs.vhd"))
                          .withSecurityProfile(
                              new DiskSecurityProfile()
                                  .withSecurityType(
                                      DiskSecurityTypes.CONFIDENTIAL_VM_VMGUEST_STATE_ONLY_ENCRYPTED_WITH_PLATFORM_KEY)),
                      Context.NONE);
          }
      }

      ```
      Read this [SDK documentation](https://github.com/Azure/azure-sdk-for-java/blob/azure-resourcemanager_2.15.0/sdk/resourcemanager/azure-resourcemanager/README.md) on how to add the SDK to your project and authenticate.
      # [JavaScript](#tab/JavaScript)
      ``` js
      const { ComputeManagementClient } = require("@azure/arm-compute");
      const { DefaultAzureCredential } = require("@azure/identity");

      /**
       * This sample demonstrates how to Creates or updates a disk.
       *
       * @summary Creates or updates a disk.
       * x-ms-original-file: specification/compute/resource-manager/Microsoft.Compute/stable/2021-12-01/examples/CreateAManagedDiskFromImportSecure.json
       */
      async function createAManagedDiskFromImportSecureCreateOption() {
        const subscriptionId = "{subscription-id}";
        const resourceGroupName = "myResourceGroup";
        const diskName = "myDisk";
        const disk = {
          creationData: {
            createOption: "ImportSecure",
            securityDataUri: "https://mystorageaccount.blob.core.windows.net/osimages/vmgs.vhd",
            sourceUri: "https://mystorageaccount.blob.core.windows.net/osimages/osimage.vhd",
            storageAccountId:
              "subscriptions/{subscriptionId}/resourceGroups/myResourceGroup/providers/Microsoft.Storage/storageAccounts/myStorageAccount",
          },
          location: "West US",
          osType: "Windows",
          securityProfile: {
            securityType: "ConfidentialVM_VMGuestStateOnlyEncryptedWithPlatformKey",
          },
        };
        const credential = new DefaultAzureCredential();
        const client = new ComputeManagementClient(credential, subscriptionId);
        const result = await client.disks.beginCreateOrUpdateAndWait(resourceGroupName, diskName, disk);
        console.log(result);
      }

      createAManagedDiskFromImportSecureCreateOption().catch(console.error);

      ```
      Read this [SDK documentation](https://github.com/Azure/azure-sdk-for-js/blob/%40azure%2Farm-compute_18.0.0/sdk/compute/arm-compute/README.md) on how to add the SDK to your project and authenticate.
  responses:
  - statusCode: "202"
    body: >-
      {
        "name": "myDisk",
        "location": "West US",
        "properties": {
          "provisioningState": "Updating",
          "osType": "Windows",
          "securityProfile": {
            "securityType": "ConfidentialVM_VMGuestStateOnlyEncryptedWithPlatformKey"
          },
          "creationData": {
            "createOption": "ImportSecure",
            "storageAccountId": "subscriptions/{subscriptionId}/resourceGroups/myResourceGroup/providers/Microsoft.Storage/storageAccounts/myStorageAccount",
            "sourceUri": "https://mystorageaccount.blob.core.windows.net/osimages/osimage.vhd",
            "securityDataUri": "https://mystorageaccount.blob.core.windows.net/osimages/vmgs.vhd"
          }
        }
      }
  - statusCode: "200"
    body: >-
      {
        "name": "myDisk",
        "location": "West US",
        "properties": {
          "provisioningState": "Succeeded",
          "osType": "Windows",
          "securityProfile": {
            "securityType": "ConfidentialVM_VMGuestStateOnlyEncryptedWithPlatformKey"
          },
          "creationData": {
            "createOption": "ImportSecure",
            "storageAccountId": "subscriptions/{subscriptionId}/resourceGroups/myResourceGroup/providers/Microsoft.Storage/storageAccounts/myStorageAccount",
            "sourceUri": "https://mystorageaccount.blob.core.windows.net/osimages/osimage.vhd",
            "securityDataUri": "https://mystorageaccount.blob.core.windows.net/osimages/vmgs.vhd"
          }
        }
      }
- name: Create a managed disk from UploadPreparedSecure create option
  request:
    uri: PUT https://management.azure.com/subscriptions/{subscription-id}/resourceGroups/myResourceGroup/providers/Microsoft.Compute/disks/myDisk?api-version=2021-12-01
    body: >-
      {
        "location": "West US",
        "properties": {
          "osType": "Windows",
          "securityProfile": {
            "securityType": "TrustedLaunch"
          },
          "creationData": {
            "createOption": "UploadPreparedSecure",
            "uploadSizeBytes": 10737418752
          }
        }
      }
    codeTab: |+
      # [HTTP](#tab/HTTP)
      ``` http
      PUT https://management.azure.com/subscriptions/{subscription-id}/resourceGroups/myResourceGroup/providers/Microsoft.Compute/disks/myDisk?api-version=2021-12-01

      {
        "location": "West US",
        "properties": {
          "osType": "Windows",
          "securityProfile": {
            "securityType": "TrustedLaunch"
          },
          "creationData": {
            "createOption": "UploadPreparedSecure",
            "uploadSizeBytes": 10737418752
          }
        }
      }

      ```

      # [Java](#tab/Java)
      ``` java
      import com.azure.core.util.Context;
      import com.azure.resourcemanager.compute.fluent.models.DiskInner;
      import com.azure.resourcemanager.compute.models.CreationData;
      import com.azure.resourcemanager.compute.models.DiskCreateOption;
      import com.azure.resourcemanager.compute.models.DiskSecurityProfile;
      import com.azure.resourcemanager.compute.models.DiskSecurityTypes;
      import com.azure.resourcemanager.compute.models.OperatingSystemTypes;

      /** Samples for Disks CreateOrUpdate. */
      public final class Main {
          /*
           * x-ms-original-file: specification/compute/resource-manager/Microsoft.Compute/stable/2021-12-01/examples/CreateAManagedDiskFromUploadPreparedSecure.json
           */
          /**
           * Sample code: Create a managed disk from UploadPreparedSecure create option.
           *
           * @param azure The entry point for accessing resource management APIs in Azure.
           */
          public static void createAManagedDiskFromUploadPreparedSecureCreateOption(
              com.azure.resourcemanager.AzureResourceManager azure) {
              azure
                  .virtualMachines()
                  .manager()
                  .serviceClient()
                  .getDisks()
                  .createOrUpdate(
                      "myResourceGroup",
                      "myDisk",
                      new DiskInner()
                          .withLocation("West US")
                          .withOsType(OperatingSystemTypes.WINDOWS)
                          .withCreationData(
                              new CreationData()
                                  .withCreateOption(DiskCreateOption.UPLOAD_PREPARED_SECURE)
                                  .withUploadSizeBytes(10737418752L))
                          .withSecurityProfile(new DiskSecurityProfile().withSecurityType(DiskSecurityTypes.TRUSTED_LAUNCH)),
                      Context.NONE);
          }
      }

      ```
      Read this [SDK documentation](https://github.com/Azure/azure-sdk-for-java/blob/azure-resourcemanager_2.15.0/sdk/resourcemanager/azure-resourcemanager/README.md) on how to add the SDK to your project and authenticate.
      # [JavaScript](#tab/JavaScript)
      ``` js
      const { ComputeManagementClient } = require("@azure/arm-compute");
      const { DefaultAzureCredential } = require("@azure/identity");

      /**
       * This sample demonstrates how to Creates or updates a disk.
       *
       * @summary Creates or updates a disk.
       * x-ms-original-file: specification/compute/resource-manager/Microsoft.Compute/stable/2021-12-01/examples/CreateAManagedDiskFromUploadPreparedSecure.json
       */
      async function createAManagedDiskFromUploadPreparedSecureCreateOption() {
        const subscriptionId = "{subscription-id}";
        const resourceGroupName = "myResourceGroup";
        const diskName = "myDisk";
        const disk = {
          creationData: {
            createOption: "UploadPreparedSecure",
            uploadSizeBytes: 10737418752,
          },
          location: "West US",
          osType: "Windows",
          securityProfile: { securityType: "TrustedLaunch" },
        };
        const credential = new DefaultAzureCredential();
        const client = new ComputeManagementClient(credential, subscriptionId);
        const result = await client.disks.beginCreateOrUpdateAndWait(resourceGroupName, diskName, disk);
        console.log(result);
      }

      createAManagedDiskFromUploadPreparedSecureCreateOption().catch(console.error);

      ```
      Read this [SDK documentation](https://github.com/Azure/azure-sdk-for-js/blob/%40azure%2Farm-compute_18.0.0/sdk/compute/arm-compute/README.md) on how to add the SDK to your project and authenticate.
  responses:
  - statusCode: "202"
    body: >-
      {
        "properties": {
          "osType": "Windows",
          "securityProfile": {
            "securityType": "TrustedLaunch"
          },
          "creationData": {
            "createOption": "UploadPreparedSecure",
            "uploadSizeBytes": 10737418752
          },
          "provisioningState": "Updating"
        },
        "location": "West US",
        "name": "myDisk"
      }
  - statusCode: "200"
    body: >-
      {
        "properties": {
          "osType": "Windows",
          "securityProfile": {
            "securityType": "TrustedLaunch"
          },
          "creationData": {
            "createOption": "UploadPreparedSecure",
            "uploadSizeBytes": 10737418752
          },
          "provisioningState": "Succeeded"
        },
        "location": "West US",
        "name": "myDisk"
      }
- name: Create a confidential VM supported disk encrypted with customer managed key
  request:
    uri: PUT https://management.azure.com/subscriptions/{subscriptionId}/resourceGroups/myResourceGroup/providers/Microsoft.Compute/disks/myDisk?api-version=2021-12-01
    body: >-
      {
        "location": "West US",
        "properties": {
          "osType": "Windows",
          "securityProfile": {
            "securityType": "ConfidentialVM_DiskEncryptedWithCustomerKey",
            "secureVMDiskEncryptionSetId": "/subscriptions/{subscriptionId}/resourceGroups/myResourceGroup/providers/Microsoft.Compute/diskEncryptionSets/{diskEncryptionSetName}"
          },
          "creationData": {
            "createOption": "FromImage",
            "imageReference": {
              "id": "/Subscriptions/{subscriptionId}/Providers/Microsoft.Compute/Locations/westus/Publishers/{publisher}/ArtifactTypes/VMImage/Offers/{offer}/Skus/{sku}/Versions/1.0.0"
            }
          }
        }
      }
    codeTab: |+
      # [HTTP](#tab/HTTP)
      ``` http
      PUT https://management.azure.com/subscriptions/{subscriptionId}/resourceGroups/myResourceGroup/providers/Microsoft.Compute/disks/myDisk?api-version=2021-12-01

      {
        "location": "West US",
        "properties": {
          "osType": "Windows",
          "securityProfile": {
            "securityType": "ConfidentialVM_DiskEncryptedWithCustomerKey",
            "secureVMDiskEncryptionSetId": "/subscriptions/{subscriptionId}/resourceGroups/myResourceGroup/providers/Microsoft.Compute/diskEncryptionSets/{diskEncryptionSetName}"
          },
          "creationData": {
            "createOption": "FromImage",
            "imageReference": {
              "id": "/Subscriptions/{subscriptionId}/Providers/Microsoft.Compute/Locations/westus/Publishers/{publisher}/ArtifactTypes/VMImage/Offers/{offer}/Skus/{sku}/Versions/1.0.0"
            }
          }
        }
      }

      ```

      # [Java](#tab/Java)
      ``` java
      import com.azure.core.util.Context;
      import com.azure.resourcemanager.compute.fluent.models.DiskInner;
      import com.azure.resourcemanager.compute.models.CreationData;
      import com.azure.resourcemanager.compute.models.DiskCreateOption;
      import com.azure.resourcemanager.compute.models.DiskSecurityProfile;
      import com.azure.resourcemanager.compute.models.DiskSecurityTypes;
      import com.azure.resourcemanager.compute.models.ImageDiskReference;
      import com.azure.resourcemanager.compute.models.OperatingSystemTypes;

      /** Samples for Disks CreateOrUpdate. */
      public final class Main {
          /*
           * x-ms-original-file: specification/compute/resource-manager/Microsoft.Compute/stable/2021-12-01/examples/CreateAConfidentialVMDiskEncryptedWithCMK.json
           */
          /**
           * Sample code: Create a confidential VM supported disk encrypted with customer managed key.
           *
           * @param azure The entry point for accessing resource management APIs in Azure.
           */
          public static void createAConfidentialVMSupportedDiskEncryptedWithCustomerManagedKey(
              com.azure.resourcemanager.AzureResourceManager azure) {
              azure
                  .virtualMachines()
                  .manager()
                  .serviceClient()
                  .getDisks()
                  .createOrUpdate(
                      "myResourceGroup",
                      "myDisk",
                      new DiskInner()
                          .withLocation("West US")
                          .withOsType(OperatingSystemTypes.WINDOWS)
                          .withCreationData(
                              new CreationData()
                                  .withCreateOption(DiskCreateOption.FROM_IMAGE)
                                  .withImageReference(
                                      new ImageDiskReference()
                                          .withId(
                                              "/Subscriptions/{subscriptionId}/Providers/Microsoft.Compute/Locations/westus/Publishers/{publisher}/ArtifactTypes/VMImage/Offers/{offer}/Skus/{sku}/Versions/1.0.0")))
                          .withSecurityProfile(
                              new DiskSecurityProfile()
                                  .withSecurityType(DiskSecurityTypes.CONFIDENTIAL_VM_DISK_ENCRYPTED_WITH_CUSTOMER_KEY)
                                  .withSecureVMDiskEncryptionSetId(
                                      "/subscriptions/{subscriptionId}/resourceGroups/myResourceGroup/providers/Microsoft.Compute/diskEncryptionSets/{diskEncryptionSetName}")),
                      Context.NONE);
          }
      }

      ```
      Read this [SDK documentation](https://github.com/Azure/azure-sdk-for-java/blob/azure-resourcemanager_2.15.0/sdk/resourcemanager/azure-resourcemanager/README.md) on how to add the SDK to your project and authenticate.
      # [Go](#tab/Go)
      ``` go
      package armcompute_test

      import (
      	"context"
      	"log"

      	"github.com/Azure/azure-sdk-for-go/sdk/azcore/to"
      	"github.com/Azure/azure-sdk-for-go/sdk/azidentity"
      	"github.com/Azure/azure-sdk-for-go/sdk/resourcemanager/compute/armcompute"
      )

      // Generated from example definition: https://github.com/Azure/azure-rest-api-specs/tree/main/specification/compute/resource-manager/Microsoft.Compute/stable/2021-12-01/examples/CreateAConfidentialVMDiskEncryptedWithCMK.json
      func ExampleDisksClient_BeginCreateOrUpdate() {
      	cred, err := azidentity.NewDefaultAzureCredential(nil)
      	if err != nil {
      		log.Fatalf("failed to obtain a credential: %v", err)
      	}
      	ctx := context.Background()
      	client, err := armcompute.NewDisksClient("{subscriptionId}", cred, nil)
      	if err != nil {
      		log.Fatalf("failed to create client: %v", err)
      	}
      	poller, err := client.BeginCreateOrUpdate(ctx,
      		"myResourceGroup",
      		"myDisk",
      		armcompute.Disk{
      			Location: to.Ptr("West US"),
      			Properties: &armcompute.DiskProperties{
      				CreationData: &armcompute.CreationData{
      					CreateOption: to.Ptr(armcompute.DiskCreateOptionFromImage),
      					ImageReference: &armcompute.ImageDiskReference{
      						ID: to.Ptr("/Subscriptions/{subscriptionId}/Providers/Microsoft.Compute/Locations/westus/Publishers/{publisher}/ArtifactTypes/VMImage/Offers/{offer}/Skus/{sku}/Versions/1.0.0"),
      					},
      				},
      				OSType: to.Ptr(armcompute.OperatingSystemTypesWindows),
      				SecurityProfile: &armcompute.DiskSecurityProfile{
      					SecureVMDiskEncryptionSetID: to.Ptr("/subscriptions/{subscriptionId}/resourceGroups/myResourceGroup/providers/Microsoft.Compute/diskEncryptionSets/{diskEncryptionSetName}"),
      					SecurityType:                to.Ptr(armcompute.DiskSecurityTypesConfidentialVMDiskEncryptedWithCustomerKey),
      				},
      			},
      		},
      		nil)
      	if err != nil {
      		log.Fatalf("failed to finish the request: %v", err)
      	}
      	res, err := poller.PollUntilDone(ctx, nil)
      	if err != nil {
      		log.Fatalf("failed to pull the result: %v", err)
      	}
      	// TODO: use response item
      	_ = res
      }

      ```
      Read this [SDK documentation](https://github.com/Azure/azure-sdk-for-go/blob/sdk%2Fresourcemanager%2Fcompute%2Farmcompute%2Fv1.0.0/sdk/resourcemanager/compute/armcompute/README.md) on how to add the SDK to your project and authenticate.
      # [JavaScript](#tab/JavaScript)
      ``` js
      const { ComputeManagementClient } = require("@azure/arm-compute");
      const { DefaultAzureCredential } = require("@azure/identity");

      /**
       * This sample demonstrates how to Creates or updates a disk.
       *
       * @summary Creates or updates a disk.
       * x-ms-original-file: specification/compute/resource-manager/Microsoft.Compute/stable/2021-12-01/examples/CreateAConfidentialVMDiskEncryptedWithCMK.json
       */
      async function createAConfidentialVMSupportedDiskEncryptedWithCustomerManagedKey() {
        const subscriptionId = "{subscriptionId}";
        const resourceGroupName = "myResourceGroup";
        const diskName = "myDisk";
        const disk = {
          creationData: {
            createOption: "FromImage",
            imageReference: {
              id: "/Subscriptions/{subscriptionId}/Providers/Microsoft.Compute/Locations/westus/Publishers/{publisher}/ArtifactTypes/VMImage/Offers/{offer}/Skus/{sku}/Versions/1.0.0",
            },
          },
          location: "West US",
          osType: "Windows",
          securityProfile: {
            secureVMDiskEncryptionSetId:
              "/subscriptions/{subscriptionId}/resourceGroups/myResourceGroup/providers/Microsoft.Compute/diskEncryptionSets/{diskEncryptionSetName}",
            securityType: "ConfidentialVM_DiskEncryptedWithCustomerKey",
          },
        };
        const credential = new DefaultAzureCredential();
        const client = new ComputeManagementClient(credential, subscriptionId);
        const result = await client.disks.beginCreateOrUpdateAndWait(resourceGroupName, diskName, disk);
        console.log(result);
      }

      createAConfidentialVMSupportedDiskEncryptedWithCustomerManagedKey().catch(console.error);

      ```
      Read this [SDK documentation](https://github.com/Azure/azure-sdk-for-js/blob/%40azure%2Farm-compute_18.0.0/sdk/compute/arm-compute/README.md) on how to add the SDK to your project and authenticate.
  responses:
  - statusCode: "202"
    body: >-
      {
        "name": "myDisk",
        "location": "West US",
        "properties": {
          "provisioningState": "Updating",
          "osType": "Windows",
          "securityProfile": {
            "securityType": "ConfidentialVM_DiskEncryptedWithCustomerKey",
            "secureVMDiskEncryptionSetId": "/subscriptions/{subscriptionId}/resourceGroups/myResourceGroup/providers/Microsoft.Compute/diskEncryptionSets/{diskEncryptionSetName}"
          },
          "creationData": {
            "createOption": "FromImage",
            "imageReference": {
              "id": "/Subscriptions/{subscriptionId}/Providers/Microsoft.Compute/Locations/westus/Publishers/{publisher}/ArtifactTypes/VMImage/Offers/{offer}/Skus/{sku}/Versions/1.0.0"
            }
          }
        }
      }
  - statusCode: "200"
    body: >-
      {
        "name": "myDisk",
        "location": "West US",
        "properties": {
          "provisioningState": "Succeeded",
          "osType": "Windows",
          "securityProfile": {
            "securityType": "ConfidentialVM_DiskEncryptedWithCustomerKey",
            "secureVMDiskEncryptionSetId": "/subscriptions/{subscriptionId}/resourceGroups/myResourceGroup/providers/Microsoft.Compute/diskEncryptionSets/{diskEncryptionSetName}"
          },
          "creationData": {
            "createOption": "FromImage",
            "imageReference": {
              "id": "/Subscriptions/{subscriptionId}/Providers/Microsoft.Compute/Locations/westus/Publishers/{publisher}/ArtifactTypes/VMImage/Offers/{offer}/Skus/{sku}/Versions/1.0.0"
            }
          }
        }
      }
security:
- name: azure_auth
  type: oauth2
  description: Azure Active Directory OAuth2 Flow
  flow: implicit
  authorizationUrl: https://login.microsoftonline.com/common/oauth2/authorize
  scopes:
  - name: user_impersonation
    description: impersonate your user account
metadata:
  description: Learn more about Compute service - Creates or updates a disk.
errorCodes: []
