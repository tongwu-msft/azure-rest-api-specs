### YamlMime:RESTOperation
uid: management.azure.com.compute.snapshots.listbyresourcegroup
name: List By Resource Group
service: Compute
groupName: Snapshots
apiVersion: 2019-03-01
summary: Lists snapshots under a resource group.
consumes:
- application/json
produces:
- application/json
paths:
- content: GET https://management.azure.com/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Compute/snapshots?api-version=2019-03-01
uriParameters:
- name: subscriptionId
  in: path
  isRequired: true
  description: Subscription credentials which uniquely identify Microsoft Azure subscription. The subscription ID forms part of the URI for every service call.
  types:
  - uid: string
- name: resourceGroupName
  in: path
  isRequired: true
  description: The name of the resource group.
  types:
  - uid: string
- name: api-version
  in: query
  isRequired: true
  description: Client Api Version.
  types:
  - uid: string
responses:
- name: 200 OK
  description: OK
  types:
  - uid: SnapshotList
requestHeader: []
definitions:
- name: SnapshotList
  description: The List Snapshots operation response.
  kind: object
  properties:
  - name: value
    description: A list of snapshots.
    types:
    - uid: Snapshot
      isArray: true
  - name: nextLink
    description: The uri to fetch the next page of snapshots. Call ListNext() with this to fetch the next page of snapshots.
    types:
    - uid: string
- name: Snapshot
  description: Snapshot resource.
  kind: object
  properties:
  - name: managedBy
    isReadyOnly: true
    description: Unused. Always Null.
    types:
    - uid: string
  - name: sku
    description: The snapshots sku name. Can be Standard_LRS, Premium_LRS, or Standard_ZRS.
    types:
    - uid: SnapshotSku
  - name: properties.timeCreated
    isReadyOnly: true
    description: The time when the disk was created.
    types:
    - uid: string
  - name: properties.osType
    description: The Operating System type.
    types:
    - uid: OperatingSystemTypes
  - name: properties.hyperVGeneration
    description: The hypervisor generation of the Virtual Machine. Applicable to OS disks only.
    types:
    - uid: HyperVGeneration
  - name: properties.creationData
    description: Disk source information. CreationData information cannot be changed after the disk has been created.
    types:
    - uid: CreationData
  - name: properties.diskSizeGB
    description: If creationData.createOption is Empty, this field is mandatory and it indicates the size of the disk to create. If this field is present for updates or creation with other options, it indicates a resize. Resizes are only allowed if the disk is not attached to a running VM, and can only increase the disk's size.
    types:
    - uid: integer
  - name: properties.diskSizeBytes
    isReadyOnly: true
    description: The size of the disk in bytes. This field is read only.
    types:
    - uid: integer
  - name: properties.uniqueId
    isReadyOnly: true
    description: Unique Guid identifying the resource.
    types:
    - uid: string
  - name: properties.encryptionSettingsCollection
    description: Encryption settings collection used be Azure Disk Encryption, can contain multiple encryption settings per disk or snapshot.
    types:
    - uid: EncryptionSettingsCollection
  - name: properties.provisioningState
    isReadyOnly: true
    description: The disk provisioning state.
    types:
    - uid: string
  - name: properties.incremental
    description: Whether a snapshot is incremental. Incremental snapshots on the same disk occupy less space than full snapshots and can be diffed.
    types:
    - uid: boolean
  - name: id
    isReadyOnly: true
    description: Resource Id
    types:
    - uid: string
  - name: name
    isReadyOnly: true
    description: Resource name
    types:
    - uid: string
  - name: type
    isReadyOnly: true
    description: Resource type
    types:
    - uid: string
  - name: location
    description: Resource location
    types:
    - uid: string
  - name: tags
    description: Resource tags
    types:
    - uid: object
      isDictionary: true
      additionalTypes:
      - uid: string
      - uid: string
- name: SnapshotSku
  description: The snapshots sku name. Can be Standard_LRS, Premium_LRS, or Standard_ZRS.
  kind: object
  properties:
  - name: name
    description: The sku name.
    types:
    - uid: SnapshotStorageAccountTypes
  - name: tier
    isReadyOnly: true
    description: The sku tier.
    types:
    - uid: string
- name: OperatingSystemTypes
  description: The Operating System type.
  kind: enum
  properties:
  - name: Windows
    types:
    - uid: string
  - name: Linux
    types:
    - uid: string
- name: HyperVGeneration
  description: The hypervisor generation of the Virtual Machine. Applicable to OS disks only.
  kind: enum
  properties:
  - name: V1
    types:
    - uid: string
  - name: V2
    types:
    - uid: string
- name: CreationData
  description: Data used when creating a disk.
  kind: object
  properties:
  - name: createOption
    description: This enumerates the possible sources of a disk's creation.
    types:
    - uid: DiskCreateOption
  - name: storageAccountId
    description: If createOption is Import, the Azure Resource Manager identifier of the storage account containing the blob to import as a disk. Required only if the blob is in a different subscription
    types:
    - uid: string
  - name: imageReference
    description: Disk source information.
    types:
    - uid: ImageDiskReference
  - name: sourceUri
    description: If createOption is Import, this is the URI of a blob to be imported into a managed disk.
    types:
    - uid: string
  - name: sourceResourceId
    description: If createOption is Copy, this is the ARM id of the source snapshot or disk.
    types:
    - uid: string
  - name: sourceUniqueId
    isReadyOnly: true
    description: If this field is set, this is the unique id identifying the source of this resource.
    types:
    - uid: string
  - name: uploadSizeBytes
    description: If createOption is Upload, this is the size of the contents of the upload including the VHD footer. This value should be between 20972032 (20 MiB + 512 bytes for the VHD footer) and 35183298347520 bytes (32 TiB + 512 bytes for the VHD footer).
    types:
    - uid: integer
- name: EncryptionSettingsCollection
  description: Encryption settings for disk or snapshot
  kind: object
  properties:
  - name: enabled
    description: Set this flag to true and provide DiskEncryptionKey and optional KeyEncryptionKey to enable encryption. Set this flag to false and remove DiskEncryptionKey and KeyEncryptionKey to disable encryption. If EncryptionSettings is null in the request object, the existing settings remain unchanged.
    types:
    - uid: boolean
  - name: encryptionSettings
    description: A collection of encryption settings, one for each disk volume.
    types:
    - uid: EncryptionSettingsElement
      isArray: true
  - name: encryptionSettingsVersion
    description: Describes what type of encryption is used for the disks. Once this field is set, it cannot be overwritten. '1.0' corresponds to Azure Disk Encryption with AAD app.'1.1' corresponds to Azure Disk Encryption.
    types:
    - uid: string
- name: SnapshotStorageAccountTypes
  description: The sku name.
  kind: enum
  properties:
  - name: Standard_LRS
    description: Standard HDD locally redundant storage
    types:
    - uid: string
  - name: Premium_LRS
    description: Premium SSD locally redundant storage
    types:
    - uid: string
  - name: Standard_ZRS
    description: Standard zone redundant storage
    types:
    - uid: string
- name: DiskCreateOption
  description: This enumerates the possible sources of a disk's creation.
  kind: enum
  properties:
  - name: Empty
    description: Create an empty data disk of a size given by diskSizeGB.
    types:
    - uid: string
  - name: Attach
    description: Disk will be attached to a VM.
    types:
    - uid: string
  - name: FromImage
    description: Create a new disk from a platform image specified by the given imageReference.
    types:
    - uid: string
  - name: Import
    description: Create a disk by importing from a blob specified by a sourceUri in a storage account specified by storageAccountId.
    types:
    - uid: string
  - name: Copy
    description: Create a new disk or snapshot by copying from a disk or snapshot specified by the given sourceResourceId.
    types:
    - uid: string
  - name: Restore
    description: Create a new disk by copying from a backup recovery point.
    types:
    - uid: string
  - name: Upload
    description: Create a new disk by obtaining a write token and using it to directly upload the contents of the disk.
    types:
    - uid: string
- name: ImageDiskReference
  description: The source image used for creating the disk.
  kind: object
  properties:
  - name: id
    description: A relative uri containing either a Platform Image Repository or user image reference.
    types:
    - uid: string
  - name: lun
    description: If the disk is created from an image's data disk, this is an index that indicates which of the data disks in the image to use. For OS disks, this field is null.
    types:
    - uid: integer
- name: EncryptionSettingsElement
  description: Encryption settings for one disk volume.
  kind: object
  properties:
  - name: diskEncryptionKey
    description: Key Vault Secret Url and vault id of the disk encryption key
    types:
    - uid: KeyVaultAndSecretReference
  - name: keyEncryptionKey
    description: Key Vault Key Url and vault id of the key encryption key. KeyEncryptionKey is optional and when provided is used to unwrap the disk encryption key.
    types:
    - uid: KeyVaultAndKeyReference
- name: KeyVaultAndSecretReference
  description: 'Key Vault Secret Url and vault id of the encryption key '
  kind: object
  properties:
  - name: sourceVault
    description: Resource id of the KeyVault containing the key or secret
    types:
    - uid: SourceVault
  - name: secretUrl
    description: Url pointing to a key or secret in KeyVault
    types:
    - uid: string
- name: KeyVaultAndKeyReference
  description: Key Vault Key Url and vault id of KeK, KeK is optional and when provided is used to unwrap the encryptionKey
  kind: object
  properties:
  - name: sourceVault
    description: Resource id of the KeyVault containing the key or secret
    types:
    - uid: SourceVault
  - name: keyUrl
    description: Url pointing to a key or secret in KeyVault
    types:
    - uid: string
- name: SourceVault
  description: The vault id is an Azure Resource Manager Resource id in the form /subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.KeyVault/vaults/{vaultName}
  kind: object
  properties:
  - name: id
    description: Resource Id
    types:
    - uid: string
examples:
- name: List all snapshots in a resource group.
  request:
    uri: GET https://management.azure.com/subscriptions/{subscription-id}/resourceGroups/myResourceGroup/providers/Microsoft.Compute/snapshots?api-version=2019-03-01
  responses:
  - statusCode: "200"
    body: >-
      {
        "value": [
          {
            "properties": {
              "osType": "Windows",
              "creationData": {
                "createOption": "Copy",
                "sourceResourceId": "subscriptions/{subscriptionId}/resourceGroups/myResourceGroup/providers/Microsoft.Compute/snapshots/mySnapshot"
              },
              "diskSizeGB": 200,
              "encryptionSettingsCollection": {
                "enabled": true,
                "encryptionSettings": [
                  {
                    "diskEncryptionKey": {
                      "sourceVault": {
                        "id": "/subscriptions/{subscriptionId}/resourceGroups/myResourceGroup/providers/Microsoft.KeyVault/vaults/myVMVault"
                      },
                      "secretUrl": "https://myvmvault.vault-int.azure-int.net/secrets/{secret}"
                    },
                    "keyEncryptionKey": {
                      "sourceVault": {
                        "id": "/subscriptions/{subscriptionId}/resourceGroups/myResourceGroup/providers/Microsoft.KeyVault/vaults/myVMVault"
                      },
                      "keyUrl": "https://myvmvault.vault-int.azure-int.net/keys/{key}"
                    }
                  }
                ]
              },
              "timeCreated": "2016-12-28T04:41:35.9278721+00:00",
              "provisioningState": "Succeeded"
            },
            "type": "Microsoft.Compute/snapshots",
            "location": "westus",
            "tags": {
              "department": "Development",
              "project": "Snapshots"
            },
            "id": "/subscriptions/{subscriptionId}/resourceGroups/myResourceGroup/providers/Microsoft.Compute/snapshots/mySnapshot",
            "name": "mySnapshot"
          }
        ]
      }
security:
- name: azure_auth
  type: oauth2
  description: Azure Active Directory OAuth2 Flow
  flow: implicit
  authorizationUrl: https://login.microsoftonline.com/common/oauth2/authorize
  scopes:
  - name: user_impersonation
    description: impersonate your user account
errorCodes: []
