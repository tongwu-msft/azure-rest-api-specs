### YamlMime:RESTOperation
uid: management.azure.com.reserved-vm-instances.quota.createorupdate
name: Create Or Update
service: Reserved VM Instances
groupName: Quota
apiVersion: 2019-07-19-preview
summary: >-
  Create or update the service limits (quota) of a resource to requested value.
   Steps:

    1. Make the Get request to get the quota information for specific resource.

    2. To increase the quota, update the limit field in the response from Get request to new value.

    3. Submit the JSON to the quota request API to update the quota.

    The Create quota request may be constructed as follows. The PUT operation can be used to update the quota.
consumes:
- application/json
produces:
- application/json
paths:
- content: PUT https://management.azure.com/subscriptions/{subscriptionId}/providers/Microsoft.Capacity/resourceProviders/{providerId}/locations/{location}/serviceLimits/{resourceName}?api-version=2019-07-19-preview
uriParameters:
- name: subscriptionId
  in: path
  isRequired: true
  description: Azure subscription id.
  types:
  - uid: string
- name: providerId
  in: path
  isRequired: true
  description: Azure resource provider id.
  types:
  - uid: string
- name: location
  in: path
  isRequired: true
  description: Azure region.
  types:
  - uid: string
- name: resourceName
  in: path
  isRequired: true
  description: The resource name for a resource provider, such as SKU name for Microsoft.Compute, Sku or TotalLowPriorityCores for Microsoft.MachineLearningServices
  types:
  - uid: string
- name: api-version
  in: query
  isRequired: true
  description: API version.
  types:
  - uid: string
responses:
- name: 200 OK
  description: OK. Returns Quota requests details.
  types:
  - uid: QuotaRequestOneResourceSubmitResponse
- name: 201 Created
  description: The request is accepted and is being processed. Please use requestId to check the status.
  types:
  - uid: QuotaRequestSubmitResponse201
- name: Other Status Codes
  description: Error response describing why the operation failed.
  types:
  - uid: ExceptionResponse
requestBody:
- name: default
  parameters:
  - name: properties
    in: body
    description: Quota properties for the resource.
    types:
    - uid: QuotaProperties
requestHeader: []
definitions:
- name: QuotaProperties
  description: Quota properties for the resource.
  kind: object
  properties:
  - name: limit
    description: The quota limit.
    types:
    - uid: integer
  - name: currentValue
    isReadyOnly: true
    description: The current resource usages information.
    types:
    - uid: integer
  - name: unit
    description: " The units of the limit, such as - Count, Bytes, etc. Use the unit field provided in the Get quota response."
    types:
    - uid: string
  - name: name
    description: Name of the resource provide by the resource Provider. Please use this name property for quotaRequests.
    types:
    - uid: ResourceName
  - name: resourceType
    description: The Resource Type Name.
    types:
    - uid: ResourceType
  - name: quotaPeriod
    isReadyOnly: true
    description: The quota period over which the usage values are summarized, such as - P1D (Per one day), PT1M (Per one minute), PT1S (Per one second). This parameter is optional because, for some resources like compute, the period doesnâ€™t matter.
    types:
    - uid: string
  - name: properties
    description: Additional properties for the specific resource provider.
    types:
    - uid: object
- name: QuotaRequestOneResourceSubmitResponse
  description: Quota submit request response
  kind: object
  properties:
  - name: id
    isReadyOnly: true
    description: The quota request Id.
    types:
    - uid: string
  - name: name
    isReadyOnly: true
    description: The name of the quota request.
    types:
    - uid: string
  - name: type
    isReadyOnly: true
    description: Type of resource. "Microsoft.Capacity/ServiceLimits"
    types:
    - uid: string
  - name: properties.provisioningState
    isReadyOnly: true
    description: The quota request status.
    types:
    - uid: QuotaRequestState
  - name: properties.message
    isReadyOnly: true
    description: User friendly status message.
    types:
    - uid: string
  - name: properties.requestSubmitTime
    isReadyOnly: true
    description: 'The quota request submit time. The date conforms to the following format: yyyy-MM-ddTHH:mm:ssZ as specified by the ISO 8601 standard.'
    types:
    - uid: string
  - name: properties.properties.properties
    description: Quota properties for the resource.
    types:
    - uid: QuotaProperties
- name: QuotaRequestSubmitResponse201
  description: The quota request submit response with request id.
  kind: object
  properties:
  - name: id
    isReadyOnly: true
    description: The quota request id. Please use the requestId to check the request status.
    types:
    - uid: string
  - name: name
    isReadyOnly: true
    description: The operation Id
    types:
    - uid: string
  - name: type
    isReadyOnly: true
    description: The resource type
    types:
    - uid: string
  - name: properties.provisioningState
    isReadyOnly: true
    description: The quota request status.
    types:
    - uid: QuotaRequestState
  - name: properties.message
    isReadyOnly: true
    description: A user friendly message.
    types:
    - uid: string
- name: ExceptionResponse
  description: The api error.
  kind: object
  properties:
  - name: error
    description: The api error details.
    types:
    - uid: ServiceError
- name: CurrentQuotaLimitBase
  description: Quota limits.
  kind: object
  properties:
  - name: properties
    description: Quota properties for the resource.
    types:
    - uid: QuotaProperties
- name: ResourceName
  description: Name of the resource provide by the resource Provider. Please use this name property for quotaRequests.
  kind: object
  properties:
  - name: value
    description: Resource name.
    types:
    - uid: string
  - name: localizedValue
    isReadyOnly: true
    description: Resource display name.
    types:
    - uid: string
- name: ResourceType
  description: The Resource Type Name.
  kind: enum
  properties:
  - name: standard
    types:
    - uid: string
  - name: dedicated
    types:
    - uid: string
  - name: lowPriority
    types:
    - uid: string
  - name: shared
    types:
    - uid: string
  - name: serviceSpecific
    types:
    - uid: string
- name: QuotaRequestState
  description: The quota request status.
  kind: enum
  properties:
  - name: Accepted
    types:
    - uid: string
  - name: Invalid
    types:
    - uid: string
  - name: Succeeded
    types:
    - uid: string
  - name: Failed
    types:
    - uid: string
  - name: InProgress
    types:
    - uid: string
- name: ServiceError
  description: The api error details.
  kind: object
  properties:
  - name: code
    description: The error code.
    types:
    - uid: string
  - name: message
    description: The error message.
    types:
    - uid: string
  - name: details
    isReadyOnly: true
    description: The list of error details.
    types:
    - uid: ServiceErrorDetail
      isArray: true
- name: ServiceErrorDetail
  description: The error details.
  kind: object
  properties:
  - name: code
    isReadyOnly: true
    description: The error code.
    types:
    - uid: string
  - name: message
    isReadyOnly: true
    description: The error message.
    types:
    - uid: string
examples:
- name: Quotas_Request_ForCompute
  request:
    uri: PUT https://management.azure.com/subscriptions/D7EC67B3-7657-4966-BFFC-41EFD36BAAB3/providers/Microsoft.Capacity/resourceProviders/Microsoft.Compute/locations/eastus/serviceLimits/standardFSv2Family?api-version=2019-07-19-preview
    body: >-
      {
        "properties": {
          "limit": 200,
          "unit": "Count",
          "name": {
            "value": "standardFSv2Family"
          }
        }
      }
  responses:
  - statusCode: "201"
    body: >-
      {
        "id": "/subscriptions/D7EC67B3-7657-4966-BFFC-41EFD36BAAB3/providers/Microsoft.Capacity/resourceProviders/Microsoft.Compute/locations/eastus/serviceLimitsRequests/2B5C8515-37D8-4B6A-879B-CD641A2CF605",
        "name": "2B5C8515-37D8-4B6A-879B-CD641A2CF605",
        "type": "Microsoft.Capacity/ServiceLimits",
        "properties": {
          "provisioningState": "InProgress",
          "message": ""
        }
      }
  - statusCode: "200"
    body: >-
      {
        "id": "/subscriptions/D7EC67B3-7657-4966-BFFC-41EFD36BAAB3/providers/Microsoft.Capacity/resourceProviders/Microsoft.Compute/locations/eastus/serviceLimitsRequests/2B5C8515-37D8-4B6A-879B-CD641A2CF605",
        "name": "2B5C8515-37D8-4B6A-879B-CD641A2CF605",
        "type": "Microsoft.Capacity/serviceLimits",
        "properties": {
          "provisioningState": "Succeeded",
          "message": "Request succeeded",
          "properties": {
            "properties": {
              "limit": 200,
              "unit": "Count",
              "currentValue": 160,
              "name": {
                "value": "standardFSv2Family",
                "localizedValue": "Standard FSv2 Family vCPUs"
              },
              "quotaPeriod": "",
              "properties": {}
            }
          }
        }
      }
- name: Quotas_Request_ForMachineLearningServices_DedicatedResource
  request:
    uri: PUT https://management.azure.com/subscriptions/D7EC67B3-7657-4966-BFFC-41EFD36BAAB3/providers/Microsoft.Capacity/resourceProviders/Microsoft.MachineLearningServices/locations/eastus/serviceLimits/StandardDv2Family?api-version=2019-07-19-preview
    body: >-
      {
        "properties": {
          "limit": 200,
          "unit": "Count",
          "name": {
            "value": "StandardDv2Family"
          },
          "resourceType": "dedicated"
        }
      }
  responses:
  - statusCode: "201"
    body: >-
      {
        "id": "/subscriptions/D7EC67B3-7657-4966-BFFC-41EFD36BAAB3/providers/Microsoft.Capacity/resourceProviders/Microsoft.MachineLearningServices/locations/eastus/serviceLimitsRequests/2B5C8515-37D8-4B6A-879B-CD641A2CF605",
        "name": "2B5C8515-37D8-4B6A-879B-CD641A2CF605",
        "type": "Microsoft.Capacity/ServiceLimits",
        "properties": {
          "provisioningState": "InProgress",
          "message": ""
        }
      }
  - statusCode: "200"
    body: >-
      {
        "id": "/subscriptions/D7EC67B3-7657-4966-BFFC-41EFD36BAAB3/providers/Microsoft.Capacity/resourceProviders/Microsoft.MachineLearningServices/locations/eastus/serviceLimitsRequests/2B5C8515-37D8-4B6A-879B-CD641A2CF605",
        "name": "2B5C8515-37D8-4B6A-879B-CD641A2CF605",
        "type": "Microsoft.Capacity/serviceLimits",
        "properties": {
          "provisioningState": "Succeeded",
          "message": "Request succeeded",
          "properties": {
            "properties": {
              "limit": 200,
              "unit": "Count",
              "currentValue": 160,
              "name": {
                "value": "StandardDv2Family",
                "localizedValue": "Standard Dv2 Family Cluster Dedicated vCPUs"
              },
              "resourceType": "dedicated",
              "quotaPeriod": "",
              "properties": {}
            }
          }
        }
      }
- name: Quotas_Request_ForMachineLearningServices_LowPriorityResource
  request:
    uri: PUT https://management.azure.com/subscriptions/D7EC67B3-7657-4966-BFFC-41EFD36BAAB3/providers/Microsoft.Capacity/resourceProviders/Microsoft.MachineLearningServices/locations/eastus/serviceLimits/TotalLowPriorityCores?api-version=2019-07-19-preview
    body: >-
      {
        "properties": {
          "limit": 200,
          "unit": "Count",
          "name": {
            "value": "TotalLowPriorityCores"
          },
          "resourceType": "lowPriority"
        }
      }
  responses:
  - statusCode: "201"
    body: >-
      {
        "id": "/subscriptions/D7EC67B3-7657-4966-BFFC-41EFD36BAAB3/providers/Microsoft.Capacity/resourceProviders/Microsoft.MachineLearningServices/locations/eastus/serviceLimitsRequests/2B5C8515-37D8-4B6A-879B-CD641A2CF605",
        "name": "2B5C8515-37D8-4B6A-879B-CD641A2CF605",
        "type": "Microsoft.Capacity/ServiceLimits",
        "properties": {
          "provisioningState": "InProgress",
          "message": ""
        }
      }
  - statusCode: "200"
    body: >-
      {
        "id": "/subscriptions/D7EC67B3-7657-4966-BFFC-41EFD36BAAB3/providers/Microsoft.Capacity/resourceProviders/Microsoft.MachineLearningServices/locations/eastus/serviceLimitsRequests/2B5C8515-37D8-4B6A-879B-CD641A2CF605",
        "name": "2B5C8515-37D8-4B6A-879B-CD641A2CF605",
        "type": "Microsoft.Capacity/serviceLimits",
        "properties": {
          "provisioningState": "Succeeded",
          "message": "Request succeeded",
          "properties": {
            "properties": {
              "limit": 200,
              "unit": "Count",
              "currentValue": 160,
              "name": {
                "value": "TotalLowPriorityCores",
                "localizedValue": "Total Cluster Low Priority Regional vCPUs"
              },
              "resourceType": "lowPriority",
              "quotaPeriod": "",
              "properties": {}
            }
          }
        }
      }
security:
- name: azure_auth
  type: oauth2
  description: Azure Active Directory OAuth2 Flow
  flow: implicit
  authorizationUrl: https://login.microsoftonline.com/common/oauth2/authorize
  scopes:
  - name: user_impersonation
    description: impersonate your user account
errorCodes: []
