### YamlMime:RESTOperation
uid: management.azure.com.azurestack.products.download
name: Download
service: Azure Stack Admin
groupName: Products
apiVersion: 2016-01-01
summary: Downloads a product from azure marketplace.
consumes:
- application/json
produces:
- application/json
paths:
- content: POST https://management.azure.com/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.AzureBridge.Admin/activations/{activationName}/products/{productName}/download?api-version=2016-01-01
uriParameters:
- name: subscriptionId
  in: path
  isRequired: true
  description: Subscription credentials which uniquely identify Microsoft Azure subscription.The subscription ID forms part of the URI for every service call.
  types:
  - uid: string
- name: resourceGroupName
  in: path
  isRequired: true
  description: The resource group the resource is located under.
  types:
  - uid: string
- name: activationName
  in: path
  isRequired: true
  description: Name of the activation.
  types:
  - uid: string
- name: productName
  in: path
  isRequired: true
  description: Name of the product.
  types:
  - uid: string
- name: api-version
  in: query
  isRequired: true
  description: Client Api Version.
  types:
  - uid: string
responses:
- name: 200 OK
  description: Accepted
  types:
  - uid: DownloadedProductResource
- name: 202 Accepted
  description: Accepted
  types:
  - uid: DownloadedProductResource
- name: Other Status Codes
  description: Default Response.
  types:
  - uid: ExtendedErrorInfo
requestHeader: []
definitions:
- name: DownloadedProductResource
  description: Downloaded product resource.
  kind: object
  properties:
  - name: properties.vmExtensionType
    description: Extension type of the VM.
    types:
    - uid: string
  - name: properties.links
    description: Gallery item identity.
    types:
    - uid: ProductLink
      isArray: true
  - name: properties.legalTerms
    description: Legal terms for the product.
    types:
    - uid: string
  - name: properties.privacyPolicy
    description: Privacy policy of the product.
    types:
    - uid: string
  - name: properties.provisioningState
    description: Provisioning state of the resource.
    types:
    - uid: ProvisioningState
  - name: properties.galleryPackageBlobSasUri
    description: The URI to the .azpkg file that provides information required for showing product in the gallery.
    types:
    - uid: string
  - name: id
    description: URI of the resource.
    types:
    - uid: string
  - name: name
    description: Name of the resource.
    types:
    - uid: string
  - name: type
    description: Type of resource.
    types:
    - uid: string
  - name: location
    isReadyOnly: true
    description: Location of the resource
    types:
    - uid: string
  - name: tags
    isReadyOnly: true
    description: List of key value pairs.
    types:
    - uid: object
      isDictionary: true
      additionalTypes:
      - uid: string
      - uid: string
  - name: properties.displayName
    description: Name displayed for the product.
    types:
    - uid: string
  - name: properties.description
    description: Description of the product.
    types:
    - uid: string
  - name: properties.publisherDisplayName
    description: Name of publisher.
    types:
    - uid: string
  - name: properties.publisherIdentifier
    description: Publisher identifier.
    types:
    - uid: string
  - name: properties.offer
    description: Offer name.
    types:
    - uid: string
  - name: properties.offerVersion
    description: Offer version.
    types:
    - uid: string
  - name: properties.sku
    description: Product SKU.
    types:
    - uid: string
  - name: properties.billingPartNumber
    description: Billing part number.
    types:
    - uid: string
  - name: properties.galleryItemIdentity
    description: Gallery item identity.
    types:
    - uid: string
  - name: properties.iconUris
    description: Information about gallery icons.
    types:
    - uid: GalleryIcons
  - name: properties.payloadLength
    description: Size in bytes.
    types:
    - uid: integer
  - name: properties.productKind
    description: The kind. E.g. VirtualMachineProductProperties.ProductKind or WebApp, SolutionTemplate.
    types:
    - uid: string
  - name: properties.productProperties
    description: the product properties. At the moment only VirtualMachineProductProperties is allowed.
    types:
    - uid: ProductProperties
  - name: properties.compatibility
    description: Product compatibility with current device.
    types:
    - uid: Compatibility
  - name: properties.productDetailsProperties.computeRole
    isReadyOnly: true
    description: Specifies kind of compute role included in the package.
    types:
    - uid: ComputeRole
  - name: properties.productDetailsProperties.isSystemExtension
    description: Specifies if product is a Virtual Machine Extension.
    types:
    - uid: boolean
  - name: properties.productDetailsProperties.supportMultipleExtensions
    description: Indicates if specified product supports multiple extensions.
    types:
    - uid: boolean
  - name: properties.productDetailsProperties.version
    description: Specifies product version.
    types:
    - uid: string
  - name: properties.productDetailsProperties.vmOsType
    isReadyOnly: true
    description: Specifies operating system used by the product.
    types:
    - uid: OperatingSystem
  - name: properties.productDetailsProperties.vmScaleSetEnabled
    description: Indicates if virtual machine Scale Set is enabled in the specified product.
    types:
    - uid: boolean
  - name: properties.productDetailsProperties.sourceBlob.uri
    description: The URI.
    types:
    - uid: string
  - name: properties.productDetailsProperties.osDiskImage
    isReadyOnly: true
    description: OS disk image used by product.
    types:
    - uid: OsDiskImage
  - name: properties.productDetailsProperties.dataDiskImages
    isReadyOnly: true
    description: List of attached data disks.
    types:
    - uid: DataDiskImage
      isArray: true
- name: ExtendedErrorInfo
  description: Error response.
  kind: object
  properties:
  - name: error
    description: The error details.
    types:
    - uid: ErrorDefinition
- name: ProductLink
  description: Link to a product.
  kind: object
  properties:
  - name: displayName
    description: Displayed name of product.
    types:
    - uid: string
  - name: uri
    description: URI to product.
    types:
    - uid: string
- name: ProvisioningState
  description: The provisioning state of the resource.
  kind: enum
  properties:
  - name: Stopped
    types:
    - uid: string
  - name: Starting
    types:
    - uid: string
  - name: Running
    types:
    - uid: string
  - name: Stopping
    types:
    - uid: string
  - name: Succeeded
    types:
    - uid: string
  - name: Downloading
    types:
    - uid: string
- name: GalleryIcons
  description: Icons for the gallery items.
  kind: object
  properties:
  - name: hero
    description: The hero (815x290) icon relative path.
    types:
    - uid: string
  - name: large
    description: The large (115x115) icon relative path.
    types:
    - uid: string
  - name: wide
    description: The wide (255x115) icon relative path.
    types:
    - uid: string
  - name: medium
    description: The medium (90x90) icon relative path.
    types:
    - uid: string
  - name: small
    description: The small (40x40) icon relative path.
    types:
    - uid: string
- name: ProductProperties
  description: Additional properties of the product
  kind: object
  properties:
  - name: version
    description: The version of the product
    types:
    - uid: string
- name: Compatibility
  description: Product compatibility
  kind: object
  properties:
  - name: isCompatible
    description: Tells if product is compatible with current device
    types:
    - uid: boolean
  - name: message
    description: Short error message if any compatibility issues are found
    types:
    - uid: string
  - name: description
    description: Full error message if any compatibility issues are found
    types:
    - uid: string
  - name: issues
    description: List of all issues found
    types:
    - uid: string
      isArray: true
- name: ComputeRole
  description: Compute role type (IaaS or PaaS).
  kind: enum
  properties:
  - name: None
    types:
    - uid: string
  - name: IaaS
    types:
    - uid: string
  - name: PaaS
    types:
    - uid: string
- name: OperatingSystem
  description: Operating system type (Windows or Linux).
  kind: enum
  properties:
  - name: None
    types:
    - uid: string
  - name: Windows
    types:
    - uid: string
  - name: Linux
    types:
    - uid: string
- name: OsDiskImage
  description: OS disk image.
  kind: object
  properties:
  - name: operatingSystem
    isReadyOnly: true
    description: OS operating system type.
    types:
    - uid: OperatingSystem
  - name: sourceBlobSasUri
    isReadyOnly: true
    description: SAS key for source blob.
    types:
    - uid: string
- name: DataDiskImage
  description: Data disk image.
  kind: object
  properties:
  - name: lun
    isReadyOnly: true
    description: The LUN.
    types:
    - uid: integer
  - name: sourceBlobSasUri
    isReadyOnly: true
    description: SAS key for source blob.
    types:
    - uid: string
- name: ErrorDefinition
  description: Error definition.
  kind: object
  properties:
  - name: code
    isReadyOnly: true
    description: Service specific error code which serves as the substatus for the HTTP error code.
    types:
    - uid: string
  - name: message
    isReadyOnly: true
    description: Description of the error.
    types:
    - uid: string
  - name: details
    isReadyOnly: true
    description: Internal error details.
    types:
    - uid: ErrorDefinition
      isArray: true
examples:
- name: Return product name.
  request:
    uri: POST https://management.azure.com/subscriptions/20ff7fc3-e762-44dd-bd96-b71116dcdc23/resourceGroups/azurestack/providers/Microsoft.AzureBridge.Admin/activations/default/products/Canonical.UbuntuServer1710-ARM.1.0.6/download?api-version=2016-01-01
    codeTab: |+
      # [HTTP](#tab/HTTP)
      ``` http
      POST https://management.azure.com/subscriptions/20ff7fc3-e762-44dd-bd96-b71116dcdc23/resourceGroups/azurestack/providers/Microsoft.AzureBridge.Admin/activations/default/products/Canonical.UbuntuServer1710-ARM.1.0.6/download?api-version=2016-01-01
      ```

  responses:
  - statusCode: "200"
    body: >-
      {
        "id": "/subscriptions/b6a34e73-810f-4564-881a-8434c6c2e5c8/resourceGroups/azurestack-activation/providers/Microsoft.AzureBridge.Admin/activations/default/downloadedProducts/Canonical.UbuntuServer1710-ARM.1.0.6",
        "name": "default/Canonical.UbuntuServer1710-ARM.1.0.6",
        "type": "Microsoft.AzureBridge.Admin/activations/downloadedProducts",
        "properties": {
          "displayName": "Ubuntu Server 17.10",
          "description": "Ubuntu Server 17.10 amd64 20180109 Public Azure, 20180109 Azure China, 20180109 Azure Germany. Ubuntu Server is the world's most popular Linux for cloud environments. Updates and patches for Ubuntu 17.10 will be available until July 2018.  Ubuntu Server is the perfect virtual machine (VM) platform for all workloads from web applications to NoSQL databases and Hadoop. For more information see <a href='http://partners.ubuntu.com/microsoft' target='_blank'>Ubuntu on Azure</a> and <a href='http://juju.ubuntu.com' target='_blank'>using Juju to deploy your workloads</a>.<p><h3 class='msportalfx-text-header'>Legal Terms</h3></p><p>By clicking the Create button, I acknowledge that I am getting this software from Canonical and that the <a href='http://www.ubuntu.com/project/about-ubuntu/licensing' target='_blank'>legal terms</a> of Canonical apply to it. Microsoft does not provide rights for third-party software. Also see the <a href='http://www.ubuntu.com/aboutus/privacypolicy' target='_blank'>privacy statement</a> from Canonical.</p>",
          "publisherDisplayName": "Canonical",
          "publisherIdentifier": "Canonical",
          "provisioningState": "Downloading",
          "offer": "UbuntuServer",
          "offerVersion": "1.0.6",
          "sku": "17.10",
          "billingPartNumber": "",
          "galleryItemIdentity": "Canonical.UbuntuServer1710-ARM.1.0.6",
          "iconUris": {
            "large": "https://azstmktprod001.azureedge.net/Canonical.UbuntuServer1710-ARM.1.0.6/icons/Large.png",
            "wide": "https://azstmktprod001.azureedge.net/Canonical.UbuntuServer1710-ARM.1.0.6/icons/Wide.png",
            "medium": "https://azstmktprod001.azureedge.net/Canonical.UbuntuServer1710-ARM.1.0.6/icons/Medium.png",
            "small": "https://azstmktprod001.azureedge.net/Canonical.UbuntuServer1710-ARM.1.0.6/icons/Small.png"
          },
          "links": [
            {
              "displayName": "Linux VM Documentation",
              "uri": "https://docs.microsoft.com/azure/virtual-machines/linux/"
            },
            {
              "displayName": "Ubuntu Documentation",
              "uri": "https://help.ubuntu.com/17.10/index.html"
            },
            {
              "displayName": "FAQ",
              "uri": "https://help.ubuntu.com/community/ServerFaq"
            },
            {
              "displayName": "Pricing details",
              "uri": "http://azure.microsoft.com/en-us/pricing/details/virtual-machines/#linux"
            }
          ],
          "legalTerms": "http://www.ubuntu.com/project/about-ubuntu/licensing",
          "privacyPolicy": "http://www.ubuntu.com/aboutus/privacypolicy",
          "payloadLength": 32212288186,
          "productKind": "VirtualMachine",
          "productProperties": {
            "version": "17.10.201801090"
          }
        }
      }
  - statusCode: "202"
    body: >-
      {
        "id": "/subscriptions/b6a34e73-810f-4564-881a-8434c6c2e5c8/resourceGroups/azurestack-activation/providers/Microsoft.AzureBridge.Admin/activations/default/downloadedProducts/Canonical.UbuntuServer1710-ARM.1.0.6",
        "name": "default/Canonical.UbuntuServer1710-ARM.1.0.6",
        "type": "Microsoft.AzureBridge.Admin/activations/downloadedProducts",
        "properties": {
          "displayName": "Ubuntu Server 17.10",
          "description": "Ubuntu Server 17.10 amd64 20180109 Public Azure, 20180109 Azure China, 20180109 Azure Germany. Ubuntu Server is the world's most popular Linux for cloud environments. Updates and patches for Ubuntu 17.10 will be available until July 2018.  Ubuntu Server is the perfect virtual machine (VM) platform for all workloads from web applications to NoSQL databases and Hadoop. For more information see <a href='http://partners.ubuntu.com/microsoft' target='_blank'>Ubuntu on Azure</a> and <a href='http://juju.ubuntu.com' target='_blank'>using Juju to deploy your workloads</a>.<p><h3 class='msportalfx-text-header'>Legal Terms</h3></p><p>By clicking the Create button, I acknowledge that I am getting this software from Canonical and that the <a href='http://www.ubuntu.com/project/about-ubuntu/licensing' target='_blank'>legal terms</a> of Canonical apply to it. Microsoft does not provide rights for third-party software. Also see the <a href='http://www.ubuntu.com/aboutus/privacypolicy' target='_blank'>privacy statement</a> from Canonical.</p>",
          "publisherDisplayName": "Canonical",
          "publisherIdentifier": "Canonical",
          "provisioningState": "Downloading",
          "offer": "UbuntuServer",
          "offerVersion": "1.0.6",
          "sku": "17.10",
          "billingPartNumber": "",
          "galleryItemIdentity": "Canonical.UbuntuServer1710-ARM.1.0.6",
          "iconUris": {
            "large": "https://azstmktprod001.azureedge.net/Canonical.UbuntuServer1710-ARM.1.0.6/icons/Large.png",
            "wide": "https://azstmktprod001.azureedge.net/Canonical.UbuntuServer1710-ARM.1.0.6/icons/Wide.png",
            "medium": "https://azstmktprod001.azureedge.net/Canonical.UbuntuServer1710-ARM.1.0.6/icons/Medium.png",
            "small": "https://azstmktprod001.azureedge.net/Canonical.UbuntuServer1710-ARM.1.0.6/icons/Small.png"
          },
          "links": [
            {
              "displayName": "Linux VM Documentation",
              "uri": "https://docs.microsoft.com/azure/virtual-machines/linux/"
            },
            {
              "displayName": "Ubuntu Documentation",
              "uri": "https://help.ubuntu.com/17.10/index.html"
            },
            {
              "displayName": "FAQ",
              "uri": "https://help.ubuntu.com/community/ServerFaq"
            },
            {
              "displayName": "Pricing details",
              "uri": "http://azure.microsoft.com/en-us/pricing/details/virtual-machines/#linux"
            }
          ],
          "legalTerms": "http://www.ubuntu.com/project/about-ubuntu/licensing",
          "privacyPolicy": "http://www.ubuntu.com/aboutus/privacypolicy",
          "payloadLength": 32212288186,
          "productKind": "VirtualMachine",
          "productProperties": {
            "version": "17.10.201801090"
          }
        }
      }
security:
- name: azure_auth
  type: oauth2
  description: Authorization uses an Azure Active Directory OAuth2 flow.
  flow: implicit
  authorizationUrl: https://login.microsoftonline.com/common/oauth2/authorize
  scopes:
  - name: user_impersonation
    description: impersonate your user account
metadata:
  description: Learn more about Azure Stack Admin service - Downloads a product from azure marketplace.
errorCodes: []
