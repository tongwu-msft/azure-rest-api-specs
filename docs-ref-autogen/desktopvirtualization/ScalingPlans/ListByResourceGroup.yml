### YamlMime:RESTOperation
uid: management.azure.com.desktopvirtualization.scalingplans.listbyresourcegroup
name: List By Resource Group
service: Desktop Virtualization
groupName: Scaling Plans
apiVersion: 2021-01-14-preview
summary: List scaling plans.
consumes:
- application/json
produces:
- application/json
paths:
- content: GET https://management.azure.com/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.DesktopVirtualization/scalingPlans?api-version=2021-01-14-preview
uriParameters:
- name: subscriptionId
  in: path
  isRequired: true
  description: The ID of the target subscription.
  types:
  - uid: string
- name: resourceGroupName
  in: path
  isRequired: true
  description: The name of the resource group. The name is case insensitive.
  types:
  - uid: string
  pattern: ^[-\w\._\(\)]+$
- name: api-version
  in: query
  isRequired: true
  description: The API version to use for this operation.
  types:
  - uid: string
responses:
- name: 200 OK
  description: Successfully retrieved scaling plans in resource group.
  types:
  - uid: ScalingPlanList
- name: Other Status Codes
  description: Automation error response describing why the operation failed.
  types:
  - uid: CloudError
requestHeader: []
definitions:
- name: ScalingPlanList
  description: ScalingPlanList
  kind: object
  properties:
  - name: value
    description: List of scaling plan definitions.
    types:
    - uid: ScalingPlan
      isArray: true
  - name: nextLink
    isReadyOnly: true
    description: Link to the next page of results.
    types:
    - uid: string
- name: CloudError
  kind: object
  properties:
  - name: error
    description: ''
    types:
    - uid: CloudErrorProperties
- name: ScalingPlan
  description: ScalingPlan
  kind: object
  properties:
  - name: properties.description
    description: Description of scaling plan.
    types:
    - uid: string
  - name: properties.friendlyName
    description: User friendly name of scaling plan.
    types:
    - uid: string
  - name: properties.timeZone
    description: Timezone of the scaling plan.
    types:
    - uid: string
  - name: properties.hostPoolType
    description: HostPool type for scaling plan.
    types:
    - uid: HostPoolType
  - name: properties.exclusionTag
    description: Exclusion tag for scaling plan.
    types:
    - uid: string
  - name: properties.schedules
    description: List of ScalingSchedule definitions.
    types:
    - uid: ScalingSchedule
      isArray: true
  - name: properties.hostPoolReferences
    description: List of ScalingHostPoolReference definitions.
    types:
    - uid: ScalingHostPoolReference
      isArray: true
  - name: tags
    description: Resource tags.
    types:
    - uid: object
      isDictionary: true
      additionalTypes:
      - uid: string
      - uid: string
  - name: location
    description: The geo-location where the resource lives
    types:
    - uid: string
  - name: id
    isReadyOnly: true
    description: Fully qualified resource ID for the resource. Ex - /subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/{resourceProviderNamespace}/{resourceType}/{resourceName}
    types:
    - uid: string
  - name: name
    isReadyOnly: true
    description: The name of the resource
    types:
    - uid: string
  - name: type
    isReadyOnly: true
    description: The type of the resource. E.g. "Microsoft.Compute/virtualMachines" or "Microsoft.Storage/storageAccounts"
    types:
    - uid: string
- name: CloudErrorProperties
  kind: object
  properties:
  - name: code
    description: Error code
    types:
    - uid: string
  - name: message
    description: Error message indicating why the operation failed.
    types:
    - uid: string
- name: HostPoolType
  description: HostPool type for desktop.
  kind: enum
  properties:
  - name: Personal
    types:
    - uid: string
  - name: Pooled
    types:
    - uid: string
- name: ScalingSchedule
  description: Scaling plan schedule.
  kind: object
  properties:
  - name: name
    description: Name of the scaling schedule.
    types:
    - uid: string
  - name: daysOfWeek
    description: Set of days of the week on which this schedule is active.
    types:
    - uid: string
      isArray: true
  - name: rampUpStartTime
    description: Starting time for ramp up period.
    types:
    - uid: string
  - name: rampUpAlgorithm
    description: Load balancing algorithm for ramp up period.
    types:
    - uid: SessionHostLoadBalancingAlgorithm
  - name: rampUpMinimumHostPct
    description: Minimum host percentage for ramp up period.
    types:
    - uid: integer
  - name: rampUpCapacityThresholdPct
    description: Capacity threshold for ramp up period.
    types:
    - uid: integer
  - name: peakStartTime
    description: Starting time for peak period.
    types:
    - uid: string
  - name: peakLoadBalancingAlgorithm
    description: Load balancing algorithm for peak period.
    types:
    - uid: SessionHostLoadBalancingAlgorithm
  - name: rampDownStartTime
    description: Starting time for ramp down period.
    types:
    - uid: string
  - name: rampDownLoadBalancingAlgorithm
    description: Load balancing algorithm for ramp down period.
    types:
    - uid: SessionHostLoadBalancingAlgorithm
  - name: rampDownMinimumHostsPct
    description: Minimum host percentage for ramp down period.
    types:
    - uid: integer
  - name: rampDownCapacityThresholdPct
    description: Capacity threshold for ramp down period.
    types:
    - uid: integer
  - name: rampDownForceLogoffUsers
    description: Should users be logged off forcefully from hosts.
    types:
    - uid: boolean
  - name: rampDownStopHostsWhen
    description: Specifies when to stop hosts during ramp down period.
    types:
    - uid: StopHostsWhen
  - name: rampDownNotificationMinutes
    description: Number of minutes to wait to stop hosts during ramp down period.
    types:
    - uid: integer
  - name: rampDownNotificationMessage
    description: Notification message for users during ramp down period.
    types:
    - uid: string
  - name: offPeakStartTime
    description: Starting time for off-peak period.
    types:
    - uid: string
  - name: offPeakLoadBalancingAlgorithm
    description: Load balancing algorithm for off-peak period.
    types:
    - uid: SessionHostLoadBalancingAlgorithm
- name: ScalingHostPoolReference
  description: Scaling plan reference to hostpool.
  kind: object
  properties:
  - name: hostPoolArmPath
    description: Arm path of referenced hostpool.
    types:
    - uid: string
  - name: scalingPlanEnabled
    description: Is the scaling plan enabled for this hostpool.
    types:
    - uid: boolean
- name: SessionHostLoadBalancingAlgorithm
  description: Load balancing algorithm for ramp up period.
  kind: enum
  properties:
  - name: BreadthFirst
    types:
    - uid: string
  - name: DepthFirst
    types:
    - uid: string
- name: StopHostsWhen
  description: Specifies when to stop hosts during ramp down period.
  kind: enum
  properties:
  - name: ZeroSessions
    types:
    - uid: string
  - name: ZeroActiveSessions
    types:
    - uid: string
examples:
- name: ScalingPlans_ListByResourceGroup
  request:
    uri: GET https://management.azure.com/subscriptions/daefabc0-95b4-48b3-b645-8a753a63c4fa/resourceGroups/resourceGroup1/providers/Microsoft.DesktopVirtualization/scalingPlans?api-version=2021-01-14-preview
  responses:
  - statusCode: "200"
    body: >-
      {
        "value": [
          {
            "name": "scalingPlan1",
            "id": "/subscriptions/daefabc0-95b4-48b3-b645-8a753a63c4fa/resourceGroups/resourceGroup1/providers/Microsoft.DesktopVirtualization/scalingPlans/scalingPlan1",
            "type": "Microsoft.DesktopVirtualization/scalingPlans",
            "location": "centralus",
            "tags": {
              "key1": "value1",
              "key2": "value2"
            },
            "properties": {
              "description": "des1",
              "friendlyName": "friendly",
              "timeZone": "",
              "hostPoolType": "Personal",
              "exclusionTag": "value",
              "schedules": [
                {
                  "name": "schedule1",
                  "daysOfWeek": [
                    "Monday",
                    "Tuesday",
                    "Wednesday",
                    "Thursday",
                    "Friday"
                  ],
                  "rampUpStartTime": "2020-11-10T06:00:00.000+00:00",
                  "rampUpAlgorithm": "DepthFirst",
                  "rampUpMinimumHostPct": 20,
                  "rampUpCapacityThresholdPct": 80,
                  "peakStartTime": "2020-11-10T08:00:00.000+00:00",
                  "peakLoadBalancingAlgorithm": "BreadthFirst",
                  "rampDownStartTime": "2020-11-10T18:00:00.000+00:00",
                  "rampDownLoadBalancingAlgorithm": "DepthFirst",
                  "rampDownMinimumHostsPct": 20,
                  "rampDownCapacityThresholdPct": 50,
                  "rampDownForceLogoffUsers": true,
                  "rampDownNotificationMinutes": 30,
                  "rampDownNotificationMessage": "message",
                  "offPeakStartTime": "2020-11-10T20:00:00.000+00:00",
                  "offPeakLoadBalancingAlgorithm": "DepthFirst"
                }
              ],
              "hostPoolReferences": [
                {
                  "hostPoolArmPath": "/subscriptions/daefabc0-95b4-48b3-b645-8a753a63c4fa/resourceGroups/resourceGroup1/providers/Microsoft.DesktopVirtualization/hostPools/hostPool1",
                  "scalingPlanEnabled": true
                }
              ]
            }
          },
          {
            "name": "scalingPlan2",
            "id": "/subscriptions/daefabc0-95b4-48b3-b645-8a753a63c4fa/resourceGroups/resourceGroup1/providers/Microsoft.DesktopVirtualization/scalingPlans/scalingPlan2",
            "type": "Microsoft.DesktopVirtualization/scalingPlans",
            "location": "centralus",
            "tags": {
              "key1": "value1",
              "key2": "value2"
            },
            "properties": {
              "description": "des1",
              "friendlyName": "friendly",
              "timeZone": "",
              "hostPoolType": "Personal",
              "exclusionTag": "value",
              "schedules": [
                {
                  "name": "schedule1",
                  "daysOfWeek": [
                    "Monday",
                    "Tuesday",
                    "Wednesday",
                    "Thursday",
                    "Friday"
                  ],
                  "rampUpStartTime": "2020-11-10T06:00:00.000+00:00",
                  "rampUpAlgorithm": "DepthFirst",
                  "rampUpMinimumHostPct": 20,
                  "rampUpCapacityThresholdPct": 80,
                  "peakStartTime": "2020-11-10T08:00:00.000+00:00",
                  "peakLoadBalancingAlgorithm": "BreadthFirst",
                  "rampDownStartTime": "2020-11-10T18:00:00.000+00:00",
                  "rampDownLoadBalancingAlgorithm": "DepthFirst",
                  "rampDownMinimumHostsPct": 20,
                  "rampDownCapacityThresholdPct": 50,
                  "rampDownForceLogoffUsers": false,
                  "rampDownStopHostsWhen": "ZeroSessions",
                  "offPeakStartTime": "2020-11-10T20:00:00.000+00:00",
                  "offPeakLoadBalancingAlgorithm": "DepthFirst"
                }
              ],
              "hostPoolReferences": [
                {
                  "hostPoolArmPath": "/subscriptions/daefabc0-95b4-48b3-b645-8a753a63c4fa/resourceGroups/resourceGroup1/providers/Microsoft.DesktopVirtualization/hostPools/hostPool1",
                  "scalingPlanEnabled": true
                }
              ]
            }
          }
        ]
      }
security: []
errorCodes: []
