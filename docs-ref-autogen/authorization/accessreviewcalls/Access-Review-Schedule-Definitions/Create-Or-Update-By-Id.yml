### YamlMime:RESTOperation
uid: management.azure.com.authorization.accessreviewcalls.accessreviewscheduledefinitions.createorupdatebyid
name: Create Or Update By Id
service: Authorization
groupName: Access Review Schedule Definitions
apiVersion: 2021-03-01-preview
summary: Create or Update access review schedule definition.
consumes:
- application/json
produces:
- application/json
paths:
- content: PUT https://management.azure.com/subscriptions/{subscriptionId}/providers/Microsoft.Authorization/accessReviewScheduleDefinitions/{scheduleDefinitionId}?api-version=2021-03-01-preview
uriParameters:
- name: subscriptionId
  in: path
  isRequired: true
  description: The ID of the target subscription.
  types:
  - uid: string
- name: scheduleDefinitionId
  in: path
  isRequired: true
  description: The id of the access review schedule definition.
  types:
  - uid: string
- name: api-version
  in: query
  isRequired: true
  description: The API version to be used with the HTTP request.
  types:
  - uid: string
responses:
- name: 200 OK
  description: Successful update
  types:
  - uid: AccessReviewScheduleDefinition
- name: Other Status Codes
  description: Unexpected error
  types:
  - uid: ErrorDefinition
requestBody:
- name: default
  parameters:
  - name: displayName
    in: body
    description: The display name for the schedule definition.
    types:
    - uid: string
  - name: descriptionForAdmins
    in: body
    description: The description provided by the access review creator and visible to admins.
    types:
    - uid: string
  - name: descriptionForReviewers
    in: body
    description: The description provided by the access review creator to be shown to reviewers.
    types:
    - uid: string
  - name: reviewers
    in: body
    description: This is the collection of reviewers.
    types:
    - uid: AccessReviewReviewer
      isArray: true
  - name: backupReviewers
    in: body
    description: This is the collection of backup reviewers.
    types:
    - uid: AccessReviewReviewer
      isArray: true
  - name: instances
    in: body
    description: This is the collection of instances returned when one does an expand on it.
    types:
    - uid: AccessReviewInstance
      isArray: true
  - name: settings.mailNotificationsEnabled
    in: body
    description: Flag to indicate whether sending mails to reviewers and the review creator is enabled.
    types:
    - uid: boolean
  - name: settings.reminderNotificationsEnabled
    in: body
    description: Flag to indicate whether sending reminder emails to reviewers are enabled.
    types:
    - uid: boolean
  - name: settings.defaultDecisionEnabled
    in: body
    description: Flag to indicate whether reviewers are required to provide a justification when reviewing access.
    types:
    - uid: boolean
  - name: settings.justificationRequiredOnApproval
    in: body
    description: Flag to indicate whether the reviewer is required to pass justification when recording a decision.
    types:
    - uid: boolean
  - name: settings.defaultDecision
    in: body
    description: This specifies the behavior for the autoReview feature when an access review completes.
    types:
    - uid: DefaultDecisionType
  - name: settings.autoApplyDecisionsEnabled
    in: body
    description: Flag to indicate whether auto-apply capability, to automatically change the target object access resource, is enabled. If not enabled, a user must, after the review completes, apply the access review.
    types:
    - uid: boolean
  - name: settings.recommendationsEnabled
    in: body
    description: Flag to indicate whether showing recommendations to reviewers is enabled.
    types:
    - uid: boolean
  - name: settings.instanceDurationInDays
    in: body
    description: The duration in days for an instance.
    types:
    - uid: integer
  - name: settings.recurrence.pattern.type
    in: body
    description: 'The recurrence type : weekly, monthly, etc.'
    types:
    - uid: AccessReviewRecurrencePatternType
  - name: settings.recurrence.pattern.interval
    in: body
    description: 'The interval for recurrence. For a quarterly review, the interval is 3 for type : absoluteMonthly.'
    types:
    - uid: integer
  - name: settings.recurrence.range.type
    in: body
    description: 'The recurrence range type. The possible values are: endDate, noEnd, numbered.'
    types:
    - uid: AccessReviewRecurrenceRangeType
  - name: settings.recurrence.range.numberOfOccurrences
    in: body
    description: The number of times to repeat the access review. Required and must be positive if type is numbered.
    types:
    - uid: integer
  - name: settings.recurrence.range.startDate
    in: body
    description: The DateTime when the review is scheduled to be start. This could be a date in the future. Required on create.
    types:
    - uid: string
  - name: settings.recurrence.range.endDate
    in: body
    description: The DateTime when the review is scheduled to end. Required if type is endDate
    types:
    - uid: string
  - name: scope.inactiveDuration
    in: body
    description: 'Duration users are inactive for. The value should be in ISO  8601 format (http://en.wikipedia.org/wiki/ISO_8601#Durations).This code can be used to convert TimeSpan to a valid interval string: XmlConvert.ToString(new TimeSpan(hours, minutes, seconds))'
    types:
    - uid: string
requestHeader: []
definitions:
- name: AccessReviewReviewer
  description: Descriptor for what needs to be reviewed
  kind: object
  properties:
  - name: principalId
    description: The id of the reviewer(user/servicePrincipal)
    types:
    - uid: string
  - name: principalType
    isReadyOnly: true
    description: 'The identity type : user/servicePrincipal'
    types:
    - uid: AccessReviewReviewerType
- name: AccessReviewInstance
  description: Access Review Instance.
  kind: object
  properties:
  - name: id
    isReadyOnly: true
    description: The access review instance id.
    types:
    - uid: string
  - name: name
    isReadyOnly: true
    description: The access review instance name.
    types:
    - uid: string
  - name: type
    isReadyOnly: true
    description: The resource type.
    types:
    - uid: string
  - name: properties.status
    isReadyOnly: true
    description: This read-only field specifies the status of an access review instance.
    types:
    - uid: AccessReviewInstanceStatus
  - name: properties.startDateTime
    description: The DateTime when the review instance is scheduled to be start.
    types:
    - uid: string
  - name: properties.endDateTime
    description: The DateTime when the review instance is scheduled to end.
    types:
    - uid: string
- name: AccessReviewScheduleDefinition
  description: Access Review Schedule Definition.
  kind: object
  properties:
  - name: id
    isReadyOnly: true
    description: The access review schedule definition id.
    types:
    - uid: string
  - name: name
    isReadyOnly: true
    description: The access review schedule definition unique id.
    types:
    - uid: string
  - name: type
    isReadyOnly: true
    description: The resource type.
    types:
    - uid: string
  - name: properties.displayName
    description: The display name for the schedule definition.
    types:
    - uid: string
  - name: properties.status
    isReadyOnly: true
    description: This read-only field specifies the status of an accessReview.
    types:
    - uid: AccessReviewScheduleDefinitionStatus
  - name: properties.descriptionForAdmins
    description: The description provided by the access review creator and visible to admins.
    types:
    - uid: string
  - name: properties.descriptionForReviewers
    description: The description provided by the access review creator to be shown to reviewers.
    types:
    - uid: string
  - name: properties.reviewers
    description: This is the collection of reviewers.
    types:
    - uid: AccessReviewReviewer
      isArray: true
  - name: properties.backupReviewers
    description: This is the collection of backup reviewers.
    types:
    - uid: AccessReviewReviewer
      isArray: true
  - name: properties.reviewersType
    isReadyOnly: true
    description: This field specifies the type of reviewers for a review. Usually for a review, reviewers are explicitly assigned. However, in some cases, the reviewers may not be assigned and instead be chosen dynamically. For example managers review or self review.
    types:
    - uid: AccessReviewScheduleDefinitionReviewersType
  - name: properties.instances
    description: This is the collection of instances returned when one does an expand on it.
    types:
    - uid: AccessReviewInstance
      isArray: true
  - name: properties.createdBy.principalId
    isReadyOnly: true
    description: The identity id
    types:
    - uid: string
  - name: properties.createdBy.principalType
    isReadyOnly: true
    description: 'The identity type : user/servicePrincipal'
    types:
    - uid: AccessReviewActorIdentityType
  - name: properties.createdBy.principalName
    isReadyOnly: true
    description: The identity display name
    types:
    - uid: string
  - name: properties.createdBy.userPrincipalName
    isReadyOnly: true
    description: The user principal name(if valid)
    types:
    - uid: string
  - name: properties.settings.mailNotificationsEnabled
    description: Flag to indicate whether sending mails to reviewers and the review creator is enabled.
    types:
    - uid: boolean
  - name: properties.settings.reminderNotificationsEnabled
    description: Flag to indicate whether sending reminder emails to reviewers are enabled.
    types:
    - uid: boolean
  - name: properties.settings.defaultDecisionEnabled
    description: Flag to indicate whether reviewers are required to provide a justification when reviewing access.
    types:
    - uid: boolean
  - name: properties.settings.justificationRequiredOnApproval
    description: Flag to indicate whether the reviewer is required to pass justification when recording a decision.
    types:
    - uid: boolean
  - name: properties.settings.defaultDecision
    description: This specifies the behavior for the autoReview feature when an access review completes.
    types:
    - uid: DefaultDecisionType
  - name: properties.settings.autoApplyDecisionsEnabled
    description: Flag to indicate whether auto-apply capability, to automatically change the target object access resource, is enabled. If not enabled, a user must, after the review completes, apply the access review.
    types:
    - uid: boolean
  - name: properties.settings.recommendationsEnabled
    description: Flag to indicate whether showing recommendations to reviewers is enabled.
    types:
    - uid: boolean
  - name: properties.settings.instanceDurationInDays
    description: The duration in days for an instance.
    types:
    - uid: integer
  - name: properties.settings.recurrence.pattern.type
    description: 'The recurrence type : weekly, monthly, etc.'
    types:
    - uid: AccessReviewRecurrencePatternType
  - name: properties.settings.recurrence.pattern.interval
    description: 'The interval for recurrence. For a quarterly review, the interval is 3 for type : absoluteMonthly.'
    types:
    - uid: integer
  - name: properties.settings.recurrence.range.type
    description: 'The recurrence range type. The possible values are: endDate, noEnd, numbered.'
    types:
    - uid: AccessReviewRecurrenceRangeType
  - name: properties.settings.recurrence.range.numberOfOccurrences
    description: The number of times to repeat the access review. Required and must be positive if type is numbered.
    types:
    - uid: integer
  - name: properties.settings.recurrence.range.startDate
    description: The DateTime when the review is scheduled to be start. This could be a date in the future. Required on create.
    types:
    - uid: string
  - name: properties.settings.recurrence.range.endDate
    description: The DateTime when the review is scheduled to end. Required if type is endDate
    types:
    - uid: string
  - name: properties.scope.resourceId
    isReadyOnly: true
    description: ResourceId in which this review is getting created
    types:
    - uid: string
  - name: properties.scope.roleDefinitionId
    isReadyOnly: true
    description: This is used to indicate the role being reviewed
    types:
    - uid: string
  - name: properties.scope.principalType
    isReadyOnly: true
    description: The identity type user/servicePrincipal to review
    types:
    - uid: AccessReviewScopePrincipalType
  - name: properties.scope.assignmentState
    isReadyOnly: true
    description: The role assignment state eligible/active to review
    types:
    - uid: AccessReviewScopeAssignmentState
  - name: properties.scope.inactiveDuration
    description: 'Duration users are inactive for. The value should be in ISO  8601 format (http://en.wikipedia.org/wiki/ISO_8601#Durations).This code can be used to convert TimeSpan to a valid interval string: XmlConvert.ToString(new TimeSpan(hours, minutes, seconds))'
    types:
    - uid: string
- name: ErrorDefinition
  description: Error
  kind: object
  properties:
  - name: error
    description: "Error  \nError of the list gateway status."
    types:
    - uid: ErrorDefinitionProperties
- name: AccessReviewScheduleDefinitionProperties
  description: Access Review.
  kind: object
  properties:
  - name: displayName
    description: The display name for the schedule definition.
    types:
    - uid: string
  - name: status
    isReadyOnly: true
    description: This read-only field specifies the status of an accessReview.
    types:
    - uid: AccessReviewScheduleDefinitionStatus
  - name: descriptionForAdmins
    description: The description provided by the access review creator and visible to admins.
    types:
    - uid: string
  - name: descriptionForReviewers
    description: The description provided by the access review creator to be shown to reviewers.
    types:
    - uid: string
  - name: reviewers
    description: This is the collection of reviewers.
    types:
    - uid: AccessReviewReviewer
      isArray: true
  - name: backupReviewers
    description: This is the collection of backup reviewers.
    types:
    - uid: AccessReviewReviewer
      isArray: true
  - name: reviewersType
    isReadyOnly: true
    description: This field specifies the type of reviewers for a review. Usually for a review, reviewers are explicitly assigned. However, in some cases, the reviewers may not be assigned and instead be chosen dynamically. For example managers review or self review.
    types:
    - uid: AccessReviewScheduleDefinitionReviewersType
  - name: instances
    description: This is the collection of instances returned when one does an expand on it.
    types:
    - uid: AccessReviewInstance
      isArray: true
  - name: createdBy.principalId
    isReadyOnly: true
    description: The identity id
    types:
    - uid: string
  - name: createdBy.principalType
    isReadyOnly: true
    description: 'The identity type : user/servicePrincipal'
    types:
    - uid: AccessReviewActorIdentityType
  - name: createdBy.principalName
    isReadyOnly: true
    description: The identity display name
    types:
    - uid: string
  - name: createdBy.userPrincipalName
    isReadyOnly: true
    description: The user principal name(if valid)
    types:
    - uid: string
  - name: settings.mailNotificationsEnabled
    description: Flag to indicate whether sending mails to reviewers and the review creator is enabled.
    types:
    - uid: boolean
  - name: settings.reminderNotificationsEnabled
    description: Flag to indicate whether sending reminder emails to reviewers are enabled.
    types:
    - uid: boolean
  - name: settings.defaultDecisionEnabled
    description: Flag to indicate whether reviewers are required to provide a justification when reviewing access.
    types:
    - uid: boolean
  - name: settings.justificationRequiredOnApproval
    description: Flag to indicate whether the reviewer is required to pass justification when recording a decision.
    types:
    - uid: boolean
  - name: settings.defaultDecision
    description: This specifies the behavior for the autoReview feature when an access review completes.
    types:
    - uid: DefaultDecisionType
  - name: settings.autoApplyDecisionsEnabled
    description: Flag to indicate whether auto-apply capability, to automatically change the target object access resource, is enabled. If not enabled, a user must, after the review completes, apply the access review.
    types:
    - uid: boolean
  - name: settings.recommendationsEnabled
    description: Flag to indicate whether showing recommendations to reviewers is enabled.
    types:
    - uid: boolean
  - name: settings.instanceDurationInDays
    description: The duration in days for an instance.
    types:
    - uid: integer
  - name: settings.recurrence.pattern.type
    description: 'The recurrence type : weekly, monthly, etc.'
    types:
    - uid: AccessReviewRecurrencePatternType
  - name: settings.recurrence.pattern.interval
    description: 'The interval for recurrence. For a quarterly review, the interval is 3 for type : absoluteMonthly.'
    types:
    - uid: integer
  - name: settings.recurrence.range.type
    description: 'The recurrence range type. The possible values are: endDate, noEnd, numbered.'
    types:
    - uid: AccessReviewRecurrenceRangeType
  - name: settings.recurrence.range.numberOfOccurrences
    description: The number of times to repeat the access review. Required and must be positive if type is numbered.
    types:
    - uid: integer
  - name: settings.recurrence.range.startDate
    description: The DateTime when the review is scheduled to be start. This could be a date in the future. Required on create.
    types:
    - uid: string
  - name: settings.recurrence.range.endDate
    description: The DateTime when the review is scheduled to end. Required if type is endDate
    types:
    - uid: string
  - name: scope.resourceId
    isReadyOnly: true
    description: ResourceId in which this review is getting created
    types:
    - uid: string
  - name: scope.roleDefinitionId
    isReadyOnly: true
    description: This is used to indicate the role being reviewed
    types:
    - uid: string
  - name: scope.principalType
    isReadyOnly: true
    description: The identity type user/servicePrincipal to review
    types:
    - uid: AccessReviewScopePrincipalType
  - name: scope.assignmentState
    isReadyOnly: true
    description: The role assignment state eligible/active to review
    types:
    - uid: AccessReviewScopeAssignmentState
  - name: scope.inactiveDuration
    description: 'Duration users are inactive for. The value should be in ISO  8601 format (http://en.wikipedia.org/wiki/ISO_8601#Durations).This code can be used to convert TimeSpan to a valid interval string: XmlConvert.ToString(new TimeSpan(hours, minutes, seconds))'
    types:
    - uid: string
- name: AccessReviewReviewerType
  description: 'The identity type : user/servicePrincipal'
  kind: enum
  properties:
  - name: user
    types:
    - uid: string
  - name: servicePrincipal
    types:
    - uid: string
- name: AccessReviewInstanceStatus
  description: This read-only field specifies the status of an access review instance.
  kind: enum
  properties:
  - name: NotStarted
    types:
    - uid: string
  - name: InProgress
    types:
    - uid: string
  - name: Completed
    types:
    - uid: string
  - name: Applied
    types:
    - uid: string
  - name: Initializing
    types:
    - uid: string
  - name: Applying
    types:
    - uid: string
  - name: Completing
    types:
    - uid: string
  - name: Scheduled
    types:
    - uid: string
  - name: AutoReviewing
    types:
    - uid: string
  - name: AutoReviewed
    types:
    - uid: string
  - name: Starting
    types:
    - uid: string
- name: AccessReviewScheduleDefinitionStatus
  description: This read-only field specifies the status of an accessReview.
  kind: enum
  properties:
  - name: NotStarted
    types:
    - uid: string
  - name: InProgress
    types:
    - uid: string
  - name: Completed
    types:
    - uid: string
  - name: Applied
    types:
    - uid: string
  - name: Initializing
    types:
    - uid: string
  - name: Applying
    types:
    - uid: string
  - name: Completing
    types:
    - uid: string
  - name: Scheduled
    types:
    - uid: string
  - name: AutoReviewing
    types:
    - uid: string
  - name: AutoReviewed
    types:
    - uid: string
  - name: Starting
    types:
    - uid: string
- name: AccessReviewScheduleDefinitionReviewersType
  description: This field specifies the type of reviewers for a review. Usually for a review, reviewers are explicitly assigned. However, in some cases, the reviewers may not be assigned and instead be chosen dynamically. For example managers review or self review.
  kind: enum
  properties:
  - name: Assigned
    types:
    - uid: string
  - name: Self
    types:
    - uid: string
  - name: Managers
    types:
    - uid: string
- name: AccessReviewActorIdentityType
  description: 'The identity type : user/servicePrincipal'
  kind: enum
  properties:
  - name: user
    types:
    - uid: string
  - name: servicePrincipal
    types:
    - uid: string
- name: DefaultDecisionType
  description: This specifies the behavior for the autoReview feature when an access review completes.
  kind: enum
  properties:
  - name: Approve
    types:
    - uid: string
  - name: Deny
    types:
    - uid: string
  - name: Recommendation
    types:
    - uid: string
- name: AccessReviewRecurrencePatternType
  description: 'The recurrence type : weekly, monthly, etc.'
  kind: enum
  properties:
  - name: weekly
    types:
    - uid: string
  - name: absoluteMonthly
    types:
    - uid: string
- name: AccessReviewRecurrenceRangeType
  description: 'The recurrence range type. The possible values are: endDate, noEnd, numbered.'
  kind: enum
  properties:
  - name: endDate
    types:
    - uid: string
  - name: noEnd
    types:
    - uid: string
  - name: numbered
    types:
    - uid: string
- name: AccessReviewScopePrincipalType
  description: The identity type user/servicePrincipal to review
  kind: enum
  properties:
  - name: user
    types:
    - uid: string
  - name: guestUser
    types:
    - uid: string
  - name: servicePrincipal
    types:
    - uid: string
- name: AccessReviewScopeAssignmentState
  description: The role assignment state eligible/active to review
  kind: enum
  properties:
  - name: eligible
    types:
    - uid: string
  - name: active
    types:
    - uid: string
- name: ErrorDefinitionProperties
  description: Error
  kind: object
  properties:
  - name: message
    isReadyOnly: true
    description: Description of the error.
    types:
    - uid: string
  - name: code
    description: Error code of list gateway.
    types:
    - uid: string
examples:
- name: PutAccessReview
  request:
    uri: PUT https://management.azure.com/subscriptions/fa73e90b-5bf1-45fd-a182-35ce5fc0674d/providers/Microsoft.Authorization/accessReviewScheduleDefinitions/fa73e90b-5bf1-45fd-a182-35ce5fc0674d?api-version=2021-03-01-preview
    body: '{}'
  responses:
  - statusCode: "200"
    body: >-
      {
        "id": "/subscriptions/fa73e90b-5bf1-45fd-a182-35ce5fc0674d/providers/Microsoft.Authorization/accessReviewScheduleDefinitions/fa73e90b-5bf1-45fd-a182-35ce5fc0674d",
        "type": "Microsoft.Authorization/accessReviewScheduleDefinitions",
        "name": "fa73e90b-5bf1-45fd-a182-35ce5fc0674d",
        "properties": {
          "displayName": "Hello world",
          "status": "InProgress",
          "descriptionForAdmins": "asdfasdf",
          "descriptionForReviewers": "asdfasdf",
          "createdBy": {
            "principalType": "user",
            "principalId": "a6c7aecb-cbfd-4763-87ef-e91b4bd509d9",
            "principalName": "Shubham Gupta",
            "userPrincipalName": "shugup@microsoft.com"
          },
          "scope": {
            "resourceId": "/subscriptions/fa73e90b-5bf1-45fd-a182-35ce5fc0674d",
            "roleDefinitionId": "/subscriptions/fa73e90b-5bf1-45fd-a182-35ce5fc0674d/providers/Microsoft.Authorization/roleDefinitions/b225c7ff-4338-4cdc-a790-6b34d987f7cd"
          },
          "reviewers": [
            {
              "principalId": "fa73e90b-5bf1-45fd-a182-35ce5fc0674d ",
              "principalType": "user"
            }
          ],
          "reviewersType": "Assigned",
          "settings": {
            "mailNotificationsEnabled": true,
            "reminderNotificationsEnabled": true,
            "justificationRequiredOnApproval": true,
            "recommendationsEnabled": true,
            "instanceDurationInDays": 30,
            "recurrence": {
              "range": {
                "type": "endDate",
                "numberOfOccurrences": 1,
                "startDate": "2018-08-03T21:02:30.667Z",
                "endDate": "2018-08-03T21:17:30.513Z"
              }
            },
            "defaultDecisionEnabled": true,
            "defaultDecision": "Approve",
            "autoApplyDecisionsEnabled": true
          }
        }
      }
security:
- name: azure_auth
  type: oauth2
  description: Azure Active Directory OAuth2 Flow
  flow: implicit
  authorizationUrl: https://login.microsoftonline.com/common/oauth2/authorize
  scopes:
  - name: user_impersonation
    description: impersonate your user account
metadata:
  description: Learn more about Authorization service - Create or Update access review schedule definition.
errorCodes: []
