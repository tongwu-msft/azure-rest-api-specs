### YamlMime:RESTOperation
uid: fully-qualified-iothubname.azure-devices.net.iothub.device.getdevicesandmodulesinscope
name: Get Devices And Modules In Scope
service: IoT Hub
groupName: Device
apiVersion: 2020-03-13
summary: "Query IotHub to retrieve information regarding devices which belong to the same deviceScope  \nQuery IotHub to retrieve information regarding devices which belong to the same deviceScope. See https://docs.microsoft.com/azure/iot-hub/iot-hub-devguide-query-language for more information. Pagination of results is supported. This returns information about device twins only. For IoT Hub VNET related features(https://docs.microsoft.com/en-us/azure/iot-hub/virtual-network-support) please use API version '2020-03-13'.These features are currently in general availability in the East US, West US 2, and Southcentral US regions only. We are actively working to expand the availability of these features to all regions by end of month May. For rest of the APIs please continue using API version '2019-10-01'"
consumes: []
produces:
- application/json
paths:
- content: GET https://fully-qualified-iothubname.azure-devices.net/devices/{deviceId}/modules/{moduleId}/devicesAndModulesInDeviceScope?api-version=2020-03-13
uriParameters:
- name: deviceId
  in: path
  isRequired: true
  types:
  - uid: string
- name: moduleId
  in: path
  isRequired: true
  types:
  - uid: string
- name: api-version
  in: query
  isRequired: true
  description: Version of the Api.
  types:
  - uid: string
responses:
- name: 200 OK
  description: Get devices in scope with continuation token if appropriate.
  types:
  - uid: ScopeResult
requestHeader: []
definitions:
- name: ScopeResult
  description: The query result.
  kind: object
  properties:
  - name: devices
    description: The scope result items, as a collection.
    types:
    - uid: Device
      isArray: true
  - name: modules
    description: The scope result items, as a collection.
    types:
    - uid: Module
      isArray: true
  - name: continuationLink
    description: Request continuation token.
    types:
    - uid: string
- name: Device
  kind: object
  properties:
  - name: deviceId
    description: ''
    types:
    - uid: string
  - name: generationId
    description: ''
    types:
    - uid: string
  - name: etag
    description: ''
    types:
    - uid: string
  - name: connectionState
    description: ''
    types:
    - uid: Disconnected
    - uid: Connected
    typesTitle: enum
  - name: status
    description: ''
    types:
    - uid: enabled
    - uid: disabled
    typesTitle: enum
  - name: statusReason
    description: ''
    types:
    - uid: string
  - name: connectionStateUpdatedTime
    description: ''
    types:
    - uid: string
  - name: statusUpdatedTime
    description: ''
    types:
    - uid: string
  - name: lastActivityTime
    description: ''
    types:
    - uid: string
  - name: cloudToDeviceMessageCount
    description: ''
    types:
    - uid: integer
  - name: authentication
    description: ''
    types:
    - uid: AuthenticationMechanism
  - name: capabilities
    description: Status of Capabilities enabled on the device
    types:
    - uid: DeviceCapabilities
  - name: deviceScope
    description: ''
    types:
    - uid: string
- name: Module
  description: Module identity on a device
  kind: object
  properties:
  - name: moduleId
    description: ''
    types:
    - uid: string
  - name: managedBy
    description: ''
    types:
    - uid: string
  - name: deviceId
    description: ''
    types:
    - uid: string
  - name: generationId
    description: ''
    types:
    - uid: string
  - name: etag
    description: ''
    types:
    - uid: string
  - name: connectionState
    description: ''
    types:
    - uid: Disconnected
    - uid: Connected
    typesTitle: enum
  - name: connectionStateUpdatedTime
    description: ''
    types:
    - uid: string
  - name: lastActivityTime
    description: ''
    types:
    - uid: string
  - name: cloudToDeviceMessageCount
    description: ''
    types:
    - uid: integer
  - name: authentication
    description: ''
    types:
    - uid: AuthenticationMechanism
- name: AuthenticationMechanism
  kind: object
  properties:
  - name: symmetricKey
    description: ''
    types:
    - uid: SymmetricKey
  - name: x509Thumbprint
    description: ''
    types:
    - uid: X509Thumbprint
  - name: type
    description: ''
    types:
    - uid: sas
    - uid: selfSigned
    - uid: certificateAuthority
    - uid: none
    typesTitle: enum
- name: DeviceCapabilities
  description: Status of Capabilities enabled on the device
  kind: object
  properties:
  - name: iotEdge
    description: ''
    types:
    - uid: boolean
- name: SymmetricKey
  kind: object
  properties:
  - name: primaryKey
    description: ''
    types:
    - uid: string
  - name: secondaryKey
    description: ''
    types:
    - uid: string
- name: X509Thumbprint
  kind: object
  properties:
  - name: primaryThumbprint
    description: ''
    types:
    - uid: string
  - name: secondaryThumbprint
    description: ''
    types:
    - uid: string
examples: []
security: []
errorCodes: []
