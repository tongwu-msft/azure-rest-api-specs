### YamlMime:RESTOperation
uid: fully-qualified-iothubname.azure-devices.net.iothub.service.faultinjection.set
name: Set
service: IoT Hub
groupName: Fault Injection
apiVersion: 2020-03-13
summary: "Create or update FaultInjection entity  \n For IoT Hub VNET related features(https://docs.microsoft.com/en-us/azure/iot-hub/virtual-network-support) please use API version '2020-03-13'.These features are currently in general availability in the East US, West US 2, and Southcentral US regions only. We are actively working to expand the availability of these features to all regions by end of month May. For rest of the APIs please continue using API version '2019-10-01'"
consumes:
- application/json
produces:
- application/json
paths:
- content: PUT https://fully-qualified-iothubname.azure-devices.net/faultInjection?api-version=2020-03-13
uriParameters:
- name: api-version
  in: query
  isRequired: true
  description: Version of the Api.
  types:
  - uid: string
responses:
- name: 200 OK
  description: OK
requestBody:
- name: default
  parameters:
  - name: IotHubName
    in: body
    description: ''
    types:
    - uid: string
  - name: connection
    in: body
    description: ''
    types:
    - uid: FaultInjectionConnectionProperties
  - name: lastUpdatedTimeUtc
    in: body
    description: Service generated.
    types:
    - uid: string
requestHeader: []
definitions:
- name: FaultInjectionConnectionProperties
  kind: object
  properties:
  - name: action
    description: ''
    types:
    - uid: None
    - uid: CloseAll
    - uid: Periodic
    typesTitle: enum
  - name: blockDurationInMinutes
    description: ''
    types:
    - uid: integer
- name: FaultInjectionProperties
  kind: object
  properties:
  - name: IotHubName
    description: ''
    types:
    - uid: string
  - name: connection
    description: ''
    types:
    - uid: FaultInjectionConnectionProperties
  - name: lastUpdatedTimeUtc
    description: Service generated.
    types:
    - uid: string
examples: []
security: []
errorCodes: []
