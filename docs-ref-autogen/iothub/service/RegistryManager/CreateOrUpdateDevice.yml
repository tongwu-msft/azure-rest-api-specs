### YamlMime:RESTOperation
uid: fully-qualified-iothubname.azure-devices.net.iothub.service.registrymanager.createorupdatedevice
name: Create Or Update Device
service: IoT Hub
groupName: Registry Manager
apiVersion: 2020-03-13
summary: "Create or update the identity of a device in the identity registry of an IoT hub.  \nCreate or update the identity of a device in the identity registry of an IoT hub. An ETag must not be specified for the create operation. An ETag must be specified for the update operation. Note that generationId and deviceId cannot be updated by the user. For IoT Hub VNET related features(https://docs.microsoft.com/en-us/azure/iot-hub/virtual-network-support) please use API version '2020-03-13'.These features are currently in general availability in the East US, West US 2, and Southcentral US regions only. We are actively working to expand the availability of these features to all regions by end of month May. For rest of the APIs please continue using API version '2019-10-01'"
consumes:
- application/json
produces:
- application/json
paths:
- content: PUT https://fully-qualified-iothubname.azure-devices.net/devices/{id}?api-version=2020-03-13
uriParameters:
- name: id
  in: path
  isRequired: true
  description: Device ID.
  types:
  - uid: string
- name: api-version
  in: query
  isRequired: true
  description: Version of the Api.
  types:
  - uid: string
responses:
- name: 200 OK
  description: Returns the Device object
  types:
  - uid: Device
requestBody:
- name: default
  parameters:
  - name: deviceId
    in: body
    description: ''
    types:
    - uid: string
  - name: generationId
    in: body
    description: ''
    types:
    - uid: string
  - name: etag
    in: body
    description: ''
    types:
    - uid: string
  - name: connectionState
    in: body
    description: ''
    types:
    - uid: Disconnected
    - uid: Connected
    typesTitle: enum
  - name: status
    in: body
    description: ''
    types:
    - uid: enabled
    - uid: disabled
    typesTitle: enum
  - name: statusReason
    in: body
    description: ''
    types:
    - uid: string
  - name: connectionStateUpdatedTime
    in: body
    description: ''
    types:
    - uid: string
  - name: statusUpdatedTime
    in: body
    description: ''
    types:
    - uid: string
  - name: lastActivityTime
    in: body
    description: ''
    types:
    - uid: string
  - name: cloudToDeviceMessageCount
    in: body
    description: ''
    types:
    - uid: integer
  - name: authentication
    in: body
    description: ''
    types:
    - uid: AuthenticationMechanism
  - name: capabilities
    in: body
    description: Status of Capabilities enabled on the device
    types:
    - uid: DeviceCapabilities
  - name: deviceScope
    in: body
    description: ''
    types:
    - uid: string
requestHeader:
- name: If-Match
  in: header
  types:
  - uid: string
definitions:
- name: AuthenticationMechanism
  kind: object
  properties:
  - name: symmetricKey
    description: ''
    types:
    - uid: SymmetricKey
  - name: x509Thumbprint
    description: ''
    types:
    - uid: X509Thumbprint
  - name: type
    description: ''
    types:
    - uid: sas
    - uid: selfSigned
    - uid: certificateAuthority
    - uid: none
    typesTitle: enum
- name: DeviceCapabilities
  description: Status of Capabilities enabled on the device
  kind: object
  properties:
  - name: iotEdge
    description: ''
    types:
    - uid: boolean
- name: Device
  kind: object
  properties:
  - name: deviceId
    description: ''
    types:
    - uid: string
  - name: generationId
    description: ''
    types:
    - uid: string
  - name: etag
    description: ''
    types:
    - uid: string
  - name: connectionState
    description: ''
    types:
    - uid: Disconnected
    - uid: Connected
    typesTitle: enum
  - name: status
    description: ''
    types:
    - uid: enabled
    - uid: disabled
    typesTitle: enum
  - name: statusReason
    description: ''
    types:
    - uid: string
  - name: connectionStateUpdatedTime
    description: ''
    types:
    - uid: string
  - name: statusUpdatedTime
    description: ''
    types:
    - uid: string
  - name: lastActivityTime
    description: ''
    types:
    - uid: string
  - name: cloudToDeviceMessageCount
    description: ''
    types:
    - uid: integer
  - name: authentication
    description: ''
    types:
    - uid: AuthenticationMechanism
  - name: capabilities
    description: Status of Capabilities enabled on the device
    types:
    - uid: DeviceCapabilities
  - name: deviceScope
    description: ''
    types:
    - uid: string
- name: SymmetricKey
  kind: object
  properties:
  - name: primaryKey
    description: ''
    types:
    - uid: string
  - name: secondaryKey
    description: ''
    types:
    - uid: string
- name: X509Thumbprint
  kind: object
  properties:
  - name: primaryThumbprint
    description: ''
    types:
    - uid: string
  - name: secondaryThumbprint
    description: ''
    types:
    - uid: string
examples: []
security: []
errorCodes: []
