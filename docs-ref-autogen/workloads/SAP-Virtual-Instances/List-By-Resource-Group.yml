### YamlMime:RESTOperation
uid: management.azure.com.workloads.sapvirtualinstances.listbyresourcegroup
name: List By Resource Group
service: Workloads
groupName: SAP Virtual Instances
apiVersion: 2021-12-01-preview
summary: Gets all Virtual Instances for SAP in a resource group.
consumes:
- application/json
produces:
- application/json
paths:
- content: GET https://management.azure.com/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Workloads/sapVirtualInstances?api-version=2021-12-01-preview
uriParameters:
- name: subscriptionId
  in: path
  isRequired: true
  description: The ID of the target subscription.
  types:
  - uid: string
- name: resourceGroupName
  in: path
  isRequired: true
  description: The name of the resource group. The name is case insensitive.
  types:
  - uid: string
- name: api-version
  in: query
  isRequired: true
  description: The API version to use for this operation.
  types:
  - uid: string
responses:
- name: 200 OK
  description: The list of all Virtual Instances for SAP.
  types:
  - uid: SAPVirtualInstanceList
- name: Other Status Codes
  description: Error response describing why the operation failed.
  types:
  - uid: ErrorResponse
requestHeader: []
definitions:
- name: SAPVirtualInstanceList
  description: Defines the collection of Virtual Instance for SAP.
  kind: object
  properties:
  - name: value
    description: Gets the list of Virtual Instances for SAP.
    types:
    - uid: SAPVirtualInstance
      isArray: true
  - name: nextLink
    description: Gets the value of next link.
    types:
    - uid: string
- name: ErrorResponse
  description: Error response
  kind: object
  properties:
  - name: error
    description: The error object.
    types:
    - uid: ErrorDetail
- name: SAPVirtualInstance
  description: Define the Virtual Instance for SAP.
  kind: object
  properties:
  - name: identity
    description: Managed service identity (user assigned identities)
    types:
    - uid: UserAssignedServiceIdentity
  - name: properties.environment
    description: Defines the environment type - Production/Non Production.
    types:
    - uid: SAPEnvironmentType
  - name: properties.sapProduct
    description: Defines the SAP Product type.
    types:
    - uid: SAPProductType
  - name: properties.configuration
    description: Defines if an existing SAP system is being registered or a new SAP system is being created
    types:
    - uid: DiscoveryConfiguration
    - uid: DeploymentConfiguration
    - uid: DeploymentWithOSConfiguration
    typesTitle: SAPConfiguration
  - name: properties.managedResourceGroupConfiguration
    description: Managed resource group configuration
    types:
    - uid: ManagedRGConfiguration
  - name: properties.status
    isReadyOnly: true
    description: Defines the SAP Instance status.
    types:
    - uid: SAPVirtualInstanceStatus
  - name: properties.health
    isReadyOnly: true
    description: Defines the SAP Instance health.
    types:
    - uid: SAPHealthState
  - name: properties.state
    isReadyOnly: true
    description: Defines the Virtual Instance for SAP state.
    types:
    - uid: SAPVirtualInstanceState
  - name: properties.provisioningState
    isReadyOnly: true
    description: Defines the provisioning states.
    types:
    - uid: SapVirtualInstanceProvisioningState
  - name: properties.errors
    isReadyOnly: true
    description: Defines the Virtual Instance for SAP errors.
    types:
    - uid: SAPVirtualInstanceError
  - name: tags
    description: Resource tags.
    types:
    - uid: object
      isDictionary: true
      additionalTypes:
      - uid: string
      - uid: string
  - name: location
    description: The geo-location where the resource lives
    types:
    - uid: string
  - name: id
    isReadyOnly: true
    description: Fully qualified resource ID for the resource. Ex - /subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/{resourceProviderNamespace}/{resourceType}/{resourceName}
    types:
    - uid: string
  - name: name
    isReadyOnly: true
    description: The name of the resource
    types:
    - uid: string
  - name: type
    isReadyOnly: true
    description: The type of the resource. E.g. "Microsoft.Compute/virtualMachines" or "Microsoft.Storage/storageAccounts"
    types:
    - uid: string
  - name: systemData
    isReadyOnly: true
    description: Azure Resource Manager metadata containing createdBy and modifiedBy information.
    types:
    - uid: systemData
- name: ErrorDetail
  description: The error detail.
  kind: object
  properties:
  - name: code
    isReadyOnly: true
    description: The error code.
    types:
    - uid: string
  - name: message
    isReadyOnly: true
    description: The error message.
    types:
    - uid: string
  - name: target
    isReadyOnly: true
    description: The error target.
    types:
    - uid: string
  - name: details
    isReadyOnly: true
    description: The error details.
    types:
    - uid: ErrorDetail
      isArray: true
  - name: additionalInfo
    isReadyOnly: true
    description: The error additional info.
    types:
    - uid: ErrorAdditionalInfo
      isArray: true
- name: UserAssignedServiceIdentity
  description: Managed service identity (user assigned identities)
  kind: object
  properties:
  - name: type
    description: Type of manage identity
    types:
    - uid: ManagedServiceIdentityType
  - name: userAssignedIdentities
    description: "User-Assigned Identities  \nUser assigned identities dictionary"
    types:
    - uid: object
      isDictionary: true
      additionalTypes:
      - uid: string
      - uid: UserAssignedIdentity
- name: SAPEnvironmentType
  description: Defines the environment type - Production/Non Production.
  kind: enum
  properties:
  - name: NonProd
    types:
    - uid: string
  - name: Prod
    types:
    - uid: string
- name: SAPProductType
  description: Defines the SAP Product type.
  kind: enum
  properties:
  - name: ECC
    types:
    - uid: string
  - name: S4HANA
    types:
    - uid: string
  - name: Other
    types:
    - uid: string
- name: ManagedRGConfiguration
  description: Managed resource group configuration
  kind: object
  properties:
  - name: name
    description: Managed resource group name
    types:
    - uid: string
- name: SAPVirtualInstanceStatus
  description: Defines the SAP Instance status.
  kind: enum
  properties:
  - name: Starting
    types:
    - uid: string
  - name: Running
    types:
    - uid: string
  - name: Stopping
    types:
    - uid: string
  - name: Offline
    types:
    - uid: string
  - name: PartiallyRunning
    types:
    - uid: string
  - name: Unavailable
    types:
    - uid: string
- name: SAPHealthState
  description: Defines the SAP Instance health.
  kind: enum
  properties:
  - name: Unknown
    types:
    - uid: string
  - name: Healthy
    types:
    - uid: string
  - name: Unhealthy
    types:
    - uid: string
  - name: Degraded
    types:
    - uid: string
- name: SAPVirtualInstanceState
  description: Defines the Virtual Instance for SAP state.
  kind: enum
  properties:
  - name: InfrastructureDeploymentPending
    types:
    - uid: string
  - name: InfrastructureDeploymentInProgress
    types:
    - uid: string
  - name: InfrastructureDeploymentFailed
    types:
    - uid: string
  - name: SoftwareInstallationPending
    types:
    - uid: string
  - name: SoftwareInstallationInProgress
    types:
    - uid: string
  - name: SoftwareInstallationFailed
    types:
    - uid: string
  - name: DiscoveryPending
    types:
    - uid: string
  - name: DiscoveryInProgress
    types:
    - uid: string
  - name: DiscoveryFailed
    types:
    - uid: string
  - name: RegistrationComplete
    types:
    - uid: string
- name: SapVirtualInstanceProvisioningState
  description: Defines the provisioning states.
  kind: enum
  properties:
  - name: Succeeded
    types:
    - uid: string
  - name: Updating
    types:
    - uid: string
  - name: Creating
    types:
    - uid: string
  - name: Failed
    types:
    - uid: string
  - name: Deleting
    types:
    - uid: string
- name: SAPVirtualInstanceError
  description: An error response from the Virtual Instance for SAP Workload service.
  kind: object
  properties:
  - name: properties
    description: The Virtual Instance for SAP error body.
    types:
    - uid: ErrorDefinition
- name: systemData
  description: Metadata pertaining to creation and last modification of the resource.
  kind: object
  properties:
  - name: createdBy
    description: The identity that created the resource.
    types:
    - uid: string
  - name: createdByType
    description: The type of identity that created the resource.
    types:
    - uid: createdByType
  - name: createdAt
    description: The timestamp of resource creation (UTC).
    types:
    - uid: string
  - name: lastModifiedBy
    description: The identity that last modified the resource.
    types:
    - uid: string
  - name: lastModifiedByType
    description: The type of identity that last modified the resource.
    types:
    - uid: createdByType
  - name: lastModifiedAt
    description: The timestamp of resource last modification (UTC)
    types:
    - uid: string
- name: ErrorAdditionalInfo
  description: The resource management error additional info.
  kind: object
  properties:
  - name: type
    isReadyOnly: true
    description: The additional info type.
    types:
    - uid: string
  - name: info
    isReadyOnly: true
    description: The additional info.
    types:
    - uid: object
- name: ManagedServiceIdentityType
  description: Type of managed service identity (only None, UserAssigned types are allowed).
  kind: enum
  properties:
  - name: None
    types:
    - uid: string
  - name: UserAssigned
    types:
    - uid: string
- name: UserAssignedIdentity
  description: User assigned identity properties
  kind: object
  properties:
  - name: principalId
    isReadyOnly: true
    description: The principal ID of the assigned identity.
    types:
    - uid: string
  - name: clientId
    isReadyOnly: true
    description: The client ID of the assigned identity.
    types:
    - uid: string
- name: DiscoveryConfiguration
  description: Discovery Details.
  kind: object
  properties:
  - name: centralServerVmId
    description: The virtual machine ID of the Central Server.
    types:
    - uid: string
  - name: appLocation
    isReadyOnly: true
    description: The geo-location where the SAP system exists.
    types:
    - uid: string
  - name: configurationType
    description: The configuration Type.
    types:
    - uid: Discovery
    typesTitle: string
- name: DeploymentConfiguration
  description: Deployment Configuration.
  kind: object
  properties:
  - name: appLocation
    description: The geo-location where the SAP system is to be created.
    types:
    - uid: string
  - name: infrastructureConfiguration
    description: The infrastructure configuration.
    types:
    - uid: SingleServerConfiguration
    - uid: ThreeTierConfiguration
    typesTitle: InfrastructureConfiguration
  - name: softwareConfiguration
    description: The software configuration.
    types:
    - uid: ServiceInitiatedSoftwareConfiguration
    - uid: SAPInstallWithoutOSConfigSoftwareConfiguration
    typesTitle: SoftwareConfiguration
  - name: configurationType
    description: The configuration Type.
    types:
    - uid: Deployment
    typesTitle: string
- name: DeploymentWithOSConfiguration
  description: Deployment along with OS Configuration.
  kind: object
  properties:
  - name: appLocation
    description: The geo-location where the SAP system is to be created.
    types:
    - uid: string
  - name: infrastructureConfiguration
    description: The infrastructure configuration.
    types:
    - uid: SingleServerConfiguration
    - uid: ThreeTierConfiguration
    typesTitle: InfrastructureConfiguration
  - name: softwareConfiguration
    description: The software configuration.
    types:
    - uid: ServiceInitiatedSoftwareConfiguration
    - uid: SAPInstallWithoutOSConfigSoftwareConfiguration
    typesTitle: SoftwareConfiguration
  - name: osSapConfiguration
    description: The OS and SAP configuration.
    types:
    - uid: OsSapConfiguration
  - name: configurationType
    description: The configuration Type.
    types:
    - uid: DeploymentWithOSConfig
    typesTitle: string
- name: ErrorDefinition
  description: Error definition.
  kind: object
  properties:
  - name: code
    isReadyOnly: true
    description: Service specific error code which serves as the substatus for the HTTP error code.
    types:
    - uid: string
  - name: message
    isReadyOnly: true
    description: Description of the error.
    types:
    - uid: string
  - name: details
    isReadyOnly: true
    description: Internal error details.
    types:
    - uid: ErrorDefinition
      isArray: true
- name: createdByType
  description: The type of identity that created the resource.
  kind: enum
  properties:
  - name: User
    types:
    - uid: string
  - name: Application
    types:
    - uid: string
  - name: ManagedIdentity
    types:
    - uid: string
  - name: Key
    types:
    - uid: string
- name: OsSapConfiguration
  description: Defines the OS and SAP Configurations for Deployment
  kind: object
  properties:
  - name: deployerVmPackages
    description: The url and storage account ID where deployer VM packages are uploaded
    types:
    - uid: DeployerVmPackages
  - name: sapFqdn
    description: The FQDN to set for the SAP system
    types:
    - uid: string
- name: SingleServerConfiguration
  description: Gets or sets the single server configuration.
  kind: object
  properties:
  - name: networkConfiguration
    description: Network configuration for the server
    types:
    - uid: NetworkConfiguration
  - name: databaseType
    description: The database type.
    types:
    - uid: SAPDatabaseType
  - name: subnetId
    description: The subnet id.
    types:
    - uid: string
  - name: virtualMachineConfiguration
    description: Gets or sets the virtual machine configuration.
    types:
    - uid: VirtualMachineConfiguration
  - name: deploymentType
    description: The deployment Type.
    types:
    - uid: SingleServer
    typesTitle: string
  - name: appResourceGroup
    description: The application resource group where SAP system resources will be deployed.
    types:
    - uid: string
- name: ThreeTierConfiguration
  description: Gets or sets the three tier SAP configuration.
  kind: object
  properties:
  - name: networkConfiguration
    description: Network configuration common to all servers
    types:
    - uid: NetworkConfiguration
  - name: centralServer
    description: The central server configuration.
    types:
    - uid: CentralServerConfiguration
  - name: applicationServer
    description: The application server configuration.
    types:
    - uid: ApplicationServerConfiguration
  - name: databaseServer
    description: The database configuration.
    types:
    - uid: DatabaseConfiguration
  - name: highAvailabilityConfig
    description: The high availability configuration.
    types:
    - uid: HighAvailabilityConfiguration
  - name: deploymentType
    description: The deployment Type.
    types:
    - uid: ThreeTier
    typesTitle: string
  - name: appResourceGroup
    description: The application resource group where SAP system resources will be deployed.
    types:
    - uid: string
- name: ServiceInitiatedSoftwareConfiguration
  description: The SAP Software configuration Input when the software is to be installed by service.
  kind: object
  properties:
  - name: bomUrl
    description: The URL to the SAP Build of Materials(BOM) file.
    types:
    - uid: string
  - name: softwareVersion
    description: The software version to install.
    types:
    - uid: string
  - name: sapBitsStorageAccountId
    description: The SAP bits storage account id.
    types:
    - uid: string
  - name: sapFqdn
    description: The FQDN to set for the SAP system during install.
    types:
    - uid: string
  - name: sshPrivateKey
    description: The SSH private key.
    types:
    - uid: string
  - name: highAvailabilitySoftwareConfiguration
    description: Gets or sets the HA software configuration.
    types:
    - uid: HighAvailabilitySoftwareConfiguration
  - name: softwareInstallationType
    description: The SAP software installation Type.
    types:
    - uid: ServiceInitiated
    typesTitle: string
- name: SAPInstallWithoutOSConfigSoftwareConfiguration
  description: The SAP Software configuration Input when the software is to be installed by service without OS Configurations
  kind: object
  properties:
  - name: bomUrl
    description: The URL to the SAP Build of Materials(BOM) file.
    types:
    - uid: string
  - name: sapBitsStorageAccountId
    description: The SAP bits storage account id.
    types:
    - uid: string
  - name: softwareVersion
    description: The software version to install.
    types:
    - uid: string
  - name: highAvailabilitySoftwareConfiguration
    description: Gets or sets the HA software configuration.
    types:
    - uid: HighAvailabilitySoftwareConfiguration
  - name: softwareInstallationType
    description: The SAP software installation Type.
    types:
    - uid: SAPInstallWithoutOSConfig
    typesTitle: string
- name: DeployerVmPackages
  description: Defines the url and storage account ID where deployer VM packages are uploaded
  kind: object
  properties:
  - name: url
    description: The URL to the deployer VM packages file.
    types:
    - uid: string
  - name: storageAccountId
    description: The deployer VM packages storage account id
    types:
    - uid: string
- name: NetworkConfiguration
  description: Defines the network configuration for SAP infrastructure
  kind: object
  properties:
  - name: isSecondaryIpEnabled
    description: Specifies whether a secondary IP address should be added to the network interface on all VMs
    types:
    - uid: boolean
    defaultValue: false
- name: SAPDatabaseType
  description: Defines the supported SAP Database types.
  kind: enum
  properties:
  - name: HANA
    types:
    - uid: string
  - name: DB2
    types:
    - uid: string
- name: VirtualMachineConfiguration
  description: Defines the virtual machine configuration.
  kind: object
  properties:
  - name: vmSize
    description: The virtual machine size.
    types:
    - uid: string
  - name: imageReference
    description: The image reference.
    types:
    - uid: ImageReference
  - name: osProfile
    description: The OS profile.
    types:
    - uid: OSProfile
- name: SAPDeploymentType
  description: 'The deployment type. Eg: SingleServer/ThreeTier'
  kind: enum
  properties:
  - name: SingleServer
    types:
    - uid: string
  - name: ThreeTier
    types:
    - uid: string
- name: CentralServerConfiguration
  description: Gets or sets the central server configuration.
  kind: object
  properties:
  - name: subnetId
    description: The subnet id.
    types:
    - uid: string
  - name: virtualMachineConfiguration
    description: Gets or sets the virtual machine configuration.
    types:
    - uid: VirtualMachineConfiguration
  - name: instanceCount
    description: The number of central server VMs.
    types:
    - uid: integer
- name: ApplicationServerConfiguration
  description: Gets or sets the application server configuration.
  kind: object
  properties:
  - name: subnetId
    description: The subnet id.
    types:
    - uid: string
  - name: virtualMachineConfiguration
    description: Gets or sets the virtual machine configuration.
    types:
    - uid: VirtualMachineConfiguration
  - name: instanceCount
    description: The number of app server instances.
    types:
    - uid: integer
- name: DatabaseConfiguration
  description: Gets or sets the database configuration.
  kind: object
  properties:
  - name: databaseType
    description: The database type.
    types:
    - uid: SAPDatabaseType
  - name: subnetId
    description: The subnet id.
    types:
    - uid: string
  - name: virtualMachineConfiguration
    description: Gets or sets the virtual machine configuration.
    types:
    - uid: VirtualMachineConfiguration
  - name: instanceCount
    description: The number of database VMs.
    types:
    - uid: integer
- name: HighAvailabilityConfiguration
  description: Gets or sets the high availability configuration.
  kind: object
  properties:
  - name: highAvailabilityType
    description: The high availability type.
    types:
    - uid: SAPHighAvailabilityType
- name: HighAvailabilitySoftwareConfiguration
  description: Gets or sets the HA software configuration.
  kind: object
  properties:
  - name: fencingClientId
    description: The fencing client id.
    types:
    - uid: string
  - name: fencingClientPassword
    description: The fencing client id secret/password. The secret should never expire. This will be used pacemaker to start/stop the cluster VMs.
    types:
    - uid: string
- name: SAPSoftwareInstallationType
  description: The SAP software installation Type.
  kind: enum
  properties:
  - name: ServiceInitiated
    types:
    - uid: string
  - name: SAPInstallWithoutOSConfig
    types:
    - uid: string
- name: ImageReference
  description: 'Specifies information about the image to use. You can specify information about platform images, marketplace images, or virtual machine images. This element is required when you want to use a platform image, marketplace image, or virtual machine image, but is not used in other creation operations. NOTE: Image reference publisher and offer can only be set when you create the scale set.'
  kind: object
  properties:
  - name: publisher
    description: The image publisher.
    types:
    - uid: string
  - name: offer
    description: Specifies the offer of the platform image or marketplace image used to create the virtual machine.
    types:
    - uid: string
  - name: sku
    description: The image SKU.
    types:
    - uid: string
  - name: version
    description: Specifies the version of the platform image or marketplace image used to create the virtual machine. The allowed formats are Major.Minor.Build or 'latest'. Major, Minor, and Build are decimal numbers. Specify 'latest' to use the latest version of an image available at deploy time. Even if you use 'latest', the VM image will not automatically update after deploy time even if a new version becomes available.
    types:
    - uid: string
  - name: exactVersion
    isReadyOnly: true
    description: Specifies in decimal numbers, the version of platform image or marketplace image used to create the virtual machine. This readonly field differs from 'version', only if the value specified in 'version' field is 'latest'.
    types:
    - uid: string
  - name: sharedGalleryImageId
    description: Specified the shared gallery image unique id for vm deployment. This can be fetched from shared gallery image GET call.
    types:
    - uid: string
- name: OSProfile
  description: Specifies the operating system settings for the virtual machine. Some of the settings cannot be changed once VM is provisioned.
  kind: object
  properties:
  - name: adminUsername
    description: Specifies the name of the administrator account. <br><br> This property cannot be updated after the VM is created. <br><br> **Windows-only restriction:** Cannot end in "." <br><br> **Disallowed values:** "administrator", "admin", "user", "user1", "test", "user2", "test1", "user3", "admin1", "1", "123", "a", "actuser", "adm", "admin2", "aspnet", "backup", "console", "david", "guest", "john", "owner", "root", "server", "sql", "support", "support_388945a0", "sys", "test2", "test3", "user4", "user5". <br><br> **Minimum-length (Linux):** 1  character <br><br> **Max-length (Linux):** 64 characters <br><br> **Max-length (Windows):** 20 characters.
    types:
    - uid: string
  - name: adminPassword
    description: Specifies the password of the administrator account. <br><br> **Minimum-length (Windows):** 8 characters <br><br> **Minimum-length (Linux):** 6 characters <br><br> **Max-length (Windows):** 123 characters <br><br> **Max-length (Linux):** 72 characters <br><br> **Complexity requirements:** 3 out of 4 conditions below need to be fulfilled <br> Has lower characters <br>Has upper characters <br> Has a digit <br> Has a special character (Regex match [\W_]) <br><br> **Disallowed values:** "abc@123", "P@$$w0rd", "P@ssw0rd", "P@ssword123", "Pa$$word", "pass@word1", "Password!", "Password1", "Password22", "iloveyou!" <br><br> For resetting the password, see [How to reset the Remote Desktop service or its login password in a Windows VM](https://docs.microsoft.com/troubleshoot/azure/virtual-machines/reset-rdp) <br><br> For resetting root password, see [Manage users, SSH, and check or repair disks on Azure Linux VMs using the VMAccess Extension](https://docs.microsoft.com/troubleshoot/azure/virtual-machines/troubleshoot-ssh-connection)
    types:
    - uid: string
  - name: osConfiguration
    description: Specifies Windows operating system settings on the virtual machine.
    types:
    - uid: WindowsConfiguration
    - uid: LinuxConfiguration
    typesTitle: OSConfiguration
- name: SAPHighAvailabilityType
  description: The high availability type.
  kind: enum
  properties:
  - name: AvailabilitySet
    types:
    - uid: string
  - name: AvailabilityZone
    types:
    - uid: string
- name: WindowsConfiguration
  description: Specifies Windows operating system settings on the virtual machine.
  kind: object
  properties:
  - name: osType
    description: The OS Type
    types:
    - uid: Windows
    typesTitle: string
- name: LinuxConfiguration
  description: Specifies the Linux operating system settings on the virtual machine. <br><br>For a list of supported Linux distributions, see [Linux on Azure-Endorsed Distributions](https://docs.microsoft.com/azure/virtual-machines/linux/endorsed-distros).
  kind: object
  properties:
  - name: disablePasswordAuthentication
    description: Specifies whether password authentication should be disabled.
    types:
    - uid: boolean
  - name: ssh
    description: Specifies the ssh key configuration for a Linux OS. (This property is deprecated, please use 'sshKeyPair' instead)
    types:
    - uid: SshConfiguration
  - name: sshKeyPair
    description: The SSH Key-pair used to authenticate with the VM's.
    types:
    - uid: SshKeyPair
  - name: osType
    description: The OS Type
    types:
    - uid: Linux
    typesTitle: string
- name: SshConfiguration
  description: SSH configuration for Linux based VMs running on Azure
  kind: object
  properties:
  - name: publicKeys
    description: The list of SSH public keys used to authenticate with linux based VMs.
    types:
    - uid: SshPublicKey
      isArray: true
- name: SshKeyPair
  description: The SSH Key-pair used to authenticate with the VM. The key needs to be at least 2048-bit and in ssh-rsa format. <br><br> For creating ssh keys, see [Create SSH keys on Linux and Mac for Linux VMs in Azure](https://docs.microsoft.com/azure/virtual-machines/linux/create-ssh-keys-detailed).
  kind: object
  properties:
  - name: publicKey
    description: SSH public key
    types:
    - uid: string
  - name: privateKey
    description: SSH private key.
    types:
    - uid: string
- name: SshPublicKey
  description: Contains information about SSH certificate public key and the path on the Linux VM where the public key is placed.
  kind: object
  properties:
  - name: keyData
    description: SSH public key certificate used to authenticate with the VM through ssh. The key needs to be at least 2048-bit and in ssh-rsa format. <br><br> For creating ssh keys, see [Create SSH keys on Linux and Mac for Linux VMs in Azure](https://docs.microsoft.com/azure/virtual-machines/linux/create-ssh-keys-detailed).
    types:
    - uid: string
examples:
- name: SAPVirtualInstances_ListByResourceGroup
  request:
    uri: GET https://management.azure.com/subscriptions/6d875e77-e412-4d7d-9af4-8895278b4443/resourceGroups/test-rg/providers/Microsoft.Workloads/sapVirtualInstances?api-version=2021-12-01-preview
    codeTab: |+
      # [HTTP](#tab/HTTP)
      ``` http
      GET https://management.azure.com/subscriptions/6d875e77-e412-4d7d-9af4-8895278b4443/resourceGroups/test-rg/providers/Microsoft.Workloads/sapVirtualInstances?api-version=2021-12-01-preview
      ```

      # [Java](#tab/Java)
      ``` java
      import com.azure.core.util.Context;

      /** Samples for SapVirtualInstances ListByResourceGroup. */
      public final class Main {
          /*
           * x-ms-original-file: specification/workloads/resource-manager/Microsoft.Workloads/preview/2021-12-01-preview/examples/sapvirtualinstances/SAPVirtualInstances_ListByResourceGroup.json
           */
          /**
           * Sample code: SAPVirtualInstances_ListByResourceGroup.
           *
           * @param manager Entry point to WorkloadsManager.
           */
          public static void sAPVirtualInstancesListByResourceGroup(
              com.azure.resourcemanager.workloads.WorkloadsManager manager) {
              manager.sapVirtualInstances().listByResourceGroup("test-rg", Context.NONE);
          }
      }

      ```
      Read this [SDK documentation](https://github.com/Azure/azure-sdk-for-java/blob/azure-resourcemanager-workloads_1.0.0-beta.1/sdk/workloads/azure-resourcemanager-workloads/README.md) on how to add the SDK to your project and authenticate.
      # [Go](#tab/Go)
      ``` go
      package armworkloads_test

      import (
      	"context"
      	"log"

      	"github.com/Azure/azure-sdk-for-go/sdk/azidentity"
      	"github.com/Azure/azure-sdk-for-go/sdk/resourcemanager/workloads/armworkloads"
      )

      // Generated from example definition: https://github.com/Azure/azure-rest-api-specs/tree/main/specification/workloads/resource-manager/Microsoft.Workloads/preview/2021-12-01-preview/examples/sapvirtualinstances/SAPVirtualInstances_ListByResourceGroup.json
      func ExampleSAPVirtualInstancesClient_NewListByResourceGroupPager() {
      	cred, err := azidentity.NewDefaultAzureCredential(nil)
      	if err != nil {
      		log.Fatalf("failed to obtain a credential: %v", err)
      	}
      	ctx := context.Background()
      	client, err := armworkloads.NewSAPVirtualInstancesClient("6d875e77-e412-4d7d-9af4-8895278b4443", cred, nil)
      	if err != nil {
      		log.Fatalf("failed to create client: %v", err)
      	}
      	pager := client.NewListByResourceGroupPager("test-rg",
      		nil)
      	for pager.More() {
      		nextResult, err := pager.NextPage(ctx)
      		if err != nil {
      			log.Fatalf("failed to advance page: %v", err)
      		}
      		for _, v := range nextResult.Value {
      			// TODO: use page item
      			_ = v
      		}
      	}
      }

      ```
      Read this [SDK documentation](https://github.com/Azure/azure-sdk-for-go/blob/sdk%2Fresourcemanager%2Fworkloads%2Farmworkloads%2Fv0.2.0/sdk/resourcemanager/workloads/armworkloads/README.md) on how to add the SDK to your project and authenticate.
      # [JavaScript](#tab/JavaScript)
      ``` js
      const { WorkloadsClient } = require("@azure/arm-workloads");
      const { DefaultAzureCredential } = require("@azure/identity");

      /**
       * This sample demonstrates how to Gets all Virtual Instances for SAP in a resource group.
       *
       * @summary Gets all Virtual Instances for SAP in a resource group.
       * x-ms-original-file: specification/workloads/resource-manager/Microsoft.Workloads/preview/2021-12-01-preview/examples/sapvirtualinstances/SAPVirtualInstances_ListByResourceGroup.json
       */
      async function sapVirtualInstancesListByResourceGroup() {
        const subscriptionId = "6d875e77-e412-4d7d-9af4-8895278b4443";
        const resourceGroupName = "test-rg";
        const credential = new DefaultAzureCredential();
        const client = new WorkloadsClient(credential, subscriptionId);
        const resArray = new Array();
        for await (let item of client.sAPVirtualInstances.listByResourceGroup(resourceGroupName)) {
          resArray.push(item);
        }
        console.log(resArray);
      }

      sapVirtualInstancesListByResourceGroup().catch(console.error);

      ```
      Read this [SDK documentation](https://github.com/Azure/azure-sdk-for-js/blob/%40azure%2Farm-workloads_1.0.0-beta.2/sdk/workloads/arm-workloads/README.md) on how to add the SDK to your project and authenticate.
  responses:
  - statusCode: "200"
    body: >-
      {
        "value": [
          {
            "id": "/subscriptions/6d875e77-e412-4d7d-9af4-8895278b4443/resourceGroups/test-rg/providers/Microsoft.Workloads/sapVirtualInstances/X00",
            "name": "X00",
            "type": "Microsoft.Workloads/sapVirtualInstances",
            "tags": {},
            "location": "westcentralus",
            "systemData": {
              "createdBy": "user@xyz.com",
              "createdByType": "User",
              "createdAt": "2021-08-19T15:10:46.196Z",
              "lastModifiedBy": "user@xyz.com",
              "lastModifiedByType": "User",
              "lastModifiedAt": "2021-08-19T15:10:46.196Z"
            },
            "properties": {
              "environment": "Prod",
              "sapProduct": "S4HANA",
              "configuration": {
                "configurationType": "Deployment",
                "appLocation": "eastus",
                "infrastructureConfiguration": {
                  "deploymentType": "ThreeTier",
                  "appResourceGroup": "X00-RG",
                  "centralServer": {
                    "subnetId": "/subscriptions/6d875e77-e412-4d7d-9af4-8895278b4443/resourceGroups/test-rg/providers/Microsoft.Networks/virtualNetworks/vnet1/subnets/subnetId1",
                    "virtualMachineConfiguration": {
                      "vmSize": "Standard_D8s_v3",
                      "imageReference": {
                        "sku": "7.4",
                        "publisher": "RedHat",
                        "version": "7.4.2019062505",
                        "offer": "RHEL-SAP"
                      },
                      "osProfile": {
                        "adminUsername": "{your-username}",
                        "osConfiguration": {
                          "osType": "Linux",
                          "disablePasswordAuthentication": true,
                          "ssh": {
                            "publicKeys": [
                              {
                                "keyData": "ssh-rsa public key"
                              }
                            ]
                          }
                        }
                      }
                    },
                    "instanceCount": 1
                  },
                  "applicationServer": {
                    "subnetId": "/subscriptions/6d875e77-e412-4d7d-9af4-8895278b4443/resourceGroups/test-rg/providers/Microsoft.Networks/virtualNetworks/vnet1/subnets/subnetId3",
                    "virtualMachineConfiguration": {
                      "vmSize": "Standard_D8s_v3",
                      "imageReference": {
                        "sku": "7.4",
                        "publisher": "RedHat",
                        "version": "7.4.2019062505",
                        "offer": "RHEL-SAP"
                      },
                      "osProfile": {
                        "adminUsername": "{your-username}",
                        "osConfiguration": {
                          "osType": "Linux",
                          "disablePasswordAuthentication": true,
                          "ssh": {
                            "publicKeys": [
                              {
                                "keyData": "ssh-rsa public key"
                              }
                            ]
                          }
                        }
                      }
                    },
                    "instanceCount": 10
                  },
                  "databaseServer": {
                    "databaseType": "HANA",
                    "subnetId": "/subscriptions/6d875e77-e412-4d7d-9af4-8895278b4443/resourceGroups/test-rg/providers/Microsoft.Networks/virtualNetworks/vnet1/subnets/subnetId2",
                    "virtualMachineConfiguration": {
                      "vmSize": "Standard_D8s_v3",
                      "imageReference": {
                        "sku": "7.4",
                        "publisher": "RedHat",
                        "version": "7.4.2019062505",
                        "offer": "RHEL-SAP"
                      },
                      "osProfile": {
                        "adminUsername": "{your-username}",
                        "osConfiguration": {
                          "osType": "Linux",
                          "disablePasswordAuthentication": true,
                          "ssh": {
                            "publicKeys": [
                              {
                                "keyData": "ssh-rsa public key"
                              }
                            ]
                          }
                        }
                      }
                    },
                    "instanceCount": 1
                  }
                },
                "softwareConfiguration": {
                  "softwareInstallationType": "ServiceInitiated",
                  "sapFqdn": "sapsystem.contoso.net",
                  "sapBitsStorageAccountId": "/subscriptions/49d64d54-e966-4c46-a868-1999802b762c/resourceGroups/ajgupt-test/providers/Microsoft.Storage/storageAccounts/ajguptsavnet",
                  "bomUrl": "https://myaccount.blob.core.windows.net/mycontainer/myblob",
                  "softwareVersion": "SAP S/4HANA 2020 FPS01"
                }
              },
              "managedResourceGroupConfiguration": {
                "name": "mrg-x00-6d875e77-e412-4d7d-9af4-8895278b4443"
              },
              "status": "Running",
              "health": "Healthy",
              "state": "RegistrationComplete",
              "provisioningState": "Succeeded"
            }
          },
          {
            "id": "/subscriptions/6d875e77-e412-4d7d-9af4-8895278b4443/resourceGroups/test-rg/providers/Microsoft.Workloads/sapVirtualInstances/X01",
            "name": "X01",
            "type": "Microsoft.Workloads/sapVirtualInstances",
            "tags": {},
            "location": "westcentralus",
            "systemData": {
              "createdBy": "user@xyz.com",
              "createdByType": "User",
              "createdAt": "2021-08-19T15:10:46.196Z",
              "lastModifiedBy": "user@xyz.com",
              "lastModifiedByType": "User",
              "lastModifiedAt": "2021-08-19T15:10:46.196Z"
            },
            "properties": {
              "environment": "Prod",
              "sapProduct": "S4HANA",
              "configuration": {
                "configurationType": "Deployment",
                "appLocation": "eastus",
                "infrastructureConfiguration": {
                  "deploymentType": "ThreeTier",
                  "appResourceGroup": "X00-RG",
                  "centralServer": {
                    "subnetId": "/subscriptions/6d875e77-e412-4d7d-9af4-8895278b4443/resourceGroups/test-rg/providers/Microsoft.Networks/virtualNetworks/vnet1/subnets/subnetId1",
                    "virtualMachineConfiguration": {
                      "vmSize": "Standard_D8s_v3",
                      "imageReference": {
                        "sku": "7.4",
                        "publisher": "RedHat",
                        "version": "7.4.2019062505",
                        "offer": "RHEL-SAP"
                      },
                      "osProfile": {
                        "adminUsername": "{your-username}",
                        "osConfiguration": {
                          "osType": "Linux",
                          "disablePasswordAuthentication": true,
                          "ssh": {
                            "publicKeys": [
                              {
                                "keyData": "ssh-rsa public key"
                              }
                            ]
                          }
                        }
                      }
                    },
                    "instanceCount": 1
                  },
                  "applicationServer": {
                    "subnetId": "/subscriptions/6d875e77-e412-4d7d-9af4-8895278b4443/resourceGroups/test-rg/providers/Microsoft.Networks/virtualNetworks/vnet1/subnets/subnetId3",
                    "virtualMachineConfiguration": {
                      "vmSize": "Standard_D8s_v3",
                      "imageReference": {
                        "sku": "7.4",
                        "publisher": "RedHat",
                        "version": "7.4.2019062505",
                        "offer": "RHEL-SAP"
                      },
                      "osProfile": {
                        "adminUsername": "{your-username}",
                        "osConfiguration": {
                          "osType": "Linux",
                          "disablePasswordAuthentication": true,
                          "ssh": {
                            "publicKeys": [
                              {
                                "keyData": "ssh-rsa public key"
                              }
                            ]
                          }
                        }
                      }
                    },
                    "instanceCount": 10
                  },
                  "databaseServer": {
                    "databaseType": "HANA",
                    "subnetId": "/subscriptions/6d875e77-e412-4d7d-9af4-8895278b4443/resourceGroups/test-rg/providers/Microsoft.Networks/virtualNetworks/vnet1/subnets/subnetId2",
                    "virtualMachineConfiguration": {
                      "vmSize": "Standard_D8s_v3",
                      "imageReference": {
                        "sku": "7.4",
                        "publisher": "RedHat",
                        "version": "7.4.2019062505",
                        "offer": "RHEL-SAP"
                      },
                      "osProfile": {
                        "adminUsername": "{your-username}",
                        "osConfiguration": {
                          "osType": "Linux",
                          "disablePasswordAuthentication": true,
                          "ssh": {
                            "publicKeys": [
                              {
                                "keyData": "ssh-rsa public key"
                              }
                            ]
                          }
                        }
                      }
                    },
                    "instanceCount": 1
                  }
                },
                "softwareConfiguration": {
                  "softwareInstallationType": "ServiceInitiated",
                  "sapFqdn": "sapsystem.contoso.net",
                  "sapBitsStorageAccountId": "/subscriptions/49d64d54-e966-4c46-a868-1999802b762c/resourceGroups/ajgupt-test/providers/Microsoft.Storage/storageAccounts/ajguptsavnet",
                  "bomUrl": "https://myaccount.blob.core.windows.net/mycontainer/myblob",
                  "softwareVersion": "SAP S/4HANA 2020 FPS01"
                }
              },
              "status": "Running",
              "health": "Healthy",
              "state": "RegistrationComplete",
              "provisioningState": "Succeeded"
            }
          }
        ]
      }
security:
- name: azure_auth
  type: oauth2
  description: Azure Active Directory OAuth2 Flow
  flow: implicit
  authorizationUrl: https://login.microsoftonline.com/common/oauth2/authorize
  scopes:
  - name: user_impersonation
    description: impersonate your user account
metadata:
  description: Learn more about Workloads service - Gets all Virtual Instances for SAP in a resource group.
errorCodes: []
