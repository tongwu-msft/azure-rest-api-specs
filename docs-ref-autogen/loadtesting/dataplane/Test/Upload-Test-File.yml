### YamlMime:RESTOperation
uid: <dataplaneurl>.loadtesting.dataplane.test.uploadtestfile
name: Upload Test File
service: Azure Load Testing
groupName: Test
apiVersion: 2022-06-01-preview
summary: Upload input file for a given test name. File size can't be more than 50 MB. Existing file with same name for the given test will be overwritten.
consumes:
- multipart/form-data
produces:
- application/json
paths:
- content: PUT https://<dataPlaneURL>/loadtests/{testId}/files/{fileId}?api-version=2022-06-01-preview
- content: PUT https://<dataPlaneURL>/loadtests/{testId}/files/{fileId}?fileType={fileType}&api-version=2022-06-01-preview
  isOptional: true
uriParameters:
- name: testId
  in: path
  isRequired: true
  description: Unique name for load test, must be a valid URL character ^[a-z0-9_-]*$.
  types:
  - uid: string
  pattern: ^[a-z0-9_-]*$
- name: fileId
  in: path
  isRequired: true
  description: Unique identifier for test file, must be a valid URL character ^[a-z0-9_-]*$.
  types:
  - uid: string
  pattern: ^[a-z0-9_-]*$
- name: fileType
  in: query
  description: Integer representation of the file type (0 = JMX_FILE, 1 = USER_PROPERTIES, 2 = ADDITIONAL_ARTIFACTS).
  types:
  - uid: integer
  format: int32
- name: api-version
  in: query
  isRequired: true
  description: API version
  types:
  - uid: string
responses:
- name: 201 Created
  description: The test artifact is uploaded.
  types:
  - uid: FileUrl
- name: Other Status Codes
  headers:
  - name: x-ms-error-code
    value: string
  description: Load Testing service error response.
  types:
  - uid: ErrorResponseBody
requestHeader: []
definitions:
- name: FileUrl
  description: FileUrl Model.
  kind: object
  properties:
  - name: url
    description: File URL.
    types:
    - uid: string
  - name: fileId
    description: File unique identifier.
    types:
    - uid: string
  - name: filename
    description: Name of the file.
    types:
    - uid: string
  - name: fileType
    description: Integer representation of the file type (0 = JMX_FILE, 1 = USER_PROPERTIES, 2 = ADDITIONAL_ARTIFACTS)
    types:
    - uid: FileType
  - name: expireTime
    description: Expiry time of the file
    types:
    - uid: string
  - name: validationStatus
    description: Validation status of the file
    types:
    - uid: string
- name: ErrorResponseBody
  description: The definition of an error object.
  kind: object
  properties:
  - name: error
    description: Error from a REST request.
    types:
    - uid: Error
- name: FileType
  description: Integer representation of the file type (0 = JMX_FILE, 1 = USER_PROPERTIES, 2 = ADDITIONAL_ARTIFACTS)
  kind: enum
  properties:
  - name: "0"
    types:
    - uid: Integer
  - name: "1"
    types:
    - uid: Integer
  - name: "2"
    types:
    - uid: Integer
- name: Error
  description: Error from a REST request.
  kind: object
  properties:
  - name: code
    description: The error code.
    types:
    - uid: string
  - name: message
    description: The error message.
    types:
    - uid: string
  - name: target
    description: The error target.
    types:
    - uid: string
  - name: details
    description: Additional details and inner errors.
    types:
    - uid: Error
      isArray: true
examples:
- name: UploadTestFile
  request:
    uri: PUT https://<dataPlaneURL>/loadtests/12345678-1234-1234-1234-123456789012/files/92345678-1234-1111-1234-123456789012?fileType=2&api-version=2022-06-01-preview
  responses:
  - statusCode: "201"
    body: >-
      {
        "url": "https://dummyurl.com/testscriptresource",
        "fileId": "92345678-1234-1111-1234-123456789012",
        "filename": "sample.jmx",
        "fileType": 0,
        "expireTime": "2021-12-05T16:43:46.072Z",
        "validationStatus": "VALIDATION_SUCCESS"
      }
security: []
metadata:
  description: Upload input file for a given test name. File size can't be more than 50 MB. Existing file with same name for the given test will be overwritten.
errorCodes: []
