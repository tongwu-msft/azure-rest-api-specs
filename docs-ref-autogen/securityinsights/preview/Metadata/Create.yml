### YamlMime:RESTOperation
uid: management.azure.com.securityinsights.preview.metadata.create
name: Create
service: Sentinel
groupName: Metadata
apiVersion: 2022-07-01-preview
summary: Create a Metadata.
consumes:
- application/json
produces:
- application/json
paths:
- content: PUT https://management.azure.com/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.OperationalInsights/workspaces/{workspaceName}/providers/Microsoft.SecurityInsights/metadata/{metadataName}?api-version=2022-07-01-preview
uriParameters:
- name: subscriptionId
  in: path
  isRequired: true
  description: The ID of the target subscription.
  types:
  - uid: string
- name: resourceGroupName
  in: path
  isRequired: true
  description: The name of the resource group. The name is case insensitive.
  types:
  - uid: string
- name: workspaceName
  in: path
  isRequired: true
  description: The name of the workspace.
  types:
  - uid: string
- name: metadataName
  in: path
  isRequired: true
  description: The Metadata name.
  types:
  - uid: string
- name: api-version
  in: query
  isRequired: true
  description: The API version to use for this operation.
  types:
  - uid: string
responses:
- name: 200 OK
  description: OK, Operation successfully completed
  types:
  - uid: MetadataModel
- name: 201 Created
  description: Created
  types:
  - uid: MetadataModel
- name: Other Status Codes
  description: Error response describing why the operation failed.
  types:
  - uid: CloudError
requestBody:
- name: default
  parameters:
  - name: properties.contentId
    in: body
    description: Static ID for the content.  Used to identify dependencies and content from solutions or community.  Hard-coded/static for out of the box content and solutions. Dynamic for user-created.  This is the resource name
    types:
    - uid: string
  - name: properties.parentId
    in: body
    isRequired: true
    description: Full parent resource ID of the content item the metadata is for.  This is the full resource ID including the scope (subscription and resource group)
    types:
    - uid: string
  - name: properties.version
    in: body
    description: Version of the content.  Default and recommended format is numeric (e.g. 1, 1.0, 1.0.0, 1.0.0.0), following ARM template best practices.  Can also be any string, but then we cannot guarantee any version checks
    types:
    - uid: string
  - name: properties.kind
    in: body
    isRequired: true
    description: The kind of content the metadata is for.
    types:
    - uid: kind
  - name: properties.source
    in: body
    description: Source of the content.  This is where/how it was created.
    types:
    - uid: metadataSource
  - name: properties.author
    in: body
    description: The creator of the content item.
    types:
    - uid: metadataAuthor
  - name: properties.support
    in: body
    description: Support information for the metadata - type, name, contact information
    types:
    - uid: metadataSupport
  - name: properties.dependencies
    in: body
    description: Dependencies for the content item, what other content items it requires to work.  Can describe more complex dependencies using a recursive/nested structure. For a single dependency an id/kind/version can be supplied or operator/criteria for complex formats.
    types:
    - uid: metadataDependencies
  - name: properties.categories
    in: body
    description: Categories for the solution content item
    types:
    - uid: metadataCategories
  - name: properties.providers
    in: body
    description: Providers for the solution content item
    types:
    - uid: string
      isArray: true
  - name: properties.firstPublishDate
    in: body
    description: first publish date solution content item
    types:
    - uid: string
  - name: properties.lastPublishDate
    in: body
    description: last publish date for the solution content item
    types:
    - uid: string
  - name: properties.customVersion
    in: body
    description: The custom version of the content. A optional free text
    types:
    - uid: string
  - name: properties.contentSchemaVersion
    in: body
    description: Schema version of the content. Can be used to distinguish between different flow based on the schema version
    types:
    - uid: string
  - name: properties.icon
    in: body
    description: the icon identifier. this id can later be fetched from the solution template
    types:
    - uid: string
  - name: properties.threatAnalysisTactics
    in: body
    description: the tactics the resource covers
    types:
    - uid: string
      isArray: true
  - name: properties.threatAnalysisTechniques
    in: body
    description: the techniques the resource covers, these have to be aligned with the tactics being used
    types:
    - uid: string
      isArray: true
  - name: properties.previewImages
    in: body
    description: preview image file names. These will be taken from the solution artifacts
    types:
    - uid: string
      isArray: true
  - name: properties.previewImagesDark
    in: body
    description: preview image file names. These will be taken from the solution artifacts. used for dark theme support
    types:
    - uid: string
      isArray: true
  - name: etag
    in: body
    description: Etag of the azure resource
    types:
    - uid: string
requestHeader: []
definitions:
- name: metadataSource
  description: The original source of the content item, where it comes from.
  kind: object
  properties:
  - name: kind
    description: Source type of the content
    types:
    - uid: sourceKind
  - name: name
    description: Name of the content source.  The repo name, solution name, LA workspace name etc.
    types:
    - uid: string
  - name: sourceId
    description: ID of the content source.  The solution ID, workspace ID, etc
    types:
    - uid: string
- name: metadataAuthor
  description: Publisher or creator of the content item.
  kind: object
  properties:
  - name: name
    description: Name of the author. Company or person.
    types:
    - uid: string
  - name: email
    description: Email of author contact
    types:
    - uid: string
  - name: link
    description: Link for author/vendor page
    types:
    - uid: string
- name: metadataSupport
  description: Support information for the content item.
  kind: object
  properties:
  - name: tier
    description: Type of support for content item
    types:
    - uid: supportTier
  - name: name
    description: Name of the support contact. Company or person.
    types:
    - uid: string
  - name: email
    description: Email of support contact
    types:
    - uid: string
  - name: link
    description: Link for support help, like to support page to open a ticket etc.
    types:
    - uid: string
- name: metadataDependencies
  description: Dependencies for the content item, what other content items it requires to work.  Can describe more complex dependencies using a recursive/nested structure. For a single dependency an id/kind/version can be supplied or operator/criteria for complex dependencies.
  kind: object
  properties:
  - name: contentId
    description: Id of the content item we depend on
    types:
    - uid: string
  - name: kind
    description: Type of the content item we depend on
    types:
    - uid: kind
  - name: version
    description: Version of the the content item we depend on.  Can be blank, * or missing to indicate any version fulfills the dependency.  If version does not match our defined numeric format then an exact match is required.
    types:
    - uid: string
  - name: name
    description: Name of the content item
    types:
    - uid: string
  - name: operator
    description: Operator used for list of dependencies in criteria array.
    types:
    - uid: operator
  - name: criteria
    description: This is the list of dependencies we must fulfill, according to the AND/OR operator
    types:
    - uid: metadataDependencies
      isArray: true
- name: metadataCategories
  description: ies for the solution content item
  kind: object
  properties:
  - name: domains
    description: domain for the solution content item
    types:
    - uid: string
      isArray: true
  - name: verticals
    description: Industry verticals for the solution content item
    types:
    - uid: string
      isArray: true
- name: systemData
  description: Metadata pertaining to creation and last modification of the resource.
  kind: object
  properties:
  - name: createdBy
    description: The identity that created the resource.
    types:
    - uid: string
  - name: createdByType
    description: The type of identity that created the resource.
    types:
    - uid: createdByType
  - name: createdAt
    description: The timestamp of resource creation (UTC).
    types:
    - uid: string
  - name: lastModifiedBy
    description: The identity that last modified the resource.
    types:
    - uid: string
  - name: lastModifiedByType
    description: The type of identity that last modified the resource.
    types:
    - uid: createdByType
  - name: lastModifiedAt
    description: The timestamp of resource last modification (UTC)
    types:
    - uid: string
- name: MetadataModel
  description: Metadata resource definition.
  kind: object
  properties:
  - name: properties.contentId
    description: Static ID for the content.  Used to identify dependencies and content from solutions or community.  Hard-coded/static for out of the box content and solutions. Dynamic for user-created.  This is the resource name
    types:
    - uid: string
  - name: properties.parentId
    description: Full parent resource ID of the content item the metadata is for.  This is the full resource ID including the scope (subscription and resource group)
    types:
    - uid: string
  - name: properties.version
    description: Version of the content.  Default and recommended format is numeric (e.g. 1, 1.0, 1.0.0, 1.0.0.0), following ARM template best practices.  Can also be any string, but then we cannot guarantee any version checks
    types:
    - uid: string
  - name: properties.kind
    description: The kind of content the metadata is for.
    types:
    - uid: kind
  - name: properties.source
    description: Source of the content.  This is where/how it was created.
    types:
    - uid: metadataSource
  - name: properties.author
    description: The creator of the content item.
    types:
    - uid: metadataAuthor
  - name: properties.support
    description: Support information for the metadata - type, name, contact information
    types:
    - uid: metadataSupport
  - name: properties.dependencies
    description: Dependencies for the content item, what other content items it requires to work.  Can describe more complex dependencies using a recursive/nested structure. For a single dependency an id/kind/version can be supplied or operator/criteria for complex formats.
    types:
    - uid: metadataDependencies
  - name: properties.categories
    description: Categories for the solution content item
    types:
    - uid: metadataCategories
  - name: properties.providers
    description: Providers for the solution content item
    types:
    - uid: string
      isArray: true
  - name: properties.firstPublishDate
    description: first publish date solution content item
    types:
    - uid: string
  - name: properties.lastPublishDate
    description: last publish date for the solution content item
    types:
    - uid: string
  - name: properties.customVersion
    description: The custom version of the content. A optional free text
    types:
    - uid: string
  - name: properties.contentSchemaVersion
    description: Schema version of the content. Can be used to distinguish between different flow based on the schema version
    types:
    - uid: string
  - name: properties.icon
    description: the icon identifier. this id can later be fetched from the solution template
    types:
    - uid: string
  - name: properties.threatAnalysisTactics
    description: the tactics the resource covers
    types:
    - uid: string
      isArray: true
  - name: properties.threatAnalysisTechniques
    description: the techniques the resource covers, these have to be aligned with the tactics being used
    types:
    - uid: string
      isArray: true
  - name: properties.previewImages
    description: preview image file names. These will be taken from the solution artifacts
    types:
    - uid: string
      isArray: true
  - name: properties.previewImagesDark
    description: preview image file names. These will be taken from the solution artifacts. used for dark theme support
    types:
    - uid: string
      isArray: true
  - name: etag
    description: Etag of the azure resource
    types:
    - uid: string
  - name: id
    isReadyOnly: true
    description: Fully qualified resource ID for the resource. Ex - /subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/{resourceProviderNamespace}/{resourceType}/{resourceName}
    types:
    - uid: string
  - name: name
    isReadyOnly: true
    description: The name of the resource
    types:
    - uid: string
  - name: type
    isReadyOnly: true
    description: The type of the resource. E.g. "Microsoft.Compute/virtualMachines" or "Microsoft.Storage/storageAccounts"
    types:
    - uid: string
  - name: systemData
    isReadyOnly: true
    description: Azure Resource Manager metadata containing createdBy and modifiedBy information.
    types:
    - uid: systemData
- name: CloudError
  description: Error response structure.
  kind: object
  properties:
  - name: error
    description: Error data
    types:
    - uid: CloudErrorBody
- name: sourceKind
  description: Source type of the content
  kind: enum
  properties:
  - name: LocalWorkspace
    types:
    - uid: string
  - name: Community
    types:
    - uid: string
  - name: Solution
    types:
    - uid: string
  - name: SourceRepository
    types:
    - uid: string
- name: supportTier
  description: Type of support for content item
  kind: enum
  properties:
  - name: Microsoft
    types:
    - uid: string
  - name: Partner
    types:
    - uid: string
  - name: Community
    types:
    - uid: string
- name: kind
  description: The kind of content the metadata is for.
  kind: enum
  properties:
  - name: DataConnector
    types:
    - uid: string
  - name: DataType
    types:
    - uid: string
  - name: Workbook
    types:
    - uid: string
  - name: WorkbookTemplate
    types:
    - uid: string
  - name: Playbook
    types:
    - uid: string
  - name: PlaybookTemplate
    types:
    - uid: string
  - name: AnalyticsRuleTemplate
    types:
    - uid: string
  - name: AnalyticsRule
    types:
    - uid: string
  - name: HuntingQuery
    types:
    - uid: string
  - name: InvestigationQuery
    types:
    - uid: string
  - name: Parser
    types:
    - uid: string
  - name: Watchlist
    types:
    - uid: string
  - name: WatchlistTemplate
    types:
    - uid: string
  - name: Solution
    types:
    - uid: string
  - name: AzureFunction
    types:
    - uid: string
  - name: LogicAppsCustomConnector
    types:
    - uid: string
  - name: AutomationRule
    types:
    - uid: string
- name: operator
  description: Operator used for list of dependencies in criteria array.
  kind: enum
  properties:
  - name: AND
    types:
    - uid: string
  - name: OR
    types:
    - uid: string
- name: createdByType
  description: The type of identity that created the resource.
  kind: enum
  properties:
  - name: User
    types:
    - uid: string
  - name: Application
    types:
    - uid: string
  - name: ManagedIdentity
    types:
    - uid: string
  - name: Key
    types:
    - uid: string
- name: CloudErrorBody
  description: Error details.
  kind: object
  properties:
  - name: code
    isReadyOnly: true
    description: An identifier for the error. Codes are invariant and are intended to be consumed programmatically.
    types:
    - uid: string
  - name: message
    isReadyOnly: true
    description: A message describing the error, intended to be suitable for display in a user interface.
    types:
    - uid: string
examples:
- name: Create/update full metadata.
  request:
    uri: PUT https://management.azure.com/subscriptions/d0cfe6b2-9ac0-4464-9919-dccaee2e48c0/resourceGroups/myRg/providers/Microsoft.OperationalInsights/workspaces/myWorkspace/providers/Microsoft.SecurityInsights/metadata/metadataName?api-version=2022-07-01-preview
    body: >-
      {
        "properties": {
          "contentId": "c00ee137-7475-47c8-9cce-ec6f0f1bedd0",
          "version": "1.0.0.0",
          "kind": "AnalyticsRule",
          "parentId": "/subscriptions/2e1dc338-d04d-4443-b721-037eff4fdcac/resourceGroups/myRg/providers/Microsoft.OperationalInsights/workspaces/myWorkspace/providers/Microsoft.SecurityInsights/alertRules/ruleName",
          "source": {
            "kind": "Solution",
            "name": "Contoso Solution 1.0",
            "sourceId": "b688a130-76f4-4a07-bf57-762222a3cadf"
          },
          "author": {
            "name": "User Name",
            "email": "email@microsoft.com"
          },
          "support": {
            "name": "Microsoft",
            "email": "support@microsoft.com",
            "link": "https://support.microsoft.com/",
            "tier": "Partner"
          },
          "dependencies": {
            "operator": "AND",
            "criteria": [
              {
                "operator": "OR",
                "criteria": [
                  {
                    "contentId": "045d06d0-ee72-4794-aba4-cf5646e4c756",
                    "kind": "DataConnector",
                    "name": "Microsoft Defender for Endpoint"
                  },
                  {
                    "contentId": "dbfcb2cc-d782-40ef-8d94-fe7af58a6f2d",
                    "kind": "DataConnector"
                  },
                  {
                    "contentId": "de4dca9b-eb37-47d6-a56f-b8b06b261593",
                    "kind": "DataConnector",
                    "version": "2.0"
                  }
                ]
              },
              {
                "kind": "Playbook",
                "contentId": "31ee11cc-9989-4de8-b176-5e0ef5c4dbab",
                "version": "1.0"
              },
              {
                "kind": "Parser",
                "contentId": "21ba424a-9438-4444-953a-7059539a7a1b"
              }
            ]
          },
          "categories": {
            "domains": [
              "Application",
              "Security – Insider Threat"
            ],
            "verticals": [
              "Healthcare"
            ]
          },
          "providers": [
            "Amazon",
            "Microsoft"
          ],
          "firstPublishDate": "2021-05-18",
          "lastPublishDate": "2021-05-18",
          "previewImages": [
            "firstImage.png",
            "secondImage.jpeg"
          ],
          "previewImagesDark": [
            "firstImageDark.png",
            "secondImageDark.jpeg"
          ],
          "contentSchemaVersion": "2.0",
          "customVersion": "1.0",
          "threatAnalysisTactics": [
            "reconnaissance",
            "commandandcontrol"
          ],
          "threatAnalysisTechniques": [
            "T1548",
            "T1548.001"
          ]
        }
      }
    codeTab: |+
      # [HTTP](#tab/HTTP)
      ``` http
      PUT https://management.azure.com/subscriptions/d0cfe6b2-9ac0-4464-9919-dccaee2e48c0/resourceGroups/myRg/providers/Microsoft.OperationalInsights/workspaces/myWorkspace/providers/Microsoft.SecurityInsights/metadata/metadataName?api-version=2022-07-01-preview

      {
        "properties": {
          "contentId": "c00ee137-7475-47c8-9cce-ec6f0f1bedd0",
          "version": "1.0.0.0",
          "kind": "AnalyticsRule",
          "parentId": "/subscriptions/2e1dc338-d04d-4443-b721-037eff4fdcac/resourceGroups/myRg/providers/Microsoft.OperationalInsights/workspaces/myWorkspace/providers/Microsoft.SecurityInsights/alertRules/ruleName",
          "source": {
            "kind": "Solution",
            "name": "Contoso Solution 1.0",
            "sourceId": "b688a130-76f4-4a07-bf57-762222a3cadf"
          },
          "author": {
            "name": "User Name",
            "email": "email@microsoft.com"
          },
          "support": {
            "name": "Microsoft",
            "email": "support@microsoft.com",
            "link": "https://support.microsoft.com/",
            "tier": "Partner"
          },
          "dependencies": {
            "operator": "AND",
            "criteria": [
              {
                "operator": "OR",
                "criteria": [
                  {
                    "contentId": "045d06d0-ee72-4794-aba4-cf5646e4c756",
                    "kind": "DataConnector",
                    "name": "Microsoft Defender for Endpoint"
                  },
                  {
                    "contentId": "dbfcb2cc-d782-40ef-8d94-fe7af58a6f2d",
                    "kind": "DataConnector"
                  },
                  {
                    "contentId": "de4dca9b-eb37-47d6-a56f-b8b06b261593",
                    "kind": "DataConnector",
                    "version": "2.0"
                  }
                ]
              },
              {
                "kind": "Playbook",
                "contentId": "31ee11cc-9989-4de8-b176-5e0ef5c4dbab",
                "version": "1.0"
              },
              {
                "kind": "Parser",
                "contentId": "21ba424a-9438-4444-953a-7059539a7a1b"
              }
            ]
          },
          "categories": {
            "domains": [
              "Application",
              "Security – Insider Threat"
            ],
            "verticals": [
              "Healthcare"
            ]
          },
          "providers": [
            "Amazon",
            "Microsoft"
          ],
          "firstPublishDate": "2021-05-18",
          "lastPublishDate": "2021-05-18",
          "previewImages": [
            "firstImage.png",
            "secondImage.jpeg"
          ],
          "previewImagesDark": [
            "firstImageDark.png",
            "secondImageDark.jpeg"
          ],
          "contentSchemaVersion": "2.0",
          "customVersion": "1.0",
          "threatAnalysisTactics": [
            "reconnaissance",
            "commandandcontrol"
          ],
          "threatAnalysisTechniques": [
            "T1548",
            "T1548.001"
          ]
        }
      }

      ```

  responses:
  - statusCode: "201"
    body: >-
      {
        "id": "/subscriptions/2e1dc338-d04d-4443-b721-037eff4fdcac/resourceGroups/myRg/providers/Microsoft.OperationalInsights/workspaces/myWorkspace/providers/Microsoft.SecurityInsights/metadata/metadataName",
        "name": "metadataName",
        "type": "Microsoft.SecurityInsights/metadata",
        "properties": {
          "contentId": "c00ee137-7475-47c8-9cce-ec6f0f1bedd0",
          "version": "1.0.0.0",
          "kind": "AnalyticsRule",
          "parentId": "/subscriptions/2e1dc338-d04d-4443-b721-037eff4fdcac/resourceGroups/myRg/providers/Microsoft.OperationalInsights/workspaces/myWorkspace/providers/Microsoft.SecurityInsights/alertRules/ruleName",
          "source": {
            "kind": "Solution",
            "name": "Contoso Solution 1.0",
            "sourceId": "b688a130-76f4-4a07-bf57-762222a3cadf"
          },
          "author": {
            "name": "User Name",
            "email": "email@microsoft.com"
          },
          "support": {
            "name": "Microsoft",
            "email": "support@microsoft.com",
            "link": "https://support.microsoft.com/",
            "tier": "Partner"
          },
          "dependencies": {
            "operator": "AND",
            "criteria": [
              {
                "operator": "OR",
                "criteria": [
                  {
                    "contentId": "045d06d0-ee72-4794-aba4-cf5646e4c756",
                    "kind": "DataConnector"
                  },
                  {
                    "contentId": "dbfcb2cc-d782-40ef-8d94-fe7af58a6f2d",
                    "kind": "DataConnector"
                  },
                  {
                    "contentId": "de4dca9b-eb37-47d6-a56f-b8b06b261593",
                    "kind": "DataConnector",
                    "version": "2.0"
                  }
                ]
              },
              {
                "kind": "Playbook",
                "contentId": "31ee11cc-9989-4de8-b176-5e0ef5c4dbab",
                "version": "1.0"
              },
              {
                "kind": "Parser",
                "contentId": "21ba424a-9438-4444-953a-7059539a7a1b"
              }
            ]
          },
          "categories": {
            "domains": [
              "Application",
              "Security – Insider Threat"
            ],
            "verticals": [
              "Healthcare"
            ]
          },
          "providers": [
            "Amazon",
            "Microsoft"
          ],
          "firstPublishDate": "2021-05-18",
          "lastPublishDate": "2021-05-18",
          "previewImages": [
            "firstImage.png",
            "secondImage.jpeg"
          ],
          "previewImagesDark": [
            "firstImageDark.png",
            "secondImageDark.jpeg"
          ],
          "contentSchemaVersion": "2.0",
          "customVersion": "1.0",
          "threatAnalysisTactics": [
            "reconnaissance",
            "commandandcontrol"
          ],
          "threatAnalysisTechniques": [
            "T1548",
            "T1548.001"
          ]
        }
      }
  - statusCode: "200"
    body: >-
      {
        "id": "/subscriptions/2e1dc338-d04d-4443-b721-037eff4fdcac/resourceGroups/myRg/providers/Microsoft.OperationalInsights/workspaces/myWorkspace/providers/Microsoft.SecurityInsights/metadata/metadataName",
        "name": "metadataName",
        "type": "Microsoft.SecurityInsights/metadata",
        "properties": {
          "contentId": "c00ee137-7475-47c8-9cce-ec6f0f1bedd0",
          "version": "1.0.0.0",
          "kind": "AnalyticsRule",
          "parentId": "/subscriptions/2e1dc338-d04d-4443-b721-037eff4fdcac/resourceGroups/myRg/providers/Microsoft.OperationalInsights/workspaces/myWorkspace/providers/Microsoft.SecurityInsights/alertRules/ruleName",
          "source": {
            "kind": "Solution",
            "name": "Contoso Solution 1.0",
            "sourceId": "b688a130-76f4-4a07-bf57-762222a3cadf"
          },
          "author": {
            "name": "User Name",
            "email": "email@microsoft.com"
          },
          "support": {
            "name": "Microsoft",
            "email": "support@microsoft.com",
            "link": "https://support.microsoft.com/",
            "tier": "Partner"
          },
          "dependencies": {
            "operator": "AND",
            "criteria": [
              {
                "operator": "OR",
                "criteria": [
                  {
                    "contentId": "045d06d0-ee72-4794-aba4-cf5646e4c756",
                    "kind": "DataConnector"
                  },
                  {
                    "contentId": "dbfcb2cc-d782-40ef-8d94-fe7af58a6f2d",
                    "kind": "DataConnector"
                  },
                  {
                    "contentId": "de4dca9b-eb37-47d6-a56f-b8b06b261593",
                    "kind": "DataConnector",
                    "version": "2.0"
                  }
                ]
              },
              {
                "kind": "Playbook",
                "contentId": "31ee11cc-9989-4de8-b176-5e0ef5c4dbab",
                "version": "1.0"
              },
              {
                "kind": "Parser",
                "contentId": "21ba424a-9438-4444-953a-7059539a7a1b"
              }
            ]
          },
          "categories": {
            "domains": [
              "Application",
              "Security – Insider Threat"
            ],
            "verticals": [
              "Healthcare"
            ]
          },
          "providers": [
            "Amazon",
            "Microsoft"
          ],
          "firstPublishDate": "2021-05-18",
          "lastPublishDate": "2021-05-18",
          "previewImages": [
            "firstImage.png",
            "secondImage.jpeg"
          ],
          "previewImagesDark": [
            "firstImageDark.png",
            "secondImageDark.jpeg"
          ],
          "contentSchemaVersion": "2.0",
          "customVersion": "1.0",
          "threatAnalysisTactics": [
            "reconnaissance",
            "commandandcontrol"
          ],
          "threatAnalysisTechniques": [
            "T1548",
            "T1548.001"
          ]
        }
      }
- name: Create/update minimal metadata.
  request:
    uri: PUT https://management.azure.com/subscriptions/d0cfe6b2-9ac0-4464-9919-dccaee2e48c0/resourceGroups/myRg/providers/Microsoft.OperationalInsights/workspaces/myWorkspace/providers/Microsoft.SecurityInsights/metadata/metadataName?api-version=2022-07-01-preview
    body: >-
      {
        "properties": {
          "contentId": "c00ee137-7475-47c8-9cce-ec6f0f1bedd0",
          "kind": "AnalyticsRule",
          "parentId": "/subscriptions/2e1dc338-d04d-4443-b721-037eff4fdcac/resourceGroups/myRg/providers/Microsoft.OperationalInsights/workspaces/myWorkspace/providers/Microsoft.SecurityInsights/alertRules/ruleName"
        }
      }
    codeTab: |+
      # [HTTP](#tab/HTTP)
      ``` http
      PUT https://management.azure.com/subscriptions/d0cfe6b2-9ac0-4464-9919-dccaee2e48c0/resourceGroups/myRg/providers/Microsoft.OperationalInsights/workspaces/myWorkspace/providers/Microsoft.SecurityInsights/metadata/metadataName?api-version=2022-07-01-preview

      {
        "properties": {
          "contentId": "c00ee137-7475-47c8-9cce-ec6f0f1bedd0",
          "kind": "AnalyticsRule",
          "parentId": "/subscriptions/2e1dc338-d04d-4443-b721-037eff4fdcac/resourceGroups/myRg/providers/Microsoft.OperationalInsights/workspaces/myWorkspace/providers/Microsoft.SecurityInsights/alertRules/ruleName"
        }
      }

      ```

  responses:
  - statusCode: "201"
    body: >-
      {
        "id": "/subscriptions/2e1dc338-d04d-4443-b721-037eff4fdcac/resourceGroups/myRg/providers/Microsoft.OperationalInsights/workspaces/myWorkspace/providers/Microsoft.SecurityInsights/metadata/metadataName",
        "name": "metadataName",
        "type": "Microsoft.SecurityInsights/metadata",
        "properties": {
          "kind": "AnalyticsRule",
          "parentId": "/subscriptions/2e1dc338-d04d-4443-b721-037eff4fdcac/resourceGroups/myRg/providers/Microsoft.OperationalInsights/workspaces/myWorkspace/providers/Microsoft.SecurityInsights/alertRules/ruleName"
        }
      }
  - statusCode: "200"
    body: >-
      {
        "id": "/subscriptions/2e1dc338-d04d-4443-b721-037eff4fdcac/resourceGroups/myRg/providers/Microsoft.OperationalInsights/workspaces/myWorkspace/providers/Microsoft.SecurityInsights/metadata/metadataName",
        "name": "metadataName",
        "type": "Microsoft.SecurityInsights/metadata",
        "properties": {
          "kind": "AnalyticsRule",
          "parentId": "/subscriptions/2e1dc338-d04d-4443-b721-037eff4fdcac/resourceGroups/myRg/providers/Microsoft.OperationalInsights/workspaces/myWorkspace/providers/Microsoft.SecurityInsights/alertRules/ruleName"
        }
      }
security:
- name: azure_auth
  type: oauth2
  description: Azure Active Directory OAuth2 Flow
  flow: implicit
  authorizationUrl: https://login.microsoftonline.com/common/oauth2/authorize
  scopes:
  - name: user_impersonation
    description: impersonate your user account
metadata:
  description: Learn more about Sentinel service - Create a Metadata.
errorCodes: []
