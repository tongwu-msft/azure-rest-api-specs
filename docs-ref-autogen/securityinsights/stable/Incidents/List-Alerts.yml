### YamlMime:RESTOperation
uid: management.azure.com.securityinsights.stable.incidents.listalerts
name: List Alerts
service: Sentinel
groupName: Incidents
apiVersion: 2021-10-01
summary: Gets all alerts for an incident.
consumes:
- application/json
produces:
- application/json
paths:
- content: POST https://management.azure.com/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.OperationalInsights/workspaces/{workspaceName}/providers/Microsoft.SecurityInsights/incidents/{incidentId}/alerts?api-version=2021-10-01
uriParameters:
- name: subscriptionId
  in: path
  isRequired: true
  description: The ID of the target subscription.
  types:
  - uid: string
- name: resourceGroupName
  in: path
  isRequired: true
  description: The name of the resource group. The name is case insensitive.
  types:
  - uid: string
- name: workspaceName
  in: path
  isRequired: true
  description: The name of the workspace.
  types:
  - uid: string
- name: incidentId
  in: path
  isRequired: true
  description: Incident ID
  types:
  - uid: string
- name: api-version
  in: query
  isRequired: true
  description: The API version to use for this operation.
  types:
  - uid: string
responses:
- name: 200 OK
  description: OK
  types:
  - uid: IncidentAlertList
- name: Other Status Codes
  description: Error response describing why the operation failed.
  types:
  - uid: CloudError
requestHeader: []
definitions:
- name: IncidentAlertList
  description: List of incident alerts.
  kind: object
  properties:
  - name: value
    description: Array of incident alerts.
    types:
    - uid: SecurityAlert
      isArray: true
- name: CloudError
  description: Error response structure.
  kind: object
  properties:
  - name: error
    description: Error data
    types:
    - uid: CloudErrorBody
- name: SecurityAlert
  description: Represents a security alert entity.
  kind: object
  properties:
  - name: properties.alertDisplayName
    isReadyOnly: true
    description: The display name of the alert.
    types:
    - uid: string
  - name: properties.alertType
    isReadyOnly: true
    description: The type name of the alert.
    types:
    - uid: string
  - name: properties.compromisedEntity
    isReadyOnly: true
    description: Display name of the main entity being reported on.
    types:
    - uid: string
  - name: properties.confidenceLevel
    isReadyOnly: true
    description: The confidence level of this alert.
    types:
    - uid: ConfidenceLevel
  - name: properties.confidenceReasons
    isReadyOnly: true
    description: The confidence reasons
    types:
    - uid: ConfidenceReasons
      isArray: true
  - name: properties.confidenceScore
    isReadyOnly: true
    description: The confidence score of the alert.
    types:
    - uid: number
  - name: properties.confidenceScoreStatus
    isReadyOnly: true
    description: The confidence score calculation status, i.e. indicating if score calculation is pending for this alert, not applicable or final.
    types:
    - uid: ConfidenceScoreStatus
  - name: properties.description
    isReadyOnly: true
    description: Alert description.
    types:
    - uid: string
  - name: properties.endTimeUtc
    isReadyOnly: true
    description: The impact end time of the alert (the time of the last event contributing to the alert).
    types:
    - uid: string
  - name: properties.intent
    isReadyOnly: true
    description: Holds the alert intent stage(s) mapping for this alert.
    types:
    - uid: KillChainIntent
  - name: properties.providerAlertId
    isReadyOnly: true
    description: The identifier of the alert inside the product which generated the alert.
    types:
    - uid: string
  - name: properties.processingEndTime
    isReadyOnly: true
    description: The time the alert was made available for consumption.
    types:
    - uid: string
  - name: properties.productComponentName
    isReadyOnly: true
    description: The name of a component inside the product which generated the alert.
    types:
    - uid: string
  - name: properties.productName
    isReadyOnly: true
    description: The name of the product which published this alert.
    types:
    - uid: string
  - name: properties.productVersion
    isReadyOnly: true
    description: The version of the product generating the alert.
    types:
    - uid: string
  - name: properties.remediationSteps
    isReadyOnly: true
    description: Manual action items to take to remediate the alert.
    types:
    - uid: string
      isArray: true
  - name: properties.severity
    description: The severity of the alert
    types:
    - uid: AlertSeverity
  - name: properties.startTimeUtc
    isReadyOnly: true
    description: The impact start time of the alert (the time of the first event contributing to the alert).
    types:
    - uid: string
  - name: properties.status
    isReadyOnly: true
    description: The lifecycle status of the alert.
    types:
    - uid: AlertStatus
  - name: properties.systemAlertId
    isReadyOnly: true
    description: Holds the product identifier of the alert for the product.
    types:
    - uid: string
  - name: properties.tactics
    isReadyOnly: true
    description: The tactics of the alert
    types:
    - uid: string
      isArray: true
  - name: properties.timeGenerated
    isReadyOnly: true
    description: The time the alert was generated.
    types:
    - uid: string
  - name: properties.vendorName
    isReadyOnly: true
    description: The name of the vendor that raise the alert.
    types:
    - uid: string
  - name: properties.alertLink
    isReadyOnly: true
    description: The uri link of the alert.
    types:
    - uid: string
  - name: properties.resourceIdentifiers
    isReadyOnly: true
    description: The list of resource identifiers of the alert.
    types:
    - uid: object
      isArray: true
  - name: kind
    description: The kind of the entity.
    types:
    - uid: SecurityAlert
    typesTitle: string
  - name: id
    isReadyOnly: true
    description: Fully qualified resource ID for the resource. Ex - /subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/{resourceProviderNamespace}/{resourceType}/{resourceName}
    types:
    - uid: string
  - name: name
    isReadyOnly: true
    description: The name of the resource
    types:
    - uid: string
  - name: type
    isReadyOnly: true
    description: The type of the resource. E.g. "Microsoft.Compute/virtualMachines" or "Microsoft.Storage/storageAccounts"
    types:
    - uid: string
  - name: systemData
    isReadyOnly: true
    description: Azure Resource Manager metadata containing createdBy and modifiedBy information.
    types:
    - uid: systemData
  - name: properties.additionalData
    isReadyOnly: true
    description: A bag of custom fields that should be part of the entity and will be presented to the user.
    types:
    - uid: object
      isDictionary: true
      additionalTypes:
      - uid: string
      - uid: object
  - name: properties.friendlyName
    isReadyOnly: true
    description: The graph item display name which is a short humanly readable description of the graph item instance. This property is optional and might be system generated.
    types:
    - uid: string
- name: CloudErrorBody
  description: Error details.
  kind: object
  properties:
  - name: code
    isReadyOnly: true
    description: An identifier for the error. Codes are invariant and are intended to be consumed programmatically.
    types:
    - uid: string
  - name: message
    isReadyOnly: true
    description: A message describing the error, intended to be suitable for display in a user interface.
    types:
    - uid: string
- name: ConfidenceLevel
  description: The confidence level of this alert.
  kind: enum
  properties:
  - name: Unknown
    description: Unknown confidence, the is the default value
    types:
    - uid: string
  - name: Low
    description: Low confidence, meaning we have some doubts this is indeed malicious or part of an attack
    types:
    - uid: string
  - name: High
    description: High confidence that the alert is true positive malicious
    types:
    - uid: string
- name: ConfidenceReasons
  description: The confidence reasons
  kind: object
  properties:
  - name: reason
    isReadyOnly: true
    description: The reason's description
    types:
    - uid: string
  - name: reasonType
    isReadyOnly: true
    description: The type (category) of the reason
    types:
    - uid: string
- name: ConfidenceScoreStatus
  description: The confidence score calculation status, i.e. indicating if score calculation is pending for this alert, not applicable or final.
  kind: enum
  properties:
  - name: NotApplicable
    description: Score will not be calculated for this alert as it is not supported by virtual analyst
    types:
    - uid: string
  - name: InProcess
    description: No score was set yet and calculation is in progress
    types:
    - uid: string
  - name: NotFinal
    description: Score is calculated and shown as part of the alert, but may be updated again at a later time following the processing of additional data
    types:
    - uid: string
  - name: Final
    description: Final score was calculated and available
    types:
    - uid: string
- name: KillChainIntent
  description: Holds the alert intent stage(s) mapping for this alert.
  kind: enum
  properties:
  - name: Unknown
    description: The default value.
    types:
    - uid: string
  - name: Probing
    description: Probing could be an attempt to access a certain resource regardless of a malicious intent or a failed attempt to gain access to a target system to gather information prior to exploitation. This step is usually detected as an attempt originating from outside the network in attempt to scan the target system and find a way in.
    types:
    - uid: string
  - name: Exploitation
    description: Exploitation is the stage where an attacker manage to get foothold on the attacked resource. This stage is applicable not only for compute hosts, but also for resources such as user accounts, certificates etc. Adversaries will often be able to control the resource after this stage.
    types:
    - uid: string
  - name: Persistence
    description: Persistence is any access, action, or configuration change to a system that gives an adversary a persistent presence on that system. Adversaries will often need to maintain access to systems through interruptions such as system restarts, loss of credentials, or other failures that would require a remote access tool to restart or alternate backdoor for them to regain access.
    types:
    - uid: string
  - name: PrivilegeEscalation
    description: Privilege escalation is the result of actions that allow an adversary to obtain a higher level of permissions on a system or network. Certain tools or actions require a higher level of privilege to work and are likely necessary at many points throughout an operation. User accounts with permissions to access specific systems or perform specific functions necessary for adversaries to achieve their objective may also be considered an escalation of privilege.
    types:
    - uid: string
  - name: DefenseEvasion
    description: 'Defense evasion consists of techniques an adversary may use to evade detection or avoid other defenses. Sometimes these actions are the same as or variations of techniques in other categories that have the added benefit of subverting a particular defense or mitigation. '
    types:
    - uid: string
  - name: CredentialAccess
    description: Credential access represents techniques resulting in access to or control over system, domain, or service credentials that are used within an enterprise environment. Adversaries will likely attempt to obtain legitimate credentials from users or administrator accounts (local system administrator or domain users with administrator access) to use within the network. With sufficient access within a network, an adversary can create accounts for later use within the environment.
    types:
    - uid: string
  - name: Discovery
    description: Discovery consists of techniques that allow the adversary to gain knowledge about the system and internal network. When adversaries gain access to a new system, they must orient themselves to what they now have control of and what benefits operating from that system give to their current objective or overall goals during the intrusion. The operating system provides many native tools that aid in this post-compromise information-gathering phase.
    types:
    - uid: string
  - name: LateralMovement
    description: Lateral movement consists of techniques that enable an adversary to access and control remote systems on a network and could, but does not necessarily, include execution of tools on remote systems. The lateral movement techniques could allow an adversary to gather information from a system without needing additional tools, such as a remote access tool. An adversary can use lateral movement for many purposes, including remote Execution of tools, pivoting to additional systems, access to specific information or files, access to additional credentials, or to cause an effect.
    types:
    - uid: string
  - name: Execution
    description: The execution tactic represents techniques that result in execution of adversary-controlled code on a local or remote system. This tactic is often used in conjunction with lateral movement to expand access to remote systems on a network.
    types:
    - uid: string
  - name: Collection
    description: Collection consists of techniques used to identify and gather information, such as sensitive files, from a target network prior to exfiltration. This category also covers locations on a system or network where the adversary may look for information to exfiltrate.
    types:
    - uid: string
  - name: Exfiltration
    description: Exfiltration refers to techniques and attributes that result or aid in the adversary removing files and information from a target network. This category also covers locations on a system or network where the adversary may look for information to exfiltrate.
    types:
    - uid: string
  - name: CommandAndControl
    description: The command and control tactic represents how adversaries communicate with systems under their control within a target network.
    types:
    - uid: string
  - name: Impact
    description: The impact intent primary objective is to directly reduce the availability or integrity of a system, service, or network; including manipulation of data to impact a business or operational process. This would often refer to techniques such as ransom-ware, defacement, data manipulation and others.
    types:
    - uid: string
- name: AlertSeverity
  description: The severity of the alert
  kind: enum
  properties:
  - name: High
    description: High severity
    types:
    - uid: string
  - name: Medium
    description: Medium severity
    types:
    - uid: string
  - name: Low
    description: Low severity
    types:
    - uid: string
  - name: Informational
    description: Informational severity
    types:
    - uid: string
- name: AlertStatus
  description: The lifecycle status of the alert.
  kind: enum
  properties:
  - name: Unknown
    description: Unknown value
    types:
    - uid: string
  - name: New
    description: New alert
    types:
    - uid: string
  - name: Resolved
    description: Alert closed after handling
    types:
    - uid: string
  - name: Dismissed
    description: Alert dismissed as false positive
    types:
    - uid: string
  - name: InProgress
    description: Alert is being handled
    types:
    - uid: string
- name: EntityKindEnum
  description: The kind of the aggregated entity.
  kind: enum
  properties:
  - name: Account
    description: Entity represents account in the system.
    types:
    - uid: string
  - name: Host
    description: Entity represents host in the system.
    types:
    - uid: string
  - name: File
    description: Entity represents file in the system.
    types:
    - uid: string
  - name: AzureResource
    description: Entity represents azure resource in the system.
    types:
    - uid: string
  - name: CloudApplication
    description: Entity represents cloud application in the system.
    types:
    - uid: string
  - name: DnsResolution
    description: Entity represents dns resolution in the system.
    types:
    - uid: string
  - name: FileHash
    description: Entity represents file hash in the system.
    types:
    - uid: string
  - name: Ip
    description: Entity represents ip in the system.
    types:
    - uid: string
  - name: Malware
    description: Entity represents malware in the system.
    types:
    - uid: string
  - name: Process
    description: Entity represents process in the system.
    types:
    - uid: string
  - name: RegistryKey
    description: Entity represents registry key in the system.
    types:
    - uid: string
  - name: RegistryValue
    description: Entity represents registry value in the system.
    types:
    - uid: string
  - name: SecurityGroup
    description: Entity represents security group in the system.
    types:
    - uid: string
  - name: Url
    description: Entity represents url in the system.
    types:
    - uid: string
  - name: IoTDevice
    description: Entity represents IoT device in the system.
    types:
    - uid: string
  - name: SecurityAlert
    description: Entity represents security alert in the system.
    types:
    - uid: string
  - name: Bookmark
    description: Entity represents bookmark in the system.
    types:
    - uid: string
  - name: Mailbox
    description: Entity represents mailbox in the system.
    types:
    - uid: string
  - name: MailCluster
    description: Entity represents mail cluster in the system.
    types:
    - uid: string
  - name: MailMessage
    description: Entity represents mail message in the system.
    types:
    - uid: string
  - name: SubmissionMail
    description: Entity represents submission mail in the system.
    types:
    - uid: string
- name: systemData
  description: Metadata pertaining to creation and last modification of the resource.
  kind: object
  properties:
  - name: createdBy
    description: The identity that created the resource.
    types:
    - uid: string
  - name: createdByType
    description: The type of identity that created the resource.
    types:
    - uid: createdByType
  - name: createdAt
    description: The timestamp of resource creation (UTC).
    types:
    - uid: string
  - name: lastModifiedBy
    description: The identity that last modified the resource.
    types:
    - uid: string
  - name: lastModifiedByType
    description: The type of identity that last modified the resource.
    types:
    - uid: createdByType
  - name: lastModifiedAt
    description: The timestamp of resource last modification (UTC)
    types:
    - uid: string
- name: createdByType
  description: The type of identity that created the resource.
  kind: enum
  properties:
  - name: User
    types:
    - uid: string
  - name: Application
    types:
    - uid: string
  - name: ManagedIdentity
    types:
    - uid: string
  - name: Key
    types:
    - uid: string
examples:
- name: Get all incident alerts.
  request:
    uri: POST https://management.azure.com/subscriptions/d0cfe6b2-9ac0-4464-9919-dccaee2e48c0/resourceGroups/myRg/providers/Microsoft.OperationalInsights/workspaces/myWorkspace/providers/Microsoft.SecurityInsights/incidents/afbd324f-6c48-459c-8710-8d1e1cd03812/alerts?api-version=2021-10-01
    codeTab: |+
      # [HTTP](#tab/HTTP)
      ``` http
      POST https://management.azure.com/subscriptions/d0cfe6b2-9ac0-4464-9919-dccaee2e48c0/resourceGroups/myRg/providers/Microsoft.OperationalInsights/workspaces/myWorkspace/providers/Microsoft.SecurityInsights/incidents/afbd324f-6c48-459c-8710-8d1e1cd03812/alerts?api-version=2021-10-01
      ```

      # [Go](#tab/Go)
      ``` go
      package armsecurityinsights_test

      import (
      	"context"
      	"log"

      	"github.com/Azure/azure-sdk-for-go/sdk/azidentity"
      	"github.com/Azure/azure-sdk-for-go/sdk/resourcemanager/securityinsights/armsecurityinsights"
      )

      // Generated from example definition: https://github.com/Azure/azure-rest-api-specs/tree/main/specification/securityinsights/resource-manager/Microsoft.SecurityInsights/stable/2021-10-01/examples/incidents/GetAllIncidentAlerts.json
      func ExampleIncidentsClient_ListAlerts() {
      	cred, err := azidentity.NewDefaultAzureCredential(nil)
      	if err != nil {
      		log.Fatalf("failed to obtain a credential: %v", err)
      	}
      	ctx := context.Background()
      	client, err := armsecurityinsights.NewIncidentsClient("d0cfe6b2-9ac0-4464-9919-dccaee2e48c0", cred, nil)
      	if err != nil {
      		log.Fatalf("failed to create client: %v", err)
      	}
      	res, err := client.ListAlerts(ctx,
      		"myRg",
      		"myWorkspace",
      		"afbd324f-6c48-459c-8710-8d1e1cd03812",
      		nil)
      	if err != nil {
      		log.Fatalf("failed to finish the request: %v", err)
      	}
      	// TODO: use response item
      	_ = res
      }

      ```
      Read this [SDK documentation](https://github.com/Azure/azure-sdk-for-go/blob/sdk%2Fresourcemanager%2Fsecurityinsights%2Farmsecurityinsights%2Fv1.0.0/sdk/resourcemanager/securityinsights/armsecurityinsights/README.md) on how to add the SDK to your project and authenticate.
  responses:
  - statusCode: "200"
    body: >-
      {
        "value": [
          {
            "id": "/subscriptions/bd794837-4d29-4647-9105-6339bfdb4e6a/resourceGroups/myRG/providers/Microsoft.OperationalInsights/workspaces/myWorkspace/providers/Microsoft.SecurityInsights/Entities/baa8a239-6fde-4ab7-a093-d09f7b75c58c",
            "name": "baa8a239-6fde-4ab7-a093-d09f7b75c58c",
            "type": "Microsoft.SecurityInsights/Entities",
            "kind": "SecurityAlert",
            "properties": {
              "systemAlertId": "baa8a239-6fde-4ab7-a093-d09f7b75c58c",
              "tactics": [],
              "alertDisplayName": "myAlert",
              "confidenceLevel": "Unknown",
              "severity": "Low",
              "vendorName": "Microsoft",
              "productName": "Azure Security Center",
              "alertType": "myAlert",
              "processingEndTime": "2020-07-20T18:21:53.6158361Z",
              "status": "New",
              "endTimeUtc": "2020-07-20T18:21:53.6158361Z",
              "startTimeUtc": "2020-07-20T18:21:53.6158361Z",
              "timeGenerated": "2020-07-20T18:21:53.6158361Z",
              "resourceIdentifiers": [
                {
                  "type": "LogAnalytics",
                  "workspaceId": "c8c99641-985d-4e4e-8e91-fb3466cd0e5b",
                  "subscriptionId": "bd794837-4d29-4647-9105-6339bfdb4e6a",
                  "resourceGroup": "myRG"
                }
              ],
              "additionalData": {
                "AlertMessageEnqueueTime": "2020-07-20T18:21:57.304Z"
              },
              "friendlyName": "myAlert"
            }
          }
        ]
      }
security:
- name: azure_auth
  type: oauth2
  description: Azure Active Directory OAuth2 Flow
  flow: implicit
  authorizationUrl: https://login.microsoftonline.com/common/oauth2/authorize
  scopes:
  - name: user_impersonation
    description: impersonate your user account
metadata:
  description: Learn more about Sentinel service - Gets all alerts for an incident.
errorCodes: []
