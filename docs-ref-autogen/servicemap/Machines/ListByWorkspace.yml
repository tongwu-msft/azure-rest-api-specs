### YamlMime:RESTOperation
uid: management.azure.com.servicemap.machines.listbyworkspace
name: List By Workspace
service: Service Map
groupName: Machines
apiVersion: 2015-11-01-preview
summary: Returns a collection of machines matching the specified conditions.  The returned collection represents either machines that are active/live during the specified interval  of time (`live=true` and `startTime`/`endTime` are specified) or that are known to have existed at or  some time prior to the specified point in time (`live=false` and `timestamp` is specified).
consumes:
- application/json
produces:
- application/json
paths:
- content: GET https://management.azure.com/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.OperationalInsights/workspaces/{workspaceName}/features/serviceMap/machines?api-version=2015-11-01-preview
- content: GET https://management.azure.com/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.OperationalInsights/workspaces/{workspaceName}/features/serviceMap/machines?api-version=2015-11-01-preview&live={live}&startTime={startTime}&endTime={endTime}&timestamp={timestamp}&$top={$top}
  isOptional: true
uriParameters:
- name: subscriptionId
  in: path
  isRequired: true
  description: Azure subscription identifier.
  types:
  - uid: string
- name: resourceGroupName
  in: path
  isRequired: true
  description: Resource group name within the specified subscriptionId.
  types:
  - uid: string
  pattern: '[a-zA-Z0-9_-]+'
- name: workspaceName
  in: path
  isRequired: true
  description: OMS workspace containing the resources of interest.
  types:
  - uid: string
  pattern: '[a-zA-Z0-9_][a-zA-Z0-9_-]+[a-zA-Z0-9_]'
- name: api-version
  in: query
  isRequired: true
  description: API version.
  types:
  - uid: string
- name: live
  in: query
  description: Specifies whether to return live resources (true) or inventory resources (false). Defaults to **true**. When retrieving live resources, the start time (`startTime`) and end time (`endTime`) of the desired interval should be included. When retrieving inventory resources, an optional timestamp (`timestamp`) parameter can be specified to return the version of each resource closest (not-after) that timestamp.
  types:
  - uid: boolean
- name: startTime
  in: query
  description: UTC date and time specifying the start time of an interval. When not specified the service uses DateTime.UtcNow - 10m
  types:
  - uid: string
  format: date-time
- name: endTime
  in: query
  description: UTC date and time specifying the end time of an interval. When not specified the service uses DateTime.UtcNow
  types:
  - uid: string
  format: date-time
- name: timestamp
  in: query
  description: UTC date and time specifying a time instance relative to which to evaluate each machine resource. Only applies when `live=false`. When not specified, the service uses DateTime.UtcNow.
  types:
  - uid: string
  format: date-time
- name: $top
  in: query
  description: Page size to use. When not specified, the default page size is 100 records.
  types:
  - uid: integer
  format: int32
responses:
- name: 200 OK
  description: The operation completed successfully.
  types:
  - uid: MachineCollection
- name: Other Status Codes
  description: An error occurred while processing the request. See the error.code parameter to identify the specific error.
  types:
  - uid: ErrorResponse
requestHeader: []
definitions:
- name: MachineCollection
  description: Collection of Machine resources.
  kind: object
  properties:
  - name: value
    description: Collection of Machine resources.
    types:
    - uid: Machine
      isArray: true
  - name: nextLink
    description: The URL to the next set of resources.
    types:
    - uid: string
- name: ErrorResponse
  description: An error response from the API.
  kind: object
  properties:
  - name: error
    description: Error information.
    types:
    - uid: Error
- name: Machine
  description: A machine resource represents a discovered computer system. It can be *monitored*, i.e., a Dependency Agent is running on it, or *discovered*, i.e., its existence was inferred by observing the data stream from monitored machines. As machines change, prior versions of the machine resource are preserved and available for access. A machine is live during an interval of time, if either its Dependency Agent has reported data during (parts) of that interval, or a Dependency agent running on other machines has reported activity associated with the machine.
  kind: object
  properties:
  - name: properties.timestamp
    description: UTC date and time when this resource was updated in the system.
    types:
    - uid: string
  - name: properties.monitoringState
    description: Specifies whether the machine is actively monitored or discovered.
    types:
    - uid: MonitoringState
  - name: properties.virtualizationState
    description: Specifies whether the machine is virtualized.
    types:
    - uid: VirtualizationState
  - name: properties.displayName
    description: Name to use for display purposes
    types:
    - uid: string
  - name: properties.computerName
    description: Name of the machine, e.g., server
    types:
    - uid: string
  - name: properties.fullyQualifiedDomainName
    description: Fully-qualified name of the machine, e.g., server.company.com
    types:
    - uid: string
  - name: properties.bootTime
    description: UTC date and time when the machine last booted
    types:
    - uid: string
  - name: properties.timezone
    description: Timezone of the machine.
    types:
    - uid: Timezone
  - name: properties.agent
    description: Dependency Agent configuration.
    types:
    - uid: AgentConfiguration
  - name: properties.resources
    description: Machine resources (memory, cpu, etc.).
    types:
    - uid: MachineResourcesConfiguration
  - name: properties.networking
    description: Network configuration (ips, gateways, dns, etc.)
    types:
    - uid: NetworkConfiguration
  - name: properties.operatingSystem
    description: Operating system information.
    types:
    - uid: OperatingSystemConfiguration
  - name: properties.virtualMachine
    description: Virtualization-related configuration. Present only when `virtualizationState` is `virtual`.
    types:
    - uid: VirtualMachineConfiguration
  - name: properties.hypervisor
    description: Hypervisor-related configuration. Present only when 'virtualizationState' is `hypervisor`.
    types:
    - uid: HypervisorConfiguration
  - name: properties.hosting
    description: Hosting-related configuration. Present if hosting information is discovered for the VM.
    types:
    - uid: AzureHostingConfiguration
    typesTitle: HostingConfiguration
  - name: etag
    description: Resource ETAG.
    types:
    - uid: string
  - name: kind
    description: Additional resource type qualifier.
    types:
    - uid: machine
    typesTitle: string
  - name: id
    isReadyOnly: true
    description: Resource identifier.
    types:
    - uid: string
  - name: type
    isReadyOnly: true
    description: Resource type.
    types:
    - uid: string
  - name: name
    isReadyOnly: true
    description: Resource name.
    types:
    - uid: string
- name: Error
  description: Error details.
  kind: object
  properties:
  - name: code
    description: Error code identifying the specific error.
    types:
    - uid: string
  - name: message
    description: Error message in the caller's locale.
    types:
    - uid: string
- name: MonitoringState
  description: Used to specify if a resources is monitored or discovered.
  kind: enum
  properties:
  - name: monitored
    types:
    - uid: string
  - name: discovered
    types:
    - uid: string
- name: VirtualizationState
  description: Specifies if the machine is physical, virtual, hypervisor, or unknown.
  kind: enum
  properties:
  - name: unknown
    types:
    - uid: string
  - name: physical
    types:
    - uid: string
  - name: virtual
    types:
    - uid: string
  - name: hypervisor
    types:
    - uid: string
- name: Timezone
  description: Describes a timezone.
  kind: object
  properties:
  - name: fullName
    description: Timezone full name.
    types:
    - uid: string
- name: AgentConfiguration
  description: Describes the configuration of the Dependency Agent installed on a machine.
  kind: object
  properties:
  - name: agentId
    description: Health Service Agent unique identifier.
    types:
    - uid: string
  - name: dependencyAgentId
    description: Dependency Agent unique identifier.
    types:
    - uid: string
  - name: dependencyAgentVersion
    description: Dependency Agent version number.
    types:
    - uid: string
  - name: dependencyAgentRevision
    description: Dependency Agent revision number.
    types:
    - uid: string
  - name: rebootStatus
    description: Specifies whether the machine has been rebooted since the Dependency Agent installation.
    types:
    - uid: MachineRebootStatus
  - name: clockGranularity
    description: Machine clock granularity in milliseconds.
    types:
    - uid: integer
- name: MachineResourcesConfiguration
  description: Describes the resources of a machine.
  kind: object
  properties:
  - name: physicalMemory
    description: Physical memory in megabytes (MB).
    types:
    - uid: integer
  - name: cpus
    description: Number of CPUs.
    types:
    - uid: integer
  - name: cpuSpeed
    description: CPU speed in megahertz (Mhz).
    types:
    - uid: integer
  - name: cpuSpeedAccuracy
    description: Describes the accuracy of the cpuSpeed field.
    types:
    - uid: Accuracy
- name: NetworkConfiguration
  description: Describes the network configuration of a machine.
  kind: object
  properties:
  - name: ipv4Interfaces
    description: IPv4 interfaces.
    types:
    - uid: Ipv4NetworkInterface
      isArray: true
  - name: ipv6Interfaces
    description: IPv6 interfaces.
    types:
    - uid: Ipv6NetworkInterface
      isArray: true
  - name: defaultIpv4Gateways
    description: Default IPv4 gateways.
    types:
    - uid: string
      isArray: true
  - name: macAddresses
    description: MAC addresses of all active network interfaces.
    types:
    - uid: string
      isArray: true
  - name: dnsNames
    description: DNS names associated with the machine.
    types:
    - uid: string
      isArray: true
- name: OperatingSystemConfiguration
  description: Describes the configuration of the operating system of a machine.
  kind: object
  properties:
  - name: family
    description: Windows, Linux, etc.
    types:
    - uid: OperatingSystemFamily
  - name: fullName
    description: Operating system full name.
    types:
    - uid: string
  - name: bitness
    description: Operating system bitness (32-bit or 64-bit).
    types:
    - uid: Bitness
- name: VirtualMachineConfiguration
  description: Describes the virtualizaton-related configuration of a machine.
  kind: object
  properties:
  - name: virtualMachineType
    description: Specifies the virtualization technology used by the machine (hyperv, vmware, etc.)
    types:
    - uid: VirtualMachineType
  - name: nativeMachineId
    description: The unique identifier of the virtual machine as reported by the underlying virtualization sytem.
    types:
    - uid: string
  - name: virtualMachineName
    description: The Name of the virtual machine.
    types:
    - uid: string
  - name: nativeHostMachineId
    description: The unique identifier of the host of this virtual machine as reported by the underlying virtualization system.
    types:
    - uid: string
- name: HypervisorConfiguration
  description: Describes the hypervisor configuration of a machine.
  kind: object
  properties:
  - name: hypervisorType
    description: Specifies the virtualization technology used by the hypervisor (hyperv, vmware, etc.)
    types:
    - uid: HypervisorType
  - name: nativeHostMachineId
    description: The unique identifier of the hypervisor machine as reported by the underlying virtualization system.
    types:
    - uid: string
- name: MachineRebootStatus
  description: Specifies if the machine has been rebooted since the installation of the dependency agent.
  kind: enum
  properties:
  - name: unknown
    types:
    - uid: string
  - name: rebooted
    types:
    - uid: string
  - name: notRebooted
    types:
    - uid: string
- name: Accuracy
  description: Specifies the accuracy of a computation.
  kind: enum
  properties:
  - name: actual
    types:
    - uid: string
  - name: estimated
    types:
    - uid: string
- name: Ipv4NetworkInterface
  description: Describes an IPv4 network interface.
  kind: object
  properties:
  - name: ipAddress
    description: IPv4 address.
    types:
    - uid: string
  - name: subnetMask
    description: IPv4 subnet mask.
    types:
    - uid: string
- name: Ipv6NetworkInterface
  description: Describes an IPv6 network interface.
  kind: object
  properties:
  - name: ipAddress
    description: IPv6 address.
    types:
    - uid: string
- name: OperatingSystemFamily
  description: Specifies the operating system family, e.g., Linux, Windows, etc.
  kind: enum
  properties:
  - name: unknown
    types:
    - uid: string
  - name: windows
    types:
    - uid: string
  - name: linux
    types:
    - uid: string
  - name: solaris
    types:
    - uid: string
  - name: aix
    types:
    - uid: string
- name: Bitness
  description: Specifies the bitness of a machine or process.
  kind: enum
  properties:
  - name: 32bit
    types:
    - uid: string
  - name: 64bit
    types:
    - uid: string
- name: VirtualMachineType
  description: Specifies the virtualization type of a machine.
  kind: enum
  properties:
  - name: unknown
    types:
    - uid: string
  - name: hyperv
    types:
    - uid: string
  - name: ldom
    types:
    - uid: string
  - name: lpar
    types:
    - uid: string
  - name: vmware
    types:
    - uid: string
  - name: virtualPc
    types:
    - uid: string
  - name: xen
    types:
    - uid: string
- name: HypervisorType
  description: Specifies the hypervisor type of a machine.
  kind: enum
  properties:
  - name: unknown
    types:
    - uid: string
  - name: hyperv
    types:
    - uid: string
- name: AzureHostingConfiguration
  description: Provides information about how a machine is hosted in Azure
  kind: object
  properties:
  - name: vmId
    description: Virtual Machine ID (unique identifier).
    types:
    - uid: string
  - name: location
    description: Geographical location of the VM.
    types:
    - uid: string
  - name: name
    description: Machine name according to the hosting provider.
    types:
    - uid: string
  - name: size
    description: Size of the VM.
    types:
    - uid: string
  - name: updateDomain
    description: Update domain of the VM.
    types:
    - uid: string
  - name: faultDomain
    description: Fault domain of the VM.
    types:
    - uid: string
  - name: subscriptionId
    description: Subscription ID.
    types:
    - uid: string
  - name: resourceGroup
    description: Resource group name within the specified subscription.
    types:
    - uid: string
  - name: resourceId
    description: Unique identifier of the resource.
    types:
    - uid: string
  - name: image
    description: Image of the machine.
    types:
    - uid: ImageConfiguration
  - name: cloudService
    description: Contains information about machines hosted as an Azure Cloud Service
    types:
    - uid: AzureCloudServiceConfiguration
  - name: vmScaleSet
    description: Contains information about machines hosted as an Azure Virtual Machine Scale Set
    types:
    - uid: AzureVmScaleSetConfiguration
  - name: serviceFabricCluster
    description: Contains information about machines that belong an Azure Service Fabric Cluster
    types:
    - uid: AzureServiceFabricClusterConfiguration
  - name: provider
    description: The hosting provider of the VM.
    types:
    - uid: azure
    typesTitle: enum
  - name: kind
    description: Additional hostring configuration type qualifier.
    types:
    - uid: provider:azure
    typesTitle: string
- name: ImageConfiguration
  description: Describes the VM image of a machine.
  kind: object
  properties:
  - name: publisher
    description: Publisher of the VM image.
    types:
    - uid: string
  - name: offering
    description: Offering of the VM image.
    types:
    - uid: string
  - name: sku
    description: SKU of the VM image.
    types:
    - uid: string
  - name: version
    description: Version of the VM image.
    types:
    - uid: string
- name: AzureCloudServiceConfiguration
  description: Describes an Azure Cloud Service
  kind: object
  properties:
  - name: name
    description: Cloud Service name
    types:
    - uid: string
  - name: instanceId
    description: Cloud Service instance identifier
    types:
    - uid: string
  - name: deployment
    description: Cloud Service deployment identifier
    types:
    - uid: string
  - name: roleName
    description: Cloud Service role name
    types:
    - uid: string
  - name: roleType
    description: Used to specify type of an Azure Cloud Service role
    types:
    - uid: AzureCloudServiceRoleType
- name: AzureVmScaleSetConfiguration
  description: Describes an Azure Virtual Machine Scale Set
  kind: object
  properties:
  - name: name
    description: Virtual Machine Scale Set name
    types:
    - uid: string
  - name: instanceId
    description: Virtual Machine Scale Set instance identifier
    types:
    - uid: string
  - name: deployment
    description: Virtual Machine Scale Set deployment identifier
    types:
    - uid: string
  - name: resourceId
    description: Unique identifier of the resource.
    types:
    - uid: string
- name: AzureServiceFabricClusterConfiguration
  description: Describes an Azure Service Fabric Cluster
  kind: object
  properties:
  - name: name
    description: Service Fabric cluster name.
    types:
    - uid: string
  - name: clusterId
    description: Service Fabric cluster indentifier.
    types:
    - uid: string
- name: AzureCloudServiceRoleType
  description: Used to specify type of an Azure Cloud Service role
  kind: enum
  properties:
  - name: unknown
    types:
    - uid: string
  - name: worker
    types:
    - uid: string
  - name: web
    types:
    - uid: string
examples:
- name: SMMachinesListByWorkspaceGet
  request:
    uri: GET https://management.azure.com/subscriptions/63BE4E24-FDF0-4E9C-9342-6A5D5A359722/resourceGroups/rg-sm/providers/Microsoft.OperationalInsights/workspaces/D6F79F14-E563-469B-84B5-9286D2803B2F/features/serviceMap/machines?api-version=2015-11-01-preview&live=False&timestamp=1/5/2018 9:36:07 PM
  responses:
  - statusCode: "200"
    body: >-
      {
        "value": [
          {
            "kind": "machine",
            "properties": {
              "monitoringState": "monitored",
              "virtualizationState": "virtual",
              "displayName": "name1",
              "computerName": "name1",
              "fullyQualifiedDomainName": "name1.foo.com",
              "bootTime": "2018-01-05T21:36:07.009Z",
              "timezone": {
                "fullName": "some zone"
              },
              "agent": {
                "agentId": "0ec98f01-4f24-4a46-abfa-278571e916dc",
                "dependencyAgentId": "d742e84a-e114-4b3d-b3ba-160d5cf4129b",
                "dependencyAgentVersion": "2.2.2.2",
                "dependencyAgentRevision": "1234",
                "rebootStatus": "rebooted",
                "clockGranularity": 1
              },
              "resources": {
                "physicalMemory": 4096,
                "cpus": 2,
                "cpuSpeed": 2000,
                "cpuSpeedAccuracy": "actual"
              },
              "networking": {
                "ipv4Interfaces": [
                  {
                    "ipAddress": "1.1.1.1",
                    "subnetMask": "255.255.255.0"
                  },
                  {
                    "ipAddress": "1.1.1.3",
                    "subnetMask": "255.255.255.0"
                  },
                  {
                    "ipAddress": "1.1.1.4",
                    "subnetMask": "255.255.255.0"
                  }
                ],
                "ipv6Interfaces": [
                  {
                    "ipAddress": "2602:30a:2cb8:4830:414f:a76e:59e4:4fa7"
                  }
                ],
                "defaultIpv4Gateways": [
                  "1.1.1.254",
                  "1.1.1.255"
                ],
                "macAddresses": [
                  "64:00:6A:65:E4:71"
                ],
                "dnsNames": [
                  "name1",
                  "name2",
                  "name3"
                ]
              },
              "operatingSystem": {
                "family": "windows",
                "fullName": "Microsoft Windows [Version 10.0.10586]",
                "bitness": "64bit"
              },
              "virtualMachine": {
                "virtualMachineType": "hyperv",
                "nativeMachineId": "vm-id",
                "virtualMachineName": "vm-name-1",
                "nativeHostMachineId": "physical-machine-id"
              },
              "hosting": {
                "kind": "provider:azure",
                "vmId": "12345",
                "location": "Earth",
                "name": "AHostedVm",
                "size": "SuperBig",
                "updateDomain": "1",
                "faultDomain": "1",
                "subscriptionId": "123123",
                "resourceGroup": "myResourceGroup",
                "resourceId": "TestResourceId",
                "image": {
                  "publisher": "AnImagePublisher",
                  "offering": "SuperFast",
                  "sku": "10101010",
                  "version": "1.0"
                },
                "cloudService": {
                  "name": "MyCloudService",
                  "instanceId": "Instance#1",
                  "deployment": "cca1e83c-e0b8-454a-b39c-581ef1211c01",
                  "roleName": "MyRoleName",
                  "roleType": "web"
                },
                "vmScaleSet": {
                  "name": "MyVMSS",
                  "instanceId": "VmmssInstance#1",
                  "deployment": "3eaa0b8c-65e4-4c9f-8cb8-d77b9bce910f",
                  "resourceId": "TestResourceId"
                },
                "serviceFabricCluster": {
                  "name": "MyClusterName",
                  "clusterId": "60bf38dd-4204-40ac-b4f6-b94065e957ea"
                },
                "provider": "azure"
              }
            },
            "id": "/subscriptions/63BE4E24-FDF0-4E9C-9342-6A5D5A359722/resourceGroups/rg-sm/providers/Microsoft.OperationalInsights/workspaces/D6F79F14-E563-469B-84B5-9286D2803B2F/machines/m-0ec98f01-4f24-4a46-abfa-278571e916dc",
            "type": "Microsoft.OperationalInsights/workspaces/features/machines",
            "name": "m-0ec98f01-4f24-4a46-abfa-278571e916dc"
          },
          {
            "kind": "machine",
            "properties": {
              "monitoringState": "monitored",
              "virtualizationState": "virtual",
              "displayName": "name1",
              "computerName": "name1",
              "fullyQualifiedDomainName": "name1.foo.com",
              "bootTime": "2018-01-05T21:30:47.913Z",
              "timezone": {
                "fullName": "some zone"
              },
              "agent": {
                "agentId": "1e295878-4b4c-46ac-91d1-08e5fbd65361",
                "dependencyAgentId": "3e285a31-7988-423b-a55b-8f5610ff0b12",
                "dependencyAgentVersion": "2.2.2.2",
                "dependencyAgentRevision": "1234",
                "rebootStatus": "rebooted",
                "clockGranularity": 1
              },
              "resources": {
                "physicalMemory": 4096,
                "cpus": 2,
                "cpuSpeed": 2000,
                "cpuSpeedAccuracy": "actual"
              },
              "networking": {
                "ipv4Interfaces": [
                  {
                    "ipAddress": "1.1.1.1",
                    "subnetMask": "255.255.255.0"
                  },
                  {
                    "ipAddress": "1.1.1.3",
                    "subnetMask": "255.255.255.0"
                  },
                  {
                    "ipAddress": "1.1.1.4",
                    "subnetMask": "255.255.255.0"
                  }
                ],
                "ipv6Interfaces": [
                  {
                    "ipAddress": "2602:30a:2cb8:4830:414f:a76e:59e4:4fa7"
                  }
                ],
                "defaultIpv4Gateways": [
                  "1.1.1.254",
                  "1.1.1.255"
                ],
                "macAddresses": [
                  "64:00:6A:65:E4:71"
                ],
                "dnsNames": [
                  "name1",
                  "name2",
                  "name3"
                ]
              },
              "operatingSystem": {
                "family": "windows",
                "fullName": "Microsoft Windows [Version 10.0.10586]",
                "bitness": "64bit"
              },
              "virtualMachine": {
                "virtualMachineType": "hyperv",
                "nativeMachineId": "vm-id",
                "virtualMachineName": "vm-name-1",
                "nativeHostMachineId": "physical-machine-id"
              },
              "hosting": {
                "kind": "provider:azure",
                "vmId": "12345",
                "location": "Earth",
                "name": "AHostedVm",
                "size": "SuperBig",
                "updateDomain": "1",
                "faultDomain": "1",
                "subscriptionId": "123123",
                "resourceGroup": "myResourceGroup",
                "resourceId": "TestResourceId",
                "image": {
                  "publisher": "AnImagePublisher",
                  "offering": "SuperFast",
                  "sku": "10101010",
                  "version": "1.0"
                },
                "cloudService": {
                  "name": "MyCloudService",
                  "instanceId": "Instance#1",
                  "deployment": "8f19c2b2-2a98-42cf-b1bc-751fee767fc9",
                  "roleName": "MyRoleName",
                  "roleType": "web"
                },
                "vmScaleSet": {
                  "name": "MyVMSS",
                  "instanceId": "VmmssInstance#1",
                  "deployment": "7b375bd0-69d7-4088-8211-e71c30b41f10",
                  "resourceId": "TestResourceId"
                },
                "serviceFabricCluster": {
                  "name": "MyClusterName",
                  "clusterId": "4bf527ba-20cc-4537-951d-c78664e61938"
                },
                "provider": "azure"
              }
            },
            "id": "/subscriptions/63BE4E24-FDF0-4E9C-9342-6A5D5A359722/resourceGroups/rg-sm/providers/Microsoft.OperationalInsights/workspaces/D6F79F14-E563-469B-84B5-9286D2803B2F/machines/m-1e295878-4b4c-46ac-91d1-08e5fbd65361",
            "type": "Microsoft.OperationalInsights/workspaces/features/machines",
            "name": "m-1e295878-4b4c-46ac-91d1-08e5fbd65361"
          },
          {
            "kind": "machine",
            "properties": {
              "monitoringState": "monitored",
              "virtualizationState": "virtual",
              "displayName": "name1",
              "computerName": "name1",
              "fullyQualifiedDomainName": "name1.foo.com",
              "bootTime": "2018-01-05T21:30:47.913Z",
              "timezone": {
                "fullName": "some zone"
              },
              "agent": {
                "agentId": "6277eb91-c8de-4696-9f5e-d0658261422c",
                "dependencyAgentId": "9d31bd18-720a-4ff9-8952-bdfec7872421",
                "dependencyAgentVersion": "2.2.2.2",
                "dependencyAgentRevision": "1234",
                "rebootStatus": "rebooted",
                "clockGranularity": 1
              },
              "resources": {
                "physicalMemory": 4096,
                "cpus": 2,
                "cpuSpeed": 2000,
                "cpuSpeedAccuracy": "actual"
              },
              "networking": {
                "ipv4Interfaces": [
                  {
                    "ipAddress": "1.1.1.1",
                    "subnetMask": "255.255.255.0"
                  },
                  {
                    "ipAddress": "1.1.1.3",
                    "subnetMask": "255.255.255.0"
                  },
                  {
                    "ipAddress": "1.1.1.4",
                    "subnetMask": "255.255.255.0"
                  }
                ],
                "ipv6Interfaces": [
                  {
                    "ipAddress": "2602:30a:2cb8:4830:414f:a76e:59e4:4fa7"
                  }
                ],
                "defaultIpv4Gateways": [
                  "1.1.1.254",
                  "1.1.1.255"
                ],
                "macAddresses": [
                  "64:00:6A:65:E4:71"
                ],
                "dnsNames": [
                  "name1",
                  "name2",
                  "name3"
                ]
              },
              "operatingSystem": {
                "family": "windows",
                "fullName": "Microsoft Windows [Version 10.0.10586]",
                "bitness": "64bit"
              },
              "virtualMachine": {
                "virtualMachineType": "hyperv",
                "nativeMachineId": "vm-id",
                "virtualMachineName": "vm-name-1",
                "nativeHostMachineId": "physical-machine-id"
              },
              "hosting": {
                "kind": "provider:azure",
                "vmId": "12345",
                "location": "Earth",
                "name": "AHostedVm",
                "size": "SuperBig",
                "updateDomain": "1",
                "faultDomain": "1",
                "subscriptionId": "123123",
                "resourceGroup": "myResourceGroup",
                "resourceId": "TestResourceId",
                "image": {
                  "publisher": "AnImagePublisher",
                  "offering": "SuperFast",
                  "sku": "10101010",
                  "version": "1.0"
                },
                "cloudService": {
                  "name": "MyCloudService",
                  "instanceId": "Instance#1",
                  "deployment": "cd5943b5-d731-4389-a315-cb723fc2e125",
                  "roleName": "MyRoleName",
                  "roleType": "web"
                },
                "vmScaleSet": {
                  "name": "MyVMSS",
                  "instanceId": "VmmssInstance#1",
                  "deployment": "45eb057c-dcd9-4a98-ba4a-1f20e89cd661",
                  "resourceId": "TestResourceId"
                },
                "serviceFabricCluster": {
                  "name": "MyClusterName",
                  "clusterId": "db085678-b544-497c-bde2-165f9ee269fa"
                },
                "provider": "azure"
              }
            },
            "id": "/subscriptions/63BE4E24-FDF0-4E9C-9342-6A5D5A359722/resourceGroups/rg-sm/providers/Microsoft.OperationalInsights/workspaces/D6F79F14-E563-469B-84B5-9286D2803B2F/machines/m-6277eb91-c8de-4696-9f5e-d0658261422c",
            "type": "Microsoft.OperationalInsights/workspaces/features/machines",
            "name": "m-6277eb91-c8de-4696-9f5e-d0658261422c"
          },
          {
            "kind": "machine",
            "properties": {
              "monitoringState": "monitored",
              "virtualizationState": "virtual",
              "displayName": "name1",
              "computerName": "name1",
              "fullyQualifiedDomainName": "name1.foo.com",
              "bootTime": "2018-01-05T21:30:22.372Z",
              "timezone": {
                "fullName": "some zone"
              },
              "agent": {
                "agentId": "8811e3c4-15db-45d3-8b76-23da80efeff3",
                "dependencyAgentId": "a04d8f0b-df9a-46cb-a212-29c7576fd75d",
                "dependencyAgentVersion": "2.2.2.2",
                "dependencyAgentRevision": "1234",
                "rebootStatus": "rebooted",
                "clockGranularity": 1
              },
              "resources": {
                "physicalMemory": 4096,
                "cpus": 2,
                "cpuSpeed": 2000,
                "cpuSpeedAccuracy": "actual"
              },
              "networking": {
                "ipv4Interfaces": [
                  {
                    "ipAddress": "1.1.1.1",
                    "subnetMask": "255.255.255.0"
                  },
                  {
                    "ipAddress": "1.1.1.3",
                    "subnetMask": "255.255.255.0"
                  },
                  {
                    "ipAddress": "1.1.1.4",
                    "subnetMask": "255.255.255.0"
                  }
                ],
                "ipv6Interfaces": [
                  {
                    "ipAddress": "2602:30a:2cb8:4830:414f:a76e:59e4:4fa7"
                  }
                ],
                "defaultIpv4Gateways": [
                  "1.1.1.254",
                  "1.1.1.255"
                ],
                "macAddresses": [
                  "64:00:6A:65:E4:71"
                ],
                "dnsNames": [
                  "name1",
                  "name2",
                  "name3"
                ]
              },
              "operatingSystem": {
                "family": "windows",
                "fullName": "Microsoft Windows [Version 10.0.10586]",
                "bitness": "64bit"
              },
              "virtualMachine": {
                "virtualMachineType": "hyperv",
                "nativeMachineId": "vm-id",
                "virtualMachineName": "vm-name-1",
                "nativeHostMachineId": "physical-machine-id"
              },
              "hosting": {
                "kind": "provider:azure",
                "vmId": "12345",
                "location": "Earth",
                "name": "AHostedVm",
                "size": "SuperBig",
                "updateDomain": "1",
                "faultDomain": "1",
                "subscriptionId": "123123",
                "resourceGroup": "myResourceGroup",
                "resourceId": "TestResourceId",
                "image": {
                  "publisher": "AnImagePublisher",
                  "offering": "SuperFast",
                  "sku": "10101010",
                  "version": "1.0"
                },
                "cloudService": {
                  "name": "MyCloudService",
                  "instanceId": "Instance#1",
                  "deployment": "79e84f1b-2172-490e-9fd4-6119d6678d95",
                  "roleName": "MyRoleName",
                  "roleType": "web"
                },
                "vmScaleSet": {
                  "name": "MyVMSS",
                  "instanceId": "VmmssInstance#1",
                  "deployment": "f24d41a8-2f09-4f29-b2b1-65a4a7277297",
                  "resourceId": "TestResourceId"
                },
                "serviceFabricCluster": {
                  "name": "MyClusterName",
                  "clusterId": "832578ab-2d97-4412-babd-4976d3f144c2"
                },
                "provider": "azure"
              }
            },
            "id": "/subscriptions/63BE4E24-FDF0-4E9C-9342-6A5D5A359722/resourceGroups/rg-sm/providers/Microsoft.OperationalInsights/workspaces/D6F79F14-E563-469B-84B5-9286D2803B2F/machines/m-8811e3c4-15db-45d3-8b76-23da80efeff3",
            "type": "Microsoft.OperationalInsights/workspaces/features/machines",
            "name": "m-8811e3c4-15db-45d3-8b76-23da80efeff3"
          },
          {
            "kind": "machine",
            "properties": {
              "monitoringState": "monitored",
              "virtualizationState": "virtual",
              "displayName": "name1",
              "computerName": "name1",
              "fullyQualifiedDomainName": "name1.foo.com",
              "bootTime": "2018-01-05T21:30:47.913Z",
              "timezone": {
                "fullName": "some zone"
              },
              "agent": {
                "agentId": "55d6b873-b60c-4091-b735-0077f04c3b88",
                "dependencyAgentId": "125f3f0b-1e2d-4045-a6d9-1cd12fb96b61",
                "dependencyAgentVersion": "2.2.2.2",
                "dependencyAgentRevision": "1234",
                "rebootStatus": "rebooted",
                "clockGranularity": 1
              },
              "resources": {
                "physicalMemory": 4096,
                "cpus": 2,
                "cpuSpeed": 2000,
                "cpuSpeedAccuracy": "actual"
              },
              "networking": {
                "ipv4Interfaces": [
                  {
                    "ipAddress": "1.1.1.1",
                    "subnetMask": "255.255.255.0"
                  },
                  {
                    "ipAddress": "1.1.1.3",
                    "subnetMask": "255.255.255.0"
                  },
                  {
                    "ipAddress": "1.1.1.4",
                    "subnetMask": "255.255.255.0"
                  }
                ],
                "ipv6Interfaces": [
                  {
                    "ipAddress": "2602:30a:2cb8:4830:414f:a76e:59e4:4fa7"
                  }
                ],
                "defaultIpv4Gateways": [
                  "1.1.1.254",
                  "1.1.1.255"
                ],
                "macAddresses": [
                  "64:00:6A:65:E4:71"
                ],
                "dnsNames": [
                  "name1",
                  "name2",
                  "name3"
                ]
              },
              "operatingSystem": {
                "family": "windows",
                "fullName": "Microsoft Windows [Version 10.0.10586]",
                "bitness": "64bit"
              },
              "virtualMachine": {
                "virtualMachineType": "hyperv",
                "nativeMachineId": "vm-id",
                "virtualMachineName": "vm-name-1",
                "nativeHostMachineId": "physical-machine-id"
              },
              "hosting": {
                "kind": "provider:azure",
                "vmId": "12345",
                "location": "Earth",
                "name": "AHostedVm",
                "size": "SuperBig",
                "updateDomain": "1",
                "faultDomain": "1",
                "subscriptionId": "123123",
                "resourceGroup": "myResourceGroup",
                "resourceId": "TestResourceId",
                "image": {
                  "publisher": "AnImagePublisher",
                  "offering": "SuperFast",
                  "sku": "10101010",
                  "version": "1.0"
                },
                "cloudService": {
                  "name": "MyCloudService",
                  "instanceId": "Instance#1",
                  "deployment": "e1bf385f-b092-4a6d-abc4-d2a106fda204",
                  "roleName": "MyRoleName",
                  "roleType": "web"
                },
                "vmScaleSet": {
                  "name": "MyVMSS",
                  "instanceId": "VmmssInstance#1",
                  "deployment": "4687fc36-e40b-4c40-bdee-5727367c0777",
                  "resourceId": "TestResourceId"
                },
                "serviceFabricCluster": {
                  "name": "MyClusterName",
                  "clusterId": "e1e97460-3f12-4511-b885-c561a1476217"
                },
                "provider": "azure"
              }
            },
            "id": "/subscriptions/63BE4E24-FDF0-4E9C-9342-6A5D5A359722/resourceGroups/rg-sm/providers/Microsoft.OperationalInsights/workspaces/D6F79F14-E563-469B-84B5-9286D2803B2F/machines/m-55d6b873-b60c-4091-b735-0077f04c3b88",
            "type": "Microsoft.OperationalInsights/workspaces/features/machines",
            "name": "m-55d6b873-b60c-4091-b735-0077f04c3b88"
          },
          {
            "kind": "machine",
            "properties": {
              "monitoringState": "monitored",
              "virtualizationState": "virtual",
              "displayName": "name1",
              "computerName": "name1",
              "fullyQualifiedDomainName": "name1.foo.com",
              "bootTime": "2018-01-05T21:30:22.372Z",
              "timezone": {
                "fullName": "some zone"
              },
              "agent": {
                "agentId": "29f030f7-d41c-4474-ad09-2271cbf18cfb",
                "dependencyAgentId": "5e05f099-8ecd-44d3-8147-08088270f1c8",
                "dependencyAgentVersion": "2.2.2.2",
                "dependencyAgentRevision": "1234",
                "rebootStatus": "rebooted",
                "clockGranularity": 1
              },
              "resources": {
                "physicalMemory": 4096,
                "cpus": 2,
                "cpuSpeed": 2000,
                "cpuSpeedAccuracy": "actual"
              },
              "networking": {
                "ipv4Interfaces": [
                  {
                    "ipAddress": "1.1.1.1",
                    "subnetMask": "255.255.255.0"
                  },
                  {
                    "ipAddress": "1.1.1.3",
                    "subnetMask": "255.255.255.0"
                  },
                  {
                    "ipAddress": "1.1.1.4",
                    "subnetMask": "255.255.255.0"
                  }
                ],
                "ipv6Interfaces": [
                  {
                    "ipAddress": "2602:30a:2cb8:4830:414f:a76e:59e4:4fa7"
                  }
                ],
                "defaultIpv4Gateways": [
                  "1.1.1.254",
                  "1.1.1.255"
                ],
                "macAddresses": [
                  "64:00:6A:65:E4:71"
                ],
                "dnsNames": [
                  "name1",
                  "name2",
                  "name3"
                ]
              },
              "operatingSystem": {
                "family": "windows",
                "fullName": "Microsoft Windows [Version 10.0.10586]",
                "bitness": "64bit"
              },
              "virtualMachine": {
                "virtualMachineType": "hyperv",
                "nativeMachineId": "vm-id",
                "virtualMachineName": "vm-name-1",
                "nativeHostMachineId": "physical-machine-id"
              },
              "hosting": {
                "kind": "provider:azure",
                "vmId": "12345",
                "location": "Earth",
                "name": "AHostedVm",
                "size": "SuperBig",
                "updateDomain": "1",
                "faultDomain": "1",
                "subscriptionId": "123123",
                "resourceGroup": "myResourceGroup",
                "resourceId": "TestResourceId",
                "image": {
                  "publisher": "AnImagePublisher",
                  "offering": "SuperFast",
                  "sku": "10101010",
                  "version": "1.0"
                },
                "cloudService": {
                  "name": "MyCloudService",
                  "instanceId": "Instance#1",
                  "deployment": "365102e6-1843-4f88-99b2-ec398c2b9ed2",
                  "roleName": "MyRoleName",
                  "roleType": "web"
                },
                "vmScaleSet": {
                  "name": "MyVMSS",
                  "instanceId": "VmmssInstance#1",
                  "deployment": "4d912177-543c-4539-a185-3b47c52c6ca4",
                  "resourceId": "TestResourceId"
                },
                "serviceFabricCluster": {
                  "name": "MyClusterName",
                  "clusterId": "7a9dea89-0dfa-45d8-b984-a0a645c3b6a0"
                },
                "provider": "azure"
              }
            },
            "id": "/subscriptions/63BE4E24-FDF0-4E9C-9342-6A5D5A359722/resourceGroups/rg-sm/providers/Microsoft.OperationalInsights/workspaces/D6F79F14-E563-469B-84B5-9286D2803B2F/machines/m-29f030f7-d41c-4474-ad09-2271cbf18cfb",
            "type": "Microsoft.OperationalInsights/workspaces/features/machines",
            "name": "m-29f030f7-d41c-4474-ad09-2271cbf18cfb"
          },
          {
            "kind": "machine",
            "properties": {
              "monitoringState": "monitored",
              "virtualizationState": "virtual",
              "displayName": "name1",
              "computerName": "name1",
              "fullyQualifiedDomainName": "name1.foo.com",
              "bootTime": "2018-01-05T21:30:47.913Z",
              "timezone": {
                "fullName": "some zone"
              },
              "agent": {
                "agentId": "f39c1cbe-1d5d-4c3f-8963-26a00b57b099",
                "dependencyAgentId": "aa0be2b5-5faf-43d2-a060-de7d7fe37c4b",
                "dependencyAgentVersion": "2.2.2.2",
                "dependencyAgentRevision": "1234",
                "rebootStatus": "rebooted",
                "clockGranularity": 1
              },
              "resources": {
                "physicalMemory": 4096,
                "cpus": 2,
                "cpuSpeed": 2000,
                "cpuSpeedAccuracy": "actual"
              },
              "networking": {
                "ipv4Interfaces": [
                  {
                    "ipAddress": "1.1.1.1",
                    "subnetMask": "255.255.255.0"
                  },
                  {
                    "ipAddress": "1.1.1.3",
                    "subnetMask": "255.255.255.0"
                  },
                  {
                    "ipAddress": "1.1.1.4",
                    "subnetMask": "255.255.255.0"
                  }
                ],
                "ipv6Interfaces": [
                  {
                    "ipAddress": "2602:30a:2cb8:4830:414f:a76e:59e4:4fa7"
                  }
                ],
                "defaultIpv4Gateways": [
                  "1.1.1.254",
                  "1.1.1.255"
                ],
                "macAddresses": [
                  "64:00:6A:65:E4:71"
                ],
                "dnsNames": [
                  "name1",
                  "name2",
                  "name3"
                ]
              },
              "operatingSystem": {
                "family": "windows",
                "fullName": "Microsoft Windows [Version 10.0.10586]",
                "bitness": "64bit"
              },
              "virtualMachine": {
                "virtualMachineType": "hyperv",
                "nativeMachineId": "vm-id",
                "virtualMachineName": "vm-name-1",
                "nativeHostMachineId": "physical-machine-id"
              },
              "hosting": {
                "kind": "provider:azure",
                "vmId": "12345",
                "location": "Earth",
                "name": "AHostedVm",
                "size": "SuperBig",
                "updateDomain": "1",
                "faultDomain": "1",
                "subscriptionId": "123123",
                "resourceGroup": "myResourceGroup",
                "resourceId": "TestResourceId",
                "image": {
                  "publisher": "AnImagePublisher",
                  "offering": "SuperFast",
                  "sku": "10101010",
                  "version": "1.0"
                },
                "cloudService": {
                  "name": "MyCloudService",
                  "instanceId": "Instance#1",
                  "deployment": "623b84ba-0219-41af-b839-91acc23ec8e6",
                  "roleName": "MyRoleName",
                  "roleType": "web"
                },
                "vmScaleSet": {
                  "name": "MyVMSS",
                  "instanceId": "VmmssInstance#1",
                  "deployment": "045ed792-6d9f-4798-94a1-9b6e32f5449a",
                  "resourceId": "TestResourceId"
                },
                "serviceFabricCluster": {
                  "name": "MyClusterName",
                  "clusterId": "e6ab7207-0446-4a61-af18-a2f2fc43ebcb"
                },
                "provider": "azure"
              }
            },
            "id": "/subscriptions/63BE4E24-FDF0-4E9C-9342-6A5D5A359722/resourceGroups/rg-sm/providers/Microsoft.OperationalInsights/workspaces/D6F79F14-E563-469B-84B5-9286D2803B2F/machines/m-f39c1cbe-1d5d-4c3f-8963-26a00b57b099",
            "type": "Microsoft.OperationalInsights/workspaces/features/machines",
            "name": "m-f39c1cbe-1d5d-4c3f-8963-26a00b57b099"
          },
          {
            "kind": "machine",
            "properties": {
              "monitoringState": "monitored",
              "virtualizationState": "virtual",
              "displayName": "name1",
              "computerName": "name1",
              "fullyQualifiedDomainName": "name1.foo.com",
              "bootTime": "2018-01-05T21:36:07.009Z",
              "timezone": {
                "fullName": "some zone"
              },
              "agent": {
                "agentId": "a57565a4-beaf-4c87-8a36-8d209d14cf9c",
                "dependencyAgentId": "5471c74d-7d9d-4e18-b23f-fc523f5e0d68",
                "dependencyAgentVersion": "2.2.2.2",
                "dependencyAgentRevision": "1234",
                "rebootStatus": "rebooted",
                "clockGranularity": 1
              },
              "resources": {
                "physicalMemory": 4096,
                "cpus": 2,
                "cpuSpeed": 2000,
                "cpuSpeedAccuracy": "actual"
              },
              "networking": {
                "ipv4Interfaces": [
                  {
                    "ipAddress": "1.1.1.1",
                    "subnetMask": "255.255.255.0"
                  },
                  {
                    "ipAddress": "1.1.1.3",
                    "subnetMask": "255.255.255.0"
                  },
                  {
                    "ipAddress": "1.1.1.4",
                    "subnetMask": "255.255.255.0"
                  }
                ],
                "ipv6Interfaces": [
                  {
                    "ipAddress": "2602:30a:2cb8:4830:414f:a76e:59e4:4fa7"
                  }
                ],
                "defaultIpv4Gateways": [
                  "1.1.1.254",
                  "1.1.1.255"
                ],
                "macAddresses": [
                  "64:00:6A:65:E4:71"
                ],
                "dnsNames": [
                  "name1",
                  "name2",
                  "name3"
                ]
              },
              "operatingSystem": {
                "family": "windows",
                "fullName": "Microsoft Windows [Version 10.0.10586]",
                "bitness": "64bit"
              },
              "virtualMachine": {
                "virtualMachineType": "hyperv",
                "nativeMachineId": "vm-id",
                "virtualMachineName": "vm-name-1",
                "nativeHostMachineId": "physical-machine-id"
              },
              "hosting": {
                "kind": "provider:azure",
                "vmId": "12345",
                "location": "Earth",
                "name": "AHostedVm",
                "size": "SuperBig",
                "updateDomain": "1",
                "faultDomain": "1",
                "subscriptionId": "123123",
                "resourceGroup": "myResourceGroup",
                "resourceId": "TestResourceId",
                "image": {
                  "publisher": "AnImagePublisher",
                  "offering": "SuperFast",
                  "sku": "10101010",
                  "version": "1.0"
                },
                "cloudService": {
                  "name": "MyCloudService",
                  "instanceId": "Instance#1",
                  "deployment": "f4d4bd5e-11ba-4971-8c5c-eb4553042b43",
                  "roleName": "MyRoleName",
                  "roleType": "web"
                },
                "vmScaleSet": {
                  "name": "MyVMSS",
                  "instanceId": "VmmssInstance#1",
                  "deployment": "92e6c240-ba09-45ab-8bb3-bcc7b233c197",
                  "resourceId": "TestResourceId"
                },
                "serviceFabricCluster": {
                  "name": "MyClusterName",
                  "clusterId": "d5563a08-0d72-4e56-80a1-8c0d3888fa72"
                },
                "provider": "azure"
              }
            },
            "id": "/subscriptions/63BE4E24-FDF0-4E9C-9342-6A5D5A359722/resourceGroups/rg-sm/providers/Microsoft.OperationalInsights/workspaces/D6F79F14-E563-469B-84B5-9286D2803B2F/machines/m-a57565a4-beaf-4c87-8a36-8d209d14cf9c",
            "type": "Microsoft.OperationalInsights/workspaces/features/machines",
            "name": "m-a57565a4-beaf-4c87-8a36-8d209d14cf9c"
          },
          {
            "kind": "machine",
            "properties": {
              "monitoringState": "monitored",
              "virtualizationState": "virtual",
              "displayName": "new name",
              "computerName": "new name",
              "fullyQualifiedDomainName": "name1.foo.com",
              "bootTime": "2018-01-05T21:30:47.913Z",
              "timezone": {
                "fullName": "some zone"
              },
              "agent": {
                "agentId": "92371907-1ea4-4e4b-9538-8754876c1fa3",
                "dependencyAgentId": "fb8ebef9-e01a-4a00-a264-879fe4b33632",
                "dependencyAgentVersion": "2.2.2.2",
                "dependencyAgentRevision": "1234",
                "rebootStatus": "rebooted",
                "clockGranularity": 1
              },
              "resources": {
                "physicalMemory": 4096,
                "cpus": 2,
                "cpuSpeed": 2000,
                "cpuSpeedAccuracy": "actual"
              },
              "networking": {
                "ipv4Interfaces": [
                  {
                    "ipAddress": "1.1.1.1",
                    "subnetMask": "255.255.255.0"
                  },
                  {
                    "ipAddress": "1.1.1.3",
                    "subnetMask": "255.255.255.0"
                  },
                  {
                    "ipAddress": "1.1.1.4",
                    "subnetMask": "255.255.255.0"
                  }
                ],
                "ipv6Interfaces": [
                  {
                    "ipAddress": "2602:30a:2cb8:4830:414f:a76e:59e4:4fa7"
                  }
                ],
                "defaultIpv4Gateways": [
                  "1.1.1.254",
                  "1.1.1.255"
                ],
                "macAddresses": [
                  "64:00:6A:65:E4:71"
                ],
                "dnsNames": [
                  "name1",
                  "name2",
                  "name3"
                ]
              },
              "operatingSystem": {
                "family": "windows",
                "fullName": "Microsoft Windows [Version 10.0.10586]",
                "bitness": "64bit"
              },
              "virtualMachine": {
                "virtualMachineType": "hyperv",
                "nativeMachineId": "vm-id",
                "virtualMachineName": "vm-name-1",
                "nativeHostMachineId": "physical-machine-id"
              },
              "hosting": {
                "kind": "provider:azure",
                "vmId": "12345",
                "location": "Earth",
                "name": "AHostedVm",
                "size": "SuperBig",
                "updateDomain": "1",
                "faultDomain": "1",
                "subscriptionId": "123123",
                "resourceGroup": "myResourceGroup",
                "resourceId": "TestResourceId",
                "image": {
                  "publisher": "AnImagePublisher",
                  "offering": "SuperFast",
                  "sku": "10101010",
                  "version": "1.0"
                },
                "cloudService": {
                  "name": "MyCloudService",
                  "instanceId": "Instance#1",
                  "deployment": "101bfb0e-75d1-4c5b-821e-987423463e6b",
                  "roleName": "MyRoleName",
                  "roleType": "web"
                },
                "vmScaleSet": {
                  "name": "MyVMSS",
                  "instanceId": "VmmssInstance#1",
                  "deployment": "a241809b-50d8-4f8c-960d-75ec99cc79d9",
                  "resourceId": "TestResourceId"
                },
                "serviceFabricCluster": {
                  "name": "MyClusterName",
                  "clusterId": "d2edc020-02f5-4327-80ea-4443db018fe4"
                },
                "provider": "azure"
              }
            },
            "id": "/subscriptions/63BE4E24-FDF0-4E9C-9342-6A5D5A359722/resourceGroups/rg-sm/providers/Microsoft.OperationalInsights/workspaces/D6F79F14-E563-469B-84B5-9286D2803B2F/machines/m-92371907-1ea4-4e4b-9538-8754876c1fa3",
            "type": "Microsoft.OperationalInsights/workspaces/features/machines",
            "name": "m-92371907-1ea4-4e4b-9538-8754876c1fa3"
          },
          {
            "kind": "machine",
            "properties": {
              "monitoringState": "monitored",
              "virtualizationState": "virtual",
              "displayName": "name1",
              "computerName": "name1",
              "fullyQualifiedDomainName": "name1.foo.com",
              "bootTime": "2018-01-05T21:36:07.009Z",
              "timezone": {
                "fullName": "some zone"
              },
              "agent": {
                "agentId": "fb7d798d-ecbc-4cf8-9ad6-d6dde35cdb77",
                "dependencyAgentId": "f068fe75-47d9-4c76-801a-0781893c250d",
                "dependencyAgentVersion": "2.2.2.2",
                "dependencyAgentRevision": "1234",
                "rebootStatus": "rebooted",
                "clockGranularity": 1
              },
              "resources": {
                "physicalMemory": 4096,
                "cpus": 2,
                "cpuSpeed": 2000,
                "cpuSpeedAccuracy": "actual"
              },
              "networking": {
                "ipv4Interfaces": [
                  {
                    "ipAddress": "1.1.1.1",
                    "subnetMask": "255.255.255.0"
                  },
                  {
                    "ipAddress": "1.1.1.3",
                    "subnetMask": "255.255.255.0"
                  },
                  {
                    "ipAddress": "1.1.1.4",
                    "subnetMask": "255.255.255.0"
                  }
                ],
                "ipv6Interfaces": [
                  {
                    "ipAddress": "2602:30a:2cb8:4830:414f:a76e:59e4:4fa7"
                  }
                ],
                "defaultIpv4Gateways": [
                  "1.1.1.254",
                  "1.1.1.255"
                ],
                "macAddresses": [
                  "64:00:6A:65:E4:71"
                ],
                "dnsNames": [
                  "name1",
                  "name2",
                  "name3"
                ]
              },
              "operatingSystem": {
                "family": "windows",
                "fullName": "Microsoft Windows [Version 10.0.10586]",
                "bitness": "64bit"
              },
              "virtualMachine": {
                "virtualMachineType": "hyperv",
                "nativeMachineId": "vm-id",
                "virtualMachineName": "vm-name-1",
                "nativeHostMachineId": "physical-machine-id"
              },
              "hosting": {
                "kind": "provider:azure",
                "vmId": "12345",
                "location": "Earth",
                "name": "AHostedVm",
                "size": "SuperBig",
                "updateDomain": "1",
                "faultDomain": "1",
                "subscriptionId": "123123",
                "resourceGroup": "myResourceGroup",
                "resourceId": "TestResourceId",
                "image": {
                  "publisher": "AnImagePublisher",
                  "offering": "SuperFast",
                  "sku": "10101010",
                  "version": "1.0"
                },
                "cloudService": {
                  "name": "MyCloudService",
                  "instanceId": "Instance#1",
                  "deployment": "382bfc03-ece0-48e8-88dd-0c0049b0b093",
                  "roleName": "MyRoleName",
                  "roleType": "web"
                },
                "vmScaleSet": {
                  "name": "MyVMSS",
                  "instanceId": "VmmssInstance#1",
                  "deployment": "5fc7b841-843c-4391-b5b6-5bc7e8e25028",
                  "resourceId": "TestResourceId"
                },
                "serviceFabricCluster": {
                  "name": "MyClusterName",
                  "clusterId": "52b6a8ca-3b0c-4ebf-a1f6-fec87b5b59c7"
                },
                "provider": "azure"
              }
            },
            "id": "/subscriptions/63BE4E24-FDF0-4E9C-9342-6A5D5A359722/resourceGroups/rg-sm/providers/Microsoft.OperationalInsights/workspaces/D6F79F14-E563-469B-84B5-9286D2803B2F/machines/m-fb7d798d-ecbc-4cf8-9ad6-d6dde35cdb77",
            "type": "Microsoft.OperationalInsights/workspaces/features/machines",
            "name": "m-fb7d798d-ecbc-4cf8-9ad6-d6dde35cdb77"
          },
          {
            "kind": "machine",
            "properties": {
              "monitoringState": "monitored",
              "virtualizationState": "virtual",
              "displayName": "name1",
              "computerName": "name1",
              "fullyQualifiedDomainName": "name1.foo.com",
              "bootTime": "2018-01-05T21:30:22.372Z",
              "timezone": {
                "fullName": "some zone"
              },
              "agent": {
                "agentId": "dcdbd51d-e423-4667-bce3-c1f78f0bec83",
                "dependencyAgentId": "901407a9-0047-4b2d-8190-e546189fa1c8",
                "dependencyAgentVersion": "2.2.2.2",
                "dependencyAgentRevision": "1234",
                "rebootStatus": "rebooted",
                "clockGranularity": 1
              },
              "resources": {
                "physicalMemory": 4096,
                "cpus": 2,
                "cpuSpeed": 2000,
                "cpuSpeedAccuracy": "actual"
              },
              "networking": {
                "ipv4Interfaces": [
                  {
                    "ipAddress": "1.1.1.1",
                    "subnetMask": "255.255.255.0"
                  },
                  {
                    "ipAddress": "1.1.1.3",
                    "subnetMask": "255.255.255.0"
                  },
                  {
                    "ipAddress": "1.1.1.4",
                    "subnetMask": "255.255.255.0"
                  }
                ],
                "ipv6Interfaces": [
                  {
                    "ipAddress": "2602:30a:2cb8:4830:414f:a76e:59e4:4fa7"
                  }
                ],
                "defaultIpv4Gateways": [
                  "1.1.1.254",
                  "1.1.1.255"
                ],
                "macAddresses": [
                  "64:00:6A:65:E4:71"
                ],
                "dnsNames": [
                  "name1",
                  "name2",
                  "name3"
                ]
              },
              "operatingSystem": {
                "family": "windows",
                "fullName": "Microsoft Windows [Version 10.0.10586]",
                "bitness": "64bit"
              },
              "virtualMachine": {
                "virtualMachineType": "hyperv",
                "nativeMachineId": "vm-id",
                "virtualMachineName": "vm-name-1",
                "nativeHostMachineId": "physical-machine-id"
              },
              "hosting": {
                "kind": "provider:azure",
                "vmId": "12345",
                "location": "Earth",
                "name": "AHostedVm",
                "size": "SuperBig",
                "updateDomain": "1",
                "faultDomain": "1",
                "subscriptionId": "123123",
                "resourceGroup": "myResourceGroup",
                "resourceId": "TestResourceId",
                "image": {
                  "publisher": "AnImagePublisher",
                  "offering": "SuperFast",
                  "sku": "10101010",
                  "version": "1.0"
                },
                "cloudService": {
                  "name": "MyCloudService",
                  "instanceId": "Instance#1",
                  "deployment": "e4e28557-bb79-4add-bd9a-adc4b1856aae",
                  "roleName": "MyRoleName",
                  "roleType": "web"
                },
                "vmScaleSet": {
                  "name": "MyVMSS",
                  "instanceId": "VmmssInstance#1",
                  "deployment": "bd88f6a9-ead8-414a-a91c-a47fbeddb3d5",
                  "resourceId": "TestResourceId"
                },
                "serviceFabricCluster": {
                  "name": "MyClusterName",
                  "clusterId": "a344f76b-98d7-4d83-8a11-7ef9b04c6563"
                },
                "provider": "azure"
              }
            },
            "id": "/subscriptions/63BE4E24-FDF0-4E9C-9342-6A5D5A359722/resourceGroups/rg-sm/providers/Microsoft.OperationalInsights/workspaces/D6F79F14-E563-469B-84B5-9286D2803B2F/machines/m-dcdbd51d-e423-4667-bce3-c1f78f0bec83",
            "type": "Microsoft.OperationalInsights/workspaces/features/machines",
            "name": "m-dcdbd51d-e423-4667-bce3-c1f78f0bec83"
          },
          {
            "kind": "machine",
            "properties": {
              "monitoringState": "monitored",
              "virtualizationState": "virtual",
              "displayName": "name1",
              "computerName": "name1",
              "fullyQualifiedDomainName": "name1.foo.com",
              "bootTime": "2018-01-05T21:30:47.913Z",
              "timezone": {
                "fullName": "some zone"
              },
              "agent": {
                "agentId": "10cb867d-1b73-4b39-a9cf-31cdd2b00dab",
                "dependencyAgentId": "e837d606-09ae-41fc-bc9a-5e8407d88942",
                "dependencyAgentVersion": "2.2.2.2",
                "dependencyAgentRevision": "1234",
                "rebootStatus": "rebooted",
                "clockGranularity": 1
              },
              "resources": {
                "physicalMemory": 4096,
                "cpus": 2,
                "cpuSpeed": 2000,
                "cpuSpeedAccuracy": "actual"
              },
              "networking": {
                "ipv4Interfaces": [
                  {
                    "ipAddress": "1.1.1.1",
                    "subnetMask": "255.255.255.0"
                  },
                  {
                    "ipAddress": "1.1.1.3",
                    "subnetMask": "255.255.255.0"
                  },
                  {
                    "ipAddress": "1.1.1.4",
                    "subnetMask": "255.255.255.0"
                  }
                ],
                "ipv6Interfaces": [
                  {
                    "ipAddress": "2602:30a:2cb8:4830:414f:a76e:59e4:4fa7"
                  }
                ],
                "defaultIpv4Gateways": [
                  "1.1.1.254",
                  "1.1.1.255"
                ],
                "macAddresses": [
                  "64:00:6A:65:E4:71"
                ],
                "dnsNames": [
                  "name1",
                  "name2",
                  "name3"
                ]
              },
              "operatingSystem": {
                "family": "windows",
                "fullName": "Microsoft Windows [Version 10.0.10586]",
                "bitness": "64bit"
              },
              "virtualMachine": {
                "virtualMachineType": "hyperv",
                "nativeMachineId": "vm-id",
                "virtualMachineName": "vm-name-1",
                "nativeHostMachineId": "physical-machine-id"
              },
              "hosting": {
                "kind": "provider:azure",
                "vmId": "12345",
                "location": "Earth",
                "name": "AHostedVm",
                "size": "SuperBig",
                "updateDomain": "1",
                "faultDomain": "1",
                "subscriptionId": "123123",
                "resourceGroup": "myResourceGroup",
                "resourceId": "TestResourceId",
                "image": {
                  "publisher": "AnImagePublisher",
                  "offering": "SuperFast",
                  "sku": "10101010",
                  "version": "1.0"
                },
                "cloudService": {
                  "name": "MyCloudService",
                  "instanceId": "Instance#1",
                  "deployment": "3d8e1902-1875-428c-98d3-6fb02c96af47",
                  "roleName": "MyRoleName",
                  "roleType": "web"
                },
                "vmScaleSet": {
                  "name": "MyVMSS",
                  "instanceId": "VmmssInstance#1",
                  "deployment": "594fd238-0d97-444b-a8fd-2e5087e3e97c",
                  "resourceId": "TestResourceId"
                },
                "serviceFabricCluster": {
                  "name": "MyClusterName",
                  "clusterId": "a6efc921-6c5e-4455-a83e-409a380d800f"
                },
                "provider": "azure"
              }
            },
            "id": "/subscriptions/63BE4E24-FDF0-4E9C-9342-6A5D5A359722/resourceGroups/rg-sm/providers/Microsoft.OperationalInsights/workspaces/D6F79F14-E563-469B-84B5-9286D2803B2F/machines/m-10cb867d-1b73-4b39-a9cf-31cdd2b00dab",
            "type": "Microsoft.OperationalInsights/workspaces/features/machines",
            "name": "m-10cb867d-1b73-4b39-a9cf-31cdd2b00dab"
          },
          {
            "kind": "machine",
            "properties": {
              "monitoringState": "monitored",
              "virtualizationState": "virtual",
              "displayName": "name1",
              "computerName": "name1",
              "fullyQualifiedDomainName": "name1.foo.com",
              "bootTime": "2018-01-05T21:30:47.913Z",
              "timezone": {
                "fullName": "some zone"
              },
              "agent": {
                "agentId": "e6ad2c87-c7e9-4663-bca2-ec5fd1e2d3ef",
                "dependencyAgentId": "07a0ba0f-90c3-4d9b-a1bf-d1cf636eeb80",
                "dependencyAgentVersion": "2.2.2.2",
                "dependencyAgentRevision": "1234",
                "rebootStatus": "rebooted",
                "clockGranularity": 1
              },
              "resources": {
                "physicalMemory": 4096,
                "cpus": 2,
                "cpuSpeed": 2000,
                "cpuSpeedAccuracy": "actual"
              },
              "networking": {
                "ipv4Interfaces": [
                  {
                    "ipAddress": "1.1.1.1",
                    "subnetMask": "255.255.255.0"
                  },
                  {
                    "ipAddress": "1.1.1.3",
                    "subnetMask": "255.255.255.0"
                  },
                  {
                    "ipAddress": "1.1.1.4",
                    "subnetMask": "255.255.255.0"
                  }
                ],
                "ipv6Interfaces": [
                  {
                    "ipAddress": "2602:30a:2cb8:4830:414f:a76e:59e4:4fa7"
                  }
                ],
                "defaultIpv4Gateways": [
                  "1.1.1.254",
                  "1.1.1.255"
                ],
                "macAddresses": [
                  "64:00:6A:65:E4:71"
                ],
                "dnsNames": [
                  "name1",
                  "name2",
                  "name3"
                ]
              },
              "operatingSystem": {
                "family": "windows",
                "fullName": "Microsoft Windows [Version 10.0.10586]",
                "bitness": "64bit"
              },
              "virtualMachine": {
                "virtualMachineType": "hyperv",
                "nativeMachineId": "vm-id",
                "virtualMachineName": "vm-name-1",
                "nativeHostMachineId": "physical-machine-id"
              },
              "hosting": {
                "kind": "provider:azure",
                "vmId": "12345",
                "location": "Earth",
                "name": "AHostedVm",
                "size": "SuperBig",
                "updateDomain": "1",
                "faultDomain": "1",
                "subscriptionId": "123123",
                "resourceGroup": "myResourceGroup",
                "resourceId": "TestResourceId",
                "image": {
                  "publisher": "AnImagePublisher",
                  "offering": "SuperFast",
                  "sku": "10101010",
                  "version": "1.0"
                },
                "cloudService": {
                  "name": "MyCloudService",
                  "instanceId": "Instance#1",
                  "deployment": "72932bbb-6c12-4f06-8622-f11942aede02",
                  "roleName": "MyRoleName",
                  "roleType": "web"
                },
                "vmScaleSet": {
                  "name": "MyVMSS",
                  "instanceId": "VmmssInstance#1",
                  "deployment": "4ae328aa-2638-4f60-9dbe-0384b2a33b3d",
                  "resourceId": "TestResourceId"
                },
                "serviceFabricCluster": {
                  "name": "MyClusterName",
                  "clusterId": "6cbe41c5-4034-4376-b90d-4edbfc9d9375"
                },
                "provider": "azure"
              }
            },
            "id": "/subscriptions/63BE4E24-FDF0-4E9C-9342-6A5D5A359722/resourceGroups/rg-sm/providers/Microsoft.OperationalInsights/workspaces/D6F79F14-E563-469B-84B5-9286D2803B2F/machines/m-e6ad2c87-c7e9-4663-bca2-ec5fd1e2d3ef",
            "type": "Microsoft.OperationalInsights/workspaces/features/machines",
            "name": "m-e6ad2c87-c7e9-4663-bca2-ec5fd1e2d3ef"
          }
        ]
      }
security:
- type: oauth2
  description: Azure Active Directory OAuth2 Flow
  flow: implicit
  authorizationUrl: https://login.microsoftonline.com/common/oauth2/authorize
  scopes:
  - name: user_impersonation
    description: impersonate your user account
