### YamlMime:RESTOperationGroup
uid: atlas.microsoft.com.maps.searchv2.searchv2
name: search V2
apiVersion: 2021-11-01-preview
service: Maps
metadata:
  description: Learn more about [Maps search V2 Operations]. How to [Get Geocoding,Get Geocoding Batch].
operations:
- uid: atlas.microsoft.com.maps.searchv2.searchv2.getgeocoding
  summary: >-
    **Geocoding**


    **Applies to:** see pricing [tiers](https://aka.ms/AzureMapsPricingTier).


    In many cases, the complete search service might be too much, for instance if you are only interested in traditional geocoding. Search can also be accessed for address look up exclusively. The geocoding is performed by hitting the geocoding endpoint with just the address or partial address in question. The geocoding search index will be queried for everything above the street level data. No POIs will be returned. Note that the geocoder is very tolerant of typos and incomplete addresses. It will also handle everything from exact street addresses or street or intersections as well as higher level geographies such as city centers, counties, states etc.

    >[!Important]

    >By using this feature, you agree to the preview legal terms. See the [Preview Supplemental Terms](https://azure.microsoft.com/en-us/support/legal/preview-supplemental-terms/) for additional details.
- uid: atlas.microsoft.com.maps.searchv2.searchv2.getgeocodingbatch
  summary: >+
    **Geocoding Batch API**



    **Applies to**: see pricing [tiers](https://aka.ms/AzureMapsPricingTier).




    The Geocoding Batch API sends batches of queries to [Geocoding API](https://docs.microsoft.com/en-us/rest/api/maps/geocoding) using just a single API call. The API allows caller to batch up to **100** queries.

    >[!Important]

    >By using this feature, you agree to the preview legal terms. See the [Preview Supplemental Terms](https://azure.microsoft.com/en-us/support/legal/preview-supplemental-terms/) for additional details.


    ### Submit Synchronous Batch Request

    The Synchronous API is recommended for lightweight batch requests. When the service receives a request, it will respond as soon as the batch items are calculated and there will be no possibility to retrieve the results later. The Synchronous API will return a timeout error (a 408 response) if the request takes longer than 60 seconds. The number of batch items is limited to **100** for this API.

    ```

    POST https://atlas.microsoft.com/geocode/batch?api-version=2021-11-01-preview

    ```

    ### POST Body for Batch Request

    To send the _geocoding_ queries you will use a `POST` request where the request body will contain the `batchItems` array in `json` format and the `Content-Type` header will be set to `application/json`. Here's a sample request body containing 2 _geocoding_ queries:



    ```

    {
      "batchItems": [
        {
          "addressLine": "One, Microsoft Way, Redmond, WA 98052",
          "top": 2
        },
        {
          "addressLine": "Pike Pl",
          "adminDistrict": "WA",
          "locality": "Seattle",
          "top": 3
        }
      ]
    }

    ```


    A _geocoding_ batchItem object can accept any of the supported _geocoding_ [URI parameters](https://docs.microsoft.com/en-us/rest/api/maps/geocoding/get-geocoding#uri-parameters).



    The batch should contain at least **1** query.



    ### Batch Response Model

    The batch response contains a `summary` component that indicates the `totalRequests` that were part of the original batch request and `successfulRequests` i.e. queries which were executed successfully. The batch response also includes a `batchItems` array which contains a response for each and every query in the batch request. The `batchItems` will contain the results in the exact same order the original queries were sent in the batch request. Each item is of one of the following types:

      - [`GeocodingResponse`](https://docs.microsoft.com/en-us/rest/api/maps/geocoding/get-geocoding##geocodingresponse) - If the query completed successfully.

      - `Error` - If the query failed. The response will contain a `code` and a `message` in this case.


