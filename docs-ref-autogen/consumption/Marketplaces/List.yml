### YamlMime:RESTOperation
uid: management.azure.com.consumption.marketplaces.list
name: List
service: Consumption
groupName: Marketplaces
apiVersion: 2021-10-01
summary: Lists the marketplaces for a scope at the defined scope. Marketplaces are available via this API only for May 1, 2014 or later.
consumes:
- application/json
produces:
- application/json
paths:
- content: GET https://management.azure.com/{scope}/providers/Microsoft.Consumption/marketplaces?api-version=2021-10-01
- content: GET https://management.azure.com/{scope}/providers/Microsoft.Consumption/marketplaces?$filter={$filter}&$top={$top}&$skiptoken={$skiptoken}&api-version=2021-10-01
  isOptional: true
uriParameters:
- name: scope
  in: path
  isRequired: true
  skipUrlEncoding: true
  description: The scope associated with marketplace operations. This includes '/subscriptions/{subscriptionId}/' for subscription scope, '/providers/Microsoft.Billing/billingAccounts/{billingAccountId}' for Billing Account scope, '/providers/Microsoft.Billing/departments/{departmentId}' for Department scope, '/providers/Microsoft.Billing/enrollmentAccounts/{enrollmentAccountId}' for EnrollmentAccount scope and '/providers/Microsoft.Management/managementGroups/{managementGroupId}' for Management Group scope. For subscription, billing account, department, enrollment account and ManagementGroup, you can also add billing period to the scope using '/providers/Microsoft.Billing/billingPeriods/{billingPeriodName}'. For e.g. to specify billing period at department scope use '/providers/Microsoft.Billing/departments/{departmentId}/providers/Microsoft.Billing/billingPeriods/{billingPeriodName}'
  types:
  - uid: string
- name: $filter
  in: query
  description: May be used to filter marketplaces by properties/usageEnd (Utc time), properties/usageStart (Utc time), properties/resourceGroup, properties/instanceName or properties/instanceId. The filter supports 'eq', 'lt', 'gt', 'le', 'ge', and 'and'. It does not currently support 'ne', 'or', or 'not'.
  types:
  - uid: string
- name: $top
  in: query
  description: May be used to limit the number of results to the most recent N marketplaces.
  types:
  - uid: integer
  format: int32
- name: $skiptoken
  in: query
  description: Skiptoken is only used if a previous operation returned a partial result. If a previous response contains a nextLink element, the value of the nextLink element will include a skiptoken parameter that specifies a starting point to use for subsequent calls.
  types:
  - uid: string
- name: api-version
  in: query
  isRequired: true
  description: Version of the API to be used with the client request. The current version is 2021-10-01.
  types:
  - uid: string
responses:
- name: 200 OK
  description: OK. The request has succeeded.
  types:
  - uid: MarketplacesListResult
- name: 204 No Content
  description: An empty response is sent when there is no information available within the selected scope.
- name: Other Status Codes
  description: Error response describing why the operation failed.
  types:
  - uid: ErrorResponse
requestHeader: []
definitions:
- name: MarketplacesListResult
  description: Result of listing marketplaces. It contains a list of available marketplaces in reverse chronological order by billing period.
  kind: object
  properties:
  - name: value
    isReadyOnly: true
    description: The list of marketplaces.
    types:
    - uid: Marketplace
      isArray: true
  - name: nextLink
    isReadyOnly: true
    description: The link (url) to the next page of results.
    types:
    - uid: string
- name: ErrorResponse
  description: "Error response indicates that the service is not able to process the incoming request. The reason is provided in the error message. \n\nSome Error responses: \n\n * 429 TooManyRequests - Request is throttled. Retry after waiting for the time specified in the \"x-ms-ratelimit-microsoft.consumption-retry-after\" header. \n\n * 503 ServiceUnavailable - Service is temporarily unavailable. Retry after waiting for the time specified in the \"Retry-After\" header."
  kind: object
  properties:
  - name: error
    description: The details of the error.
    types:
    - uid: ErrorDetails
- name: Marketplace
  description: A marketplace resource.
  kind: object
  properties:
  - name: properties.billingPeriodId
    isReadyOnly: true
    description: The id of the billing period resource that the usage belongs to.
    types:
    - uid: string
  - name: properties.usageStart
    isReadyOnly: true
    description: The start of the date time range covered by the usage detail.
    types:
    - uid: string
  - name: properties.usageEnd
    isReadyOnly: true
    description: The end of the date time range covered by the usage detail.
    types:
    - uid: string
  - name: properties.resourceRate
    isReadyOnly: true
    description: The marketplace resource rate.
    types:
    - uid: number
  - name: properties.offerName
    isReadyOnly: true
    description: The type of offer.
    types:
    - uid: string
  - name: properties.resourceGroup
    isReadyOnly: true
    description: The name of resource group.
    types:
    - uid: string
  - name: properties.additionalInfo
    isReadyOnly: true
    description: Additional information.
    types:
    - uid: string
  - name: properties.orderNumber
    isReadyOnly: true
    description: The order number.
    types:
    - uid: string
  - name: properties.instanceName
    isReadyOnly: true
    description: The name of the resource instance that the usage is about.
    types:
    - uid: string
  - name: properties.instanceId
    isReadyOnly: true
    description: The uri of the resource instance that the usage is about.
    types:
    - uid: string
  - name: properties.currency
    isReadyOnly: true
    description: The ISO currency in which the meter is charged, for example, USD.
    types:
    - uid: string
  - name: properties.consumedQuantity
    isReadyOnly: true
    description: The quantity of usage.
    types:
    - uid: number
  - name: properties.unitOfMeasure
    isReadyOnly: true
    description: The unit of measure.
    types:
    - uid: string
  - name: properties.pretaxCost
    isReadyOnly: true
    description: The amount of cost before tax.
    types:
    - uid: number
  - name: properties.isEstimated
    isReadyOnly: true
    description: The estimated usage is subject to change.
    types:
    - uid: boolean
  - name: properties.meterId
    isReadyOnly: true
    description: The meter id (GUID).
    types:
    - uid: string
  - name: properties.subscriptionGuid
    isReadyOnly: true
    description: Subscription guid.
    types:
    - uid: string
  - name: properties.subscriptionName
    isReadyOnly: true
    description: Subscription name.
    types:
    - uid: string
  - name: properties.accountName
    isReadyOnly: true
    description: Account name.
    types:
    - uid: string
  - name: properties.departmentName
    isReadyOnly: true
    description: Department name.
    types:
    - uid: string
  - name: properties.consumedService
    isReadyOnly: true
    description: Consumed service name.
    types:
    - uid: string
  - name: properties.costCenter
    isReadyOnly: true
    description: The cost center of this department if it is a department and a costcenter exists
    types:
    - uid: string
  - name: properties.additionalProperties
    isReadyOnly: true
    description: Additional details of this usage item. By default this is not populated, unless it's specified in $expand.
    types:
    - uid: string
  - name: properties.publisherName
    isReadyOnly: true
    description: The name of publisher.
    types:
    - uid: string
  - name: properties.planName
    isReadyOnly: true
    description: The name of plan.
    types:
    - uid: string
  - name: properties.isRecurringCharge
    isReadyOnly: true
    description: Flag indicating whether this is a recurring charge or not.
    types:
    - uid: boolean
  - name: id
    isReadyOnly: true
    description: The full qualified ARM ID of an event.
    types:
    - uid: string
  - name: name
    isReadyOnly: true
    description: 'The ID that uniquely identifies an event. '
    types:
    - uid: string
  - name: type
    isReadyOnly: true
    description: Resource type.
    types:
    - uid: string
  - name: etag
    isReadyOnly: true
    description: The etag for the resource.
    types:
    - uid: string
  - name: tags
    isReadyOnly: true
    description: Resource tags.
    types:
    - uid: object
      isDictionary: true
      additionalTypes:
      - uid: string
      - uid: string
- name: ErrorDetails
  description: The details of the error.
  kind: object
  properties:
  - name: code
    isReadyOnly: true
    description: Error code.
    types:
    - uid: string
  - name: message
    isReadyOnly: true
    description: Error message indicating why the operation failed.
    types:
    - uid: string
examples:
- name: SubscriptionMarketplacesList
  request:
    uri: GET https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Consumption/marketplaces?api-version=2021-10-01
    codeTab: |+
      # [HTTP](#tab/HTTP)
      ``` http
      GET https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Consumption/marketplaces?api-version=2021-10-01
      ```

      # [Java](#tab/Java)
      ``` java
      import com.azure.core.util.Context;

      /** Samples for Marketplaces List. */
      public final class Main {
          /*
           * x-ms-original-file: specification/consumption/resource-manager/Microsoft.Consumption/stable/2021-10-01/examples/MarketplacesList.json
           */
          /**
           * Sample code: SubscriptionMarketplacesList.
           *
           * @param manager Entry point to ConsumptionManager.
           */
          public static void subscriptionMarketplacesList(com.azure.resourcemanager.consumption.ConsumptionManager manager) {
              manager
                  .marketplaces()
                  .list("subscriptions/00000000-0000-0000-0000-000000000000", null, null, null, Context.NONE);
          }
      }

      ```
      Read this [SDK documentation](https://github.com/Azure/azure-sdk-for-java/blob/azure-resourcemanager-consumption_1.0.0-beta.3/sdk/consumption/azure-resourcemanager-consumption/README.md) on how to add the SDK to your project and authenticate.
      # [JavaScript](#tab/JavaScript)
      ``` js
      const { ConsumptionManagementClient } = require("@azure/arm-consumption");
      const { DefaultAzureCredential } = require("@azure/identity");

      /**
       * This sample demonstrates how to Lists the marketplaces for a scope at the defined scope. Marketplaces are available via this API only for May 1, 2014 or later.
       *
       * @summary Lists the marketplaces for a scope at the defined scope. Marketplaces are available via this API only for May 1, 2014 or later.
       * x-ms-original-file: specification/consumption/resource-manager/Microsoft.Consumption/stable/2021-10-01/examples/MarketplacesList.json
       */
      async function subscriptionMarketplacesList() {
        const subscriptionId = "00000000-0000-0000-0000-000000000000";
        const scope = "subscriptions/00000000-0000-0000-0000-000000000000";
        const credential = new DefaultAzureCredential();
        const client = new ConsumptionManagementClient(credential, subscriptionId);
        const resArray = new Array();
        for await (let item of client.marketplaces.list(scope)) {
          resArray.push(item);
        }
        console.log(resArray);
      }

      subscriptionMarketplacesList().catch(console.error);

      ```
      Read this [SDK documentation](https://github.com/Azure/azure-sdk-for-js/blob/%40azure%2Farm-consumption_9.0.1/sdk/consumption/arm-consumption/README.md) on how to add the SDK to your project and authenticate.
  responses:
  - statusCode: "200"
    body: >-
      {
        "value": [
          {
            "id": "/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Billing/billingPeriods/201702/providers/Microsoft.Consumption/marketPlaces/marketplaceId1",
            "name": "marketplaceId1",
            "type": "Microsoft.Consumption/marketPlaces",
            "tags": {
              "env": "newcrp",
              "dev": "tools"
            },
            "properties": {
              "accountName": "Account1",
              "additionalProperties": "additionalProperties",
              "costCenter": "Center1",
              "departmentName": "Department1",
              "billingPeriodId": "/subscriptions/subid/providers/Microsoft.Billing/billingPeriods/201702",
              "usageStart": "2017-02-13T00:00:00Z",
              "usageEnd": "2017-02-13T23:59:59Z",
              "instanceName": "shared1",
              "instanceId": "/subscriptions/subid/resourceGroups/Default-Web-eastasia/providers/Microsoft.Web/sites/shared1",
              "currency": "USD",
              "consumedQuantity": 0.00328,
              "pretaxCost": 0.67,
              "isEstimated": false,
              "offerName": "offer1",
              "resourceGroup": "TEST",
              "orderNumber": "00000000-0000-0000-0000-000000000000",
              "publisherName": "xyz",
              "planName": "plan1",
              "resourceRate": 0.24,
              "subscriptionGuid": "00000000-0000-0000-0000-000000000000",
              "subscriptionName": "azure subscription",
              "unitOfMeasure": "10 Hours",
              "isRecurringCharge": false
            }
          }
        ]
      }
  - statusCode: "204"
- name: SubscriptionMarketplacesListForBillingPeriod
  request:
    uri: GET https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Consumption/marketplaces?api-version=2021-10-01
    codeTab: |+
      # [HTTP](#tab/HTTP)
      ``` http
      GET https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Consumption/marketplaces?api-version=2021-10-01
      ```

      # [Java](#tab/Java)
      ``` java
      import com.azure.core.util.Context;

      /** Samples for Marketplaces List. */
      public final class Main {
          /*
           * x-ms-original-file: specification/consumption/resource-manager/Microsoft.Consumption/stable/2021-10-01/examples/MarketplacesListForBillingPeriod.json
           */
          /**
           * Sample code: SubscriptionMarketplacesListForBillingPeriod.
           *
           * @param manager Entry point to ConsumptionManager.
           */
          public static void subscriptionMarketplacesListForBillingPeriod(
              com.azure.resourcemanager.consumption.ConsumptionManager manager) {
              manager
                  .marketplaces()
                  .list("subscriptions/00000000-0000-0000-0000-000000000000", null, null, null, Context.NONE);
          }
      }

      ```
      Read this [SDK documentation](https://github.com/Azure/azure-sdk-for-java/blob/azure-resourcemanager-consumption_1.0.0-beta.3/sdk/consumption/azure-resourcemanager-consumption/README.md) on how to add the SDK to your project and authenticate.
      # [JavaScript](#tab/JavaScript)
      ``` js
      const { ConsumptionManagementClient } = require("@azure/arm-consumption");
      const { DefaultAzureCredential } = require("@azure/identity");

      /**
       * This sample demonstrates how to Lists the marketplaces for a scope at the defined scope. Marketplaces are available via this API only for May 1, 2014 or later.
       *
       * @summary Lists the marketplaces for a scope at the defined scope. Marketplaces are available via this API only for May 1, 2014 or later.
       * x-ms-original-file: specification/consumption/resource-manager/Microsoft.Consumption/stable/2021-10-01/examples/MarketplacesListForBillingPeriod.json
       */
      async function subscriptionMarketplacesListForBillingPeriod() {
        const subscriptionId = "00000000-0000-0000-0000-000000000000";
        const scope = "subscriptions/00000000-0000-0000-0000-000000000000";
        const credential = new DefaultAzureCredential();
        const client = new ConsumptionManagementClient(credential, subscriptionId);
        const resArray = new Array();
        for await (let item of client.marketplaces.list(scope)) {
          resArray.push(item);
        }
        console.log(resArray);
      }

      subscriptionMarketplacesListForBillingPeriod().catch(console.error);

      ```
      Read this [SDK documentation](https://github.com/Azure/azure-sdk-for-js/blob/%40azure%2Farm-consumption_9.0.1/sdk/consumption/arm-consumption/README.md) on how to add the SDK to your project and authenticate.
  responses:
  - statusCode: "200"
    body: >-
      {
        "value": [
          {
            "id": "/subscriptions/subid/providers/Microsoft.Billing/billingPeriods/201702/providers/Microsoft.Consumption/marketPlaces/marketplacesId1",
            "name": "marketplacesId1",
            "type": "Microsoft.Consumption/marketPlaces",
            "tags": {
              "env": "newcrp",
              "dev": "tools"
            },
            "properties": {
              "accountName": "Account1",
              "additionalProperties": "additionalProperties",
              "costCenter": "Center1",
              "departmentName": "Department1",
              "billingPeriodId": "/subscriptions/subid/providers/Microsoft.Billing/billingPeriods/201702",
              "usageStart": "2017-02-13T00:00:00Z",
              "usageEnd": "2017-02-13T23:59:59Z",
              "instanceName": "shared1",
              "instanceId": "/subscriptions/subid/resourceGroups/Default-Web-eastasia/providers/Microsoft.Web/sites/shared1",
              "currency": "USD",
              "consumedQuantity": 0.00328,
              "pretaxCost": 0.67,
              "isEstimated": false,
              "meterId": "00000000-0000-0000-0000-000000000000",
              "offerName": "offer1",
              "resourceGroup": "TEST",
              "orderNumber": "00000000-0000-0000-0000-000000000000",
              "publisherName": "xyz",
              "planName": "plan2",
              "resourceRate": 0.24,
              "subscriptionGuid": "00000000-0000-0000-0000-000000000000",
              "subscriptionName": "azure subscription",
              "unitOfMeasure": "10 Hours",
              "isRecurringCharge": false
            }
          }
        ]
      }
  - statusCode: "204"
- name: BillingAccountMarketplacesList
  request:
    uri: GET https://management.azure.com/providers/Microsoft.Billing/billingAccounts/123456/providers/Microsoft.Consumption/marketplaces?api-version=2021-10-01
    codeTab: |+
      # [HTTP](#tab/HTTP)
      ``` http
      GET https://management.azure.com/providers/Microsoft.Billing/billingAccounts/123456/providers/Microsoft.Consumption/marketplaces?api-version=2021-10-01
      ```

      # [Java](#tab/Java)
      ``` java
      import com.azure.core.util.Context;

      /** Samples for Marketplaces List. */
      public final class Main {
          /*
           * x-ms-original-file: specification/consumption/resource-manager/Microsoft.Consumption/stable/2021-10-01/examples/MarketplacesByBillingAccountList.json
           */
          /**
           * Sample code: BillingAccountMarketplacesList.
           *
           * @param manager Entry point to ConsumptionManager.
           */
          public static void billingAccountMarketplacesList(
              com.azure.resourcemanager.consumption.ConsumptionManager manager) {
              manager
                  .marketplaces()
                  .list("providers/Microsoft.Billing/billingAccounts/123456", null, null, null, Context.NONE);
          }
      }

      ```
      Read this [SDK documentation](https://github.com/Azure/azure-sdk-for-java/blob/azure-resourcemanager-consumption_1.0.0-beta.3/sdk/consumption/azure-resourcemanager-consumption/README.md) on how to add the SDK to your project and authenticate.
      # [Go](#tab/Go)
      ``` go
      package armconsumption_test

      import (
      	"context"
      	"log"

      	"github.com/Azure/azure-sdk-for-go/sdk/azidentity"
      	"github.com/Azure/azure-sdk-for-go/sdk/resourcemanager/consumption/armconsumption"
      )

      // Generated from example definition: https://github.com/Azure/azure-rest-api-specs/tree/main/specification/consumption/resource-manager/Microsoft.Consumption/stable/2021-10-01/examples/MarketplacesByBillingAccountList.json
      func ExampleMarketplacesClient_NewListPager() {
      	cred, err := azidentity.NewDefaultAzureCredential(nil)
      	if err != nil {
      		log.Fatalf("failed to obtain a credential: %v", err)
      	}
      	ctx := context.Background()
      	client, err := armconsumption.NewMarketplacesClient(cred, nil)
      	if err != nil {
      		log.Fatalf("failed to create client: %v", err)
      	}
      	pager := client.NewListPager("providers/Microsoft.Billing/billingAccounts/123456",
      		&armconsumption.MarketplacesClientListOptions{Filter: nil,
      			Top:       nil,
      			Skiptoken: nil,
      		})
      	for pager.More() {
      		nextResult, err := pager.NextPage(ctx)
      		if err != nil {
      			log.Fatalf("failed to advance page: %v", err)
      		}
      		for _, v := range nextResult.Value {
      			// TODO: use page item
      			_ = v
      		}
      	}
      }

      ```
      Read this [SDK documentation](https://github.com/Azure/azure-sdk-for-go/blob/sdk%2Fresourcemanager%2Fconsumption%2Farmconsumption%2Fv1.0.0/sdk/resourcemanager/consumption/armconsumption/README.md) on how to add the SDK to your project and authenticate.
      # [JavaScript](#tab/JavaScript)
      ``` js
      const { ConsumptionManagementClient } = require("@azure/arm-consumption");
      const { DefaultAzureCredential } = require("@azure/identity");

      /**
       * This sample demonstrates how to Lists the marketplaces for a scope at the defined scope. Marketplaces are available via this API only for May 1, 2014 or later.
       *
       * @summary Lists the marketplaces for a scope at the defined scope. Marketplaces are available via this API only for May 1, 2014 or later.
       * x-ms-original-file: specification/consumption/resource-manager/Microsoft.Consumption/stable/2021-10-01/examples/MarketplacesByBillingAccountList.json
       */
      async function billingAccountMarketplacesList() {
        const subscriptionId = "00000000-0000-0000-0000-000000000000";
        const scope = "providers/Microsoft.Billing/billingAccounts/123456";
        const credential = new DefaultAzureCredential();
        const client = new ConsumptionManagementClient(credential, subscriptionId);
        const resArray = new Array();
        for await (let item of client.marketplaces.list(scope)) {
          resArray.push(item);
        }
        console.log(resArray);
      }

      billingAccountMarketplacesList().catch(console.error);

      ```
      Read this [SDK documentation](https://github.com/Azure/azure-sdk-for-js/blob/%40azure%2Farm-consumption_9.0.1/sdk/consumption/arm-consumption/README.md) on how to add the SDK to your project and authenticate.
  responses:
  - statusCode: "200"
    body: >-
      {
        "value": [
          {
            "id": "/providers/Microsoft.Billing/billingAccounts/123456/providers/Microsoft.Billing/billingPeriods/201702/providers/Microsoft.Consumption/marketplaces/marketplaceId1",
            "name": "marketplaceId1",
            "type": "Microsoft.Consumption/marketPlaces",
            "tags": {
              "env": "newcrp",
              "dev": "tools"
            },
            "properties": {
              "accountName": "Account1",
              "additionalProperties": "additionalProperties",
              "costCenter": "Center1",
              "departmentName": "Department1",
              "billingPeriodId": "/providers/Microsoft.Billing/billingAccounts/123456/providers/Microsoft.Billing/billingPeriods/201702",
              "usageStart": "2017-02-13T00:00:00Z",
              "usageEnd": "2017-02-13T23:59:59Z",
              "instanceName": "shared1",
              "instanceId": "/subscriptions/subid/resourceGroups/Default-Web-eastasia/providers/Microsoft.Web/sites/shared1",
              "currency": "USD",
              "consumedQuantity": 0.00328,
              "pretaxCost": 0.67,
              "isEstimated": false,
              "offerName": "offer1",
              "resourceGroup": "TEST",
              "orderNumber": "00000000-0000-0000-0000-000000000000",
              "publisherName": "xyz",
              "planName": "plan1",
              "resourceRate": 0.24,
              "subscriptionGuid": "00000000-0000-0000-0000-000000000000",
              "subscriptionName": "azure subscription",
              "unitOfMeasure": "10 Hours",
              "isRecurringCharge": false
            }
          }
        ]
      }
  - statusCode: "204"
- name: BillingAccountMarketplacesListForBillingPeriod
  request:
    uri: GET https://management.azure.com/providers/Microsoft.Billing/billingAccounts/123456/providers/Microsoft.Consumption/marketplaces?api-version=2021-10-01
    codeTab: |+
      # [HTTP](#tab/HTTP)
      ``` http
      GET https://management.azure.com/providers/Microsoft.Billing/billingAccounts/123456/providers/Microsoft.Consumption/marketplaces?api-version=2021-10-01
      ```

      # [Java](#tab/Java)
      ``` java
      import com.azure.core.util.Context;

      /** Samples for Marketplaces List. */
      public final class Main {
          /*
           * x-ms-original-file: specification/consumption/resource-manager/Microsoft.Consumption/stable/2021-10-01/examples/MarketplacesByBillingAccountListForBillingPeriod.json
           */
          /**
           * Sample code: BillingAccountMarketplacesListForBillingPeriod.
           *
           * @param manager Entry point to ConsumptionManager.
           */
          public static void billingAccountMarketplacesListForBillingPeriod(
              com.azure.resourcemanager.consumption.ConsumptionManager manager) {
              manager
                  .marketplaces()
                  .list("providers/Microsoft.Billing/billingAccounts/123456", null, null, null, Context.NONE);
          }
      }

      ```
      Read this [SDK documentation](https://github.com/Azure/azure-sdk-for-java/blob/azure-resourcemanager-consumption_1.0.0-beta.3/sdk/consumption/azure-resourcemanager-consumption/README.md) on how to add the SDK to your project and authenticate.
      # [JavaScript](#tab/JavaScript)
      ``` js
      const { ConsumptionManagementClient } = require("@azure/arm-consumption");
      const { DefaultAzureCredential } = require("@azure/identity");

      /**
       * This sample demonstrates how to Lists the marketplaces for a scope at the defined scope. Marketplaces are available via this API only for May 1, 2014 or later.
       *
       * @summary Lists the marketplaces for a scope at the defined scope. Marketplaces are available via this API only for May 1, 2014 or later.
       * x-ms-original-file: specification/consumption/resource-manager/Microsoft.Consumption/stable/2021-10-01/examples/MarketplacesByBillingAccountListForBillingPeriod.json
       */
      async function billingAccountMarketplacesListForBillingPeriod() {
        const subscriptionId = "00000000-0000-0000-0000-000000000000";
        const scope = "providers/Microsoft.Billing/billingAccounts/123456";
        const credential = new DefaultAzureCredential();
        const client = new ConsumptionManagementClient(credential, subscriptionId);
        const resArray = new Array();
        for await (let item of client.marketplaces.list(scope)) {
          resArray.push(item);
        }
        console.log(resArray);
      }

      billingAccountMarketplacesListForBillingPeriod().catch(console.error);

      ```
      Read this [SDK documentation](https://github.com/Azure/azure-sdk-for-js/blob/%40azure%2Farm-consumption_9.0.1/sdk/consumption/arm-consumption/README.md) on how to add the SDK to your project and authenticate.
  responses:
  - statusCode: "200"
    body: >-
      {
        "value": [
          {
            "id": "providers/Microsoft.Billing/billingAccounts/123456/providers/Microsoft.Billing/billingPeriods/201702/providers/Microsoft.Consumption/marketplaces/marketplaceId1",
            "name": "marketplacesId1",
            "type": "Microsoft.Consumption/marketPlaces",
            "tags": {
              "env": "newcrp",
              "dev": "tools"
            },
            "properties": {
              "accountName": "Account1",
              "additionalProperties": "additionalProperties",
              "costCenter": "Center1",
              "departmentName": "Department1",
              "billingPeriodId": "/providers/Microsoft.Billing/billingAccounts/123456/providers/Microsoft.Billing/billingPeriods/201702",
              "usageStart": "2017-02-13T00:00:00Z",
              "usageEnd": "2017-02-13T23:59:59Z",
              "instanceName": "shared1",
              "instanceId": "/subscriptions/subid/resourceGroups/Default-Web-eastasia/providers/Microsoft.Web/sites/shared1",
              "currency": "USD",
              "consumedQuantity": 0.00328,
              "pretaxCost": 0.67,
              "isEstimated": false,
              "meterId": "00000000-0000-0000-0000-000000000000",
              "offerName": "offer1",
              "resourceGroup": "TEST",
              "orderNumber": "00000000-0000-0000-0000-000000000000",
              "publisherName": "xyz",
              "planName": "plan2",
              "resourceRate": 0.24,
              "subscriptionGuid": "00000000-0000-0000-0000-000000000000",
              "subscriptionName": "azure subscription",
              "unitOfMeasure": "10 Hours",
              "isRecurringCharge": false
            }
          }
        ]
      }
  - statusCode: "204"
- name: DepartmentMarketplacesList
  request:
    uri: GET https://management.azure.com/providers/Microsoft.Billing/departments/123456/providers/Microsoft.Consumption/marketplaces?api-version=2021-10-01
    codeTab: |+
      # [HTTP](#tab/HTTP)
      ``` http
      GET https://management.azure.com/providers/Microsoft.Billing/departments/123456/providers/Microsoft.Consumption/marketplaces?api-version=2021-10-01
      ```

      # [Java](#tab/Java)
      ``` java
      import com.azure.core.util.Context;

      /** Samples for Marketplaces List. */
      public final class Main {
          /*
           * x-ms-original-file: specification/consumption/resource-manager/Microsoft.Consumption/stable/2021-10-01/examples/MarketplacesByDepartmentList.json
           */
          /**
           * Sample code: DepartmentMarketplacesList.
           *
           * @param manager Entry point to ConsumptionManager.
           */
          public static void departmentMarketplacesList(com.azure.resourcemanager.consumption.ConsumptionManager manager) {
              manager.marketplaces().list("providers/Microsoft.Billing/departments/123456", null, null, null, Context.NONE);
          }
      }

      ```
      Read this [SDK documentation](https://github.com/Azure/azure-sdk-for-java/blob/azure-resourcemanager-consumption_1.0.0-beta.3/sdk/consumption/azure-resourcemanager-consumption/README.md) on how to add the SDK to your project and authenticate.
      # [JavaScript](#tab/JavaScript)
      ``` js
      const { ConsumptionManagementClient } = require("@azure/arm-consumption");
      const { DefaultAzureCredential } = require("@azure/identity");

      /**
       * This sample demonstrates how to Lists the marketplaces for a scope at the defined scope. Marketplaces are available via this API only for May 1, 2014 or later.
       *
       * @summary Lists the marketplaces for a scope at the defined scope. Marketplaces are available via this API only for May 1, 2014 or later.
       * x-ms-original-file: specification/consumption/resource-manager/Microsoft.Consumption/stable/2021-10-01/examples/MarketplacesByDepartmentList.json
       */
      async function departmentMarketplacesList() {
        const subscriptionId = "00000000-0000-0000-0000-000000000000";
        const scope = "providers/Microsoft.Billing/departments/123456";
        const credential = new DefaultAzureCredential();
        const client = new ConsumptionManagementClient(credential, subscriptionId);
        const resArray = new Array();
        for await (let item of client.marketplaces.list(scope)) {
          resArray.push(item);
        }
        console.log(resArray);
      }

      departmentMarketplacesList().catch(console.error);

      ```
      Read this [SDK documentation](https://github.com/Azure/azure-sdk-for-js/blob/%40azure%2Farm-consumption_9.0.1/sdk/consumption/arm-consumption/README.md) on how to add the SDK to your project and authenticate.
  responses:
  - statusCode: "200"
    body: >-
      {
        "value": [
          {
            "id": "/providers/Microsoft.Billing/departments/123456/providers/Microsoft.Billing/billingPeriods/201702/providers/Microsoft.Consumption/marketplaces/marketplaceId1",
            "name": "marketplacesId1",
            "type": "Microsoft.Consumption/marketPlaces",
            "tags": {
              "env": "newcrp",
              "dev": "tools"
            },
            "properties": {
              "accountName": "Account1",
              "additionalProperties": "additionalProperties",
              "costCenter": "Center1",
              "departmentName": "Department1",
              "billingPeriodId": "/providers/Microsoft.Billing/departments/123456/providers/Microsoft.Billing/billingPeriods/201702",
              "usageStart": "2017-02-13T00:00:00Z",
              "usageEnd": "2017-02-13T23:59:59Z",
              "instanceName": "shared1",
              "instanceId": "/subscriptions/subid/resourceGroups/Default-Web-eastasia/providers/Microsoft.Web/sites/shared1",
              "currency": "USD",
              "consumedQuantity": 0.00328,
              "pretaxCost": 0.67,
              "isEstimated": false,
              "meterId": "00000000-0000-0000-0000-000000000000",
              "offerName": "offer1",
              "resourceGroup": "TEST",
              "orderNumber": "00000000-0000-0000-0000-000000000000",
              "publisherName": "xyz",
              "planName": "plan2",
              "resourceRate": 0.24,
              "subscriptionGuid": "00000000-0000-0000-0000-000000000000",
              "subscriptionName": "azure subscription",
              "unitOfMeasure": "10 Hours",
              "isRecurringCharge": false
            }
          }
        ]
      }
  - statusCode: "204"
- name: DepartmentMarketplacesListForBillingPeriod
  request:
    uri: GET https://management.azure.com/providers/Microsoft.Billing/departments/123456/providers/Microsoft.Consumption/marketplaces?api-version=2021-10-01
    codeTab: |+
      # [HTTP](#tab/HTTP)
      ``` http
      GET https://management.azure.com/providers/Microsoft.Billing/departments/123456/providers/Microsoft.Consumption/marketplaces?api-version=2021-10-01
      ```

      # [Java](#tab/Java)
      ``` java
      import com.azure.core.util.Context;

      /** Samples for Marketplaces List. */
      public final class Main {
          /*
           * x-ms-original-file: specification/consumption/resource-manager/Microsoft.Consumption/stable/2021-10-01/examples/MarketplacesByDepartment_ListByBillingPeriod.json
           */
          /**
           * Sample code: DepartmentMarketplacesListForBillingPeriod.
           *
           * @param manager Entry point to ConsumptionManager.
           */
          public static void departmentMarketplacesListForBillingPeriod(
              com.azure.resourcemanager.consumption.ConsumptionManager manager) {
              manager.marketplaces().list("providers/Microsoft.Billing/departments/123456", null, null, null, Context.NONE);
          }
      }

      ```
      Read this [SDK documentation](https://github.com/Azure/azure-sdk-for-java/blob/azure-resourcemanager-consumption_1.0.0-beta.3/sdk/consumption/azure-resourcemanager-consumption/README.md) on how to add the SDK to your project and authenticate.
      # [JavaScript](#tab/JavaScript)
      ``` js
      const { ConsumptionManagementClient } = require("@azure/arm-consumption");
      const { DefaultAzureCredential } = require("@azure/identity");

      /**
       * This sample demonstrates how to Lists the marketplaces for a scope at the defined scope. Marketplaces are available via this API only for May 1, 2014 or later.
       *
       * @summary Lists the marketplaces for a scope at the defined scope. Marketplaces are available via this API only for May 1, 2014 or later.
       * x-ms-original-file: specification/consumption/resource-manager/Microsoft.Consumption/stable/2021-10-01/examples/MarketplacesByDepartment_ListByBillingPeriod.json
       */
      async function departmentMarketplacesListForBillingPeriod() {
        const subscriptionId = "00000000-0000-0000-0000-000000000000";
        const scope = "providers/Microsoft.Billing/departments/123456";
        const credential = new DefaultAzureCredential();
        const client = new ConsumptionManagementClient(credential, subscriptionId);
        const resArray = new Array();
        for await (let item of client.marketplaces.list(scope)) {
          resArray.push(item);
        }
        console.log(resArray);
      }

      departmentMarketplacesListForBillingPeriod().catch(console.error);

      ```
      Read this [SDK documentation](https://github.com/Azure/azure-sdk-for-js/blob/%40azure%2Farm-consumption_9.0.1/sdk/consumption/arm-consumption/README.md) on how to add the SDK to your project and authenticate.
  responses:
  - statusCode: "200"
    body: >-
      {
        "value": [
          {
            "id": "/providers/Microsoft.Billing/departments/123456/providers/Microsoft.Billing/billingPeriods/201702/providers/Microsoft.Consumption/marketplaces/marketplaceId1",
            "name": "marketplacesId1",
            "type": "Microsoft.Consumption/marketPlaces",
            "tags": {
              "env": "newcrp",
              "dev": "tools"
            },
            "properties": {
              "accountName": "Account1",
              "additionalProperties": "additionalProperties",
              "costCenter": "Center1",
              "departmentName": "Department1",
              "billingPeriodId": "/providers/Microsoft.Billing/departments/123456/providers/Microsoft.Billing/billingPeriods/201702",
              "usageStart": "2017-02-13T00:00:00Z",
              "usageEnd": "2017-02-13T23:59:59Z",
              "instanceName": "shared1",
              "instanceId": "/subscriptions/subid/resourceGroups/Default-Web-eastasia/providers/Microsoft.Web/sites/shared1",
              "currency": "USD",
              "consumedQuantity": 0.00328,
              "pretaxCost": 0.67,
              "isEstimated": false,
              "meterId": "00000000-0000-0000-0000-000000000000",
              "offerName": "offer1",
              "resourceGroup": "TEST",
              "orderNumber": "00000000-0000-0000-0000-000000000000",
              "publisherName": "xyz",
              "planName": "plan2",
              "resourceRate": 0.24,
              "subscriptionGuid": "00000000-0000-0000-0000-000000000000",
              "subscriptionName": "azure subscription",
              "unitOfMeasure": "10 Hours",
              "isRecurringCharge": false
            }
          }
        ]
      }
  - statusCode: "204"
- name: EnrollmentAccountMarketplacesList
  request:
    uri: GET https://management.azure.com/providers/Microsoft.Billing/enrollmentAccounts/123456/providers/Microsoft.Consumption/marketplaces?api-version=2021-10-01
    codeTab: |+
      # [HTTP](#tab/HTTP)
      ``` http
      GET https://management.azure.com/providers/Microsoft.Billing/enrollmentAccounts/123456/providers/Microsoft.Consumption/marketplaces?api-version=2021-10-01
      ```

      # [Java](#tab/Java)
      ``` java
      import com.azure.core.util.Context;

      /** Samples for Marketplaces List. */
      public final class Main {
          /*
           * x-ms-original-file: specification/consumption/resource-manager/Microsoft.Consumption/stable/2021-10-01/examples/MarketplacesByEnrollmentAccountList.json
           */
          /**
           * Sample code: EnrollmentAccountMarketplacesList.
           *
           * @param manager Entry point to ConsumptionManager.
           */
          public static void enrollmentAccountMarketplacesList(
              com.azure.resourcemanager.consumption.ConsumptionManager manager) {
              manager
                  .marketplaces()
                  .list("providers/Microsoft.Billing/enrollmentAccounts/123456", null, null, null, Context.NONE);
          }
      }

      ```
      Read this [SDK documentation](https://github.com/Azure/azure-sdk-for-java/blob/azure-resourcemanager-consumption_1.0.0-beta.3/sdk/consumption/azure-resourcemanager-consumption/README.md) on how to add the SDK to your project and authenticate.
      # [JavaScript](#tab/JavaScript)
      ``` js
      const { ConsumptionManagementClient } = require("@azure/arm-consumption");
      const { DefaultAzureCredential } = require("@azure/identity");

      /**
       * This sample demonstrates how to Lists the marketplaces for a scope at the defined scope. Marketplaces are available via this API only for May 1, 2014 or later.
       *
       * @summary Lists the marketplaces for a scope at the defined scope. Marketplaces are available via this API only for May 1, 2014 or later.
       * x-ms-original-file: specification/consumption/resource-manager/Microsoft.Consumption/stable/2021-10-01/examples/MarketplacesByEnrollmentAccountList.json
       */
      async function enrollmentAccountMarketplacesList() {
        const subscriptionId = "00000000-0000-0000-0000-000000000000";
        const scope = "providers/Microsoft.Billing/enrollmentAccounts/123456";
        const credential = new DefaultAzureCredential();
        const client = new ConsumptionManagementClient(credential, subscriptionId);
        const resArray = new Array();
        for await (let item of client.marketplaces.list(scope)) {
          resArray.push(item);
        }
        console.log(resArray);
      }

      enrollmentAccountMarketplacesList().catch(console.error);

      ```
      Read this [SDK documentation](https://github.com/Azure/azure-sdk-for-js/blob/%40azure%2Farm-consumption_9.0.1/sdk/consumption/arm-consumption/README.md) on how to add the SDK to your project and authenticate.
  responses:
  - statusCode: "200"
    body: >-
      {
        "value": [
          {
            "id": "/providers/Microsoft.Billing/enrollmentAccounts/123456/providers/Microsoft.Billing/billingPeriods/201702/providers/Microsoft.Consumption/marketplaces/marketplaceId1",
            "name": "marketplacesId1",
            "type": "Microsoft.Consumption/marketPlaces",
            "tags": {
              "env": "newcrp",
              "dev": "tools"
            },
            "properties": {
              "accountName": "Account1",
              "additionalProperties": "additionalProperties",
              "costCenter": "Center1",
              "departmentName": "Department1",
              "billingPeriodId": "/providers/Microsoft.Billing/enrollmentAccounts/123456/providers/Microsoft.Billing/billingPeriods/201702",
              "usageStart": "2017-02-13T00:00:00Z",
              "usageEnd": "2017-02-13T23:59:59Z",
              "instanceName": "shared1",
              "instanceId": "/subscriptions/subid/resourceGroups/Default-Web-eastasia/providers/Microsoft.Web/sites/shared1",
              "currency": "USD",
              "consumedQuantity": 0.00328,
              "pretaxCost": 0.67,
              "isEstimated": false,
              "meterId": "00000000-0000-0000-0000-000000000000",
              "offerName": "offer1",
              "resourceGroup": "TEST",
              "orderNumber": "00000000-0000-0000-0000-000000000000",
              "publisherName": "xyz",
              "planName": "plan2",
              "resourceRate": 0.24,
              "subscriptionGuid": "00000000-0000-0000-0000-000000000000",
              "subscriptionName": "azure subscription",
              "unitOfMeasure": "10 Hours",
              "isRecurringCharge": false
            }
          }
        ]
      }
  - statusCode: "204"
- name: EnrollmentAccountMarketplacesListForBillingPeriod
  request:
    uri: GET https://management.azure.com/providers/Microsoft.Billing/enrollmentAccounts/123456/providers/Microsoft.Consumption/marketplaces?api-version=2021-10-01
    codeTab: |+
      # [HTTP](#tab/HTTP)
      ``` http
      GET https://management.azure.com/providers/Microsoft.Billing/enrollmentAccounts/123456/providers/Microsoft.Consumption/marketplaces?api-version=2021-10-01
      ```

      # [Java](#tab/Java)
      ``` java
      import com.azure.core.util.Context;

      /** Samples for Marketplaces List. */
      public final class Main {
          /*
           * x-ms-original-file: specification/consumption/resource-manager/Microsoft.Consumption/stable/2021-10-01/examples/MarketplacesByEnrollmentAccounts_ListByBillingPeriod.json
           */
          /**
           * Sample code: EnrollmentAccountMarketplacesListForBillingPeriod.
           *
           * @param manager Entry point to ConsumptionManager.
           */
          public static void enrollmentAccountMarketplacesListForBillingPeriod(
              com.azure.resourcemanager.consumption.ConsumptionManager manager) {
              manager
                  .marketplaces()
                  .list("providers/Microsoft.Billing/enrollmentAccounts/123456", null, null, null, Context.NONE);
          }
      }

      ```
      Read this [SDK documentation](https://github.com/Azure/azure-sdk-for-java/blob/azure-resourcemanager-consumption_1.0.0-beta.3/sdk/consumption/azure-resourcemanager-consumption/README.md) on how to add the SDK to your project and authenticate.
      # [JavaScript](#tab/JavaScript)
      ``` js
      const { ConsumptionManagementClient } = require("@azure/arm-consumption");
      const { DefaultAzureCredential } = require("@azure/identity");

      /**
       * This sample demonstrates how to Lists the marketplaces for a scope at the defined scope. Marketplaces are available via this API only for May 1, 2014 or later.
       *
       * @summary Lists the marketplaces for a scope at the defined scope. Marketplaces are available via this API only for May 1, 2014 or later.
       * x-ms-original-file: specification/consumption/resource-manager/Microsoft.Consumption/stable/2021-10-01/examples/MarketplacesByEnrollmentAccounts_ListByBillingPeriod.json
       */
      async function enrollmentAccountMarketplacesListForBillingPeriod() {
        const subscriptionId = "00000000-0000-0000-0000-000000000000";
        const scope = "providers/Microsoft.Billing/enrollmentAccounts/123456";
        const credential = new DefaultAzureCredential();
        const client = new ConsumptionManagementClient(credential, subscriptionId);
        const resArray = new Array();
        for await (let item of client.marketplaces.list(scope)) {
          resArray.push(item);
        }
        console.log(resArray);
      }

      enrollmentAccountMarketplacesListForBillingPeriod().catch(console.error);

      ```
      Read this [SDK documentation](https://github.com/Azure/azure-sdk-for-js/blob/%40azure%2Farm-consumption_9.0.1/sdk/consumption/arm-consumption/README.md) on how to add the SDK to your project and authenticate.
  responses:
  - statusCode: "200"
    body: >-
      {
        "value": [
          {
            "id": "/providers/Microsoft.Billing/enrollmentAccounts/123456/providers/Microsoft.Billing/billingPeriods/201702/providers/Microsoft.Consumption/marketplaces/marketplaceId1",
            "name": "marketplacesId1",
            "type": "Microsoft.Consumption/marketPlaces",
            "tags": {
              "env": "newcrp",
              "dev": "tools"
            },
            "properties": {
              "accountName": "Account1",
              "additionalProperties": "additionalProperties",
              "costCenter": "Center1",
              "departmentName": "Department1",
              "billingPeriodId": "/providers/Microsoft.Billing/enrollmentAccounts/123456/providers/Microsoft.Billing/billingPeriods/201702",
              "usageStart": "2017-02-13T00:00:00Z",
              "usageEnd": "2017-02-13T23:59:59Z",
              "instanceName": "shared1",
              "instanceId": "/subscriptions/subid/resourceGroups/Default-Web-eastasia/providers/Microsoft.Web/sites/shared1",
              "currency": "USD",
              "consumedQuantity": 0.00328,
              "pretaxCost": 0.67,
              "isEstimated": false,
              "meterId": "00000000-0000-0000-0000-000000000000",
              "offerName": "offer1",
              "resourceGroup": "TEST",
              "orderNumber": "00000000-0000-0000-0000-000000000000",
              "publisherName": "xyz",
              "planName": "plan2",
              "resourceRate": 0.24,
              "subscriptionGuid": "00000000-0000-0000-0000-000000000000",
              "subscriptionName": "azure subscription",
              "unitOfMeasure": "10 Hours",
              "isRecurringCharge": false
            }
          }
        ]
      }
  - statusCode: "204"
- name: ManagementGroupMarketplacesList
  request:
    uri: GET https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Consumption/marketplaces?api-version=2021-10-01
    codeTab: |+
      # [HTTP](#tab/HTTP)
      ``` http
      GET https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Consumption/marketplaces?api-version=2021-10-01
      ```

      # [Java](#tab/Java)
      ``` java
      import com.azure.core.util.Context;

      /** Samples for Marketplaces List. */
      public final class Main {
          /*
           * x-ms-original-file: specification/consumption/resource-manager/Microsoft.Consumption/stable/2021-10-01/examples/MarketplacesByManagementGroupList.json
           */
          /**
           * Sample code: ManagementGroupMarketplacesList.
           *
           * @param manager Entry point to ConsumptionManager.
           */
          public static void managementGroupMarketplacesList(
              com.azure.resourcemanager.consumption.ConsumptionManager manager) {
              manager
                  .marketplaces()
                  .list("subscriptions/00000000-0000-0000-0000-000000000000", null, null, null, Context.NONE);
          }
      }

      ```
      Read this [SDK documentation](https://github.com/Azure/azure-sdk-for-java/blob/azure-resourcemanager-consumption_1.0.0-beta.3/sdk/consumption/azure-resourcemanager-consumption/README.md) on how to add the SDK to your project and authenticate.
      # [JavaScript](#tab/JavaScript)
      ``` js
      const { ConsumptionManagementClient } = require("@azure/arm-consumption");
      const { DefaultAzureCredential } = require("@azure/identity");

      /**
       * This sample demonstrates how to Lists the marketplaces for a scope at the defined scope. Marketplaces are available via this API only for May 1, 2014 or later.
       *
       * @summary Lists the marketplaces for a scope at the defined scope. Marketplaces are available via this API only for May 1, 2014 or later.
       * x-ms-original-file: specification/consumption/resource-manager/Microsoft.Consumption/stable/2021-10-01/examples/MarketplacesByManagementGroupList.json
       */
      async function managementGroupMarketplacesList() {
        const subscriptionId = "00000000-0000-0000-0000-000000000000";
        const scope = "subscriptions/00000000-0000-0000-0000-000000000000";
        const credential = new DefaultAzureCredential();
        const client = new ConsumptionManagementClient(credential, subscriptionId);
        const resArray = new Array();
        for await (let item of client.marketplaces.list(scope)) {
          resArray.push(item);
        }
        console.log(resArray);
      }

      managementGroupMarketplacesList().catch(console.error);

      ```
      Read this [SDK documentation](https://github.com/Azure/azure-sdk-for-js/blob/%40azure%2Farm-consumption_9.0.1/sdk/consumption/arm-consumption/README.md) on how to add the SDK to your project and authenticate.
  responses:
  - statusCode: "200"
    body: >-
      {
        "value": [
          {
            "id": "/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Billing/billingPeriods/201810/providers/Microsoft.Consumption/marketplaces/marketplaceId1",
            "name": "marketplacesId1",
            "type": "Microsoft.Consumption/marketPlaces",
            "tags": {
              "env": "newcrp",
              "dev": "tools"
            },
            "properties": {
              "accountName": "Account1",
              "additionalProperties": "additionalProperties",
              "costCenter": "Center1",
              "departmentName": "Department1",
              "billingPeriodId": "/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Billing/billingPeriods/201810",
              "usageStart": "2018-10-13T00:00:00Z",
              "usageEnd": "2018-10-13T23:59:59Z",
              "instanceName": "shared1",
              "instanceId": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/Default-Web-eastasia/providers/Microsoft.Web/sites/shared1",
              "currency": "USD",
              "consumedQuantity": 0.00328,
              "pretaxCost": 0.67,
              "isEstimated": false,
              "meterId": "00000000-0000-0000-0000-000000000000",
              "offerName": "offer1",
              "resourceGroup": "TEST",
              "orderNumber": "00000000-0000-0000-0000-000000000000",
              "publisherName": "xyz",
              "planName": "plan2",
              "resourceRate": 0.24,
              "subscriptionGuid": "00000000-0000-0000-0000-000000000000",
              "subscriptionName": "azure subscription",
              "unitOfMeasure": "10 Hours",
              "isRecurringCharge": false
            }
          },
          {
            "id": "/subscriptions/11111111-1111-1111-1111-111111111111/providers/Microsoft.Billing/billingPeriods/201810/providers/Microsoft.Consumption/marketplaces/marketplaceId2",
            "name": "marketplacesId2",
            "type": "Microsoft.Consumption/marketPlaces",
            "tags": {
              "env": "newcrp",
              "dev": "tools"
            },
            "properties": {
              "accountName": "Account2",
              "additionalProperties": "additionalProperties",
              "costCenter": "Center2",
              "departmentName": "Department2",
              "billingPeriodId": "/subscriptions/11111111-1111-1111-1111-111111111111/providers/Microsoft.Billing/billingPeriods/201810",
              "usageStart": "2018-10-13T00:00:00Z",
              "usageEnd": "2018-10-13T23:59:59Z",
              "instanceName": "shared2",
              "instanceId": "/subscriptions/11111111-1111-1111-1111-111111111111/resourceGroups/Default-Web-eastasia/providers/Microsoft.Web/sites/shared2",
              "currency": "USD",
              "consumedQuantity": 0.00328,
              "pretaxCost": 0.67,
              "isEstimated": false,
              "meterId": "11111111-1111-1111-1111-111111111111",
              "offerName": "offer1",
              "resourceGroup": "TEST",
              "orderNumber": "11111111-1111-1111-1111-111111111111",
              "publisherName": "xyz",
              "planName": "plan2",
              "resourceRate": 0.24,
              "subscriptionGuid": "11111111-1111-1111-1111-111111111111",
              "subscriptionName": "azure subscription",
              "unitOfMeasure": "10 Hours",
              "isRecurringCharge": false
            }
          }
        ]
      }
  - statusCode: "204"
- name: ManagementGroupMarketplacesListForBillingPeriod
  request:
    uri: GET https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Consumption/marketplaces?api-version=2021-10-01
    codeTab: |+
      # [HTTP](#tab/HTTP)
      ``` http
      GET https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Consumption/marketplaces?api-version=2021-10-01
      ```

      # [Java](#tab/Java)
      ``` java
      import com.azure.core.util.Context;

      /** Samples for Marketplaces List. */
      public final class Main {
          /*
           * x-ms-original-file: specification/consumption/resource-manager/Microsoft.Consumption/stable/2021-10-01/examples/MarketplacesByManagementGroup_ListForBillingPeriod.json
           */
          /**
           * Sample code: ManagementGroupMarketplacesListForBillingPeriod.
           *
           * @param manager Entry point to ConsumptionManager.
           */
          public static void managementGroupMarketplacesListForBillingPeriod(
              com.azure.resourcemanager.consumption.ConsumptionManager manager) {
              manager
                  .marketplaces()
                  .list("subscriptions/00000000-0000-0000-0000-000000000000", null, null, null, Context.NONE);
          }
      }

      ```
      Read this [SDK documentation](https://github.com/Azure/azure-sdk-for-java/blob/azure-resourcemanager-consumption_1.0.0-beta.3/sdk/consumption/azure-resourcemanager-consumption/README.md) on how to add the SDK to your project and authenticate.
      # [JavaScript](#tab/JavaScript)
      ``` js
      const { ConsumptionManagementClient } = require("@azure/arm-consumption");
      const { DefaultAzureCredential } = require("@azure/identity");

      /**
       * This sample demonstrates how to Lists the marketplaces for a scope at the defined scope. Marketplaces are available via this API only for May 1, 2014 or later.
       *
       * @summary Lists the marketplaces for a scope at the defined scope. Marketplaces are available via this API only for May 1, 2014 or later.
       * x-ms-original-file: specification/consumption/resource-manager/Microsoft.Consumption/stable/2021-10-01/examples/MarketplacesByManagementGroup_ListForBillingPeriod.json
       */
      async function managementGroupMarketplacesListForBillingPeriod() {
        const subscriptionId = "00000000-0000-0000-0000-000000000000";
        const scope = "subscriptions/00000000-0000-0000-0000-000000000000";
        const credential = new DefaultAzureCredential();
        const client = new ConsumptionManagementClient(credential, subscriptionId);
        const resArray = new Array();
        for await (let item of client.marketplaces.list(scope)) {
          resArray.push(item);
        }
        console.log(resArray);
      }

      managementGroupMarketplacesListForBillingPeriod().catch(console.error);

      ```
      Read this [SDK documentation](https://github.com/Azure/azure-sdk-for-js/blob/%40azure%2Farm-consumption_9.0.1/sdk/consumption/arm-consumption/README.md) on how to add the SDK to your project and authenticate.
  responses:
  - statusCode: "200"
    body: >-
      {
        "value": [
          {
            "id": "/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Billing/billingPeriods/201808/providers/Microsoft.Consumption/marketplaces/marketplaceId1",
            "name": "marketplacesId1",
            "type": "Microsoft.Consumption/marketPlaces",
            "tags": {
              "env": "newcrp",
              "dev": "tools"
            },
            "properties": {
              "accountName": "Account1",
              "additionalProperties": "additionalProperties",
              "costCenter": "Center1",
              "departmentName": "Department1",
              "billingPeriodId": "/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Billing/billingPeriods/201808",
              "usageStart": "2018-08-13T00:00:00Z",
              "usageEnd": "2018-08-13T23:59:59Z",
              "instanceName": "shared1",
              "instanceId": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/Default-Web-eastasia/providers/Microsoft.Web/sites/shared1",
              "currency": "USD",
              "consumedQuantity": 0.00328,
              "pretaxCost": 0.67,
              "isEstimated": false,
              "meterId": "00000000-0000-0000-0000-000000000000",
              "offerName": "offer1",
              "resourceGroup": "TEST",
              "orderNumber": "00000000-0000-0000-0000-000000000000",
              "publisherName": "xyz",
              "planName": "plan2",
              "resourceRate": 0.24,
              "subscriptionGuid": "00000000-0000-0000-0000-000000000000",
              "subscriptionName": "azure subscription",
              "unitOfMeasure": "10 Hours",
              "isRecurringCharge": false
            }
          },
          {
            "id": "/subscriptions/11111111-1111-1111-1111-111111111111/providers/Microsoft.Billing/billingPeriods/201808/providers/Microsoft.Consumption/marketplaces/marketplaceId2",
            "name": "marketplacesId2",
            "type": "Microsoft.Consumption/marketPlaces",
            "tags": {
              "env": "newcrp",
              "dev": "tools"
            },
            "properties": {
              "accountName": "Account2",
              "additionalProperties": "additionalProperties",
              "costCenter": "Center2",
              "departmentName": "Department2",
              "billingPeriodId": "/subscriptions/11111111-1111-1111-1111-111111111111/providers/Microsoft.Billing/billingPeriods/201810",
              "usageStart": "2018-08-13T00:00:00Z",
              "usageEnd": "2018-08-13T23:59:59Z",
              "instanceName": "shared2",
              "instanceId": "/subscriptions/11111111-1111-1111-1111-111111111111/resourceGroups/Default-Web-eastasia/providers/Microsoft.Web/sites/shared2",
              "currency": "USD",
              "consumedQuantity": 0.00328,
              "pretaxCost": 0.67,
              "isEstimated": false,
              "meterId": "11111111-1111-1111-1111-111111111111",
              "offerName": "offer1",
              "resourceGroup": "TEST",
              "orderNumber": "11111111-1111-1111-1111-111111111111",
              "publisherName": "xyz",
              "planName": "plan2",
              "resourceRate": 0.24,
              "subscriptionGuid": "11111111-1111-1111-1111-111111111111",
              "subscriptionName": "azure subscription",
              "unitOfMeasure": "10 Hours",
              "isRecurringCharge": false
            }
          }
        ]
      }
  - statusCode: "204"
security:
- name: azure_auth
  type: oauth2
  description: Azure Active Directory OAuth2 Flow.
  flow: implicit
  authorizationUrl: https://login.microsoftonline.com/common/oauth2/authorize
  scopes:
  - name: user_impersonation
    description: impersonate your user account
metadata:
  description: >
    Lists the marketplaces for a scope at the defined scope. Marketplaces are available via this API only for May 1, 2014 or later.
errorCodes: []
