### YamlMime:RESTOperation
uid: management.azure.com.consumption.budgets.createorupdate
name: Create Or Update
service: Consumption
groupName: Budgets
apiVersion: 2021-10-01
summary: The operation to create or update a budget. You can optionally provide an eTag if desired as a form of concurrency control. To obtain the latest eTag for a given budget, perform a get operation prior to your put operation.
consumes:
- application/json
produces:
- application/json
paths:
- content: PUT https://management.azure.com/{scope}/providers/Microsoft.Consumption/budgets/{budgetName}?api-version=2021-10-01
uriParameters:
- name: scope
  in: path
  isRequired: true
  skipUrlEncoding: true
  description: The scope associated with budget operations. This includes '/subscriptions/{subscriptionId}/' for subscription scope, '/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}' for resourceGroup scope, '/providers/Microsoft.Billing/billingAccounts/{billingAccountId}' for Billing Account scope, '/providers/Microsoft.Billing/billingAccounts/{billingAccountId}/departments/{departmentId}' for Department scope, '/providers/Microsoft.Billing/billingAccounts/{billingAccountId}/enrollmentAccounts/{enrollmentAccountId}' for EnrollmentAccount scope, '/providers/Microsoft.Management/managementGroups/{managementGroupId}' for Management Group scope, '/providers/Microsoft.Billing/billingAccounts/{billingAccountId}/billingProfiles/{billingProfileId}' for billingProfile scope, 'providers/Microsoft.Billing/billingAccounts/{billingAccountId}/invoiceSections/{invoiceSectionId}' for invoiceSection scope.
  types:
  - uid: string
- name: budgetName
  in: path
  isRequired: true
  description: Budget Name.
  types:
  - uid: string
- name: api-version
  in: query
  isRequired: true
  description: Version of the API to be used with the client request. The current version is 2021-10-01.
  types:
  - uid: string
responses:
- name: 200 OK
  description: OK. The request has succeeded.
  types:
  - uid: Budget
- name: 201 Created
  description: Created.
  types:
  - uid: Budget
- name: Other Status Codes
  description: Error response describing why the operation failed.
  types:
  - uid: ErrorResponse
requestBody:
- name: default
  parameters:
  - name: properties.category
    in: body
    isRequired: true
    description: The category of the budget, whether the budget tracks cost or usage.
    types:
    - uid: CategoryType
  - name: properties.amount
    in: body
    isRequired: true
    description: The total amount of cost to track with the budget
    types:
    - uid: number
  - name: properties.timeGrain
    in: body
    isRequired: true
    description: The time covered by a budget. Tracking of the amount will be reset based on the time grain. BillingMonth, BillingQuarter, and BillingAnnual are only supported by WD customers
    types:
    - uid: TimeGrainType
  - name: properties.timePeriod
    in: body
    isRequired: true
    description: Has start and end date of the budget. The start date must be first of the month and should be less than the end date. Budget start date must be on or after June 1, 2017. Future start date should not be more than twelve months. Past start date should  be selected within the timegrain period. There are no restrictions on the end date.
    types:
    - uid: BudgetTimePeriod
  - name: properties.filter
    in: body
    description: May be used to filter budgets by user-specified dimensions and/or tags.
    types:
    - uid: BudgetFilter
  - name: properties.notifications
    in: body
    description: Dictionary of notifications associated with the budget. Budget can have up to five notifications.
    types:
    - uid: object
      isDictionary: true
      additionalTypes:
      - uid: string
      - uid: Notification
  - name: eTag
    in: body
    description: eTag of the resource. To handle concurrent update scenario, this field will be used to determine whether the user is updating the latest version or not.
    types:
    - uid: string
requestHeader: []
definitions:
- name: BudgetTimePeriod
  description: The start and end date for a budget.
  kind: object
  properties:
  - name: startDate
    description: The start date for the budget.
    types:
    - uid: string
  - name: endDate
    description: The end date for the budget. If not provided, we default this to 10 years from the start date.
    types:
    - uid: string
- name: BudgetFilter
  description: May be used to filter budgets by resource group, resource, or meter.
  kind: object
  properties:
  - name: and
    description: The logical "AND" expression. Must have at least 2 items.
    types:
    - uid: BudgetFilterProperties
      isArray: true
  - name: dimensions
    description: Has comparison expression for a dimension
    types:
    - uid: BudgetComparisonExpression
  - name: tags
    description: Has comparison expression for a tag
    types:
    - uid: BudgetComparisonExpression
- name: CurrentSpend
  description: The current amount of cost which is being tracked for a budget.
  kind: object
  properties:
  - name: amount
    isReadyOnly: true
    description: The total amount of cost which is being tracked by the budget.
    types:
    - uid: number
  - name: unit
    isReadyOnly: true
    description: The unit of measure for the budget amount.
    types:
    - uid: string
- name: Notification
  description: The notification associated with a budget.
  kind: object
  properties:
  - name: enabled
    description: The notification is enabled or not.
    types:
    - uid: boolean
  - name: operator
    description: The comparison operator.
    types:
    - uid: OperatorType
  - name: threshold
    description: Threshold value associated with a notification. Notification is sent when the cost exceeded the threshold. It is always percent and has to be between 0 and 1000.
    types:
    - uid: number
  - name: contactEmails
    description: Email addresses to send the budget notification to when the threshold is exceeded. Must have at least one contact email or contact group specified at the Subscription or Resource Group scopes. All other scopes must have at least one contact email specified.
    types:
    - uid: string
      isArray: true
  - name: contactRoles
    description: Contact roles to send the budget notification to when the threshold is exceeded.
    types:
    - uid: string
      isArray: true
  - name: contactGroups
    description: Action groups to send the budget notification to when the threshold is exceeded. Must be provided as a fully qualified Azure resource id. Only supported at Subscription or Resource Group scopes.
    types:
    - uid: string
      isArray: true
  - name: thresholdType
    description: The type of threshold
    types:
    - uid: ThresholdType
    defaultValue: Actual
  - name: locale
    description: Language in which the recipient will receive the notification
    types:
    - uid: CultureCode
- name: ForecastSpend
  description: The forecasted cost which is being tracked for a budget.
  kind: object
  properties:
  - name: amount
    isReadyOnly: true
    description: The forecasted cost for the total time period which is being tracked by the budget. This value is only provided if the budget contains a forecast alert type.
    types:
    - uid: number
  - name: unit
    isReadyOnly: true
    description: The unit of measure for the budget amount.
    types:
    - uid: string
- name: Budget
  description: A budget resource.
  kind: object
  properties:
  - name: properties.category
    description: The category of the budget, whether the budget tracks cost or usage.
    types:
    - uid: CategoryType
  - name: properties.amount
    description: The total amount of cost to track with the budget
    types:
    - uid: number
  - name: properties.timeGrain
    description: The time covered by a budget. Tracking of the amount will be reset based on the time grain. BillingMonth, BillingQuarter, and BillingAnnual are only supported by WD customers
    types:
    - uid: TimeGrainType
  - name: properties.timePeriod
    description: Has start and end date of the budget. The start date must be first of the month and should be less than the end date. Budget start date must be on or after June 1, 2017. Future start date should not be more than twelve months. Past start date should  be selected within the timegrain period. There are no restrictions on the end date.
    types:
    - uid: BudgetTimePeriod
  - name: properties.filter
    description: May be used to filter budgets by user-specified dimensions and/or tags.
    types:
    - uid: BudgetFilter
  - name: properties.currentSpend
    isReadyOnly: true
    description: The current amount of cost which is being tracked for a budget.
    types:
    - uid: CurrentSpend
  - name: properties.notifications
    description: Dictionary of notifications associated with the budget. Budget can have up to five notifications.
    types:
    - uid: object
      isDictionary: true
      additionalTypes:
      - uid: string
      - uid: Notification
  - name: properties.forecastSpend
    isReadyOnly: true
    description: The forecasted cost which is being tracked for a budget.
    types:
    - uid: ForecastSpend
  - name: id
    isReadyOnly: true
    description: Resource Id.
    types:
    - uid: string
  - name: name
    isReadyOnly: true
    description: Resource name.
    types:
    - uid: string
  - name: type
    isReadyOnly: true
    description: Resource type.
    types:
    - uid: string
  - name: eTag
    description: eTag of the resource. To handle concurrent update scenario, this field will be used to determine whether the user is updating the latest version or not.
    types:
    - uid: string
- name: ErrorResponse
  description: "Error response indicates that the service is not able to process the incoming request. The reason is provided in the error message. \n\nSome Error responses: \n\n * 429 TooManyRequests - Request is throttled. Retry after waiting for the time specified in the \"x-ms-ratelimit-microsoft.consumption-retry-after\" header. \n\n * 503 ServiceUnavailable - Service is temporarily unavailable. Retry after waiting for the time specified in the \"Retry-After\" header."
  kind: object
  properties:
  - name: error
    description: The details of the error.
    types:
    - uid: ErrorDetails
- name: BudgetFilterProperties
  description: The Dimensions or Tags to filter a budget by.
  kind: object
  properties:
  - name: dimensions
    description: Has comparison expression for a dimension
    types:
    - uid: BudgetComparisonExpression
  - name: tags
    description: Has comparison expression for a tag
    types:
    - uid: BudgetComparisonExpression
- name: BudgetComparisonExpression
  description: The comparison expression to be used in the budgets.
  kind: object
  properties:
  - name: name
    description: The name of the column to use in comparison.
    types:
    - uid: string
  - name: operator
    description: The operator to use for comparison.
    types:
    - uid: BudgetOperatorType
  - name: values
    description: Array of values to use for comparison
    types:
    - uid: string
      isArray: true
- name: OperatorType
  description: The comparison operator.
  kind: enum
  properties:
  - name: EqualTo
    types:
    - uid: string
  - name: GreaterThan
    types:
    - uid: string
  - name: GreaterThanOrEqualTo
    types:
    - uid: string
- name: ThresholdType
  description: The type of threshold
  kind: enum
  properties:
  - name: Actual
    types:
    - uid: string
  - name: Forecasted
    types:
    - uid: string
- name: CultureCode
  description: Language in which the recipient will receive the notification
  kind: enum
  properties:
  - name: en-us
    types:
    - uid: string
  - name: ja-jp
    types:
    - uid: string
  - name: zh-cn
    types:
    - uid: string
  - name: de-de
    types:
    - uid: string
  - name: es-es
    types:
    - uid: string
  - name: fr-fr
    types:
    - uid: string
  - name: it-it
    types:
    - uid: string
  - name: ko-kr
    types:
    - uid: string
  - name: pt-br
    types:
    - uid: string
  - name: ru-ru
    types:
    - uid: string
  - name: zh-tw
    types:
    - uid: string
  - name: cs-cz
    types:
    - uid: string
  - name: pl-pl
    types:
    - uid: string
  - name: tr-tr
    types:
    - uid: string
  - name: da-dk
    types:
    - uid: string
  - name: en-gb
    types:
    - uid: string
  - name: hu-hu
    types:
    - uid: string
  - name: nb-no
    types:
    - uid: string
  - name: nl-nl
    types:
    - uid: string
  - name: pt-pt
    types:
    - uid: string
  - name: sv-se
    types:
    - uid: string
- name: CategoryType
  description: The category of the budget, whether the budget tracks cost or usage.
  kind: enum
  properties:
  - name: Cost
    types:
    - uid: string
- name: TimeGrainType
  description: The time covered by a budget. Tracking of the amount will be reset based on the time grain. BillingMonth, BillingQuarter, and BillingAnnual are only supported by WD customers
  kind: enum
  properties:
  - name: Monthly
    types:
    - uid: string
  - name: Quarterly
    types:
    - uid: string
  - name: Annually
    types:
    - uid: string
  - name: BillingMonth
    types:
    - uid: string
  - name: BillingQuarter
    types:
    - uid: string
  - name: BillingAnnual
    types:
    - uid: string
- name: ErrorDetails
  description: The details of the error.
  kind: object
  properties:
  - name: code
    isReadyOnly: true
    description: Error code.
    types:
    - uid: string
  - name: message
    isReadyOnly: true
    description: Error message indicating why the operation failed.
    types:
    - uid: string
- name: BudgetOperatorType
  description: The operator to use for comparison.
  kind: enum
  properties:
  - name: In
    types:
    - uid: string
examples:
- name: CreateOrUpdateBudget
  request:
    uri: PUT https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Consumption/budgets/TestBudget?api-version=2021-10-01
    body: >-
      {
        "eTag": "\"1d34d016a593709\"",
        "properties": {
          "category": "Cost",
          "amount": 100.65,
          "timeGrain": "Monthly",
          "timePeriod": {
            "startDate": "2017-10-01T00:00:00Z",
            "endDate": "2018-10-31T00:00:00Z"
          },
          "filter": {
            "and": [
              {
                "dimensions": {
                  "name": "ResourceId",
                  "operator": "In",
                  "values": [
                    "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/MYDEVTESTRG/providers/Microsoft.Compute/virtualMachines/MSVM2",
                    "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/MYDEVTESTRG/providers/Microsoft.Compute/virtualMachines/platformcloudplatformGeneric1"
                  ]
                }
              },
              {
                "tags": {
                  "name": "category",
                  "operator": "In",
                  "values": [
                    "Dev",
                    "Prod"
                  ]
                }
              },
              {
                "tags": {
                  "name": "department",
                  "operator": "In",
                  "values": [
                    "engineering",
                    "sales"
                  ]
                }
              }
            ]
          },
          "notifications": {
            "Actual_GreaterThan_80_Percent": {
              "enabled": true,
              "operator": "GreaterThan",
              "threshold": 80,
              "locale": "en-us",
              "contactEmails": [
                "johndoe@contoso.com",
                "janesmith@contoso.com"
              ],
              "contactRoles": [
                "Contributor",
                "Reader"
              ],
              "contactGroups": [
                "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/MYDEVTESTRG/providers/microsoft.insights/actionGroups/SampleActionGroup"
              ],
              "thresholdType": "Actual"
            }
          }
        }
      }
    codeTab: |+
      # [HTTP](#tab/HTTP)
      ``` http
      PUT https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Consumption/budgets/TestBudget?api-version=2021-10-01

      {
        "eTag": "\"1d34d016a593709\"",
        "properties": {
          "category": "Cost",
          "amount": 100.65,
          "timeGrain": "Monthly",
          "timePeriod": {
            "startDate": "2017-10-01T00:00:00Z",
            "endDate": "2018-10-31T00:00:00Z"
          },
          "filter": {
            "and": [
              {
                "dimensions": {
                  "name": "ResourceId",
                  "operator": "In",
                  "values": [
                    "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/MYDEVTESTRG/providers/Microsoft.Compute/virtualMachines/MSVM2",
                    "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/MYDEVTESTRG/providers/Microsoft.Compute/virtualMachines/platformcloudplatformGeneric1"
                  ]
                }
              },
              {
                "tags": {
                  "name": "category",
                  "operator": "In",
                  "values": [
                    "Dev",
                    "Prod"
                  ]
                }
              },
              {
                "tags": {
                  "name": "department",
                  "operator": "In",
                  "values": [
                    "engineering",
                    "sales"
                  ]
                }
              }
            ]
          },
          "notifications": {
            "Actual_GreaterThan_80_Percent": {
              "enabled": true,
              "operator": "GreaterThan",
              "threshold": 80,
              "locale": "en-us",
              "contactEmails": [
                "johndoe@contoso.com",
                "janesmith@contoso.com"
              ],
              "contactRoles": [
                "Contributor",
                "Reader"
              ],
              "contactGroups": [
                "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/MYDEVTESTRG/providers/microsoft.insights/actionGroups/SampleActionGroup"
              ],
              "thresholdType": "Actual"
            }
          }
        }
      }

      ```

      # [Java](#tab/Java)
      ``` java
      import com.azure.resourcemanager.consumption.models.BudgetComparisonExpression;
      import com.azure.resourcemanager.consumption.models.BudgetFilter;
      import com.azure.resourcemanager.consumption.models.BudgetFilterProperties;
      import com.azure.resourcemanager.consumption.models.BudgetOperatorType;
      import com.azure.resourcemanager.consumption.models.BudgetTimePeriod;
      import com.azure.resourcemanager.consumption.models.CategoryType;
      import com.azure.resourcemanager.consumption.models.CultureCode;
      import com.azure.resourcemanager.consumption.models.Notification;
      import com.azure.resourcemanager.consumption.models.OperatorType;
      import com.azure.resourcemanager.consumption.models.ThresholdType;
      import com.azure.resourcemanager.consumption.models.TimeGrainType;
      import java.math.BigDecimal;
      import java.time.OffsetDateTime;
      import java.util.Arrays;
      import java.util.HashMap;
      import java.util.Map;

      /** Samples for Budgets CreateOrUpdate. */
      public final class Main {
          /*
           * x-ms-original-file: specification/consumption/resource-manager/Microsoft.Consumption/stable/2021-10-01/examples/CreateOrUpdateBudget.json
           */
          /**
           * Sample code: CreateOrUpdateBudget.
           *
           * @param manager Entry point to ConsumptionManager.
           */
          public static void createOrUpdateBudget(com.azure.resourcemanager.consumption.ConsumptionManager manager) {
              manager
                  .budgets()
                  .define("TestBudget")
                  .withExistingScope("subscriptions/00000000-0000-0000-0000-000000000000")
                  .withEtag("\"1d34d016a593709\"")
                  .withCategory(CategoryType.COST)
                  .withAmount(new BigDecimal("100.65"))
                  .withTimeGrain(TimeGrainType.MONTHLY)
                  .withTimePeriod(
                      new BudgetTimePeriod()
                          .withStartDate(OffsetDateTime.parse("2017-10-01T00:00:00Z"))
                          .withEndDate(OffsetDateTime.parse("2018-10-31T00:00:00Z")))
                  .withFilter(
                      new BudgetFilter()
                          .withAnd(
                              Arrays
                                  .asList(
                                      new BudgetFilterProperties()
                                          .withDimensions(
                                              new BudgetComparisonExpression()
                                                  .withName("ResourceId")
                                                  .withOperator(BudgetOperatorType.IN)
                                                  .withValues(
                                                      Arrays
                                                          .asList(
                                                              "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/MYDEVTESTRG/providers/Microsoft.Compute/virtualMachines/MSVM2",
                                                              "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/MYDEVTESTRG/providers/Microsoft.Compute/virtualMachines/platformcloudplatformGeneric1"))),
                                      new BudgetFilterProperties()
                                          .withTags(
                                              new BudgetComparisonExpression()
                                                  .withName("category")
                                                  .withOperator(BudgetOperatorType.IN)
                                                  .withValues(Arrays.asList("Dev", "Prod"))),
                                      new BudgetFilterProperties()
                                          .withTags(
                                              new BudgetComparisonExpression()
                                                  .withName("department")
                                                  .withOperator(BudgetOperatorType.IN)
                                                  .withValues(Arrays.asList("engineering", "sales"))))))
                  .withNotifications(
                      mapOf(
                          "Actual_GreaterThan_80_Percent",
                          new Notification()
                              .withEnabled(true)
                              .withOperator(OperatorType.GREATER_THAN)
                              .withThreshold(new BigDecimal("80"))
                              .withContactEmails(Arrays.asList("johndoe@contoso.com", "janesmith@contoso.com"))
                              .withContactRoles(Arrays.asList("Contributor", "Reader"))
                              .withContactGroups(
                                  Arrays
                                      .asList(
                                          "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/MYDEVTESTRG/providers/microsoft.insights/actionGroups/SampleActionGroup"))
                              .withThresholdType(ThresholdType.ACTUAL)
                              .withLocale(CultureCode.EN_US)))
                  .create();
          }

          @SuppressWarnings("unchecked")
          private static <T> Map<String, T> mapOf(Object... inputs) {
              Map<String, T> map = new HashMap<>();
              for (int i = 0; i < inputs.length; i += 2) {
                  String key = (String) inputs[i];
                  T value = (T) inputs[i + 1];
                  map.put(key, value);
              }
              return map;
          }
      }

      ```
      Read this [SDK documentation](https://github.com/Azure/azure-sdk-for-java/blob/azure-resourcemanager-consumption_1.0.0-beta.3/sdk/consumption/azure-resourcemanager-consumption/README.md) on how to add the SDK to your project and authenticate.
      # [Go](#tab/Go)
      ``` go
      package armconsumption_test

      import (
      	"context"
      	"log"

      	"time"

      	"github.com/Azure/azure-sdk-for-go/sdk/azcore/to"
      	"github.com/Azure/azure-sdk-for-go/sdk/azidentity"
      	"github.com/Azure/azure-sdk-for-go/sdk/resourcemanager/consumption/armconsumption"
      )

      // Generated from example definition: https://github.com/Azure/azure-rest-api-specs/tree/main/specification/consumption/resource-manager/Microsoft.Consumption/stable/2021-10-01/examples/CreateOrUpdateBudget.json
      func ExampleBudgetsClient_CreateOrUpdate() {
      	cred, err := azidentity.NewDefaultAzureCredential(nil)
      	if err != nil {
      		log.Fatalf("failed to obtain a credential: %v", err)
      	}
      	ctx := context.Background()
      	client, err := armconsumption.NewBudgetsClient(cred, nil)
      	if err != nil {
      		log.Fatalf("failed to create client: %v", err)
      	}
      	res, err := client.CreateOrUpdate(ctx,
      		"subscriptions/00000000-0000-0000-0000-000000000000",
      		"TestBudget",
      		armconsumption.Budget{
      			ETag: to.Ptr("\"1d34d016a593709\""),
      			Properties: &armconsumption.BudgetProperties{
      				Amount:   to.Ptr[float64](100.65),
      				Category: to.Ptr(armconsumption.CategoryTypeCost),
      				Filter: &armconsumption.BudgetFilter{
      					And: []*armconsumption.BudgetFilterProperties{
      						{
      							Dimensions: &armconsumption.BudgetComparisonExpression{
      								Name:     to.Ptr("ResourceId"),
      								Operator: to.Ptr(armconsumption.BudgetOperatorTypeIn),
      								Values: []*string{
      									to.Ptr("/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/MYDEVTESTRG/providers/Microsoft.Compute/virtualMachines/MSVM2"),
      									to.Ptr("/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/MYDEVTESTRG/providers/Microsoft.Compute/virtualMachines/platformcloudplatformGeneric1")},
      							},
      						},
      						{
      							Tags: &armconsumption.BudgetComparisonExpression{
      								Name:     to.Ptr("category"),
      								Operator: to.Ptr(armconsumption.BudgetOperatorTypeIn),
      								Values: []*string{
      									to.Ptr("Dev"),
      									to.Ptr("Prod")},
      							},
      						},
      						{
      							Tags: &armconsumption.BudgetComparisonExpression{
      								Name:     to.Ptr("department"),
      								Operator: to.Ptr(armconsumption.BudgetOperatorTypeIn),
      								Values: []*string{
      									to.Ptr("engineering"),
      									to.Ptr("sales")},
      							},
      						}},
      				},
      				Notifications: map[string]*armconsumption.Notification{
      					"Actual_GreaterThan_80_Percent": {
      						ContactEmails: []*string{
      							to.Ptr("johndoe@contoso.com"),
      							to.Ptr("janesmith@contoso.com")},
      						ContactGroups: []*string{
      							to.Ptr("/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/MYDEVTESTRG/providers/microsoft.insights/actionGroups/SampleActionGroup")},
      						ContactRoles: []*string{
      							to.Ptr("Contributor"),
      							to.Ptr("Reader")},
      						Enabled:       to.Ptr(true),
      						Locale:        to.Ptr(armconsumption.CultureCodeEnUs),
      						Operator:      to.Ptr(armconsumption.OperatorTypeGreaterThan),
      						Threshold:     to.Ptr[float64](80),
      						ThresholdType: to.Ptr(armconsumption.ThresholdTypeActual),
      					},
      				},
      				TimeGrain: to.Ptr(armconsumption.TimeGrainTypeMonthly),
      				TimePeriod: &armconsumption.BudgetTimePeriod{
      					EndDate:   to.Ptr(func() time.Time { t, _ := time.Parse(time.RFC3339Nano, "2018-10-31T00:00:00Z"); return t }()),
      					StartDate: to.Ptr(func() time.Time { t, _ := time.Parse(time.RFC3339Nano, "2017-10-01T00:00:00Z"); return t }()),
      				},
      			},
      		},
      		nil)
      	if err != nil {
      		log.Fatalf("failed to finish the request: %v", err)
      	}
      	// TODO: use response item
      	_ = res
      }

      ```
      Read this [SDK documentation](https://github.com/Azure/azure-sdk-for-go/blob/sdk%2Fresourcemanager%2Fconsumption%2Farmconsumption%2Fv1.0.0/sdk/resourcemanager/consumption/armconsumption/README.md) on how to add the SDK to your project and authenticate.
      # [JavsScirpt](#tab/JavsScirpt)
      ``` js
      const { ConsumptionManagementClient } = require("@azure/arm-consumption");
      const { DefaultAzureCredential } = require("@azure/identity");

      /**
       * This sample demonstrates how to The operation to create or update a budget. You can optionally provide an eTag if desired as a form of concurrency control. To obtain the latest eTag for a given budget, perform a get operation prior to your put operation.
       *
       * @summary The operation to create or update a budget. You can optionally provide an eTag if desired as a form of concurrency control. To obtain the latest eTag for a given budget, perform a get operation prior to your put operation.
       * x-ms-original-file: specification/consumption/resource-manager/Microsoft.Consumption/stable/2021-10-01/examples/CreateOrUpdateBudget.json
       */
      async function createOrUpdateBudget() {
        const subscriptionId = "00000000-0000-0000-0000-000000000000";
        const scope = "subscriptions/00000000-0000-0000-0000-000000000000";
        const budgetName = "TestBudget";
        const parameters = {
          amount: 100.65,
          category: "Cost",
          eTag: '"1d34d016a593709"',
          filter: {
            and: [
              {
                dimensions: {
                  name: "ResourceId",
                  operator: "In",
                  values: [
                    "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/MYDEVTESTRG/providers/Microsoft.Compute/virtualMachines/MSVM2",
                    "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/MYDEVTESTRG/providers/Microsoft.Compute/virtualMachines/platformcloudplatformGeneric1",
                  ],
                },
              },
              { tags: { name: "category", operator: "In", values: ["Dev", "Prod"] } },
              {
                tags: {
                  name: "department",
                  operator: "In",
                  values: ["engineering", "sales"],
                },
              },
            ],
          },
          notifications: {
            actualGreaterThan80Percent: {
              contactEmails: ["johndoe@contoso.com", "janesmith@contoso.com"],
              contactGroups: [
                "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/MYDEVTESTRG/providers/microsoft.insights/actionGroups/SampleActionGroup",
              ],
              contactRoles: ["Contributor", "Reader"],
              enabled: true,
              locale: "en-us",
              operator: "GreaterThan",
              threshold: 80,
              thresholdType: "Actual",
            },
          },
          timeGrain: "Monthly",
          timePeriod: {
            endDate: new Date("2018-10-31T00:00:00Z"),
            startDate: new Date("2017-10-01T00:00:00Z"),
          },
        };
        const credential = new DefaultAzureCredential();
        const client = new ConsumptionManagementClient(credential, subscriptionId);
        const result = await client.budgets.createOrUpdate(scope, budgetName, parameters);
        console.log(result);
      }

      createOrUpdateBudget().catch(console.error);

      ```
      Read this [SDK documentation](https://github.com/Azure/azure-sdk-for-js/blob/%40azure%2Farm-consumption_9.0.1/sdk/consumption/arm-consumption/README.md) on how to add the SDK to your project and authenticate.
  responses:
  - statusCode: "201"
    body: >-
      {
        "id": "subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/MYDEVTESTRG/providers/Microsoft.Consumption/budgets/TestBudget",
        "name": "TestBudget",
        "type": "Microsoft.Consumption/budgets",
        "eTag": "\"1d34d012214157f\"",
        "properties": {
          "category": "Cost",
          "amount": 100.65,
          "timeGrain": "Monthly",
          "timePeriod": {
            "startDate": "2017-10-01T00:00:00Z",
            "endDate": "2018-10-31T00:00:00Z"
          },
          "filter": {
            "and": [
              {
                "dimensions": {
                  "name": "ResourceId",
                  "operator": "In",
                  "values": [
                    "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/MYDEVTESTRG/providers/Microsoft.Compute/virtualMachines/MSVM2",
                    "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/MYDEVTESTRG/providers/Microsoft.Compute/virtualMachines/platformcloudplatformGeneric1"
                  ]
                }
              },
              {
                "tags": {
                  "name": "category",
                  "operator": "In",
                  "values": [
                    "Dev",
                    "Prod"
                  ]
                }
              },
              {
                "tags": {
                  "name": "department",
                  "operator": "In",
                  "values": [
                    "engineering",
                    "sales"
                  ]
                }
              }
            ]
          },
          "currentSpend": {
            "amount": 80.89,
            "unit": "USD"
          },
          "notifications": {
            "Actual_GreaterThan_80_Percent": {
              "enabled": true,
              "operator": "GreaterThan",
              "threshold": 80,
              "locale": "en-us",
              "contactEmails": [
                "johndoe@contoso.com",
                "janesmith@contoso.com"
              ],
              "contactRoles": [
                "Contributor",
                "Reader"
              ],
              "contactGroups": [
                "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/MYDEVTESTRG/providers/microsoft.insights/actionGroups/SampleActionGroup"
              ],
              "thresholdType": "Actual"
            }
          }
        }
      }
  - statusCode: "200"
    body: >-
      {
        "id": "subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Consumption/budgets/TestBudget",
        "name": "TestBudget",
        "type": "Microsoft.Consumption/budgets",
        "eTag": "\"1d34d012214157f\"",
        "properties": {
          "category": "Cost",
          "amount": 100.65,
          "timeGrain": "Monthly",
          "timePeriod": {
            "startDate": "2017-10-01T00:00:00Z",
            "endDate": "2018-10-31T00:00:00Z"
          },
          "filter": {
            "and": [
              {
                "dimensions": {
                  "name": "ResourceId",
                  "operator": "In",
                  "values": [
                    "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/MYDEVTESTRG/providers/Microsoft.Compute/virtualMachines/MSVM2",
                    "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/MYDEVTESTRG/providers/Microsoft.Compute/virtualMachines/platformcloudplatformGeneric1"
                  ]
                }
              },
              {
                "tags": {
                  "name": "category",
                  "operator": "In",
                  "values": [
                    "Dev",
                    "Prod"
                  ]
                }
              },
              {
                "tags": {
                  "name": "department",
                  "operator": "In",
                  "values": [
                    "engineering",
                    "sales"
                  ]
                }
              }
            ]
          },
          "currentSpend": {
            "amount": 80.89,
            "unit": "USD"
          },
          "notifications": {
            "Actual_GreaterThan_80_Percent": {
              "enabled": true,
              "operator": "GreaterThan",
              "threshold": 80,
              "locale": "en-us",
              "contactEmails": [
                "johndoe@contoso.com",
                "janesmith@contoso.com"
              ],
              "contactRoles": [
                "Contributor",
                "Reader"
              ],
              "contactGroups": [
                "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/MYDEVTESTRG/providers/microsoft.insights/actionGroups/SampleActionGroup"
              ],
              "thresholdType": "Actual"
            }
          }
        }
      }
security:
- name: azure_auth
  type: oauth2
  description: Azure Active Directory OAuth2 Flow.
  flow: implicit
  authorizationUrl: https://login.microsoftonline.com/common/oauth2/authorize
  scopes:
  - name: user_impersonation
    description: impersonate your user account
metadata:
  description: The operation to create or update a budget. You can optionally provide an eTag if desired as a form of concurrency control.
errorCodes: []
