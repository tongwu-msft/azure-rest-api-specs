### YamlMime:RESTOperation
uid: management.azure.com.eventgrid.version2020-04-01-preview.eventchannels.createorupdate
name: Create Or Update
service: Event Grid
groupName: Event Channels
apiVersion: 2020-04-01-preview
summary: "Create an event channel.  \nAsynchronously creates a new event channel with the specified parameters."
consumes:
- application/json
produces:
- application/json
paths:
- content: PUT https://management.azure.com/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.EventGrid/partnerNamespaces/{partnerNamespaceName}/eventChannels/{eventChannelName}?api-version=2020-04-01-preview
uriParameters:
- name: subscriptionId
  in: path
  isRequired: true
  description: Subscription credentials that uniquely identify a Microsoft Azure subscription. The subscription ID forms part of the URI for every service call.
  types:
  - uid: string
- name: resourceGroupName
  in: path
  isRequired: true
  description: The name of the resource group within the user's subscription.
  types:
  - uid: string
- name: partnerNamespaceName
  in: path
  isRequired: true
  description: Name of the partner namespace.
  types:
  - uid: string
- name: eventChannelName
  in: path
  isRequired: true
  description: Name of the event channel.
  types:
  - uid: string
- name: api-version
  in: query
  isRequired: true
  description: Version of the API to be used with the client request.
  types:
  - uid: string
responses:
- name: 200 OK
  description: OK
  types:
  - uid: EventChannel
- name: Other Status Codes
  description: >-
    *** Error Responses: ***

     * 400 Bad Request.

     * 500 Internal Server Error.
requestBody:
- name: default
  parameters:
  - name: properties.source
    in: body
    description: Source of the event channel. This represents a unique resource in the partner's resource model.
    types:
    - uid: EventChannelSource
  - name: properties.destination
    in: body
    description: Represents the destination of an event channel.
    types:
    - uid: EventChannelDestination
  - name: properties.expirationTimeIfNotActivatedUtc
    in: body
    description: >-
      Expiration time of the event channel. If this timer expires while the corresponding partner topic is never activated,

      the event channel and corresponding partner topic are deleted.
    types:
    - uid: string
  - name: properties.filter
    in: body
    description: Information about the filter for the event channel.
    types:
    - uid: EventChannelFilter
  - name: properties.partnerTopicFriendlyDescription
    in: body
    description: >-
      Friendly description about the topic. This can be set by the publisher/partner to show custom description for the customer partner topic.

      This will be helpful to remove any ambiguity of the origin of creation of the partner topic for the customer.
    types:
    - uid: string
requestHeader: []
definitions:
- name: EventChannelSource
  description: Properties of the source of an event channel.
  kind: object
  properties:
  - name: source
    description: >-
      The identifier of the resource that's the source of the events.

      This represents a unique resource in the partner's resource model.
    types:
    - uid: string
- name: EventChannelDestination
  description: Properties of the destination of an event channel.
  kind: object
  properties:
  - name: azureSubscriptionId
    description: >-
      Azure subscription ID of the customer creating the event channel. The partner topic

      associated with the event channel will be created under this Azure subscription.
    types:
    - uid: string
  - name: resourceGroup
    description: >-
      Azure Resource Group of the customer creating the event channel. The partner topic

      associated with the event channel will be created under this resource group.
    types:
    - uid: string
  - name: partnerTopicName
    description: Name of the partner topic associated with the event channel.
    types:
    - uid: string
- name: EventChannelFilter
  description: Filter for the Event Channel.
  kind: object
  properties:
  - name: advancedFilters
    description: An array of advanced filters that are used for filtering event channels.
    types:
    - uid: NumberInAdvancedFilter
      isArray: true
    - uid: NumberNotInAdvancedFilter
      isArray: true
    - uid: NumberLessThanAdvancedFilter
      isArray: true
    - uid: NumberGreaterThanAdvancedFilter
      isArray: true
    - uid: NumberLessThanOrEqualsAdvancedFilter
      isArray: true
    - uid: NumberGreaterThanOrEqualsAdvancedFilter
      isArray: true
    - uid: BoolEqualsAdvancedFilter
      isArray: true
    - uid: StringInAdvancedFilter
      isArray: true
    - uid: StringNotInAdvancedFilter
      isArray: true
    - uid: StringBeginsWithAdvancedFilter
      isArray: true
    - uid: StringEndsWithAdvancedFilter
      isArray: true
    - uid: StringContainsAdvancedFilter
      isArray: true
    typesTitle: AdvancedFilter[]
- name: EventChannel
  description: Event Channel.
  kind: object
  properties:
  - name: properties.source
    description: Source of the event channel. This represents a unique resource in the partner's resource model.
    types:
    - uid: EventChannelSource
  - name: properties.destination
    description: Represents the destination of an event channel.
    types:
    - uid: EventChannelDestination
  - name: properties.provisioningState
    isReadyOnly: true
    description: Provisioning state of the event channel.
    types:
    - uid: EventChannelProvisioningState
  - name: properties.partnerTopicReadinessState
    isReadyOnly: true
    description: The readiness state of the corresponding partner topic.
    types:
    - uid: PartnerTopicReadinessState
  - name: properties.expirationTimeIfNotActivatedUtc
    description: >-
      Expiration time of the event channel. If this timer expires while the corresponding partner topic is never activated,

      the event channel and corresponding partner topic are deleted.
    types:
    - uid: string
  - name: properties.filter
    description: Information about the filter for the event channel.
    types:
    - uid: EventChannelFilter
  - name: properties.partnerTopicFriendlyDescription
    description: >-
      Friendly description about the topic. This can be set by the publisher/partner to show custom description for the customer partner topic.

      This will be helpful to remove any ambiguity of the origin of creation of the partner topic for the customer.
    types:
    - uid: string
  - name: id
    isReadyOnly: true
    description: Fully qualified identifier of the resource.
    types:
    - uid: string
  - name: name
    isReadyOnly: true
    description: Name of the resource
    types:
    - uid: string
  - name: type
    isReadyOnly: true
    description: Type of the resource
    types:
    - uid: string
- name: EventChannelProvisioningState
  description: Provisioning state of the event channel.
  kind: enum
  properties:
  - name: Creating
    types:
    - uid: string
  - name: Updating
    types:
    - uid: string
  - name: Deleting
    types:
    - uid: string
  - name: Succeeded
    types:
    - uid: string
  - name: Canceled
    types:
    - uid: string
  - name: Failed
    types:
    - uid: string
- name: PartnerTopicReadinessState
  description: The readiness state of the corresponding partner topic.
  kind: enum
  properties:
  - name: NotActivatedByUserYet
    types:
    - uid: string
  - name: ActivatedByUser
    types:
    - uid: string
  - name: DeactivatedByUser
    types:
    - uid: string
  - name: DeletedByUser
    types:
    - uid: string
- name: NumberInAdvancedFilter
  description: NumberIn Advanced Filter.
  kind: object
  properties:
  - name: values
    description: The set of filter values.
    types:
    - uid: number
      isArray: true
  - name: operatorType
    description: The operator type used for filtering, e.g., NumberIn, StringContains, BoolEquals and others.
    types:
    - uid: NumberIn
    typesTitle: string
  - name: key
    description: The field/property in the event based on which you want to filter.
    types:
    - uid: string
- name: NumberNotInAdvancedFilter
  description: NumberNotIn Advanced Filter.
  kind: object
  properties:
  - name: values
    description: The set of filter values.
    types:
    - uid: number
      isArray: true
  - name: operatorType
    description: The operator type used for filtering, e.g., NumberIn, StringContains, BoolEquals and others.
    types:
    - uid: NumberNotIn
    typesTitle: string
  - name: key
    description: The field/property in the event based on which you want to filter.
    types:
    - uid: string
- name: NumberLessThanAdvancedFilter
  description: NumberLessThan Advanced Filter.
  kind: object
  properties:
  - name: value
    description: The filter value.
    types:
    - uid: number
  - name: operatorType
    description: The operator type used for filtering, e.g., NumberIn, StringContains, BoolEquals and others.
    types:
    - uid: NumberLessThan
    typesTitle: string
  - name: key
    description: The field/property in the event based on which you want to filter.
    types:
    - uid: string
- name: NumberGreaterThanAdvancedFilter
  description: NumberGreaterThan Advanced Filter.
  kind: object
  properties:
  - name: value
    description: The filter value.
    types:
    - uid: number
  - name: operatorType
    description: The operator type used for filtering, e.g., NumberIn, StringContains, BoolEquals and others.
    types:
    - uid: NumberGreaterThan
    typesTitle: string
  - name: key
    description: The field/property in the event based on which you want to filter.
    types:
    - uid: string
- name: NumberLessThanOrEqualsAdvancedFilter
  description: NumberLessThanOrEquals Advanced Filter.
  kind: object
  properties:
  - name: value
    description: The filter value.
    types:
    - uid: number
  - name: operatorType
    description: The operator type used for filtering, e.g., NumberIn, StringContains, BoolEquals and others.
    types:
    - uid: NumberLessThanOrEquals
    typesTitle: string
  - name: key
    description: The field/property in the event based on which you want to filter.
    types:
    - uid: string
- name: NumberGreaterThanOrEqualsAdvancedFilter
  description: NumberGreaterThanOrEquals Advanced Filter.
  kind: object
  properties:
  - name: value
    description: The filter value.
    types:
    - uid: number
  - name: operatorType
    description: The operator type used for filtering, e.g., NumberIn, StringContains, BoolEquals and others.
    types:
    - uid: NumberGreaterThanOrEquals
    typesTitle: string
  - name: key
    description: The field/property in the event based on which you want to filter.
    types:
    - uid: string
- name: BoolEqualsAdvancedFilter
  description: BoolEquals Advanced Filter.
  kind: object
  properties:
  - name: value
    description: The boolean filter value.
    types:
    - uid: boolean
  - name: operatorType
    description: The operator type used for filtering, e.g., NumberIn, StringContains, BoolEquals and others.
    types:
    - uid: BoolEquals
    typesTitle: string
  - name: key
    description: The field/property in the event based on which you want to filter.
    types:
    - uid: string
- name: StringInAdvancedFilter
  description: StringIn Advanced Filter.
  kind: object
  properties:
  - name: values
    description: The set of filter values.
    types:
    - uid: string
      isArray: true
  - name: operatorType
    description: The operator type used for filtering, e.g., NumberIn, StringContains, BoolEquals and others.
    types:
    - uid: StringIn
    typesTitle: string
  - name: key
    description: The field/property in the event based on which you want to filter.
    types:
    - uid: string
- name: StringNotInAdvancedFilter
  description: StringNotIn Advanced Filter.
  kind: object
  properties:
  - name: values
    description: The set of filter values.
    types:
    - uid: string
      isArray: true
  - name: operatorType
    description: The operator type used for filtering, e.g., NumberIn, StringContains, BoolEquals and others.
    types:
    - uid: StringNotIn
    typesTitle: string
  - name: key
    description: The field/property in the event based on which you want to filter.
    types:
    - uid: string
- name: StringBeginsWithAdvancedFilter
  description: StringBeginsWith Advanced Filter.
  kind: object
  properties:
  - name: values
    description: The set of filter values.
    types:
    - uid: string
      isArray: true
  - name: operatorType
    description: The operator type used for filtering, e.g., NumberIn, StringContains, BoolEquals and others.
    types:
    - uid: StringBeginsWith
    typesTitle: string
  - name: key
    description: The field/property in the event based on which you want to filter.
    types:
    - uid: string
- name: StringEndsWithAdvancedFilter
  description: StringEndsWith Advanced Filter.
  kind: object
  properties:
  - name: values
    description: The set of filter values.
    types:
    - uid: string
      isArray: true
  - name: operatorType
    description: The operator type used for filtering, e.g., NumberIn, StringContains, BoolEquals and others.
    types:
    - uid: StringEndsWith
    typesTitle: string
  - name: key
    description: The field/property in the event based on which you want to filter.
    types:
    - uid: string
- name: StringContainsAdvancedFilter
  description: StringContains Advanced Filter.
  kind: object
  properties:
  - name: values
    description: The set of filter values.
    types:
    - uid: string
      isArray: true
  - name: operatorType
    description: The operator type used for filtering, e.g., NumberIn, StringContains, BoolEquals and others.
    types:
    - uid: StringContains
    typesTitle: string
  - name: key
    description: The field/property in the event based on which you want to filter.
    types:
    - uid: string
examples:
- name: EventChannels_CreateOrUpdate
  request:
    uri: PUT https://management.azure.com/subscriptions/5b4b650e-28b9-4790-b3ab-ddbd88d727c4/resourceGroups/examplerg/providers/Microsoft.EventGrid/partnerNamespaces/examplePartnerNamespaceName1/eventChannels/exampleEventChannelName1?api-version=2020-04-01-preview
    body: >-
      {
        "properties": {
          "source": {
            "source": "ContosoCorp.Accounts.User1"
          },
          "destination": {
            "azureSubscriptionId": "5b4b650e-28b9-4790-b3ab-ddbd88d727c4",
            "resourceGroup": "examplerg2",
            "partnerTopicName": "examplePartnerTopic1"
          }
        }
      }
  responses:
  - statusCode: "200"
    body: >-
      {
        "properties": {
          "source": {
            "source": "ContosoCorp.Accounts.User1"
          },
          "destination": {
            "azureSubscriptionId": "5b4b650e-28b9-4790-b3ab-ddbd88d727c4",
            "resourceGroup": "examplerg2",
            "partnerTopicName": "examplePartnerTopic1"
          },
          "provisioningState": "Succeeded"
        },
        "id": "/subscriptions/5b4b650e-28b9-4790-b3ab-ddbd88d727c4/resourceGroups/examplerg/providers/Microsoft.EventGrid/partnerNamespaces/partnerNamespace123/eventChannels/exampleEventChannelName1",
        "name": "exampleEventChannelName1",
        "type": "Microsoft.EventGrid/partnerNamespaces/eventChannels"
      }
security: []
errorCodes: []
