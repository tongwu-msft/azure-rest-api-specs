### YamlMime:RESTOperation
uid: management.azure.com.sqlvm.2017-03-01-preview.sqlvirtualmachinegroups.listbyresourcegroup
name: List By Resource Group
service: SQL VM
groupName: Sql Virtual Machine Groups
apiVersion: 2017-03-01-preview
summary: Gets all SQL virtual machine groups in a resource group.
consumes:
- application/json
produces:
- application/json
paths:
- content: GET https://management.azure.com/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.SqlVirtualMachine/sqlVirtualMachineGroups?api-version=2017-03-01-preview
uriParameters:
- name: subscriptionId
  in: path
  isRequired: true
  description: Subscription ID that identifies an Azure subscription.
  types:
  - uid: string
- name: resourceGroupName
  in: path
  isRequired: true
  description: Name of the resource group that contains the resource. You can obtain this value from the Azure Resource Manager API or the portal.
  types:
  - uid: string
- name: api-version
  in: query
  isRequired: true
  description: API version to use for the request.
  types:
  - uid: string
responses:
- name: 200 OK
  description: Successfully retrieved all SQL virtual machine groups in the resource group.
  types:
  - uid: SqlVirtualMachineGroupListResult
- name: Other Status Codes
  description: '*** Error Responses: ***'
requestHeader: []
definitions:
- name: SqlVirtualMachineGroupListResult
  description: A list of SQL virtual machine groups.
  kind: object
  properties:
  - name: value
    isReadyOnly: true
    description: Array of results.
    types:
    - uid: SqlVirtualMachineGroup
      isArray: true
  - name: nextLink
    isReadyOnly: true
    description: Link to retrieve next page of results.
    types:
    - uid: string
- name: SqlVirtualMachineGroup
  description: A SQL virtual machine group.
  kind: object
  properties:
  - name: properties.provisioningState
    isReadyOnly: true
    description: Provisioning state to track the async operation status.
    types:
    - uid: string
  - name: properties.sqlImageOffer
    description: SQL image offer. Examples may include SQL2016-WS2016, SQL2017-WS2016.
    types:
    - uid: string
  - name: properties.sqlImageSku
    description: SQL image sku.
    types:
    - uid: SqlVmGroupImageSku
  - name: properties.scaleType
    isReadyOnly: true
    description: Scale type.
    types:
    - uid: ScaleType
  - name: properties.clusterManagerType
    isReadyOnly: true
    description: 'Type of cluster manager: Windows Server Failover Cluster (WSFC), implied by the scale type of the group and the OS type.'
    types:
    - uid: ClusterManagerType
  - name: properties.clusterConfiguration
    isReadyOnly: true
    description: Cluster type.
    types:
    - uid: ClusterConfiguration
  - name: properties.wsfcDomainProfile
    description: Cluster Active Directory domain profile.
    types:
    - uid: WsfcDomainProfile
  - name: location
    description: Resource location.
    types:
    - uid: string
  - name: tags
    description: Resource tags.
    types:
    - uid: object
      isDictionary: true
      additionalTypes:
      - uid: string
      - uid: string
  - name: id
    isReadyOnly: true
    description: Resource ID.
    types:
    - uid: string
  - name: name
    isReadyOnly: true
    description: Resource name.
    types:
    - uid: string
  - name: type
    isReadyOnly: true
    description: Resource type.
    types:
    - uid: string
- name: SqlVmGroupImageSku
  description: SQL image sku.
  kind: enum
  properties:
  - name: Developer
    types:
    - uid: string
  - name: Enterprise
    types:
    - uid: string
- name: ScaleType
  description: Scale type.
  kind: enum
  properties:
  - name: HA
    types:
    - uid: string
- name: ClusterManagerType
  description: 'Type of cluster manager: Windows Server Failover Cluster (WSFC), implied by the scale type of the group and the OS type.'
  kind: enum
  properties:
  - name: WSFC
    types:
    - uid: string
- name: ClusterConfiguration
  description: Cluster type.
  kind: enum
  properties:
  - name: Domainful
    types:
    - uid: string
- name: WsfcDomainProfile
  description: Active Directory account details to operate Windows Server Failover Cluster.
  kind: object
  properties:
  - name: domainFqdn
    description: Fully qualified name of the domain.
    types:
    - uid: string
  - name: ouPath
    description: Organizational Unit path in which the nodes and cluster will be present.
    types:
    - uid: string
  - name: clusterBootstrapAccount
    description: Account name used for creating cluster (at minimum needs permissions to 'Create Computer Objects' in domain).
    types:
    - uid: string
  - name: clusterOperatorAccount
    description: Account name used for operating cluster i.e. will be part of administrators group on all the participating virtual machines in the cluster.
    types:
    - uid: string
  - name: sqlServiceAccount
    description: Account name under which SQL service will run on all participating SQL virtual machines in the cluster.
    types:
    - uid: string
  - name: fileShareWitnessPath
    description: Optional path for fileshare witness.
    types:
    - uid: string
  - name: storageAccountUrl
    description: Fully qualified ARM resource id of the witness storage account.
    types:
    - uid: string
  - name: storageAccountPrimaryKey
    description: Primary key of the witness storage account.
    types:
    - uid: string
examples:
- name: Gets all SQL virtual machine groups in a resource group.
  request:
    uri: GET https://management.azure.com/subscriptions/00000000-1111-2222-3333-444444444444/resourceGroups/testrg/providers/Microsoft.SqlVirtualMachine/sqlVirtualMachineGroups?api-version=2017-03-01-preview
  responses:
  - statusCode: "200"
    body: >-
      {
        "value": [
          {
            "properties": {
              "provisioningState": "Succeeded",
              "sqlImageOffer": "SQL2017-WS2016",
              "sqlImageSku": "Enterprise",
              "wsfcDomainProfile": {
                "domainFqdn": "testdomain.com",
                "ouPath": "OU=WSCluster,DC=testdomain,DC=com",
                "clusterBootstrapAccount": "testrpadmin",
                "clusterOperatorAccount": "testrp@testdomain.com",
                "sqlServiceAccount": "sqlservice@testdomain.com",
                "storageAccountUrl": "https://storgact.blob.core.windows.net/"
              }
            },
            "location": "northeurope",
            "tags": {
              "mytag": "myval"
            },
            "id": "/subscriptions/00000000-1111-2222-3333-444444444444/resourceGroups/testrg/providers/Microsoft.SqlVirtualMachine/sqlVirtualMachineGroups/testvmgroup",
            "name": "testvmgroup",
            "type": "Microsoft.SqlVirtualMachine/sqlVirtualMachineGroups"
          },
          {
            "properties": {
              "provisioningState": "Succeeded",
              "sqlImageOffer": "SQL2016-WS2016",
              "sqlImageSku": "Enterprise",
              "wsfcDomainProfile": {
                "domainFqdn": "testdomain.com",
                "ouPath": "OU=WSCluster,DC=testdomain,DC=com",
                "clusterBootstrapAccount": "testrpadmin",
                "clusterOperatorAccount": "testrp@testdomain.com",
                "sqlServiceAccount": "sqlservice@testdomain.com",
                "storageAccountUrl": "https://storgact.blob.core.windows.net/"
              }
            },
            "location": "northeurope",
            "tags": {
              "mytag": "myval"
            },
            "id": "/subscriptions/00000000-1111-2222-3333-444444444444/resourceGroups/testrg/providers/Microsoft.SqlVirtualMachine/sqlVirtualMachineGroups/testvmgroup1",
            "name": "testvmgroup1",
            "type": "Microsoft.SqlVirtualMachine/sqlVirtualMachineGroups"
          },
          {
            "properties": {
              "provisioningState": "Succeeded",
              "sqlImageOffer": "SQL2016-WS2016",
              "sqlImageSku": "Enterprise",
              "wsfcDomainProfile": {
                "domainFqdn": "testdomain.com",
                "ouPath": "OU=WSCluster,DC=testdomain,DC=com",
                "clusterBootstrapAccount": "testrpadmin",
                "clusterOperatorAccount": "testrp@testdomain.com",
                "sqlServiceAccount": "sqlservice@testdomain.com",
                "storageAccountUrl": "https://storgact.blob.core.windows.net/"
              }
            },
            "location": "northeurope",
            "tags": {
              "mytag": "myval"
            },
            "id": "/subscriptions/00000000-1111-2222-3333-444444444444/resourceGroups/testrg/providers/Microsoft.SqlVirtualMachine/sqlVirtualMachineGroups/testvmgroup2",
            "name": "testvmgroup2",
            "type": "Microsoft.SqlVirtualMachine/sqlVirtualMachineGroups"
          }
        ]
      }
security: []
metadata:
  description: Learn more about SQL VM service - Gets all SQL virtual machine groups in a resource group.
errorCodes: []
