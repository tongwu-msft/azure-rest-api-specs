### YamlMime:RESTOperation
uid: language.analyzetext.submitjob
name: Submit Job
service: Cognitive Services - Language
groupName: Analyze Text
apiVersion: 2022-05-01
summary: "Submit text analysis job  \nSubmit a collection of text documents for analysis. Specify one or more unique tasks to be executed as a long-running operation."
consumes:
- application/json
produces:
- application/json
paths:
- content: POST {Endpoint}/language/analyze-text/jobs?api-version=2022-05-01
uriParameters:
- name: Endpoint
  in: path
  isRequired: true
  skipUrlEncoding: true
  description: Supported Cognitive Services endpoint (e.g., https://<resource-name>.api.cognitiveservices.azure.com).
  types:
  - uid: string
- name: api-version
  in: query
  isRequired: true
  description: Client API version.
  types:
  - uid: string
responses:
- name: 202 Accepted
  headers:
  - name: Operation-Location
    value: string
  description: A successful call results with an Operation-Location header used to check the status of the analysis job.
- name: Other Status Codes
  description: Error response.
  types:
  - uid: ErrorResponse
requestBody:
- name: default
  parameters:
  - name: displayName
    in: body
    description: Optional display name for the analysis job.
    types:
    - uid: string
  - name: analysisInput
    in: body
    isRequired: true
    description: ''
    types:
    - uid: MultiLanguageAnalysisInput
  - name: tasks
    in: body
    isRequired: true
    description: The set of tasks to execute on the input documents.
    types:
    - uid: CustomEntitiesLROTask
      isArray: true
    - uid: CustomSingleLabelClassificationLROTask
      isArray: true
    - uid: CustomMultiLabelClassificationLROTask
      isArray: true
    - uid: HealthcareLROTask
      isArray: true
    - uid: SentimentAnalysisLROTask
      isArray: true
    - uid: EntitiesLROTask
      isArray: true
    - uid: EntityLinkingLROTask
      isArray: true
    - uid: PiiLROTask
      isArray: true
    - uid: KeyPhraseLROTask
      isArray: true
    typesTitle: AnalyzeTextLROTask[]
requestHeader:
- name: Ocp-Apim-Subscription-Key
  in: header
  isRequired: true
  description: A subscription key for a Language service resource.
  types:
  - uid: string
definitions:
- name: MultiLanguageAnalysisInput
  kind: object
  properties:
  - name: documents
    description: Contains an input document to be analyzed by the service.
    types:
    - uid: MultiLanguageInput
      isArray: true
- name: ErrorResponse
  description: Error response.
  kind: object
  properties:
  - name: error
    description: The error object.
    types:
    - uid: Error
- name: AnalyzeTextJobsInput
  kind: object
  properties:
  - name: displayName
    description: Optional display name for the analysis job.
    types:
    - uid: string
  - name: analysisInput
    description: ''
    types:
    - uid: MultiLanguageAnalysisInput
  - name: tasks
    description: The set of tasks to execute on the input documents.
    types:
    - uid: CustomEntitiesLROTask
      isArray: true
    - uid: CustomSingleLabelClassificationLROTask
      isArray: true
    - uid: CustomMultiLabelClassificationLROTask
      isArray: true
    - uid: HealthcareLROTask
      isArray: true
    - uid: SentimentAnalysisLROTask
      isArray: true
    - uid: EntitiesLROTask
      isArray: true
    - uid: EntityLinkingLROTask
      isArray: true
    - uid: PiiLROTask
      isArray: true
    - uid: KeyPhraseLROTask
      isArray: true
    typesTitle: AnalyzeTextLROTask[]
- name: MultiLanguageInput
  description: Contains an input document to be analyzed by the service.
  kind: object
  properties:
  - name: id
    description: A unique, non-empty document identifier.
    types:
    - uid: string
  - name: text
    description: The input text to process.
    types:
    - uid: string
  - name: language
    description: (Optional) This is the 2 letter ISO 639-1 representation of a language. For example, use "en" for English; "es" for Spanish etc. If not set, use "en" for English as default.
    types:
    - uid: string
- name: CustomEntitiesLROTask
  description: Use custom models to ease the process of information extraction from unstructured documents like contracts or financial documents
  kind: object
  properties:
  - name: parameters
    description: Supported parameters for a Custom Entities task.
    types:
    - uid: CustomEntitiesTaskParameters
  - name: kind
    description: Enumeration of supported long-running Text Analysis tasks.
    types:
    - uid: CustomEntityRecognition
    typesTitle: string
  - name: taskName
    description: ''
    types:
    - uid: string
- name: CustomSingleLabelClassificationLROTask
  description: Use custom models to classify text into single label taxonomy
  kind: object
  properties:
  - name: parameters
    description: Supported parameters for a Custom Single Classification task.
    types:
    - uid: CustomSingleLabelClassificationTaskParameters
  - name: kind
    description: Enumeration of supported long-running Text Analysis tasks.
    types:
    - uid: CustomSingleLabelClassification
    typesTitle: string
  - name: taskName
    description: ''
    types:
    - uid: string
- name: CustomMultiLabelClassificationLROTask
  description: Use custom models to classify text into multi label taxonomy
  kind: object
  properties:
  - name: parameters
    description: Supported parameters for a Custom Multi Classification task.
    types:
    - uid: CustomMultiLabelClassificationTaskParameters
  - name: kind
    description: Enumeration of supported long-running Text Analysis tasks.
    types:
    - uid: CustomMultiLabelClassification
    typesTitle: string
  - name: taskName
    description: ''
    types:
    - uid: string
- name: HealthcareLROTask
  kind: object
  properties:
  - name: parameters
    description: Supported parameters for a Healthcare task.
    types:
    - uid: HealthcareTaskParameters
  - name: kind
    description: Enumeration of supported long-running Text Analysis tasks.
    types:
    - uid: Healthcare
    typesTitle: string
  - name: taskName
    description: ''
    types:
    - uid: string
- name: SentimentAnalysisLROTask
  description: An object representing the task definition for a Sentiment Analysis task.
  kind: object
  properties:
  - name: parameters
    description: Supported parameters for a Sentiment Analysis task.
    types:
    - uid: SentimentAnalysisTaskParameters
  - name: kind
    description: Enumeration of supported long-running Text Analysis tasks.
    types:
    - uid: SentimentAnalysis
    typesTitle: string
  - name: taskName
    description: ''
    types:
    - uid: string
- name: EntitiesLROTask
  description: An object representing the task definition for an Entities Recognition task.
  kind: object
  properties:
  - name: parameters
    description: Supported parameters for an Entity Recognition task.
    types:
    - uid: EntitiesTaskParameters
  - name: kind
    description: Enumeration of supported long-running Text Analysis tasks.
    types:
    - uid: EntityRecognition
    typesTitle: string
  - name: taskName
    description: ''
    types:
    - uid: string
- name: EntityLinkingLROTask
  description: An object representing the task definition for an Entity Linking task.
  kind: object
  properties:
  - name: parameters
    description: Supported parameters for an Entity Linking task.
    types:
    - uid: EntityLinkingTaskParameters
  - name: kind
    description: Enumeration of supported long-running Text Analysis tasks.
    types:
    - uid: EntityLinking
    typesTitle: string
  - name: taskName
    description: ''
    types:
    - uid: string
- name: PiiLROTask
  description: An object representing the task definition for a PII Entities Recognition task.
  kind: object
  properties:
  - name: parameters
    description: Supported parameters for a PII Entities Recognition task.
    types:
    - uid: PiiTaskParameters
  - name: kind
    description: Enumeration of supported long-running Text Analysis tasks.
    types:
    - uid: PiiEntityRecognition
    typesTitle: string
  - name: taskName
    description: ''
    types:
    - uid: string
- name: KeyPhraseLROTask
  description: An object representing the task definition for a Key Phrase Extraction task.
  kind: object
  properties:
  - name: parameters
    description: Supported parameters for a Key Phrase Extraction task.
    types:
    - uid: KeyPhraseTaskParameters
  - name: kind
    description: Enumeration of supported long-running Text Analysis tasks.
    types:
    - uid: KeyPhraseExtraction
    typesTitle: string
  - name: taskName
    description: ''
    types:
    - uid: string
- name: Error
  description: The error object.
  kind: object
  properties:
  - name: code
    description: One of a server-defined set of error codes.
    types:
    - uid: ErrorCode
  - name: message
    description: A human-readable representation of the error.
    types:
    - uid: string
  - name: target
    description: The target of the error.
    types:
    - uid: string
  - name: details
    description: An array of details about specific errors that led to this reported error.
    types:
    - uid: Error
      isArray: true
  - name: innererror
    description: An object containing more specific information than the current object about the error.
    types:
    - uid: InnerErrorModel
- name: CustomEntitiesTaskParameters
  description: Supported parameters for a Custom Entities task.
  kind: object
  properties:
  - name: stringIndexType
    description: Specifies the method used to interpret string offsets.  Defaults to Text Elements (Graphemes) according to Unicode v8.0.0. For additional information see https://aka.ms/text-analytics-offsets.
    types:
    - uid: StringIndexType
  - name: projectName
    description: ''
    types:
    - uid: string
  - name: deploymentName
    description: ''
    types:
    - uid: string
  - name: loggingOptOut
    description: ''
    types:
    - uid: boolean
- name: AnalyzeTextLROTaskKind
  description: Enumeration of supported long-running Text Analysis tasks.
  kind: enum
  properties:
  - name: SentimentAnalysis
    types:
    - uid: string
  - name: EntityRecognition
    types:
    - uid: string
  - name: PiiEntityRecognition
    types:
    - uid: string
  - name: KeyPhraseExtraction
    types:
    - uid: string
  - name: EntityLinking
    types:
    - uid: string
  - name: Healthcare
    types:
    - uid: string
  - name: CustomEntityRecognition
    types:
    - uid: string
  - name: CustomSingleLabelClassification
    types:
    - uid: string
  - name: CustomMultiLabelClassification
    types:
    - uid: string
- name: CustomSingleLabelClassificationTaskParameters
  description: Supported parameters for a Custom Single Classification task.
  kind: object
  properties:
  - name: projectName
    description: ''
    types:
    - uid: string
  - name: deploymentName
    description: ''
    types:
    - uid: string
  - name: loggingOptOut
    description: ''
    types:
    - uid: boolean
- name: CustomMultiLabelClassificationTaskParameters
  description: Supported parameters for a Custom Multi Classification task.
  kind: object
  properties:
  - name: projectName
    description: ''
    types:
    - uid: string
  - name: deploymentName
    description: ''
    types:
    - uid: string
  - name: loggingOptOut
    description: ''
    types:
    - uid: boolean
- name: HealthcareTaskParameters
  description: Supported parameters for a Healthcare task.
  kind: object
  properties:
  - name: stringIndexType
    description: Specifies the method used to interpret string offsets.  Defaults to Text Elements (Graphemes) according to Unicode v8.0.0. For additional information see https://aka.ms/text-analytics-offsets.
    types:
    - uid: StringIndexType
  - name: modelVersion
    description: ''
    types:
    - uid: string
  - name: loggingOptOut
    description: ''
    types:
    - uid: boolean
- name: SentimentAnalysisTaskParameters
  description: Supported parameters for a Sentiment Analysis task.
  kind: object
  properties:
  - name: opinionMining
    description: ''
    types:
    - uid: boolean
  - name: stringIndexType
    description: Specifies the method used to interpret string offsets.  Defaults to Text Elements (Graphemes) according to Unicode v8.0.0. For additional information see https://aka.ms/text-analytics-offsets.
    types:
    - uid: StringIndexType
  - name: modelVersion
    description: ''
    types:
    - uid: string
  - name: loggingOptOut
    description: ''
    types:
    - uid: boolean
- name: EntitiesTaskParameters
  description: Supported parameters for an Entity Recognition task.
  kind: object
  properties:
  - name: stringIndexType
    description: Specifies the method used to interpret string offsets.  Defaults to Text Elements (Graphemes) according to Unicode v8.0.0. For additional information see https://aka.ms/text-analytics-offsets.
    types:
    - uid: StringIndexType
  - name: modelVersion
    description: ''
    types:
    - uid: string
  - name: loggingOptOut
    description: ''
    types:
    - uid: boolean
- name: EntityLinkingTaskParameters
  description: Supported parameters for an Entity Linking task.
  kind: object
  properties:
  - name: stringIndexType
    description: Specifies the method used to interpret string offsets.  Defaults to Text Elements (Graphemes) according to Unicode v8.0.0. For additional information see https://aka.ms/text-analytics-offsets.
    types:
    - uid: StringIndexType
  - name: modelVersion
    description: ''
    types:
    - uid: string
  - name: loggingOptOut
    description: ''
    types:
    - uid: boolean
- name: PiiTaskParameters
  description: Supported parameters for a PII Entities Recognition task.
  kind: object
  properties:
  - name: domain
    description: The PII domain used for PII Entity Recognition.
    types:
    - uid: PiiDomain
  - name: piiCategories
    description: (Optional) describes the PII categories to return
    types:
    - uid: string
      isArray: true
  - name: stringIndexType
    description: Specifies the method used to interpret string offsets.  Defaults to Text Elements (Graphemes) according to Unicode v8.0.0. For additional information see https://aka.ms/text-analytics-offsets.
    types:
    - uid: StringIndexType
  - name: modelVersion
    description: ''
    types:
    - uid: string
  - name: loggingOptOut
    description: ''
    types:
    - uid: boolean
- name: KeyPhraseTaskParameters
  description: Supported parameters for a Key Phrase Extraction task.
  kind: object
  properties:
  - name: modelVersion
    description: ''
    types:
    - uid: string
  - name: loggingOptOut
    description: ''
    types:
    - uid: boolean
- name: ErrorCode
  description: Human-readable error code.
  kind: enum
  properties:
  - name: InvalidRequest
    types:
    - uid: string
  - name: InvalidArgument
    types:
    - uid: string
  - name: Unauthorized
    types:
    - uid: string
  - name: Forbidden
    types:
    - uid: string
  - name: NotFound
    types:
    - uid: string
  - name: ProjectNotFound
    types:
    - uid: string
  - name: OperationNotFound
    types:
    - uid: string
  - name: AzureCognitiveSearchNotFound
    types:
    - uid: string
  - name: AzureCognitiveSearchIndexNotFound
    types:
    - uid: string
  - name: TooManyRequests
    types:
    - uid: string
  - name: AzureCognitiveSearchThrottling
    types:
    - uid: string
  - name: AzureCognitiveSearchIndexLimitReached
    types:
    - uid: string
  - name: InternalServerError
    types:
    - uid: string
  - name: ServiceUnavailable
    types:
    - uid: string
  - name: Timeout
    types:
    - uid: string
  - name: QuotaExceeded
    types:
    - uid: string
  - name: Conflict
    types:
    - uid: string
  - name: Warning
    types:
    - uid: string
- name: InnerErrorModel
  description: An object containing more specific information about the error. As per Microsoft One API guidelines - https://github.com/Microsoft/api-guidelines/blob/vNext/Guidelines.md#7102-error-condition-responses.
  kind: object
  properties:
  - name: code
    description: One of a server-defined set of error codes.
    types:
    - uid: InnerErrorCode
  - name: message
    description: Error message.
    types:
    - uid: string
  - name: details
    description: Error details.
    types:
    - uid: object
      isDictionary: true
      additionalTypes:
      - uid: string
      - uid: string
  - name: target
    description: Error target.
    types:
    - uid: string
  - name: innererror
    description: An object containing more specific information than the current object about the error.
    types:
    - uid: InnerErrorModel
- name: StringIndexType
  description: Specifies the method used to interpret string offsets.  Defaults to Text Elements (Graphemes) according to Unicode v8.0.0. For additional information see https://aka.ms/text-analytics-offsets.
  kind: enum
  properties:
  - name: TextElements_v8
    description: Returned offset and length values will correspond to TextElements (Graphemes and Grapheme clusters) confirming to the Unicode 8.0.0 standard. Use this option if your application is written in .Net Framework or .Net Core and you will be using StringInfo.
    types:
    - uid: string
  - name: UnicodeCodePoint
    description: Returned offset and length values will correspond to Unicode code points. Use this option if your application is written in a language that support Unicode, for example Python.
    types:
    - uid: string
  - name: Utf16CodeUnit
    description: Returned offset and length values will correspond to UTF-16 code units. Use this option if your application is written in a language that support Unicode, for example Java, JavaScript.
    types:
    - uid: string
- name: PiiDomain
  description: The PII domain used for PII Entity Recognition.
  kind: enum
  properties:
  - name: phi
    description: Indicates that entities in the Personal Health Information domain should be redacted.
    types:
    - uid: string
  - name: none
    description: Indicates that no domain is specified.
    types:
    - uid: string
- name: InnerErrorCode
  description: Human-readable error code.
  kind: enum
  properties:
  - name: InvalidRequest
    types:
    - uid: string
  - name: InvalidParameterValue
    types:
    - uid: string
  - name: KnowledgeBaseNotFound
    types:
    - uid: string
  - name: AzureCognitiveSearchNotFound
    types:
    - uid: string
  - name: AzureCognitiveSearchThrottling
    types:
    - uid: string
  - name: ExtractionFailure
    types:
    - uid: string
  - name: InvalidRequestBodyFormat
    types:
    - uid: string
  - name: EmptyRequest
    types:
    - uid: string
  - name: MissingInputDocuments
    types:
    - uid: string
  - name: InvalidDocument
    types:
    - uid: string
  - name: ModelVersionIncorrect
    types:
    - uid: string
  - name: InvalidDocumentBatch
    types:
    - uid: string
  - name: UnsupportedLanguageCode
    types:
    - uid: string
  - name: InvalidCountryHint
    types:
    - uid: string
examples:
- name: Successful Submit Analysis Job Request
  request:
    uri: POST {Endpoint}/language/analyze-text/jobs?api-version=2022-05-01
    body: >-
      {
        "displayName": "Extracting Location & US Region",
        "analysisInput": {
          "documents": [
            {
              "id": "1",
              "language": "en",
              "text": "I had a wonderful trip to Seattle last week."
            },
            {
              "id": "2",
              "language": "en",
              "text": "I'm flying to NYC tomorrow. See you there."
            }
          ]
        },
        "tasks": [
          {
            "kind": "EntityRecognition",
            "taskName": "Recognize Entities",
            "parameters": {
              "modelVersion": "latest"
            }
          },
          {
            "kind": "CustomEntityRecognition",
            "taskName": "Recognize US Regions",
            "parameters": {
              "projectName": "MyProject",
              "deploymentName": "MyDeployment"
            }
          }
        ]
      }
    headers:
    - name: Ocp-Apim-Subscription-Key
      value: '{API key}'
  responses:
  - statusCode: "202"
    headers:
    - name: Operation-Location
      value: '{endpoint}/language/analyze-text/jobs/{jobId}'
security:
- name: Ocp-Apim-Subscription-Key
  type: apiKey
  description: A subscription key for a Language service resource.
  in: header
metadata:
  description: "Submit text analysis job  \nSubmit a collection of text documents for analysis. Specify one or more unique tasks to be executed as a long-running operation."
errorCodes: []
