### YamlMime:RESTOperation
uid: management.azure.com.managedservices.marketplaceregistrationdefinitionswithoutscope.list
name: List
service: Managed Services
groupName: Marketplace Registration Definitions Without Scope
apiVersion: 2019-09-01
summary: Gets a list of the marketplace registration definitions for the marketplace identifier.
consumes:
- application/json
produces:
- application/json
paths:
- content: GET https://management.azure.com/providers/Microsoft.ManagedServices/marketplaceRegistrationDefinitions?api-version=2019-09-01
- content: GET https://management.azure.com/providers/Microsoft.ManagedServices/marketplaceRegistrationDefinitions?$filter={$filter}&api-version=2019-09-01
  isOptional: true
uriParameters:
- name: $filter
  in: query
  description: The filter query parameter. Might be used to filter marketplace registration definition by plan identifier, publisher, version etc.
  types:
  - uid: string
- name: api-version
  in: query
  isRequired: true
  description: The API version to use for this operation.
  types:
  - uid: string
responses:
- name: 200 OK
  description: OK - Returns a list of the marketplace registration definitions.
  types:
  - uid: MarketplaceRegistrationDefinitionList
- name: Other Status Codes
  description: Error response describing why the operation failed.
  types:
  - uid: ErrorResponse
requestHeader: []
definitions:
- name: MarketplaceRegistrationDefinitionList
  description: List of marketplace registration definitions.
  kind: object
  properties:
  - name: value
    isReadyOnly: true
    description: List of marketplace registration definitions.
    types:
    - uid: MarketplaceRegistrationDefinition
      isArray: true
  - name: nextLink
    isReadyOnly: true
    description: Link to next page of marketplace registration definitions.
    types:
    - uid: string
- name: ErrorResponse
  description: Error response.
  kind: object
  properties:
  - name: error
    description: The error details.
    types:
    - uid: ErrorDefinition
- name: MarketplaceRegistrationDefinition
  kind: object
  properties:
  - name: properties
    description: Properties of a marketplace registration definition.
    types:
    - uid: MarketplaceRegistrationDefinitionProperties
  - name: plan
    description: Plan details for the managed services.
    types:
    - uid: Plan
  - name: id
    isReadyOnly: true
    description: Fully qualified path of the marketplace registration definition.
    types:
    - uid: string
  - name: type
    isReadyOnly: true
    description: Type of the resource.
    types:
    - uid: string
  - name: name
    isReadyOnly: true
    description: Name of the marketplace registration definition.
    types:
    - uid: string
- name: ErrorDefinition
  description: Error response indicates Azure Resource Manager is not able to process the incoming request. The reason is provided in the error message.
  kind: object
  properties:
  - name: code
    description: Error code.
    types:
    - uid: string
  - name: message
    description: Error message indicating why the operation failed.
    types:
    - uid: string
  - name: details
    description: Internal error details.
    types:
    - uid: ErrorDefinition
      isArray: true
- name: MarketplaceRegistrationDefinitionProperties
  description: Properties of a marketplace registration definition.
  kind: object
  properties:
  - name: managedByTenantId
    description: Id of the managedBy tenant.
    types:
    - uid: string
  - name: authorizations
    description: Authorization tuple containing principal id of the user/security group or service principal and id of the build-in role.
    types:
    - uid: Authorization
      isArray: true
  - name: offerDisplayName
    description: The marketplace offer display name.
    types:
    - uid: string
  - name: publisherDisplayName
    description: The marketplace publisher display name.
    types:
    - uid: string
  - name: planDisplayName
    description: The marketplace plan display name.
    types:
    - uid: string
- name: Plan
  description: Plan details for the managed services.
  kind: object
  properties:
  - name: name
    description: The plan name.
    types:
    - uid: string
  - name: publisher
    description: The publisher ID.
    types:
    - uid: string
  - name: product
    description: The product code.
    types:
    - uid: string
  - name: version
    description: The plan's version.
    types:
    - uid: string
- name: Authorization
  description: Authorization tuple containing principal Id (of user/service principal/security group) and role definition id.
  kind: object
  properties:
  - name: principalId
    description: Principal Id of the security group/service principal/user that would be assigned permissions to the projected subscription
    types:
    - uid: string
  - name: principalIdDisplayName
    description: Display name of the principal Id.
    types:
    - uid: string
  - name: roleDefinitionId
    description: The role definition identifier. This role will define all the permissions that the security group/service principal/user must have on the projected subscription. This role cannot be an owner role.
    types:
    - uid: string
  - name: delegatedRoleDefinitionIds
    description: The delegatedRoleDefinitionIds field is required when the roleDefinitionId refers to the User Access Administrator Role. It is the list of role definition ids which define all the permissions that the user in the authorization can assign to other security groups/service principals/users.
    types:
    - uid: string
      isArray: true
examples:
- name: Get Marketplace Registration Definitions At Tenant Scope
  request:
    uri: GET https://management.azure.com/providers/Microsoft.ManagedServices/marketplaceRegistrationDefinitions?$filter=planIdentifier eq 'publisher.offerIdentifier.planName.version'&api-version=2019-09-01
  responses:
  - statusCode: "200"
    body: >-
      {
        "value": [
          {
            "properties": {
              "managedByTenantId": "83ace5cd-bcc3-441a-hd86-e6a75360cecc",
              "authorizations": [
                {
                  "principalId": "f98g86a2-4cc4-4e6d-ad47-b3e80a1bcdfc",
                  "principalIdDisplayName": "Support User",
                  "roleDefinitionId": "acdd72a7-3385-48ef-bd42-f606fba81ae7"
                },
                {
                  "principalId": "f98d86a2-4cc4-4e9d-ad47-b3e80a1bcdfc",
                  "principalIdDisplayName": "User Access Administrator",
                  "roleDefinitionId": "18d7d88d-d35e-4fb5-a5c3-7773c20a72d9",
                  "delegatedRoleDefinitionIds": [
                    "b24988ac-6180-42a0-ab88-20f7382dd24c"
                  ]
                }
              ],
              "offerDisplayName": "Marketplace Test Offer",
              "publisherDisplayName": "Marketplace Test Publisher",
              "planDisplayName": "Test Plan"
            },
            "plan": {
              "name": "test-plan",
              "product": "test",
              "publisher": "marketplace-test",
              "version": "1.0.0"
            },
            "id": "/providers/Microsoft.ManagedServices/marketplaceRegistrationDefinitions/marketplace-test.test.test-plan.1.0.0",
            "type": "Microsoft.ManagedServices/marketplaceRegistrationDefinitions",
            "name": "marketplace-test.test.test-plan.1.0.0"
          }
        ]
      }
security:
- name: azure_auth
  type: oauth2
  description: Azure Active Directory OAuth2 Flow
  flow: implicit
  authorizationUrl: https://login.microsoftonline.com/common/oauth2/authorize
  scopes:
  - name: user_impersonation
    description: impersonate your user account
errorCodes: []
