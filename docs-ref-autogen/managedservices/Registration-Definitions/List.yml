### YamlMime:RESTOperation
uid: management.azure.com.managedservices.registrationdefinitions.list
name: List
service: Managed Services
groupName: Registration Definitions
apiVersion: 2022-01-01-preview
summary: Gets a list of the registration definitions.
consumes:
- application/json
produces:
- application/json
paths:
- content: GET https://management.azure.com/{scope}/providers/Microsoft.ManagedServices/registrationDefinitions?api-version=2022-01-01-preview
- content: GET https://management.azure.com/{scope}/providers/Microsoft.ManagedServices/registrationDefinitions?api-version=2022-01-01-preview&$filter={$filter}
  isOptional: true
uriParameters:
- name: scope
  in: path
  isRequired: true
  skipUrlEncoding: true
  description: The scope of the resource.
  types:
  - uid: string
- name: api-version
  in: query
  isRequired: true
  description: The API version to use for this operation.
  types:
  - uid: string
- name: $filter
  in: query
  description: The filter query parameter to filter managed services resources by.
  types:
  - uid: string
responses:
- name: 200 OK
  description: OK - Returns a list of the registration definitions.
  types:
  - uid: RegistrationDefinitionList
- name: Other Status Codes
  description: The error response describing why the operation failed.
  types:
  - uid: ErrorResponse
requestHeader: []
definitions:
- name: RegistrationDefinitionList
  description: The list of registration definitions.
  kind: object
  properties:
  - name: value
    isReadyOnly: true
    description: The list of registration definitions.
    types:
    - uid: RegistrationDefinition
      isArray: true
  - name: nextLink
    isReadyOnly: true
    description: The link to the next page of registration definitions.
    types:
    - uid: string
- name: ErrorResponse
  description: Error response.
  kind: object
  properties:
  - name: error
    description: The error details.
    types:
    - uid: ErrorDefinition
- name: RegistrationDefinition
  description: The registration definition.
  kind: object
  properties:
  - name: properties
    description: The properties of a registration definition.
    types:
    - uid: RegistrationDefinitionProperties
  - name: plan
    description: The details for the Managed Services offer’s plan in Azure Marketplace.
    types:
    - uid: Plan
  - name: id
    isReadyOnly: true
    description: The fully qualified path of the registration definition.
    types:
    - uid: string
  - name: type
    isReadyOnly: true
    description: The type of the Azure resource (Microsoft.ManagedServices/registrationDefinitions).
    types:
    - uid: string
  - name: name
    isReadyOnly: true
    description: The name of the registration definition.
    types:
    - uid: string
  - name: systemData
    isReadyOnly: true
    description: The metadata for the registration assignment resource.
    types:
    - uid: systemData
- name: ErrorDefinition
  description: The error response indicating why the incoming request wasn’t able to be processed
  kind: object
  properties:
  - name: code
    description: The error code.
    types:
    - uid: string
  - name: message
    description: The error message indicating why the operation failed.
    types:
    - uid: string
  - name: details
    description: The internal error details.
    types:
    - uid: ErrorDefinition
      isArray: true
- name: RegistrationDefinitionProperties
  description: The properties of a registration definition.
  kind: object
  properties:
  - name: description
    description: The description of the registration definition.
    types:
    - uid: string
  - name: authorizations
    description: The collection of authorization objects describing the access Azure Active Directory principals in the managedBy tenant will receive on the delegated resource in the managed tenant.
    types:
    - uid: Authorization
      isArray: true
  - name: eligibleAuthorizations
    description: The collection of eligible authorization objects describing the just-in-time access Azure Active Directory principals in the managedBy tenant will receive on the delegated resource in the managed tenant.
    types:
    - uid: EligibleAuthorization
      isArray: true
  - name: registrationDefinitionName
    description: The name of the registration definition.
    types:
    - uid: string
  - name: managedByTenantId
    description: The identifier of the managedBy tenant.
    types:
    - uid: string
  - name: provisioningState
    isReadyOnly: true
    description: The current provisioning state of the registration definition.
    types:
    - uid: ProvisioningState
  - name: manageeTenantId
    isReadyOnly: true
    description: The identifier of the managed tenant.
    types:
    - uid: string
  - name: manageeTenantName
    isReadyOnly: true
    description: The name of the managed tenant.
    types:
    - uid: string
  - name: managedByTenantName
    isReadyOnly: true
    description: The name of the managedBy tenant.
    types:
    - uid: string
- name: Plan
  description: The details for the Managed Services offer’s plan in Azure Marketplace.
  kind: object
  properties:
  - name: name
    description: Azure Marketplace plan name.
    types:
    - uid: string
  - name: publisher
    description: Azure Marketplace publisher ID.
    types:
    - uid: string
  - name: product
    description: Azure Marketplace product code.
    types:
    - uid: string
  - name: version
    description: Azure Marketplace plan's version.
    types:
    - uid: string
- name: systemData
  description: Metadata pertaining to creation and last modification of the resource.
  kind: object
  properties:
  - name: createdBy
    description: The identity that created the resource.
    types:
    - uid: string
  - name: createdByType
    description: The type of identity that created the resource.
    types:
    - uid: createdByType
  - name: createdAt
    description: The timestamp of resource creation (UTC).
    types:
    - uid: string
  - name: lastModifiedBy
    description: The identity that last modified the resource.
    types:
    - uid: string
  - name: lastModifiedByType
    description: The type of identity that last modified the resource.
    types:
    - uid: createdByType
  - name: lastModifiedAt
    description: The timestamp of resource last modification (UTC)
    types:
    - uid: string
- name: Authorization
  description: The Azure Active Directory principal identifier and Azure built-in role that describes the access the principal will receive on the delegated resource in the managed tenant.
  kind: object
  properties:
  - name: principalId
    description: The identifier of the Azure Active Directory principal.
    types:
    - uid: string
  - name: principalIdDisplayName
    description: The display name of the Azure Active Directory principal.
    types:
    - uid: string
  - name: roleDefinitionId
    description: The identifier of the Azure built-in role that defines the permissions that the Azure Active Directory principal will have on the projected scope.
    types:
    - uid: string
  - name: delegatedRoleDefinitionIds
    description: The delegatedRoleDefinitionIds field is required when the roleDefinitionId refers to the User Access Administrator Role. It is the list of role definition ids which define all the permissions that the user in the authorization can assign to other principals.
    types:
    - uid: string
      isArray: true
- name: EligibleAuthorization
  description: The Azure Active Directory principal identifier, Azure built-in role, and just-in-time access policy that describes the just-in-time access the principal will receive on the delegated resource in the managed tenant.
  kind: object
  properties:
  - name: principalId
    description: The identifier of the Azure Active Directory principal.
    types:
    - uid: string
  - name: principalIdDisplayName
    description: The display name of the Azure Active Directory principal.
    types:
    - uid: string
  - name: roleDefinitionId
    description: The identifier of the Azure built-in role that defines the permissions that the Azure Active Directory principal will have on the projected scope.
    types:
    - uid: string
  - name: justInTimeAccessPolicy
    description: The just-in-time access policy setting.
    types:
    - uid: JustInTimeAccessPolicy
- name: ProvisioningState
  description: The current provisioning state of the registration definition.
  kind: enum
  properties:
  - name: NotSpecified
    types:
    - uid: string
  - name: Accepted
    types:
    - uid: string
  - name: Running
    types:
    - uid: string
  - name: Ready
    types:
    - uid: string
  - name: Creating
    types:
    - uid: string
  - name: Created
    types:
    - uid: string
  - name: Deleting
    types:
    - uid: string
  - name: Deleted
    types:
    - uid: string
  - name: Canceled
    types:
    - uid: string
  - name: Failed
    types:
    - uid: string
  - name: Succeeded
    types:
    - uid: string
  - name: Updating
    types:
    - uid: string
- name: createdByType
  description: The type of identity that created the resource.
  kind: enum
  properties:
  - name: User
    types:
    - uid: string
  - name: Application
    types:
    - uid: string
  - name: ManagedIdentity
    types:
    - uid: string
  - name: Key
    types:
    - uid: string
- name: JustInTimeAccessPolicy
  description: Just-in-time access policy setting.
  kind: object
  properties:
  - name: multiFactorAuthProvider
    description: The multi-factor authorization provider to be used for just-in-time access requests.
    types:
    - uid: MultiFactorAuthProvider
    defaultValue: None
  - name: maximumActivationDuration
    description: The maximum access duration in ISO 8601 format for just-in-time access requests.
    types:
    - uid: string
    defaultValue: PT8H
  - name: managedByTenantApprovers
    description: The list of managedByTenant approvers for the eligible authorization.
    types:
    - uid: EligibleApprover
      isArray: true
- name: MultiFactorAuthProvider
  description: The multi-factor authorization provider to be used for just-in-time access requests.
  kind: enum
  properties:
  - name: Azure
    types:
    - uid: string
  - name: None
    types:
    - uid: string
- name: EligibleApprover
  description: Defines the Azure Active Directory principal that can approve any just-in-time access requests by the principal defined in the EligibleAuthorization.
  kind: object
  properties:
  - name: principalId
    description: The identifier of the Azure Active Directory principal.
    types:
    - uid: string
  - name: principalIdDisplayName
    description: The display name of the Azure Active Directory principal.
    types:
    - uid: string
examples:
- name: Get Registration Definitions
  request:
    uri: GET https://management.azure.com/subscription/0afefe50-734e-4610-8a82-a144ahf49dea/providers/Microsoft.ManagedServices/registrationDefinitions?api-version=2022-01-01-preview
    codeTab: |+
      # [HTTP](#tab/HTTP)
      ``` http
      GET https://management.azure.com/subscription/0afefe50-734e-4610-8a82-a144ahf49dea/providers/Microsoft.ManagedServices/registrationDefinitions?api-version=2022-01-01-preview
      ```

      # [Go](#tab/Go)
      ``` go
      package armmanagedservices_test

      import (
      	"context"
      	"log"

      	"github.com/Azure/azure-sdk-for-go/sdk/azidentity"
      	"github.com/Azure/azure-sdk-for-go/sdk/resourcemanager/managedservices/armmanagedservices"
      )

      // Generated from example definition: https://github.com/Azure/azure-rest-api-specs/tree/main/specification/managedservices/resource-manager/Microsoft.ManagedServices/preview/2022-01-01-preview/examples/GetRegistrationDefinitions.json
      func ExampleRegistrationDefinitionsClient_NewListPager() {
      	cred, err := azidentity.NewDefaultAzureCredential(nil)
      	if err != nil {
      		log.Fatalf("failed to obtain a credential: %v", err)
      	}
      	ctx := context.Background()
      	client, err := armmanagedservices.NewRegistrationDefinitionsClient(cred, nil)
      	if err != nil {
      		log.Fatalf("failed to create client: %v", err)
      	}
      	pager := client.NewListPager("subscription/0afefe50-734e-4610-8a82-a144ahf49dea",
      		&armmanagedservices.RegistrationDefinitionsClientListOptions{Filter: nil})
      	for pager.More() {
      		nextResult, err := pager.NextPage(ctx)
      		if err != nil {
      			log.Fatalf("failed to advance page: %v", err)
      		}
      		for _, v := range nextResult.Value {
      			// TODO: use page item
      			_ = v
      		}
      	}
      }

      ```
      Read this [SDK documentation](https://github.com/Azure/azure-sdk-for-go/blob/sdk%2Fresourcemanager%2Fmanagedservices%2Farmmanagedservices%2Fv0.5.0/sdk/resourcemanager/managedservices/armmanagedservices/README.md) on how to add the SDK to your project and authenticate.
  responses:
  - statusCode: "200"
    body: >-
      {
        "value": [
          {
            "properties": {
              "description": "Test",
              "managedByTenantId": "83ace5cd-bcc3-441a-hd86-e6a75360cecc",
              "registrationDefinitionName": "DefinitionName",
              "authorizations": [
                {
                  "principalId": "f98g86a2-4cc4-4e6d-ad47-b3e80a1bcdfc",
                  "principalIdDisplayName": "Support User",
                  "roleDefinitionId": "acdd72a7-3385-48ef-bd42-f606fba81ae7"
                },
                {
                  "principalId": "f98d86a2-4cc4-4e9d-ad47-b3e80a1bcdfc",
                  "principalIdDisplayName": "User Access Administrator",
                  "roleDefinitionId": "18d7d88d-d35e-4fb5-a5c3-7773c20a72d9",
                  "delegatedRoleDefinitionIds": [
                    "b24988ac-6180-42a0-ab88-20f7382dd24c"
                  ]
                }
              ],
              "eligibleAuthorizations": [
                {
                  "justInTimeAccessPolicy": {
                    "multiFactorAuthProvider": "Azure",
                    "maximumActivationDuration": "PT8H",
                    "managedByTenantApprovers": [
                      {
                        "principalId": "d9b22cd6-6407-43cc-8c60-07c56df0b51a",
                        "principalIdDisplayName": "Approver Group"
                      }
                    ]
                  },
                  "principalId": "3e0ed8c6-e902-4fc5-863c-e3ddbb2ae2a2",
                  "principalIdDisplayName": "Support User",
                  "roleDefinitionId": "ae349356-3a1b-4a5e-921d-050484c6347e"
                }
              ],
              "provisioningState": "Succeeded",
              "manageeTenantId": "0e06d6a3-55ae-40a3-ac29-350808980808",
              "manageeTenantName": "Test customer",
              "managedByTenantName": "Test Tenant"
            },
            "plan": {
              "name": "addesai-plan",
              "product": "test",
              "publisher": "marketplace-test",
              "version": "1.0.0"
            },
            "id": "/subscriptions/0afefe50-734e-4610-8a82-a144ahf49dea/providers/Microsoft.ManagedServices/registrationDefinitions/26c128c2-fefa-4340-9bb1-6e081c90ada2",
            "type": "Microsoft.ManagedServices/registrationDefinitions",
            "name": "26c128c2-fefa-4340-9bb1-6e081c90ada2"
          }
        ]
      }
- name: Get Registration Definitions with ManagedByTenantId eq filter
  request:
    uri: GET https://management.azure.com/subscription/0afefe50-734e-4610-8a82-a144ahf49dea/providers/Microsoft.ManagedServices/registrationDefinitions?api-version=2022-01-01-preview&$filter=$filter=managedByTenantId eq '83ace5cd-bcc3-441a-hd86-e6a75360cecc'
    codeTab: |+
      # [HTTP](#tab/HTTP)
      ``` http
      GET https://management.azure.com/subscription/0afefe50-734e-4610-8a82-a144ahf49dea/providers/Microsoft.ManagedServices/registrationDefinitions?api-version=2022-01-01-preview&$filter=$filter=managedByTenantId eq '83ace5cd-bcc3-441a-hd86-e6a75360cecc'
      ```

  responses:
  - statusCode: "200"
    body: >-
      {
        "value": [
          {
            "properties": {
              "description": "Test",
              "registrationDefinitionName": "DefinitionName",
              "authorizations": [
                {
                  "principalId": "f98g86a2-4cc4-4e6d-ad47-b3e80a1bcdfc",
                  "principalIdDisplayName": "Support User",
                  "roleDefinitionId": "acdd72a7-3385-48ef-bd42-f606fba81ae7"
                },
                {
                  "principalId": "f98d86a2-4cc4-4e9d-ad47-b3e80a1bcdfc",
                  "principalIdDisplayName": "User Access Administrator",
                  "roleDefinitionId": "18d7d88d-d35e-4fb5-a5c3-7773c20a72d9",
                  "delegatedRoleDefinitionIds": [
                    "b24988ac-6180-42a0-ab88-20f7382dd24c"
                  ]
                }
              ],
              "eligibleAuthorizations": [
                {
                  "justInTimeAccessPolicy": {
                    "multiFactorAuthProvider": "Azure",
                    "maximumActivationDuration": "PT8H",
                    "managedByTenantApprovers": [
                      {
                        "principalId": "d9b22cd6-6407-43cc-8c60-07c56df0b51a",
                        "principalIdDisplayName": "Approver Group"
                      }
                    ]
                  },
                  "principalId": "3e0ed8c6-e902-4fc5-863c-e3ddbb2ae2a2",
                  "principalIdDisplayName": "Support User",
                  "roleDefinitionId": "ae349356-3a1b-4a5e-921d-050484c6347e"
                }
              ],
              "provisioningState": "Succeeded",
              "manageeTenantId": "01c0bcd5-4f47-4e4b-b492-418b7e2a8854",
              "manageeTenantName": "test_test_aad_SbtFhyGiLHPFm",
              "managedByTenantId": "83ace5cd-bcc3-441a-hd86-e6a75360cecc",
              "managedByTenantName": "Contoso Corp."
            },
            "plan": {
              "name": "addesai-plan",
              "product": "test",
              "publisher": "marketplace-test",
              "version": "1.0.0"
            },
            "id": "/subscriptions/0afefe50-734e-4610-8a82-a144ahf49dea/providers/Microsoft.ManagedServices/registrationDefinitions/26c128c2-fefa-4340-9bb1-6e081c90ada2",
            "type": "Microsoft.ManagedServices/registrationDefinitions",
            "name": "26c128c2-fefa-4340-9bb1-6e081c90ada2",
            "systemData": {
              "createdBy": "testuser@outlook.com",
              "createdByType": "User",
              "createdAt": "2021-11-22T19:56:05.0703382Z",
              "lastModifiedBy": "testuser@outlook.com",
              "lastModifiedByType": "User",
              "lastModifiedAt": "2021-11-22T19:56:05.0703382Z"
            }
          }
        ]
      }
- name: Get Registration Definitions with ManagedByTenantId in filter
  request:
    uri: GET https://management.azure.com/subscription/0afefe50-734e-4610-8a82-a144ahf49dea/providers/Microsoft.ManagedServices/registrationDefinitions?api-version=2022-01-01-preview&$filter=$filter=managedByTenantId in (83ace5cd-bcc3-441a-hd86-e6a75360cecc, de83f4a9-a76a-4025-a91a-91171923eac7)
    codeTab: |+
      # [HTTP](#tab/HTTP)
      ``` http
      GET https://management.azure.com/subscription/0afefe50-734e-4610-8a82-a144ahf49dea/providers/Microsoft.ManagedServices/registrationDefinitions?api-version=2022-01-01-preview&$filter=$filter=managedByTenantId in (83ace5cd-bcc3-441a-hd86-e6a75360cecc, de83f4a9-a76a-4025-a91a-91171923eac7)
      ```

  responses:
  - statusCode: "200"
    body: >-
      {
        "value": [
          {
            "properties": {
              "description": "Test",
              "registrationDefinitionName": "DefinitionName",
              "authorizations": [
                {
                  "principalId": "f98g86a2-4cc4-4e6d-ad47-b3e80a1bcdfc",
                  "principalIdDisplayName": "Support User",
                  "roleDefinitionId": "acdd72a7-3385-48ef-bd42-f606fba81ae7"
                },
                {
                  "principalId": "f98d86a2-4cc4-4e9d-ad47-b3e80a1bcdfc",
                  "principalIdDisplayName": "User Access Administrator",
                  "roleDefinitionId": "18d7d88d-d35e-4fb5-a5c3-7773c20a72d9",
                  "delegatedRoleDefinitionIds": [
                    "b24988ac-6180-42a0-ab88-20f7382dd24c"
                  ]
                }
              ],
              "eligibleAuthorizations": [
                {
                  "justInTimeAccessPolicy": {
                    "multiFactorAuthProvider": "Azure",
                    "maximumActivationDuration": "PT8H",
                    "managedByTenantApprovers": [
                      {
                        "principalId": "d9b22cd6-6407-43cc-8c60-07c56df0b51a",
                        "principalIdDisplayName": "Approver Group"
                      }
                    ]
                  },
                  "principalId": "3e0ed8c6-e902-4fc5-863c-e3ddbb2ae2a2",
                  "principalIdDisplayName": "Support User",
                  "roleDefinitionId": "ae349356-3a1b-4a5e-921d-050484c6347e"
                }
              ],
              "provisioningState": "Succeeded",
              "manageeTenantId": "01c0bcd5-4f47-4e4b-b492-418b7e2a8854",
              "manageeTenantName": "test_test_aad_SbtFhyGiLHPFm",
              "managedByTenantId": "83ace5cd-bcc3-441a-hd86-e6a75360cecc",
              "managedByTenantName": "Contoso Corp."
            },
            "plan": {
              "name": "addesai-plan",
              "product": "test",
              "publisher": "marketplace-test",
              "version": "1.0.0"
            },
            "id": "/subscriptions/0afefe50-734e-4610-8a82-a144ahf49dea/providers/Microsoft.ManagedServices/registrationDefinitions/26c128c2-fefa-4340-9bb1-6e081c90ada2",
            "type": "Microsoft.ManagedServices/registrationDefinitions",
            "name": "26c128c2-fefa-4340-9bb1-6e081c90ada2",
            "systemData": {
              "createdBy": "testuser@outlook.com",
              "createdByType": "User",
              "createdAt": "2021-11-22T19:56:05.0703382Z",
              "lastModifiedBy": "testuser@outlook.com",
              "lastModifiedByType": "User",
              "lastModifiedAt": "2021-11-22T19:56:05.0703382Z"
            }
          },
          {
            "properties": {
              "description": "Test 2",
              "registrationDefinitionName": "DefinitionName",
              "authorizations": [
                {
                  "principalId": "a2e38003-c234-42dc-a769-3ca55be53098",
                  "principalIdDisplayName": "Support User",
                  "roleDefinitionId": "acdd72a7-3385-48ef-bd42-f606fba81ae7"
                }
              ],
              "provisioningState": "Succeeded",
              "manageeTenantId": "01c0bcd5-4f47-4e4b-b492-418b7e2a8854",
              "manageeTenantName": "test_test_aad_SbtFhyGiLHPFm",
              "managedByTenantId": "de83f4a9-a76a-4025-a91a-91171923eac7",
              "managedByTenantName": "Test Corp."
            },
            "id": "/subscriptions/0afefe50-734e-4610-8a82-a144ahf49dea/providers/Microsoft.ManagedServices/registrationDefinitions/2a60751f-03d6-45a1-8797-24678246d54d",
            "type": "Microsoft.ManagedServices/registrationDefinitions",
            "name": "2a60751f-03d6-45a1-8797-24678246d54d",
            "systemData": {
              "createdBy": "testuser@msp.com",
              "createdByType": "User",
              "createdAt": "2021-11-21T08:56:05.0703382Z",
              "lastModifiedBy": "testuser@msp.com",
              "lastModifiedByType": "User",
              "lastModifiedAt": "2021-11-22T08:56:05.0703382Z"
            }
          }
        ]
      }
security:
- name: azure_auth
  type: oauth2
  description: The Azure Active Directory OAuth2 Flow
  flow: implicit
  authorizationUrl: https://login.microsoftonline.com/common/oauth2/authorize
  scopes:
  - name: user_impersonation
    description: impersonate your user account
metadata:
  description: >
    Learn more about Managed Services service - Gets a list of the registration definitions.
errorCodes: []
