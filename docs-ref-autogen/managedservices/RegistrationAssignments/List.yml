### YamlMime:RESTOperation
uid: management.azure.com.managedservices.registrationassignments.list
name: List
service: Managed Services
groupName: Registration Assignments
apiVersion: 2019-09-01
summary: Gets a list of the registration assignments.
consumes:
- application/json
produces:
- application/json
paths:
- content: GET https://management.azure.com/{scope}/providers/Microsoft.ManagedServices/registrationAssignments?api-version=2019-09-01
- content: GET https://management.azure.com/{scope}/providers/Microsoft.ManagedServices/registrationAssignments?$expandRegistrationDefinition={$expandRegistrationDefinition}&api-version=2019-09-01
  isOptional: true
uriParameters:
- name: scope
  in: path
  isRequired: true
  skipUrlEncoding: true
  description: Scope of the resource.
  types:
  - uid: string
- name: $expandRegistrationDefinition
  in: query
  description: Tells whether to return registration definition details also along with registration assignment details.
  types:
  - uid: boolean
- name: api-version
  in: query
  isRequired: true
  description: The API version to use for this operation.
  types:
  - uid: string
responses:
- name: 200 OK
  description: OK - Returns a list of the registration assignments.
  types:
  - uid: RegistrationAssignmentList
- name: Other Status Codes
  description: Error response describing why the operation failed.
  types:
  - uid: ErrorResponse
requestHeader: []
definitions:
- name: RegistrationAssignmentList
  description: List of registration assignments.
  kind: object
  properties:
  - name: value
    isReadyOnly: true
    description: List of registration assignments.
    types:
    - uid: RegistrationAssignment
      isArray: true
  - name: nextLink
    isReadyOnly: true
    description: Link to next page of registration assignments.
    types:
    - uid: string
- name: ErrorResponse
  description: Error response.
  kind: object
  properties:
  - name: error
    description: The error details.
    types:
    - uid: ErrorDefinition
- name: RegistrationAssignment
  description: Registration assignment.
  kind: object
  properties:
  - name: properties
    description: Properties of a registration assignment.
    types:
    - uid: RegistrationAssignmentProperties
  - name: id
    isReadyOnly: true
    description: The fully qualified path of the registration assignment.
    types:
    - uid: string
  - name: type
    isReadyOnly: true
    description: Type of the resource.
    types:
    - uid: string
  - name: name
    isReadyOnly: true
    description: Name of the registration assignment.
    types:
    - uid: string
- name: ErrorDefinition
  description: Error response indicates Azure Resource Manager is not able to process the incoming request. The reason is provided in the error message.
  kind: object
  properties:
  - name: code
    description: Error code.
    types:
    - uid: string
  - name: message
    description: Error message indicating why the operation failed.
    types:
    - uid: string
  - name: details
    description: Internal error details.
    types:
    - uid: ErrorDefinition
      isArray: true
- name: RegistrationAssignmentProperties
  description: Properties of a registration assignment.
  kind: object
  properties:
  - name: registrationDefinitionId
    description: Fully qualified path of the registration definition.
    types:
    - uid: string
  - name: provisioningState
    isReadyOnly: true
    description: Current state of the registration assignment.
    types:
    - uid: ProvisioningState
  - name: registrationDefinition
    isReadyOnly: true
    description: Registration definition inside registration assignment.
    types:
    - uid: RegistrationDefinition
- name: ProvisioningState
  description: Current state of the registration definition.
  kind: enum
  properties:
  - name: NotSpecified
    types:
    - uid: string
  - name: Accepted
    types:
    - uid: string
  - name: Running
    types:
    - uid: string
  - name: Ready
    types:
    - uid: string
  - name: Creating
    types:
    - uid: string
  - name: Created
    types:
    - uid: string
  - name: Deleting
    types:
    - uid: string
  - name: Deleted
    types:
    - uid: string
  - name: Canceled
    types:
    - uid: string
  - name: Failed
    types:
    - uid: string
  - name: Succeeded
    types:
    - uid: string
  - name: Updating
    types:
    - uid: string
- name: RegistrationDefinition
  description: Registration definition.
  kind: object
  properties:
  - name: properties
    description: Properties of a registration definition.
    types:
    - uid: RegistrationDefinitionProperties
  - name: plan
    description: Plan details for the managed services.
    types:
    - uid: Plan
  - name: id
    isReadyOnly: true
    description: Fully qualified path of the registration definition.
    types:
    - uid: string
  - name: type
    isReadyOnly: true
    description: Type of the resource.
    types:
    - uid: string
  - name: name
    isReadyOnly: true
    description: Name of the registration definition.
    types:
    - uid: string
- name: RegistrationDefinitionProperties
  description: Properties of a registration definition.
  kind: object
  properties:
  - name: description
    description: Description of the registration definition.
    types:
    - uid: string
  - name: authorizations
    description: Authorization tuple containing principal id of the user/security group or service principal and id of the build-in role.
    types:
    - uid: Authorization
      isArray: true
  - name: registrationDefinitionName
    description: Name of the registration definition.
    types:
    - uid: string
  - name: managedByTenantId
    description: Id of the managedBy tenant.
    types:
    - uid: string
  - name: provisioningState
    isReadyOnly: true
    description: Current state of the registration definition.
    types:
    - uid: ProvisioningState
  - name: managedByTenantName
    isReadyOnly: true
    description: Name of the managedBy tenant.
    types:
    - uid: string
- name: Plan
  description: Plan details for the managed services.
  kind: object
  properties:
  - name: name
    description: The plan name.
    types:
    - uid: string
  - name: publisher
    description: The publisher ID.
    types:
    - uid: string
  - name: product
    description: The product code.
    types:
    - uid: string
  - name: version
    description: The plan's version.
    types:
    - uid: string
- name: Authorization
  description: Authorization tuple containing principal Id (of user/service principal/security group) and role definition id.
  kind: object
  properties:
  - name: principalId
    description: Principal Id of the security group/service principal/user that would be assigned permissions to the projected subscription
    types:
    - uid: string
  - name: principalIdDisplayName
    description: Display name of the principal Id.
    types:
    - uid: string
  - name: roleDefinitionId
    description: The role definition identifier. This role will define all the permissions that the security group/service principal/user must have on the projected subscription. This role cannot be an owner role.
    types:
    - uid: string
  - name: delegatedRoleDefinitionIds
    description: The delegatedRoleDefinitionIds field is required when the roleDefinitionId refers to the User Access Administrator Role. It is the list of role definition ids which define all the permissions that the user in the authorization can assign to other security groups/service principals/users.
    types:
    - uid: string
      isArray: true
examples:
- name: Get Registration Assignments
  request:
    uri: GET https://management.azure.com/subscription/0afefe50-734e-4610-8a82-a144ahf49dea/providers/Microsoft.ManagedServices/registrationAssignments?api-version=2019-09-01
  responses:
  - statusCode: "200"
    body: >-
      {
        "value": [
          {
            "properties": {
              "registrationDefinitionId": "/subscriptions/0afefe50-734e-4610-8c82-a144aff49dea/providers/Microsoft.ManagedServices/registrationDefinitions/26c128c2-fefa-4340-9bb1-8e081c90ada2",
              "provisioningState": "Succeeded",
              "registrationDefinition": {
                "properties": {
                  "description": "Test",
                  "registrationDefinitionName": "DefinitionName",
                  "authorizations": [
                    {
                      "principalId": "f98d86a2-4cc4-4e9d-ad47-b3e80a1bcdfc",
                      "principalIdDisplayName": "Support User",
                      "roleDefinitionId": "acdd72a7-3385-48ef-bd42-f606fba81ae7"
                    },
                    {
                      "principalId": "f98d86a2-4cc4-4e9d-ad47-b3e80a1bcdfc",
                      "principalIdDisplayName": "User Access Administrator",
                      "roleDefinitionId": "18d7d88d-d35e-4fb5-a5c3-7773c20a72d9",
                      "delegatedRoleDefinitionIds": [
                        "b24988ac-6180-42a0-ab88-20f7382dd24c"
                      ]
                    }
                  ],
                  "provisioningState": "Succeeded",
                  "manageeTenantId": "01c0bcd5-4f47-4e4b-b492-418b7e2a8854",
                  "manageeTenantName": "test_test_aad_SbtFhyGiLHPFm",
                  "managedByTenantId": "83abe5cd-bcc3-441a-bd86-e6a75360cecc",
                  "managedByTenantName": "Contoso Corp."
                },
                "plan": {
                  "name": "addesai-plan",
                  "product": "test",
                  "publisher": "marketplace-test",
                  "version": "1.0.0"
                },
                "id": "/subscriptions/0afefe50-734e-4610-8c82-a144aff49dea/providers/Microsoft.ManagedServices/registrationDefinitions/26c128c2-fefa-4340-9bb1-8e081c90ada2",
                "type": "Microsoft.ManagedServices/registrationDefinitions",
                "name": "26c128c2-fefa-4340-9bb1-8e081c90ada2"
              }
            },
            "id": "/subscriptions/0afefe50-734e-4610-8c82-a144aff49dea/providers/Microsoft.ManagedServices/registrationAssignments/484a7d5f-9729-4b87-bc9b-26610985a013",
            "type": "Microsoft.ManagedServices/registrationAssignments",
            "name": "484a7d5f-9729-4b87-bc9b-26610985a013"
          }
        ]
      }
security:
- name: azure_auth
  type: oauth2
  description: Azure Active Directory OAuth2 Flow
  flow: implicit
  authorizationUrl: https://login.microsoftonline.com/common/oauth2/authorize
  scopes:
  - name: user_impersonation
    description: impersonate your user account
errorCodes: []
