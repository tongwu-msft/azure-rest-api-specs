### YamlMime:RESTOperation
uid: westcentralus.api.cognitive.microsoft.com.vision.v3.1.computervision.3.1.generatethumbnailinstream.generatethumbnailinstream
name: Generate Thumbnail In Stream
service: Cognitive Services - Computer Vision
groupName: Generate Thumbnail In Stream
apiVersion: "3.1"
summary: >-
  This operation generates a thumbnail image with the user-specified width and height. By default, the service analyzes the image, identifies the region of interest (ROI), and generates smart cropping coordinates based on the ROI. Smart cropping helps when you specify an aspect ratio that differs from that of the input image.

  A successful response contains the thumbnail image binary. If the request failed, the response contains an error code and a message to help determine what went wrong.

  Upon failure, the error code and an error message are returned. The error code could be one of InvalidImageUrl, InvalidImageFormat, InvalidImageSize, InvalidThumbnailSize, NotSupportedImage, FailedToProcess, Timeout, or InternalServerError.
consumes:
- application/octet-stream
- multipart/form-data
produces:
- application/octet-stream
paths:
- content: POST {Endpoint}/vision/v3.1/generateThumbnail?overload=stream&width={width}&height={height}
- content: POST {Endpoint}/vision/v3.1/generateThumbnail?overload=stream&width={width}&height={height}&smartCropping={smartCropping}
  isOptional: true
uriParameters:
- name: Endpoint
  in: path
  isRequired: true
  skipUrlEncoding: true
  description: Supported Cognitive Services endpoints.
  types:
  - uid: string
- name: width
  in: query
  isRequired: true
  description: Width of the thumbnail, in pixels. It must be between 1 and 1024. Recommended minimum of 50.
  types:
  - uid: integer
  format: int32
- name: height
  in: query
  isRequired: true
  description: Height of the thumbnail, in pixels. It must be between 1 and 1024. Recommended minimum of 50.
  types:
  - uid: integer
  format: int32
- name: smartCropping
  in: query
  description: Boolean flag for enabling smart cropping.
  types:
  - uid: boolean
responses:
- name: 200 OK
  description: The generated thumbnail in binary format.
  types:
  - uid: file
- name: Other Status Codes
  description: Error response.
  types:
  - uid: ComputerVisionError
requestBody:
- name: default
  parameters:
  - name: Image
    in: body
    description: An image stream.
    types:
    - uid: object
requestHeader:
- name: Ocp-Apim-Subscription-Key
  in: header
  isRequired: true
  types:
  - uid: string
definitions:
- name: ComputerVisionError
  description: Details about the API request error.
  kind: object
  properties:
  - name: code
    description: The error code.
    types:
    - uid: ComputerVisionErrorCodes
  - name: message
    description: A message explaining the error reported by the service.
    types:
    - uid: string
  - name: requestId
    description: A unique request identifier.
    types:
    - uid: string
- name: ComputerVisionErrorCodes
  description: The error code.
  kind: enum
  properties:
  - name: InvalidImageFormat
    types:
    - uid: string
  - name: UnsupportedMediaType
    types:
    - uid: string
  - name: InvalidImageUrl
    types:
    - uid: string
  - name: NotSupportedFeature
    types:
    - uid: string
  - name: NotSupportedImage
    types:
    - uid: string
  - name: Timeout
    types:
    - uid: string
  - name: InternalServerError
    types:
    - uid: string
  - name: InvalidImageSize
    types:
    - uid: string
  - name: BadArgument
    types:
    - uid: string
  - name: DetectFaceError
    types:
    - uid: string
  - name: NotSupportedLanguage
    types:
    - uid: string
  - name: InvalidThumbnailSize
    types:
    - uid: string
  - name: InvalidDetails
    types:
    - uid: string
  - name: InvalidModel
    types:
    - uid: string
  - name: CancelledRequest
    types:
    - uid: string
  - name: NotSupportedVisualFeature
    types:
    - uid: string
  - name: FailedToProcess
    types:
    - uid: string
  - name: Unspecified
    types:
    - uid: string
  - name: StorageException
    types:
    - uid: string
examples:
- name: Successful GenerateThumbnail request
  request:
    uri: POST https://westus.api.cognitive.microsoft.com/vision/v3.1/generateThumbnail?overload=stream&width=500&height=500&smartCropping=True
    body: "\"{binary}\""
    headers:
    - name: Ocp-Apim-Subscription-Key
      value: '{API key}'
  responses:
  - statusCode: "200"
    body: "\"{binary}\""
security:
- name: Ocp-Apim-Subscription-Key
  type: apiKey
  in: header
metadata:
  description: This operation generates a thumbnail image with the user-specified width and height. By default, the service analyzes the image, identifies the region of intere
errorCodes: []
