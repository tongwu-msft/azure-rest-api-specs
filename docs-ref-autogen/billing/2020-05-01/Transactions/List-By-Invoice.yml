### YamlMime:RESTOperation
uid: management.azure.com.billing.2020-05-01.transactions.listbyinvoice
name: List By Invoice
service: Billing
groupName: Transactions
apiVersion: 2020-05-01
summary: Lists the transactions for an invoice. Transactions include purchases, refunds and Azure usage charges.
consumes:
- application/json
produces:
- application/json
paths:
- content: GET https://management.azure.com/providers/Microsoft.Billing/billingAccounts/{billingAccountName}/invoices/{invoiceName}/transactions?api-version=2020-05-01
uriParameters:
- name: billingAccountName
  in: path
  isRequired: true
  description: The ID that uniquely identifies a billing account.
  types:
  - uid: string
- name: invoiceName
  in: path
  isRequired: true
  description: The ID that uniquely identifies an invoice.
  types:
  - uid: string
- name: api-version
  in: query
  isRequired: true
  description: The version of the API to be used with the client request. The current version is 2020-05-01.
  types:
  - uid: string
responses:
- name: 200 OK
  description: OK. The request has succeeded.
  types:
  - uid: TransactionListResult
- name: Other Status Codes
  description: Error response describing why the operation failed.
  types:
  - uid: ErrorResponse
requestHeader: []
definitions:
- name: TransactionListResult
  description: The list of transactions.
  kind: object
  properties:
  - name: value
    isReadyOnly: true
    description: The list of transactions.
    types:
    - uid: Transaction
      isArray: true
  - name: nextLink
    isReadyOnly: true
    description: The link (url) to the next page of results.
    types:
    - uid: string
- name: ErrorResponse
  description: Error response indicates that the service is not able to process the incoming request. The reason is provided in the error message.
  kind: object
  properties:
  - name: error
    description: The details of the error.
    types:
    - uid: ErrorDetails
- name: Transaction
  description: A transaction.
  kind: object
  properties:
  - name: properties.kind
    description: The kind of transaction. Options are all or reservation.
    types:
    - uid: TransactionTypeKind
  - name: properties.date
    isReadyOnly: true
    description: The date of transaction.
    types:
    - uid: string
  - name: properties.invoice
    isReadyOnly: true
    description: Invoice on which the transaction was billed or 'pending' if the transaction is not billed.
    types:
    - uid: string
  - name: properties.invoiceId
    isReadyOnly: true
    description: The ID of the invoice on which the transaction was billed. This field is only applicable for transactions which are billed.
    types:
    - uid: string
  - name: properties.orderId
    isReadyOnly: true
    description: The order ID of the reservation. The field is only applicable for transaction of kind reservation.
    types:
    - uid: string
  - name: properties.orderName
    isReadyOnly: true
    description: The name of the reservation order. The field is only applicable for transactions of kind reservation.
    types:
    - uid: string
  - name: properties.productFamily
    isReadyOnly: true
    description: The family of the product for which the transaction took place.
    types:
    - uid: string
  - name: properties.productTypeId
    isReadyOnly: true
    description: The ID of the product type for which the transaction took place.
    types:
    - uid: string
  - name: properties.productType
    isReadyOnly: true
    description: The type of the product for which the transaction took place.
    types:
    - uid: string
  - name: properties.productDescription
    isReadyOnly: true
    description: The description of the product for which the transaction took place.
    types:
    - uid: string
  - name: properties.transactionType
    description: The type of transaction.
    types:
    - uid: ReservationType
  - name: properties.transactionAmount
    isReadyOnly: true
    description: The charge associated with the transaction.
    types:
    - uid: Amount
  - name: properties.quantity
    isReadyOnly: true
    description: The quantity purchased in the transaction.
    types:
    - uid: integer
  - name: properties.invoiceSectionId
    isReadyOnly: true
    description: The ID of the invoice section which will be billed for the transaction.
    types:
    - uid: string
  - name: properties.invoiceSectionDisplayName
    isReadyOnly: true
    description: The name of the invoice section which will be billed for the transaction.
    types:
    - uid: string
  - name: properties.billingProfileId
    isReadyOnly: true
    description: The ID of the billing profile which will be billed for the transaction.
    types:
    - uid: string
  - name: properties.billingProfileDisplayName
    isReadyOnly: true
    description: The name of the billing profile which will be billed for the transaction.
    types:
    - uid: string
  - name: properties.customerId
    isReadyOnly: true
    description: The ID of the customer for which the transaction took place. The field is applicable only for Microsoft Partner Agreement billing account.
    types:
    - uid: string
  - name: properties.customerDisplayName
    isReadyOnly: true
    description: The name of the customer for which the transaction took place. The field is applicable only for Microsoft Partner Agreement billing account.
    types:
    - uid: string
  - name: properties.subscriptionId
    isReadyOnly: true
    description: The ID of the subscription that was used for the transaction. The field is only applicable for transaction of kind reservation.
    types:
    - uid: string
  - name: properties.subscriptionName
    isReadyOnly: true
    description: The name of the subscription that was used for the transaction. The field is only applicable for transaction of kind reservation.
    types:
    - uid: string
  - name: properties.azurePlan
    isReadyOnly: true
    description: The type of azure plan of the subscription that was used for the transaction.
    types:
    - uid: string
  - name: properties.azureCreditApplied
    isReadyOnly: true
    description: The amount of any Azure credits automatically applied to this transaction.
    types:
    - uid: Amount
  - name: properties.billingCurrency
    isReadyOnly: true
    description: The ISO 4217 code for the currency in which this transaction is billed.
    types:
    - uid: string
  - name: properties.discount
    isReadyOnly: true
    description: The percentage discount, if any, applied to this transaction.
    types:
    - uid: number
  - name: properties.effectivePrice
    isReadyOnly: true
    description: The price of the product after applying any discounts.
    types:
    - uid: Amount
  - name: properties.exchangeRate
    isReadyOnly: true
    description: The exchange rate used to convert charged amount to billing currency, if applicable.
    types:
    - uid: number
  - name: properties.marketPrice
    isReadyOnly: true
    description: The retail price of the product.
    types:
    - uid: Amount
  - name: properties.pricingCurrency
    isReadyOnly: true
    description: The ISO 4217 code for the currency in which the product is priced.
    types:
    - uid: string
  - name: properties.servicePeriodStartDate
    isReadyOnly: true
    description: The date of the purchase of the product, or the start date of the month in which usage started.
    types:
    - uid: string
  - name: properties.servicePeriodEndDate
    isReadyOnly: true
    description: The end date of the product term, or the end date of the month in which usage ended.
    types:
    - uid: string
  - name: properties.subTotal
    isReadyOnly: true
    description: The pre-tax charged amount for the transaction.
    types:
    - uid: Amount
  - name: properties.tax
    isReadyOnly: true
    description: The tax amount applied to the transaction.
    types:
    - uid: Amount
  - name: properties.unitOfMeasure
    isReadyOnly: true
    description: The unit of measure used to bill for the product. For example, compute services are billed per hour.
    types:
    - uid: string
  - name: properties.units
    isReadyOnly: true
    description: The number of units used for a given product.
    types:
    - uid: number
  - name: properties.unitType
    isReadyOnly: true
    description: The description for the unit of measure for a given product.
    types:
    - uid: string
  - name: id
    isReadyOnly: true
    description: Resource Id.
    types:
    - uid: string
  - name: name
    isReadyOnly: true
    description: Resource name.
    types:
    - uid: string
  - name: type
    isReadyOnly: true
    description: Resource type.
    types:
    - uid: string
- name: ErrorDetails
  description: The details of the error.
  kind: object
  properties:
  - name: code
    isReadyOnly: true
    description: Error code.
    types:
    - uid: string
  - name: message
    isReadyOnly: true
    description: Error message indicating why the operation failed.
    types:
    - uid: string
  - name: target
    isReadyOnly: true
    description: The target of the particular error.
    types:
    - uid: string
  - name: details
    isReadyOnly: true
    description: The sub details of the error.
    types:
    - uid: ErrorSubDetails
      isArray: true
- name: TransactionTypeKind
  description: The kind of transaction. Options are all or reservation.
  kind: enum
  properties:
  - name: all
    types:
    - uid: string
  - name: reservation
    types:
    - uid: string
- name: ReservationType
  description: The type of transaction.
  kind: enum
  properties:
  - name: Purchase
    types:
    - uid: string
  - name: Usage Charge
    types:
    - uid: string
- name: Amount
  description: The amount.
  kind: object
  properties:
  - name: currency
    isReadyOnly: true
    description: The currency for the amount value.
    types:
    - uid: string
  - name: value
    description: Amount value.
    types:
    - uid: number
- name: ErrorSubDetails
  kind: object
  properties:
  - name: code
    isReadyOnly: true
    description: Error code.
    types:
    - uid: string
  - name: message
    isReadyOnly: true
    description: Error message indicating why the operation failed.
    types:
    - uid: string
  - name: target
    isReadyOnly: true
    description: The target of the particular error.
    types:
    - uid: string
examples:
- name: TransactionsListByInvoice
  request:
    uri: GET https://management.azure.com/providers/Microsoft.Billing/billingAccounts/{billingAccountName}/invoices/{invoiceName}/transactions?api-version=2020-05-01
  responses:
  - statusCode: "200"
    body: >-
      {
        "value": [
          {
            "id": "/providers/Microsoft.Billing/BillingAccounts/{billingAccountName}/transactions/41000000-0000-0000-0000-000000000000",
            "name": "41000000-0000-0000-0000-000000000000",
            "type": "Microsoft.Billing/billingAccounts/transactions",
            "properties": {
              "kind": "all",
              "date": "2018-05-01T00:00:00Z",
              "invoice": "2344233",
              "invoiceId": "/providers/Microsoft.Billing/billingAccounts/{billingAccountName}/invoices/2344233",
              "productFamily": "Storage",
              "productTypeId": "A12345",
              "productType": "VM Instance",
              "productDescription": "Standard D1, US West 3",
              "transactionType": "Purchase",
              "transactionAmount": {
                "currency": "USD",
                "value": 5000
              },
              "invoiceSectionId": "/providers/Microsoft.Billing/billingAccounts/{billingAccountName}/billingProfiles/{billingProfileName}/invoiceSections/22000000-0000-0000-0000-000000000000",
              "invoiceSectionDisplayName": "Contoso operations invoiceSection",
              "billingProfileId": "/providers/Microsoft.Billing/billingAccounts/{billingAccountName}/billingProfiles/{billingProfileName}",
              "billingProfileDisplayName": "Contoso operations billing",
              "azurePlan": "Microsoft Azure Plan for DevTest",
              "azureCreditApplied": {
                "currency": "USD",
                "value": 2000
              },
              "billingCurrency": "USD",
              "discount": 0.1,
              "effectivePrice": {
                "currency": "USD",
                "value": 10
              },
              "exchangeRate": 1,
              "marketPrice": {
                "currency": "USD",
                "value": 20
              },
              "pricingCurrency": "USD",
              "quantity": 1,
              "servicePeriodStartDate": "2018-05-01T00:00:00Z",
              "servicePeriodEndDate": "2018-09-30T00:00:00Z",
              "subTotal": {
                "currency": "USD",
                "value": 4500
              },
              "tax": {
                "currency": "USD",
                "value": 500
              },
              "unitOfMeasure": "1 Minute",
              "units": 11.25,
              "unitType": "1 Runtime Minute"
            }
          },
          {
            "id": "/providers/Microsoft.Billing/BillingAccounts/{billingAccountName}/transactions/51000000-0000-0000-0000-000000000000",
            "name": "51000000-0000-0000-0000-000000000000",
            "type": "Microsoft.Billing/billingAccounts/transactions",
            "properties": {
              "kind": "all",
              "date": "2018-04-01T00:00:00Z",
              "invoice": "pending",
              "productFamily": "Storage",
              "productTypeId": "A12345",
              "productType": "VM Instance",
              "productDescription": "Standard Support",
              "transactionType": "Cancel",
              "transactionAmount": {
                "currency": "USD",
                "value": 50
              },
              "invoiceSectionId": "/providers/Microsoft.Billing/billingAccounts/{billingAccountName}/billingProfiles/{billingProfileName}/invoiceSections/22000000-0000-0000-0000-000000000000",
              "invoiceSectionDisplayName": "Contoso operations invoiceSection",
              "billingProfileId": "/providers/Microsoft.Billing/billingAccounts/{billingAccountName}/billingProfiles/{billingProfileName}",
              "billingProfileDisplayName": "Contoso operations billing",
              "azurePlan": "Microsoft Azure Plan for DevTest",
              "azureCreditApplied": {
                "currency": "USD",
                "value": 20
              },
              "billingCurrency": "USD",
              "discount": 0.1,
              "effectivePrice": {
                "currency": "USD",
                "value": 10
              },
              "exchangeRate": 1,
              "marketPrice": {
                "currency": "USD",
                "value": 20
              },
              "pricingCurrency": "USD",
              "quantity": 1,
              "servicePeriodStartDate": "2018-05-01T00:00:00Z",
              "servicePeriodEndDate": "2018-09-30T00:00:00Z",
              "subTotal": {
                "currency": "USD",
                "value": 45
              },
              "tax": {
                "currency": "USD",
                "value": 5
              },
              "unitOfMeasure": "1 Minute",
              "units": 1.25,
              "unitType": "1 Runtime Minute"
            }
          }
        ]
      }
security:
- name: azure_auth
  type: oauth2
  description: Azure Active Directory OAuth2 Flow.
  flow: implicit
  authorizationUrl: https://login.microsoftonline.com/common/oauth2/authorize
  scopes:
  - name: user_impersonation
    description: impersonate your user account
metadata:
  description: Lists the transactions for an invoice. Transactions include purchases, refunds and Azure usage charges.
errorCodes: []
