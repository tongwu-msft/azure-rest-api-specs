### YamlMime:RESTOperation
uid: management.azure.com.billing.2020-05-01.billingsubscriptions.move
name: Move
service: Billing
groupName: Billing Subscriptions
apiVersion: 2020-05-01
summary: Moves a subscription's charges to a new invoice section. The new invoice section must belong to the same billing profile as the existing invoice section. This operation is supported for billing accounts with agreement type Microsoft Customer Agreement.
consumes:
- application/json
produces:
- application/json
paths:
- content: POST https://management.azure.com/providers/Microsoft.Billing/billingAccounts/{billingAccountName}/billingSubscriptions/{subscriptionId}/move?api-version=2020-05-01
uriParameters:
- name: billingAccountName
  in: path
  isRequired: true
  description: The ID that uniquely identifies a billing account.
  types:
  - uid: string
- name: subscriptionId
  in: path
  isRequired: true
  description: The ID that uniquely identifies an Azure subscription.
  types:
  - uid: string
- name: api-version
  in: query
  isRequired: true
  description: The version of the API to be used with the client request. The current version is 2020-05-01.
  types:
  - uid: string
responses:
- name: 200 OK
  description: OK. The request has succeeded.
  types:
  - uid: BillingSubscription
- name: 202 Accepted
  headers:
  - name: Location
    value: string
  - name: Retry-After
    value: integer
  description: Accepted. Billing Subscription transfer is in progress.
- name: Other Status Codes
  description: Unexpected error.
  types:
  - uid: ErrorResponse
requestBody:
- name: default
  parameters:
  - name: destinationInvoiceSectionId
    in: body
    isRequired: true
    description: The destination invoice section id.
    types:
    - uid: string
requestHeader: []
definitions:
- name: BillingSubscription
  description: A billing subscription.
  kind: object
  properties:
  - name: properties.displayName
    isReadyOnly: true
    description: The name of the subscription.
    types:
    - uid: string
  - name: properties.subscriptionId
    isReadyOnly: true
    description: The ID of the subscription.
    types:
    - uid: string
  - name: properties.subscriptionBillingStatus
    description: The current billing status of the subscription.
    types:
    - uid: BillingSubscriptionStatusType
  - name: properties.lastMonthCharges
    isReadyOnly: true
    description: The last month charges.
    types:
    - uid: Amount
  - name: properties.monthToDateCharges
    isReadyOnly: true
    description: The current month to date charges.
    types:
    - uid: Amount
  - name: properties.billingProfileId
    isReadyOnly: true
    description: The ID of the billing profile to which the subscription is billed.
    types:
    - uid: string
  - name: properties.billingProfileDisplayName
    isReadyOnly: true
    description: The name of the billing profile to which the subscription is billed.
    types:
    - uid: string
  - name: properties.costCenter
    description: The cost center applied to the subscription.
    types:
    - uid: string
  - name: properties.customerId
    isReadyOnly: true
    description: The ID of the customer for whom the subscription was created. The field is applicable only for Microsoft Partner Agreement billing account.
    types:
    - uid: string
  - name: properties.customerDisplayName
    isReadyOnly: true
    description: The name of the customer for whom the subscription was created. The field is applicable only for Microsoft Partner Agreement billing account.
    types:
    - uid: string
  - name: properties.invoiceSectionId
    isReadyOnly: true
    description: The ID of the invoice section to which the subscription is billed.
    types:
    - uid: string
  - name: properties.invoiceSectionDisplayName
    isReadyOnly: true
    description: The name of the invoice section to which the subscription is billed.
    types:
    - uid: string
  - name: properties.reseller
    isReadyOnly: true
    description: Reseller for this subscription.
    types:
    - uid: Reseller
  - name: properties.skuId
    description: The sku ID of the Azure plan for the subscription.
    types:
    - uid: string
  - name: properties.skuDescription
    isReadyOnly: true
    description: The sku description of the Azure plan for the subscription.
    types:
    - uid: string
  - name: properties.suspensionReasons
    isReadyOnly: true
    description: The suspension reason for a subscription. Applies only to subscriptions in Microsoft Online Services Program billing accounts.
    types:
    - uid: string
      isArray: true
  - name: id
    isReadyOnly: true
    description: Resource Id.
    types:
    - uid: string
  - name: name
    isReadyOnly: true
    description: Resource name.
    types:
    - uid: string
  - name: type
    isReadyOnly: true
    description: Resource type.
    types:
    - uid: string
- name: ErrorResponse
  description: Error response indicates that the service is not able to process the incoming request. The reason is provided in the error message.
  kind: object
  properties:
  - name: error
    description: The details of the error.
    types:
    - uid: ErrorDetails
- name: TransferBillingSubscriptionRequestProperties
  description: Request parameters to transfer billing subscription.
  kind: object
  properties:
  - name: destinationInvoiceSectionId
    description: The destination invoice section id.
    types:
    - uid: string
- name: BillingSubscriptionStatusType
  description: The current billing status of the subscription.
  kind: enum
  properties:
  - name: Active
    types:
    - uid: string
  - name: Inactive
    types:
    - uid: string
  - name: Abandoned
    types:
    - uid: string
  - name: Deleted
    types:
    - uid: string
  - name: Warning
    types:
    - uid: string
- name: Amount
  description: The amount.
  kind: object
  properties:
  - name: currency
    isReadyOnly: true
    description: The currency for the amount value.
    types:
    - uid: string
  - name: value
    description: Amount value.
    types:
    - uid: number
- name: Reseller
  description: Details of the reseller.
  kind: object
  properties:
  - name: resellerId
    isReadyOnly: true
    description: The MPN ID of the reseller.
    types:
    - uid: string
  - name: description
    isReadyOnly: true
    description: The name of the reseller.
    types:
    - uid: string
- name: ErrorDetails
  description: The details of the error.
  kind: object
  properties:
  - name: code
    isReadyOnly: true
    description: Error code.
    types:
    - uid: string
  - name: message
    isReadyOnly: true
    description: Error message indicating why the operation failed.
    types:
    - uid: string
  - name: target
    isReadyOnly: true
    description: The target of the particular error.
    types:
    - uid: string
  - name: details
    isReadyOnly: true
    description: The sub details of the error.
    types:
    - uid: ErrorSubDetails
      isArray: true
- name: ErrorSubDetails
  kind: object
  properties:
  - name: code
    isReadyOnly: true
    description: Error code.
    types:
    - uid: string
  - name: message
    isReadyOnly: true
    description: Error message indicating why the operation failed.
    types:
    - uid: string
  - name: target
    isReadyOnly: true
    description: The target of the particular error.
    types:
    - uid: string
examples:
- name: MoveBillingSubscription
  request:
    uri: POST https://management.azure.com/providers/Microsoft.Billing/billingAccounts/{billingAccountName}/billingSubscriptions/{subscriptionId}/move?api-version=2020-05-01
    body: >-
      {
        "destinationInvoiceSectionId": "/providers/Microsoft.Billing/billingAccounts/{billingAccountName}/billingProfiles/{billingProfileName}/invoiceSections/{newInvoiceSectionName}"
      }
    codeTab: |+
      # [HTTP](#tab/HTTP)
      ``` http
      POST https://management.azure.com/providers/Microsoft.Billing/billingAccounts/{billingAccountName}/billingSubscriptions/{subscriptionId}/move?api-version=2020-05-01

      {
        "destinationInvoiceSectionId": "/providers/Microsoft.Billing/billingAccounts/{billingAccountName}/billingProfiles/{billingProfileName}/invoiceSections/{newInvoiceSectionName}"
      }

      ```

      # [Java](#tab/Java)
      ``` java
      import com.azure.core.util.Context;
      import com.azure.resourcemanager.billing.models.TransferBillingSubscriptionRequestProperties;

      /** Samples for BillingSubscriptions Move. */
      public final class Main {
          /*
           * x-ms-original-file: specification/billing/resource-manager/Microsoft.Billing/stable/2020-05-01/examples/MoveBillingSubscription.json
           */
          /**
           * Sample code: MoveBillingSubscription.
           *
           * @param manager Entry point to BillingManager.
           */
          public static void moveBillingSubscription(com.azure.resourcemanager.billing.BillingManager manager) {
              manager
                  .billingSubscriptions()
                  .move(
                      "{billingAccountName}",
                      new TransferBillingSubscriptionRequestProperties()
                          .withDestinationInvoiceSectionId(
                              "/providers/Microsoft.Billing/billingAccounts/{billingAccountName}/billingProfiles/{billingProfileName}/invoiceSections/{newInvoiceSectionName}"),
                      Context.NONE);
          }
      }

      ```
      Read this [SDK documentation](https://github.com/Azure/azure-sdk-for-java/blob/azure-resourcemanager-billing_1.0.0-beta.2/sdk/billing/azure-resourcemanager-billing/README.md) on how to add the SDK to your project and authenticate.
      # [Go](#tab/Go)
      ``` go
      package armbilling_test

      import (
      	"context"
      	"log"

      	"github.com/Azure/azure-sdk-for-go/sdk/azcore/to"
      	"github.com/Azure/azure-sdk-for-go/sdk/azidentity"
      	"github.com/Azure/azure-sdk-for-go/sdk/resourcemanager/billing/armbilling"
      )

      // Generated from example definition: https://github.com/Azure/azure-rest-api-specs/tree/main/specification/billing/resource-manager/Microsoft.Billing/stable/2020-05-01/examples/MoveBillingSubscription.json
      func ExampleSubscriptionsClient_BeginMove() {
      	cred, err := azidentity.NewDefaultAzureCredential(nil)
      	if err != nil {
      		log.Fatalf("failed to obtain a credential: %v", err)
      	}
      	ctx := context.Background()
      	client, err := armbilling.NewSubscriptionsClient("{subscriptionId}", cred, nil)
      	if err != nil {
      		log.Fatalf("failed to create client: %v", err)
      	}
      	poller, err := client.BeginMove(ctx,
      		"{billingAccountName}",
      		armbilling.TransferBillingSubscriptionRequestProperties{
      			DestinationInvoiceSectionID: to.Ptr("/providers/Microsoft.Billing/billingAccounts/{billingAccountName}/billingProfiles/{billingProfileName}/invoiceSections/{newInvoiceSectionName}"),
      		},
      		nil)
      	if err != nil {
      		log.Fatalf("failed to finish the request: %v", err)
      	}
      	res, err := poller.PollUntilDone(ctx, nil)
      	if err != nil {
      		log.Fatalf("failed to pull the result: %v", err)
      	}
      	// TODO: use response item
      	_ = res
      }

      ```
      Read this [SDK documentation](https://github.com/Azure/azure-sdk-for-go/blob/sdk%2Fresourcemanager%2Fbilling%2Farmbilling%2Fv0.5.0/sdk/resourcemanager/billing/armbilling/README.md) on how to add the SDK to your project and authenticate.
  responses:
  - statusCode: "200"
    body: >-
      {
        "properties": {
          "displayName": "My Subscription",
          "subscriptionId": "6b96d3f2-9008-4a9d-912f-f87744185aa3",
          "subscriptionBillingStatus": "Active",
          "lastMonthCharges": {
            "currency": "USD",
            "value": 5000
          },
          "monthToDateCharges": {
            "currency": "USD",
            "value": 600
          },
          "invoiceSectionId": "/providers/Microsoft.Billing/billingAccounts/{billingAccountName}/billingProfiles/11000000-0000-0000-0000-000000000000/invoiceSections/22000000-0000-0000-0000-000000000000",
          "invoiceSectionDisplayName": "Contoso operations invoiceSection",
          "billingProfileId": "/providers/Microsoft.Billing/billingAccounts/{billingAccountName}/billingProfiles/11000000-0000-0000-0000-000000000000",
          "billingProfileDisplayName": "Contoso operations billing",
          "costCenter": "ABC1234",
          "skuId": "0001",
          "skuDescription": "Microsoft Azure Plan"
        }
      }
  - statusCode: "202"
    headers:
    - name: Location
      value: https://management.azure.com/providers/Microsoft.Billing/billingAccounts/{billingAccountName}/operationResults/moveBillingSubscription_11000000-0000-0000-0000-000000000000:22000000-0000-0000-0000-000000000000:{subscriptionId}:44000000-0000-0000-0000-000000000055:10000000-0000-0000-0000-000000000001?api-version=2020-05-01
    - name: Retry-After
      value: "30"
security:
- name: azure_auth
  type: oauth2
  description: Azure Active Directory OAuth2 Flow.
  flow: implicit
  authorizationUrl: https://login.microsoftonline.com/common/oauth2/authorize
  scopes:
  - name: user_impersonation
    description: impersonate your user account
metadata:
  description: Moves a subscription's charges to a new invoice section. The new invoice section must belong to the same billing profile as the existing invoice section.
errorCodes: []
