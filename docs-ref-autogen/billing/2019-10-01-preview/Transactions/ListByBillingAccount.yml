### YamlMime:RESTOperation
uid: management.azure.com.billing.2019-10-01-preview.transactions.listbybillingaccount
name: List By Billing Account
service: Billing
groupName: Transactions
apiVersion: 2019-10-01-preview
summary: Lists the billed and unbilled transactions by billing account name for given start and end date. Transactions include purchases, refunds and Azure usage charges. Unbilled transactions are listed under pending invoice ID and do not include tax. Tax is added to the amount once an invoice is generated.
consumes:
- application/json
produces:
- application/json
paths:
- content: GET https://management.azure.com/providers/Microsoft.Billing/billingAccounts/{billingAccountName}/transactions?api-version=2019-10-01-preview&periodStartDate={periodStartDate}&periodEndDate={periodEndDate}
- content: GET https://management.azure.com/providers/Microsoft.Billing/billingAccounts/{billingAccountName}/transactions?api-version=2019-10-01-preview&periodStartDate={periodStartDate}&periodEndDate={periodEndDate}&$filter={$filter}
  isOptional: true
uriParameters:
- name: billingAccountName
  in: path
  isRequired: true
  description: billing Account Id.
  types:
  - uid: string
- name: api-version
  in: query
  isRequired: true
  description: Version of the API to be used with the client request. The current version is 2019-10-01-preview.
  types:
  - uid: string
- name: periodStartDate
  in: query
  isRequired: true
  description: Start date
  types:
  - uid: string
- name: periodEndDate
  in: query
  isRequired: true
  description: End date
  types:
  - uid: string
- name: $filter
  in: query
  description: May be used to filter by transaction kind. The filter supports 'eq', 'lt', 'gt', 'le', 'ge', and 'and'. It does not currently support 'ne', 'or', or 'not'. Tag filter is a key value pair string where key and value is separated by a colon (:).
  types:
  - uid: string
responses:
- name: 200 OK
  description: OK. The request has succeeded.
  types:
  - uid: TransactionListResult
- name: Other Status Codes
  description: Error response describing why the operation failed.
  types:
  - uid: ErrorResponse
requestHeader: []
definitions:
- name: TransactionListResult
  description: Result of listing reservation transactions.
  kind: object
  properties:
  - name: value
    isReadyOnly: true
    description: The list of reservation transactions.
    types:
    - uid: Transaction
      isArray: true
  - name: nextLink
    isReadyOnly: true
    description: The link (url) to the next page of results.
    types:
    - uid: string
- name: ErrorResponse
  description: Error response indicates that the service is not able to process the incoming request. The reason is provided in the error message.
  kind: object
  properties:
  - name: error
    description: The details of the error.
    types:
    - uid: ErrorDetails
- name: Transaction
  description: A reservation transaction resource.
  kind: object
  properties:
  - name: properties.kind
    description: The kind of transaction. Choices are all and reservation.
    types:
    - uid: TransactionTypeKind
  - name: properties.date
    isReadyOnly: true
    description: The date of reservation transaction.
    types:
    - uid: string
  - name: properties.invoice
    isReadyOnly: true
    description: Invoice number or 'pending' if not invoiced.
    types:
    - uid: string
  - name: properties.orderId
    isReadyOnly: true
    description: The reservation order id.
    types:
    - uid: string
  - name: properties.orderName
    isReadyOnly: true
    description: The reservation order name.
    types:
    - uid: string
  - name: properties.productFamily
    isReadyOnly: true
    description: The product family.
    types:
    - uid: string
  - name: properties.productTypeId
    isReadyOnly: true
    description: The product type id.
    types:
    - uid: string
  - name: properties.productType
    isReadyOnly: true
    description: The type of product.
    types:
    - uid: string
  - name: properties.productDescription
    isReadyOnly: true
    description: Product description.
    types:
    - uid: string
  - name: properties.transactionType
    description: Transaction types.
    types:
    - uid: ReservationType
  - name: properties.transactionAmount
    isReadyOnly: true
    description: Last charge associated with the purchase.
    types:
    - uid: Amount
  - name: properties.quantity
    isReadyOnly: true
    description: Purchase quantity.
    types:
    - uid: integer
  - name: properties.invoiceSectionId
    isReadyOnly: true
    description: Invoice section id to which this product belongs.
    types:
    - uid: string
  - name: properties.invoiceSectionDisplayName
    isReadyOnly: true
    description: Invoice section display name to which this product belongs.
    types:
    - uid: string
  - name: properties.billingProfileId
    isReadyOnly: true
    description: Billing Profile id to which this product belongs.
    types:
    - uid: string
  - name: properties.billingProfileDisplayName
    isReadyOnly: true
    description: Billing Profile display name to which this product belongs.
    types:
    - uid: string
  - name: properties.customerId
    isReadyOnly: true
    description: Customer id to which this product belongs.
    types:
    - uid: string
  - name: properties.customerDisplayName
    isReadyOnly: true
    description: Display name of customer to which this product belongs.
    types:
    - uid: string
  - name: properties.subscriptionId
    isReadyOnly: true
    description: The subscription id.
    types:
    - uid: string
  - name: properties.subscriptionName
    isReadyOnly: true
    description: The subscription name.
    types:
    - uid: string
  - name: properties.azureCreditApplied
    isReadyOnly: true
    description: The amount of any Azure credits automatically applied to this transaction.
    types:
    - uid: Amount
  - name: properties.billingCurrency
    isReadyOnly: true
    description: The ISO 4217 code for the currency in which this transaction is billed.
    types:
    - uid: string
  - name: properties.discount
    isReadyOnly: true
    description: The percentage discount, if any, applied to this transaction.
    types:
    - uid: number
  - name: properties.effectivePrice
    isReadyOnly: true
    description: The price of the product after applying any discounts.
    types:
    - uid: Amount
  - name: properties.exchangeRate
    isReadyOnly: true
    description: The exchange rate used to convert charged amount to billing currency, if applicable.
    types:
    - uid: number
  - name: properties.marketPrice
    isReadyOnly: true
    description: The retail price of the product.
    types:
    - uid: Amount
  - name: properties.pricingCurrency
    isReadyOnly: true
    description: The ISO 4217 code for the currency in which the product is priced.
    types:
    - uid: string
  - name: properties.servicePeriodStartDate
    isReadyOnly: true
    description: The date of the purchase of the product, or the start date of the month in which usage started.
    types:
    - uid: string
  - name: properties.servicePeriodEndDate
    isReadyOnly: true
    description: The end date of the product term, or the end date of the month in which usage ended.
    types:
    - uid: string
  - name: properties.subTotal
    isReadyOnly: true
    description: The pre-tax charged amount for the transaction.
    types:
    - uid: Amount
  - name: properties.tax
    isReadyOnly: true
    description: The tax amount applied to the transaction.
    types:
    - uid: Amount
  - name: properties.unitOfMeasure
    isReadyOnly: true
    description: The unit of measure used to bill for the product. For example, compute services are billed per hour.
    types:
    - uid: string
  - name: properties.units
    isReadyOnly: true
    description: The number of units used for a given product.
    types:
    - uid: number
  - name: properties.unitType
    isReadyOnly: true
    description: The description for the unit of measure for a given product.
    types:
    - uid: string
  - name: id
    isReadyOnly: true
    description: Resource Id.
    types:
    - uid: string
  - name: name
    isReadyOnly: true
    description: Resource name.
    types:
    - uid: string
  - name: type
    isReadyOnly: true
    description: Resource type.
    types:
    - uid: string
- name: ErrorDetails
  description: The details of the error.
  kind: object
  properties:
  - name: code
    isReadyOnly: true
    description: Error code.
    types:
    - uid: string
  - name: message
    isReadyOnly: true
    description: Error message indicating why the operation failed.
    types:
    - uid: string
  - name: target
    isReadyOnly: true
    description: The target of the particular error.
    types:
    - uid: string
- name: TransactionTypeKind
  description: The kind of transaction. Choices are all and reservation.
  kind: enum
  properties:
  - name: all
    types:
    - uid: string
  - name: reservation
    types:
    - uid: string
- name: ReservationType
  description: Transaction types.
  kind: enum
  properties:
  - name: Purchase
    types:
    - uid: string
  - name: Usage Charge
    types:
    - uid: string
- name: Amount
  description: The Amount.
  kind: object
  properties:
  - name: currency
    isReadyOnly: true
    description: The currency for the amount value.
    types:
    - uid: string
  - name: value
    description: Amount value.
    types:
    - uid: number
examples:
- name: TransactionsListByBillingAccount
  request:
    uri: GET https://management.azure.com/providers/Microsoft.Billing/billingAccounts/{billingAccountName}/transactions?api-version=2019-10-01-preview&periodStartDate=2018-04-01&periodEndDate=2018-05-30
  responses:
  - statusCode: "200"
    body: >-
      {
        "value": [
          {
            "id": "/providers/Microsoft.Billing/BillingAccounts/{billingAccountName}/BillingProfiles/11000000-0000-0000-0000-000000000000/transactions/41000000-0000-0000-0000-000000000000",
            "name": "41000000-0000-0000-0000-000000000000",
            "type": "Microsoft.Billing/billingAccounts/billingProfiles/transactions",
            "properties": {
              "kind": "all",
              "date": "2018-05-01T00:00:00Z",
              "invoice": "2344233",
              "productFamily": "Storage",
              "productTypeId": "A12345",
              "productType": "Dev Support",
              "productDescription": "Standard D1, US West 3",
              "transactionType": "Purchase",
              "transactionAmount": {
                "currency": "USD",
                "value": 5000
              },
              "invoiceSectionId": "/providers/Microsoft.Billing/billingAccounts/{billingAccountName}/billingProfiles/11000000-0000-0000-0000-000000000000/invoiceSections/22000000-0000-0000-0000-000000000000",
              "invoiceSectionDisplayName": "Contoso operations invoiceSection",
              "billingProfileId": "/providers/Microsoft.Billing/billingAccounts/{billingAccountName}/billingProfiles/11000000-0000-0000-0000-000000000000",
              "billingProfileDisplayName": "Contoso operations billing",
              "azureCreditApplied": {
                "currency": "USD",
                "value": 2000
              },
              "billingCurrency": "USD",
              "discount": 0.1,
              "effectivePrice": {
                "currency": "USD",
                "value": 10
              },
              "exchangeRate": 1,
              "marketPrice": {
                "currency": "USD",
                "value": 20
              },
              "pricingCurrency": "USD",
              "quantity": 1,
              "servicePeriodStartDate": "2018-05-01T00:00:00Z",
              "servicePeriodEndDate": "2018-09-30T00:00:00Z",
              "subTotal": {
                "currency": "USD",
                "value": 4500
              },
              "tax": {
                "currency": "USD",
                "value": 500
              },
              "unitOfMeasure": "1 Minute",
              "units": 11.25,
              "unitType": "1 Runtime Minute"
            }
          },
          {
            "id": "/providers/Microsoft.Billing/BillingAccounts/{billingAccountName}/BillingProfiles/11000000-0000-0000-0000-000000000000/transactions/51000000-0000-0000-0000-000000000000",
            "name": "51000000-0000-0000-0000-000000000000",
            "type": "Microsoft.Billing/billingAccounts/billingProfiles/transactions",
            "properties": {
              "kind": "all",
              "date": "2018-04-01T00:00:00Z",
              "invoice": "pending",
              "productFamily": "Storage",
              "productTypeId": "A12345",
              "productType": "Azure subscription",
              "productDescription": "Send grid Gold",
              "transactionType": "Usage Charge",
              "transactionAmount": {
                "currency": "USD",
                "value": 50
              },
              "invoiceSectionId": "/providers/Microsoft.Billing/billingAccounts/{billingAccountName}/billingProfiles/11000000-0000-0000-0000-000000000000/invoiceSections/22000000-0000-0000-0000-000000000000",
              "invoiceSectionDisplayName": "Contoso operations invoiceSection",
              "billingProfileId": "/providers/Microsoft.Billing/billingAccounts/{billingAccountName}/billingProfiles/11000000-0000-0000-0000-000000000000",
              "billingProfileDisplayName": "Contoso operations billing",
              "azureCreditApplied": {
                "currency": "USD",
                "value": 20
              },
              "billingCurrency": "USD",
              "discount": 0.1,
              "effectivePrice": {
                "currency": "USD",
                "value": 10
              },
              "exchangeRate": 1,
              "marketPrice": {
                "currency": "USD",
                "value": 20
              },
              "pricingCurrency": "USD",
              "quantity": 1,
              "servicePeriodStartDate": "2018-05-01T00:00:00Z",
              "servicePeriodEndDate": "2018-09-30T00:00:00Z",
              "subTotal": {
                "currency": "USD",
                "value": 45
              },
              "tax": {
                "currency": "USD",
                "value": 5
              },
              "unitOfMeasure": "1 Minute",
              "units": 1.25,
              "unitType": "1 Runtime Minute"
            }
          }
        ]
      }
- name: ReservationTransactionsListByBillingAccount
  request:
    uri: GET https://management.azure.com/providers/Microsoft.Billing/billingAccounts/{billingAccountName}/transactions?api-version=2019-10-01-preview&periodStartDate=2018-04-01&periodEndDate=2018-05-30&$filter=properties/kind eq 'Reservation'
  responses:
  - statusCode: "200"
    body: >-
      {
        "value": [
          {
            "id": "/providers/Microsoft.Billing/BillingAccounts/{billingAccountName}/BillingProfiles/11000000-0000-0000-0000-000000000000/transactions/41000000-0000-0000-0000-000000000000",
            "name": "41000000-0000-0000-0000-000000000000",
            "type": "Microsoft.Billing/billingAccounts/billingProfiles/transactions",
            "properties": {
              "kind": "reservation",
              "date": "2018-04-23T00:00:00Z",
              "invoice": "2344233",
              "orderName": "Contoso Reserved",
              "orderId": "6d8e7ed9-d3be-48b0-8c7a-e19246a6d30c",
              "productDescription": "Standard D1, US West 3",
              "transactionType": "Cancel",
              "transactionAmount": {
                "currency": "USD",
                "value": 5000
              },
              "quantity": 4,
              "invoiceSectionId": "/providers/Microsoft.Billing/billingAccounts/{billingAccountName}/billingProfiles/11000000-0000-0000-0000-000000000000/invoiceSections/22000000-0000-0000-0000-000000000000",
              "invoiceSectionDisplayName": "Contoso operations invoiceSection",
              "billingProfileId": "/providers/Microsoft.Billing/billingAccounts/{billingAccountName}/billingProfiles/11000000-0000-0000-0000-000000000000",
              "billingProfileDisplayName": "Contoso operations billing",
              "subscriptionId": "7800000000-0000-0000-0000-0000000000009456",
              "subscriptionName": "Contoso operations billing"
            }
          },
          {
            "id": "/providers/Microsoft.Billing/BillingAccounts/{billingAccountName}/BillingProfiles/11000000-0000-0000-0000-000000000000/transactions/21000000-0000-0000-0000-000000000000",
            "name": "21000000-0000-0000-0000-000000000000",
            "type": "Microsoft.Billing/billingAccounts/billingProfiles/transactions",
            "properties": {
              "kind": "reservation",
              "date": "2018-05-05T00:00:00Z",
              "invoice": "Pending",
              "orderName": "Test Reserved",
              "orderId": "1c24006f-8350-4315-ad8f-6d11180448f9",
              "productDescription": "Standard D1, US West 3",
              "transactionType": "Purchase",
              "transactionAmount": {
                "currency": "USD",
                "value": 6000
              },
              "quantity": 5,
              "invoiceSectionId": "/providers/Microsoft.Billing/billingAccounts/{billingAccountName}/billingProfiles/11000000-0000-0000-0000-000000000000/invoiceSections/22000000-0000-0000-0000-000000000000",
              "invoiceSectionDisplayName": "Contoso operations invoiceSection",
              "billingProfileId": "/providers/Microsoft.Billing/billingAccounts/{billingAccountName}/billingProfiles/11000000-0000-0000-0000-000000000000",
              "billingProfileDisplayName": "Contoso operations billing",
              "subscriptionId": "00000000-0000-0000-0000-000000000000",
              "subscriptionName": "Contoso operations billing"
            }
          }
        ]
      }
security:
- name: azure_auth
  type: oauth2
  description: Azure Active Directory OAuth2 Flow.
  flow: implicit
  authorizationUrl: https://login.microsoftonline.com/common/oauth2/authorize
  scopes:
  - name: user_impersonation
    description: impersonate your user account
errorCodes: []
