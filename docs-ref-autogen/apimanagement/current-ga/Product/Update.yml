### YamlMime:RESTOperation
uid: management.azure.com.apimanagement.current-ga.product.update
name: Update
service: API Management
groupName: Product
apiVersion: 2021-08-01
summary: Update existing product details.
consumes:
- application/json
produces:
- application/json
paths:
- content: PATCH https://management.azure.com/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.ApiManagement/service/{serviceName}/products/{productId}?api-version=2021-08-01
uriParameters:
- name: subscriptionId
  in: path
  isRequired: true
  description: Subscription credentials which uniquely identify Microsoft Azure subscription. The subscription ID forms part of the URI for every service call.
  types:
  - uid: string
- name: resourceGroupName
  in: path
  isRequired: true
  description: The name of the resource group.
  types:
  - uid: string
- name: serviceName
  in: path
  isRequired: true
  description: The name of the API Management service.
  types:
  - uid: string
  pattern: ^[a-zA-Z](?:[a-zA-Z0-9-]*[a-zA-Z0-9])?$
- name: productId
  in: path
  isRequired: true
  description: Product identifier. Must be unique in the current API Management service instance.
  types:
  - uid: string
- name: api-version
  in: query
  isRequired: true
  description: Version of the API to be used with the client request.
  types:
  - uid: string
responses:
- name: 200 OK
  headers:
  - name: ETag
    value: string
  description: Product was successfully updated.
  types:
  - uid: ProductContract
- name: Other Status Codes
  description: Error response describing why the operation failed.
  types:
  - uid: ErrorResponse
requestBody:
- name: default
  parameters:
  - name: properties.displayName
    in: body
    description: Product name.
    types:
    - uid: string
  - name: properties.description
    in: body
    description: Product description. May include HTML formatting tags.
    types:
    - uid: string
  - name: properties.terms
    in: body
    description: Product terms of use. Developers trying to subscribe to the product will be presented and required to accept these terms before they can complete the subscription process.
    types:
    - uid: string
  - name: properties.subscriptionRequired
    in: body
    description: Whether a product subscription is required for accessing APIs included in this product. If true, the product is referred to as "protected" and a valid subscription key is required for a request to an API included in the product to succeed. If false, the product is referred to as "open" and requests to an API included in the product can be made without a subscription key. If property is omitted when creating a new product it's value is assumed to be true.
    types:
    - uid: boolean
  - name: properties.approvalRequired
    in: body
    description: whether subscription approval is required. If false, new subscriptions will be approved automatically enabling developers to call the product’s APIs immediately after subscribing. If true, administrators must manually approve the subscription before the developer can any of the product’s APIs. Can be present only if subscriptionRequired property is present and has a value of false.
    types:
    - uid: boolean
  - name: properties.subscriptionsLimit
    in: body
    description: Whether the number of subscriptions a user can have to this product at the same time. Set to null or omit to allow unlimited per user subscriptions. Can be present only if subscriptionRequired property is present and has a value of false.
    types:
    - uid: integer
  - name: properties.state
    in: body
    description: whether product is published or not. Published products are discoverable by users of developer portal. Non published products are visible only to administrators. Default state of Product is notPublished.
    types:
    - uid: ProductState
requestHeader:
- name: If-Match
  in: header
  isRequired: true
  description: ETag of the Entity. ETag should match the current entity state from the header response of the GET request or it should be * for unconditional update.
  types:
  - uid: string
definitions:
- name: ProductContract
  description: Product details.
  kind: object
  properties:
  - name: properties.displayName
    description: Product name.
    types:
    - uid: string
  - name: id
    isReadyOnly: true
    description: Fully qualified resource ID for the resource. Ex - /subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/{resourceProviderNamespace}/{resourceType}/{resourceName}
    types:
    - uid: string
  - name: name
    isReadyOnly: true
    description: The name of the resource
    types:
    - uid: string
  - name: type
    isReadyOnly: true
    description: The type of the resource. E.g. "Microsoft.Compute/virtualMachines" or "Microsoft.Storage/storageAccounts"
    types:
    - uid: string
  - name: properties.description
    description: Product description. May include HTML formatting tags.
    types:
    - uid: string
  - name: properties.terms
    description: Product terms of use. Developers trying to subscribe to the product will be presented and required to accept these terms before they can complete the subscription process.
    types:
    - uid: string
  - name: properties.subscriptionRequired
    description: Whether a product subscription is required for accessing APIs included in this product. If true, the product is referred to as "protected" and a valid subscription key is required for a request to an API included in the product to succeed. If false, the product is referred to as "open" and requests to an API included in the product can be made without a subscription key. If property is omitted when creating a new product it's value is assumed to be true.
    types:
    - uid: boolean
  - name: properties.approvalRequired
    description: whether subscription approval is required. If false, new subscriptions will be approved automatically enabling developers to call the product’s APIs immediately after subscribing. If true, administrators must manually approve the subscription before the developer can any of the product’s APIs. Can be present only if subscriptionRequired property is present and has a value of false.
    types:
    - uid: boolean
  - name: properties.subscriptionsLimit
    description: Whether the number of subscriptions a user can have to this product at the same time. Set to null or omit to allow unlimited per user subscriptions. Can be present only if subscriptionRequired property is present and has a value of false.
    types:
    - uid: integer
  - name: properties.state
    description: whether product is published or not. Published products are discoverable by users of developer portal. Non published products are visible only to administrators. Default state of Product is notPublished.
    types:
    - uid: ProductState
- name: ErrorResponse
  description: Error Response.
  kind: object
  properties:
  - name: error.code
    description: Service-defined error code. This code serves as a sub-status for the HTTP error code specified in the response.
    types:
    - uid: string
  - name: error.message
    description: Human-readable representation of the error.
    types:
    - uid: string
  - name: error.details
    description: The list of invalid fields send in request, in case of validation error.
    types:
    - uid: ErrorFieldContract
      isArray: true
- name: ProductUpdateParameters
  description: Product Update parameters.
  kind: object
  properties:
  - name: properties.displayName
    description: Product name.
    types:
    - uid: string
  - name: properties.description
    description: Product description. May include HTML formatting tags.
    types:
    - uid: string
  - name: properties.terms
    description: Product terms of use. Developers trying to subscribe to the product will be presented and required to accept these terms before they can complete the subscription process.
    types:
    - uid: string
  - name: properties.subscriptionRequired
    description: Whether a product subscription is required for accessing APIs included in this product. If true, the product is referred to as "protected" and a valid subscription key is required for a request to an API included in the product to succeed. If false, the product is referred to as "open" and requests to an API included in the product can be made without a subscription key. If property is omitted when creating a new product it's value is assumed to be true.
    types:
    - uid: boolean
  - name: properties.approvalRequired
    description: whether subscription approval is required. If false, new subscriptions will be approved automatically enabling developers to call the product’s APIs immediately after subscribing. If true, administrators must manually approve the subscription before the developer can any of the product’s APIs. Can be present only if subscriptionRequired property is present and has a value of false.
    types:
    - uid: boolean
  - name: properties.subscriptionsLimit
    description: Whether the number of subscriptions a user can have to this product at the same time. Set to null or omit to allow unlimited per user subscriptions. Can be present only if subscriptionRequired property is present and has a value of false.
    types:
    - uid: integer
  - name: properties.state
    description: whether product is published or not. Published products are discoverable by users of developer portal. Non published products are visible only to administrators. Default state of Product is notPublished.
    types:
    - uid: ProductState
- name: ProductState
  description: whether product is published or not. Published products are discoverable by users of developer portal. Non published products are visible only to administrators. Default state of Product is notPublished.
  kind: enum
  properties:
  - name: notPublished
    types:
    - uid: string
  - name: published
    types:
    - uid: string
- name: ErrorFieldContract
  description: Error Field contract.
  kind: object
  properties:
  - name: code
    description: Property level error code.
    types:
    - uid: string
  - name: message
    description: Human-readable representation of property-level error.
    types:
    - uid: string
  - name: target
    description: Property name.
    types:
    - uid: string
examples:
- name: ApiManagementUpdateProduct
  request:
    uri: PATCH https://management.azure.com/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.ApiManagement/service/apimService1/products/testproduct?api-version=2021-08-01
    body: >-
      {
        "properties": {
          "displayName": "Test Template ProductName 4"
        }
      }
    codeTab: |+
      # [HTTP](#tab/HTTP)
      ``` http
      PATCH https://management.azure.com/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.ApiManagement/service/apimService1/products/testproduct?api-version=2021-08-01


      {
        "properties": {
          "displayName": "Test Template ProductName 4"
        }
      }

      ```

      # [Java](#tab/Java)
      ``` java
      import com.azure.core.util.Context;
      import com.azure.resourcemanager.apimanagement.models.ProductContract;

      /** Samples for Product Update. */
      public final class Main {
          /*
           * x-ms-original-file: specification/apimanagement/resource-manager/Microsoft.ApiManagement/stable/2021-08-01/examples/ApiManagementUpdateProduct.json
           */
          /**
           * Sample code: ApiManagementUpdateProduct.
           *
           * @param manager Entry point to ApiManagementManager.
           */
          public static void apiManagementUpdateProduct(
              com.azure.resourcemanager.apimanagement.ApiManagementManager manager) {
              ProductContract resource =
                  manager.products().getWithResponse("rg1", "apimService1", "testproduct", Context.NONE).getValue();
              resource.update().withDisplayName("Test Template ProductName 4").withIfMatch("*").apply();
          }
      }

      ```
      Read this [SDK documentation](https://github.com/Azure/azure-sdk-for-java/blob/azure-resourcemanager-apimanagement_1.0.0-beta.3/sdk/apimanagement/azure-resourcemanager-apimanagement/README.md) on how to add the SDK to your project and authenticate.
      # [Go](#tab/Go)
      ``` go
      package armapimanagement_test

      import (
      	"context"
      	"log"

      	"github.com/Azure/azure-sdk-for-go/sdk/azcore/to"
      	"github.com/Azure/azure-sdk-for-go/sdk/azidentity"
      	"github.com/Azure/azure-sdk-for-go/sdk/resourcemanager/apimanagement/armapimanagement"
      )

      // Generated from example definition: https://github.com/Azure/azure-rest-api-specs/tree/main/specification/apimanagement/resource-manager/Microsoft.ApiManagement/stable/2021-08-01/examples/ApiManagementUpdateProduct.json
      func ExampleProductClient_Update() {
      	cred, err := azidentity.NewDefaultAzureCredential(nil)
      	if err != nil {
      		log.Fatalf("failed to obtain a credential: %v", err)
      	}
      	ctx := context.Background()
      	client, err := armapimanagement.NewProductClient("subid", cred, nil)
      	if err != nil {
      		log.Fatalf("failed to create client: %v", err)
      	}
      	res, err := client.Update(ctx,
      		"rg1",
      		"apimService1",
      		"testproduct",
      		"*",
      		armapimanagement.ProductUpdateParameters{
      			Properties: &armapimanagement.ProductUpdateProperties{
      				DisplayName: to.Ptr("Test Template ProductName 4"),
      			},
      		},
      		nil)
      	if err != nil {
      		log.Fatalf("failed to finish the request: %v", err)
      	}
      	// TODO: use response item
      	_ = res
      }

      ```
      Read this [SDK documentation](https://github.com/Azure/azure-sdk-for-go/blob/sdk%2Fresourcemanager%2Fapimanagement%2Farmapimanagement%2Fv1.0.0/sdk/resourcemanager/apimanagement/armapimanagement/README.md) on how to add the SDK to your project and authenticate.
      # [JavaScript](#tab/JavaScript)
      ``` js
      const { ApiManagementClient } = require("@azure/arm-apimanagement");
      const { DefaultAzureCredential } = require("@azure/identity");

      /**
       * This sample demonstrates how to Update existing product details.
       *
       * @summary Update existing product details.
       * x-ms-original-file: specification/apimanagement/resource-manager/Microsoft.ApiManagement/stable/2021-08-01/examples/ApiManagementUpdateProduct.json
       */
      async function apiManagementUpdateProduct() {
        const subscriptionId = "subid";
        const resourceGroupName = "rg1";
        const serviceName = "apimService1";
        const productId = "testproduct";
        const ifMatch = "*";
        const parameters = {
          displayName: "Test Template ProductName 4",
        };
        const credential = new DefaultAzureCredential();
        const client = new ApiManagementClient(credential, subscriptionId);
        const result = await client.product.update(
          resourceGroupName,
          serviceName,
          productId,
          ifMatch,
          parameters
        );
        console.log(result);
      }

      apiManagementUpdateProduct().catch(console.error);

      ```
      Read this [SDK documentation](https://github.com/Azure/azure-sdk-for-js/blob/%40azure%2Farm-apimanagement_8.1.1/sdk/apimanagement/arm-apimanagement/README.md) on how to add the SDK to your project and authenticate.
    headers:
    - name: If-Match
      value: '*'
  responses:
  - statusCode: "200"
    body: >-
      {
        "id": "/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.ApiManagement/service/apimService1/products/testproduct",
        "type": "Microsoft.ApiManagement/service/products",
        "name": "testproduct",
        "properties": {
          "displayName": "Test Template ProductName 4",
          "description": "Subscribers have completely unlimited access to the API. Administrator approval is required.",
          "subscriptionRequired": true,
          "approvalRequired": true,
          "subscriptionsLimit": 1,
          "state": "published"
        }
      }
security:
- name: azure_auth
  type: oauth2
  description: Azure Active Directory OAuth2 Flow.
  flow: implicit
  authorizationUrl: https://login.microsoftonline.com/common/oauth2/authorize
  scopes:
  - name: user_impersonation
    description: impersonate your user account
metadata:
  description: >
    Learn more about API Management service - Update existing product details.
errorCodes: []
