### YamlMime:RESTOperation
uid: management.azure.com.apimanagement.current-ga.contenttype.createorupdate
name: Create Or Update
service: API Management
groupName: Content Type
apiVersion: 2021-08-01
summary: Creates or updates the developer portal's content type. Content types describe content items' properties, validation rules, and constraints. Custom content types' identifiers need to start with the `c-` prefix. Built-in content types can't be modified.
consumes:
- application/json
produces:
- application/json
paths:
- content: PUT https://management.azure.com/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.ApiManagement/service/{serviceName}/contentTypes/{contentTypeId}?api-version=2021-08-01
uriParameters:
- name: subscriptionId
  in: path
  isRequired: true
  description: Subscription credentials which uniquely identify Microsoft Azure subscription. The subscription ID forms part of the URI for every service call.
  types:
  - uid: string
- name: resourceGroupName
  in: path
  isRequired: true
  description: The name of the resource group.
  types:
  - uid: string
- name: serviceName
  in: path
  isRequired: true
  description: The name of the API Management service.
  types:
  - uid: string
  pattern: ^[a-zA-Z](?:[a-zA-Z0-9-]*[a-zA-Z0-9])?$
- name: contentTypeId
  in: path
  isRequired: true
  description: Content type identifier.
  types:
  - uid: string
- name: api-version
  in: query
  isRequired: true
  description: Version of the API to be used with the client request.
  types:
  - uid: string
responses:
- name: 201 Created
  headers:
  - name: ETag
    value: string
  description: The content type was successfully created.
  types:
  - uid: ContentTypeContract
- name: 200 OK
  headers:
  - name: ETag
    value: string
  description: The existing content type was successfully updated.
  types:
  - uid: ContentTypeContract
- name: Other Status Codes
  description: Error response describing why the operation failed.
  types:
  - uid: ErrorResponse
requestHeader:
- name: If-Match
  in: header
  description: ETag of the Entity. Not required when creating an entity, but required when updating an entity.
  types:
  - uid: string
definitions:
- name: ContentTypeContract
  description: Content type contract details.
  kind: object
  properties:
  - name: properties.id
    description: Content type identifier
    types:
    - uid: string
  - name: properties.name
    description: Content type name. Must be 1 to 250 characters long.
    types:
    - uid: string
  - name: properties.description
    description: Content type description.
    types:
    - uid: string
  - name: properties.schema
    description: Content type schema.
    types:
    - uid: object
  - name: properties.version
    description: Content type version.
    types:
    - uid: string
  - name: id
    isReadyOnly: true
    description: Fully qualified resource ID for the resource. Ex - /subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/{resourceProviderNamespace}/{resourceType}/{resourceName}
    types:
    - uid: string
  - name: name
    isReadyOnly: true
    description: The name of the resource
    types:
    - uid: string
  - name: type
    isReadyOnly: true
    description: The type of the resource. E.g. "Microsoft.Compute/virtualMachines" or "Microsoft.Storage/storageAccounts"
    types:
    - uid: string
- name: ErrorResponse
  description: Error Response.
  kind: object
  properties:
  - name: error.code
    description: Service-defined error code. This code serves as a sub-status for the HTTP error code specified in the response.
    types:
    - uid: string
  - name: error.message
    description: Human-readable representation of the error.
    types:
    - uid: string
  - name: error.details
    description: The list of invalid fields send in request, in case of validation error.
    types:
    - uid: ErrorFieldContract
      isArray: true
- name: ErrorFieldContract
  description: Error Field contract.
  kind: object
  properties:
  - name: code
    description: Property level error code.
    types:
    - uid: string
  - name: message
    description: Human-readable representation of property-level error.
    types:
    - uid: string
  - name: target
    description: Property name.
    types:
    - uid: string
examples:
- name: ApiManagementCreateContentType
  request:
    uri: PUT https://management.azure.com/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.ApiManagement/service/apimService1/contentTypes/page?api-version=2021-08-01
    codeTab: |+
      # [HTTP](#tab/HTTP)
      ``` http
      PUT https://management.azure.com/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.ApiManagement/service/apimService1/contentTypes/page?api-version=2021-08-01
      ```

      # [Java](#tab/Java)
      ``` java
      import com.azure.core.util.Context;

      /** Samples for ContentType CreateOrUpdate. */
      public final class Main {
          /*
           * x-ms-original-file: specification/apimanagement/resource-manager/Microsoft.ApiManagement/stable/2021-08-01/examples/ApiManagementCreateContentType.json
           */
          /**
           * Sample code: ApiManagementCreateContentType.
           *
           * @param manager Entry point to ApiManagementManager.
           */
          public static void apiManagementCreateContentType(
              com.azure.resourcemanager.apimanagement.ApiManagementManager manager) {
              manager.contentTypes().createOrUpdateWithResponse("rg1", "apimService1", "page", null, Context.NONE);
          }
      }

      ```
      Read this [SDK documentation](https://github.com/Azure/azure-sdk-for-java/blob/azure-resourcemanager-apimanagement_1.0.0-beta.3/sdk/apimanagement/azure-resourcemanager-apimanagement/README.md) on how to add the SDK to your project and authenticate.
      # [Go](#tab/Go)
      ``` go
      package armapimanagement_test

      import (
      	"context"
      	"log"

      	"github.com/Azure/azure-sdk-for-go/sdk/azidentity"
      	"github.com/Azure/azure-sdk-for-go/sdk/resourcemanager/apimanagement/armapimanagement"
      )

      // Generated from example definition: https://github.com/Azure/azure-rest-api-specs/tree/main/specification/apimanagement/resource-manager/Microsoft.ApiManagement/stable/2021-08-01/examples/ApiManagementCreateContentType.json
      func ExampleContentTypeClient_CreateOrUpdate() {
      	cred, err := azidentity.NewDefaultAzureCredential(nil)
      	if err != nil {
      		log.Fatalf("failed to obtain a credential: %v", err)
      	}
      	ctx := context.Background()
      	client, err := armapimanagement.NewContentTypeClient("subid", cred, nil)
      	if err != nil {
      		log.Fatalf("failed to create client: %v", err)
      	}
      	res, err := client.CreateOrUpdate(ctx,
      		"rg1",
      		"apimService1",
      		"page",
      		&armapimanagement.ContentTypeClientCreateOrUpdateOptions{IfMatch: nil})
      	if err != nil {
      		log.Fatalf("failed to finish the request: %v", err)
      	}
      	// TODO: use response item
      	_ = res
      }

      ```
      Read this [SDK documentation](https://github.com/Azure/azure-sdk-for-go/blob/sdk%2Fresourcemanager%2Fapimanagement%2Farmapimanagement%2Fv1.0.0/sdk/resourcemanager/apimanagement/armapimanagement/README.md) on how to add the SDK to your project and authenticate.
      # [JavaScript](#tab/JavaScript)
      ``` js
      const { ApiManagementClient } = require("@azure/arm-apimanagement");
      const { DefaultAzureCredential } = require("@azure/identity");

      /**
       * This sample demonstrates how to Creates or updates the developer portal's content type. Content types describe content items' properties, validation rules, and constraints. Custom content types' identifiers need to start with the `c-` prefix. Built-in content types can't be modified.
       *
       * @summary Creates or updates the developer portal's content type. Content types describe content items' properties, validation rules, and constraints. Custom content types' identifiers need to start with the `c-` prefix. Built-in content types can't be modified.
       * x-ms-original-file: specification/apimanagement/resource-manager/Microsoft.ApiManagement/stable/2021-08-01/examples/ApiManagementCreateContentType.json
       */
      async function apiManagementCreateContentType() {
        const subscriptionId = "subid";
        const resourceGroupName = "rg1";
        const serviceName = "apimService1";
        const contentTypeId = "page";
        const credential = new DefaultAzureCredential();
        const client = new ApiManagementClient(credential, subscriptionId);
        const result = await client.contentType.createOrUpdate(
          resourceGroupName,
          serviceName,
          contentTypeId
        );
        console.log(result);
      }

      apiManagementCreateContentType().catch(console.error);

      ```
      Read this [SDK documentation](https://github.com/Azure/azure-sdk-for-js/blob/%40azure%2Farm-apimanagement_8.1.2/sdk/apimanagement/arm-apimanagement/README.md) on how to add the SDK to your project and authenticate.
  responses:
  - statusCode: "200"
    body: >-
      {
        "id": "/contentTypes/page",
        "type": "Microsoft.ApiManagement/service/contentTypes",
        "name": "page",
        "properties": {
          "name": "Page",
          "description": "A regular page",
          "schema": {
            "properties": {
              "en_us": {
                "type": "object",
                "properties": {
                  "title": {
                    "title": "Title",
                    "description": "Page title. This property gets included in SEO attributes.",
                    "type": "string",
                    "indexed": true
                  },
                  "description": {
                    "title": "Description",
                    "description": "Page description. This property gets included in SEO attributes.",
                    "type": "string",
                    "indexed": true
                  },
                  "keywords": {
                    "title": "Keywords",
                    "description": "Page keywords. This property gets included in SEO attributes.",
                    "type": "string",
                    "indexed": true
                  },
                  "permalink": {
                    "title": "Permalink",
                    "description": "Page permalink, e.g. '/about'.",
                    "type": "string",
                    "indexed": true
                  },
                  "documentId": {
                    "title": "Document ID",
                    "description": "Reference to page content document.",
                    "type": "string"
                  }
                },
                "additionalProperties": false,
                "required": [
                  "title",
                  "permalink",
                  "documentId"
                ]
              }
            },
            "additionalProperties": false
          },
          "version": "1.0.0"
        }
      }
  - statusCode: "201"
    body: >-
      {
        "id": "/contentTypes/page",
        "type": "Microsoft.ApiManagement/service/contentTypes",
        "name": "page",
        "properties": {
          "name": "Page",
          "description": "A regular page",
          "schema": {
            "properties": {
              "en_us": {
                "type": "object",
                "properties": {
                  "title": {
                    "title": "Title",
                    "description": "Page title. This property gets included in SEO attributes.",
                    "type": "string",
                    "indexed": true
                  },
                  "description": {
                    "title": "Description",
                    "description": "Page description. This property gets included in SEO attributes.",
                    "type": "string",
                    "indexed": true
                  },
                  "keywords": {
                    "title": "Keywords",
                    "description": "Page keywords. This property gets included in SEO attributes.",
                    "type": "string",
                    "indexed": true
                  },
                  "permalink": {
                    "title": "Permalink",
                    "description": "Page permalink, e.g. '/about'.",
                    "type": "string",
                    "indexed": true
                  },
                  "documentId": {
                    "title": "Document ID",
                    "description": "Reference to page content document.",
                    "type": "string"
                  }
                },
                "additionalProperties": false,
                "required": [
                  "title",
                  "permalink",
                  "documentId"
                ]
              }
            },
            "additionalProperties": false
          },
          "version": "1.0.0"
        }
      }
security:
- name: azure_auth
  type: oauth2
  description: Azure Active Directory OAuth2 Flow.
  flow: implicit
  authorizationUrl: https://login.microsoftonline.com/common/oauth2/authorize
  scopes:
  - name: user_impersonation
    description: impersonate your user account
metadata:
  description: Creates or updates the developer portal's content type. Content types describe content items' properties, validation rules, and constraints.
errorCodes: []
