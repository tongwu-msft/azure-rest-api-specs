### YamlMime:RESTOperation
uid: communication.phonenumberadministration.createsearch
name: Create Search
service: Communication
groupName: Phone Number Administration
apiVersion: 2020-07-20-preview1
summary: Creates a phone number search
consumes:
- application/json
produces:
- application/json
paths:
- content: POST {endpoint}/administration/phonenumbers/searches?api-version=2020-07-20-preview1
uriParameters:
- name: endpoint
  in: path
  isRequired: true
  skipUrlEncoding: true
  description: The endpoint of the Azure Communication resource.
  types:
  - uid: string
- name: api-version
  in: query
  isRequired: true
  description: Version of API to invoke
  types:
  - uid: string
responses:
- name: 201 Created
  description: Success
  types:
  - uid: CreateSearchResponse
- name: Other Status Codes
  description: Failure
  types:
  - uid: ErrorResponse
requestBody:
- name: default
  parameters:
  - name: displayName
    in: body
    isRequired: true
    description: Display name of the search.
    types:
    - uid: string
  - name: description
    in: body
    isRequired: true
    description: Description of the search.
    types:
    - uid: string
  - name: phonePlanIds
    in: body
    isRequired: true
    description: The plan subtype ids from which to create the search.
    types:
    - uid: string
      isArray: true
  - name: areaCode
    in: body
    isRequired: true
    description: The area code from which to create the search.
    types:
    - uid: string
  - name: quantity
    in: body
    description: The quantity of phone numbers to request.
    types:
    - uid: integer
  - name: locationOptions
    in: body
    description: The location options of the search.
    types:
    - uid: LocationOptionsDetails
      isArray: true
requestHeader: []
definitions:
- name: LocationOptionsDetails
  description: Represents location options details.
  kind: object
  properties:
  - name: name
    description: The name of the location options
    types:
    - uid: string
  - name: value
    description: The abbreviated name of the location options
    types:
    - uid: string
  - name: locationOptions
    description: The underlying location options
    types:
    - uid: LocationOptions
      isArray: true
- name: CreateSearchResponse
  description: Represents a search creation response.
  kind: object
  properties:
  - name: searchId
    description: The search id of the search that was created.
    types:
    - uid: string
- name: ErrorResponse
  description: Represents a service error response.
  kind: object
  properties:
  - name: error
    description: Represents a service error response body.
    types:
    - uid: ErrorBody
- name: CreateSearchOptions
  description: Represents a search creation option.
  kind: object
  properties:
  - name: displayName
    description: Display name of the search.
    types:
    - uid: string
  - name: description
    description: Description of the search.
    types:
    - uid: string
  - name: phonePlanIds
    description: The plan subtype ids from which to create the search.
    types:
    - uid: string
      isArray: true
  - name: areaCode
    description: The area code from which to create the search.
    types:
    - uid: string
  - name: quantity
    description: The quantity of phone numbers to request.
    types:
    - uid: integer
  - name: locationOptions
    description: The location options of the search.
    types:
    - uid: LocationOptionsDetails
      isArray: true
- name: LocationOptions
  description: Represents a location options.
  kind: object
  properties:
  - name: labelId
    description: The label id of the location.
    types:
    - uid: string
  - name: labelName
    description: The display name of the location.
    types:
    - uid: string
  - name: options
    description: The underlying location option details.
    types:
    - uid: LocationOptionsDetails
      isArray: true
- name: ErrorBody
  description: Represents a service error response body.
  kind: object
  properties:
  - name: code
    description: The error code in the error response.
    types:
    - uid: string
  - name: message
    description: The error message in the error response.
    types:
    - uid: string
examples:
- name: Create search
  request:
    uri: POST https://resourcename.communications.azure.net//administration/phonenumbers/searches?api-version=2020-07-20-preview1
    body: >-
      {
        "displayName": "Name",
        "description": "Search Description",
        "phonePlanIds": [
          "0cc077cd-333a-39fd-90f7-560b1e06c63e"
        ],
        "areaCode": "425",
        "quantity": 2,
        "locationOptions": [
          {
            "name": "state",
            "value": "WA"
          }
        ]
      }
  responses:
  - statusCode: "201"
    body: >-
      {
        "searchId": "0cc077cd-5337-7msf-964e-560b1e06c63e"
      }
security: []
errorCodes: []
