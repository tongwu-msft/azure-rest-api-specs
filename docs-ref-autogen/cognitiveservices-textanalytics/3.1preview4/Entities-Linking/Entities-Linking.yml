### YamlMime:RESTOperation
uid: cognitiveservices-textanalytics.3.1preview4.entitieslinking.entitieslinking
name: Entities Linking
service: Cognitive Services - Text Analytics
groupName: Entities Linking
apiVersion: v3.1-preview.4
summary: "Linked entities from a well known knowledge base  \nThe API returns a list of recognized entities with links to a well known knowledge base. See the <a href=\"https://aka.ms/talangs\">Supported languages in Text Analytics API</a> for the list of enabled languages."
consumes:
- application/json
- text/json
produces:
- application/json
- text/json
paths:
- content: POST {Endpoint}/text/analytics/v3.1-preview.4/entities/linking
- content: POST {Endpoint}/text/analytics/v3.1-preview.4/entities/linking?model-version={model-version}&showStats={showStats}&stringIndexType={stringIndexType}
  isOptional: true
uriParameters:
- name: Endpoint
  in: path
  isRequired: true
  skipUrlEncoding: true
  description: 'Supported Cognitive Services endpoints (protocol and hostname, for example: https://westus.api.cognitive.microsoft.com).'
  types:
  - uid: string
- name: model-version
  in: query
  description: '(Optional) This value indicates which model will be used for scoring. If a model-version is not specified, the API should default to the latest, non-preview version. '
  types:
  - uid: string
- name: showStats
  in: query
  description: (Optional) if set to true, response will contain request and document level statistics.
  types:
  - uid: boolean
- name: stringIndexType
  in: query
  description: (Optional) Specifies the method used to interpret string offsets.  Defaults to Text Elements (Graphemes) according to Unicode v8.0.0. For additional information see https://aka.ms/text-analytics-offsets
  types:
  - uid: StringIndexType
responses:
- name: 200 OK
  description: A successful call results in a list of recognized entities with links to a well known knowledge base returned for each valid document
  types:
  - uid: EntityLinkingResult
- name: 400 Bad Request
  description: Bad Request.
  types:
  - uid: ErrorResponse
- name: 500 Internal Server Error
  description: Internal error response
  types:
  - uid: ErrorResponse
requestBody:
- name: default
  parameters:
  - name: documents
    in: body
    isRequired: true
    description: The set of documents to process as part of this batch.
    types:
    - uid: MultiLanguageInput
      isArray: true
requestHeader:
- name: Ocp-Apim-Subscription-Key
  in: header
  isRequired: true
  types:
  - uid: string
definitions:
- name: StringIndexType
  kind: enum
  properties:
  - name: TextElements_v8
    description: Returned offset and length values will correspond to TextElements (Graphemes and Grapheme clusters) confirming to the Unicode 8.0.0 standard. Use this option if your application is written in .Net Framework or .Net Core and you will be using StringInfo.
    types:
    - uid: string
  - name: UnicodeCodePoint
    description: Returned offset and length values will correspond to Unicode code points. Use this option if your application is written in a language that support Unicode, for example Python.
    types:
    - uid: string
  - name: Utf16CodeUnit
    description: Returned offset and length values will correspond to UTF-16 code units. Use this option if your application is written in a language that support Unicode, for example Java, JavaScript.
    types:
    - uid: string
- name: MultiLanguageInput
  description: Contains an input document to be analyzed by the service.
  kind: object
  properties:
  - name: id
    description: A unique, non-empty document identifier.
    types:
    - uid: string
  - name: text
    description: The input text to process.
    types:
    - uid: string
  - name: language
    description: (Optional) This is the 2 letter ISO 639-1 representation of a language. For example, use "en" for English; "es" for Spanish etc. If not set, use "en" for English as default.
    types:
    - uid: string
- name: EntityLinkingResult
  kind: object
  properties:
  - name: documents
    description: Response by document
    types:
    - uid: DocumentLinkedEntities
      isArray: true
  - name: errors
    description: Errors by document id.
    types:
    - uid: DocumentError
      isArray: true
  - name: statistics
    description: if showStats=true was specified in the request this field will contain information about the request payload.
    types:
    - uid: RequestStatistics
  - name: modelVersion
    description: This field indicates which model is used for scoring.
    types:
    - uid: string
- name: ErrorResponse
  kind: object
  properties:
  - name: error
    description: Document Error.
    types:
    - uid: TextAnalyticsError
- name: MultiLanguageBatchInput
  description: Contains a set of input documents to be analyzed by the service.
  kind: object
  properties:
  - name: documents
    description: The set of documents to process as part of this batch.
    types:
    - uid: MultiLanguageInput
      isArray: true
- name: DocumentLinkedEntities
  kind: object
  properties:
  - name: id
    description: Unique, non-empty document identifier.
    types:
    - uid: string
  - name: entities
    description: Recognized well known entities in the document.
    types:
    - uid: LinkedEntity
      isArray: true
  - name: warnings
    description: Warnings encountered while processing document.
    types:
    - uid: TextAnalyticsWarning
      isArray: true
  - name: statistics
    description: if showStats=true was specified in the request this field will contain information about the document payload.
    types:
    - uid: DocumentStatistics
- name: DocumentError
  kind: object
  properties:
  - name: id
    description: Document Id.
    types:
    - uid: string
  - name: error
    description: Document Error.
    types:
    - uid: TextAnalyticsError
- name: RequestStatistics
  description: if showStats=true was specified in the request this field will contain information about the request payload.
  kind: object
  properties:
  - name: documentsCount
    description: Number of documents submitted in the request.
    types:
    - uid: integer
  - name: validDocumentsCount
    description: Number of valid documents. This excludes empty, over-size limit or non-supported languages documents.
    types:
    - uid: integer
  - name: erroneousDocumentsCount
    description: Number of invalid documents. This includes empty, over-size limit or non-supported languages documents.
    types:
    - uid: integer
  - name: transactionsCount
    description: Number of transactions for the request.
    types:
    - uid: integer
- name: TextAnalyticsError
  kind: object
  properties:
  - name: code
    description: Error code.
    types:
    - uid: ErrorCodeValue
  - name: message
    description: Error message.
    types:
    - uid: string
  - name: target
    description: Error target.
    types:
    - uid: string
  - name: innererror
    description: Inner error contains more specific information.
    types:
    - uid: InnerError
  - name: details
    description: Details about specific errors that led to this reported error.
    types:
    - uid: TextAnalyticsError
      isArray: true
- name: LinkedEntity
  kind: object
  properties:
  - name: name
    description: Entity Linking formal name.
    types:
    - uid: string
  - name: matches
    description: List of instances this entity appears in the text.
    types:
    - uid: Match
      isArray: true
  - name: language
    description: Language used in the data source.
    types:
    - uid: string
  - name: id
    description: Unique identifier of the recognized entity from the data source.
    types:
    - uid: string
  - name: url
    description: URL for the entity's page from the data source.
    types:
    - uid: string
  - name: dataSource
    description: Data source used to extract entity linking, such as Wiki/Bing etc.
    types:
    - uid: string
  - name: bingId
    description: Bing Entity Search API unique identifier of the recognized entity.
    types:
    - uid: string
- name: TextAnalyticsWarning
  kind: object
  properties:
  - name: code
    description: Error code.
    types:
    - uid: WarningCodeValue
  - name: message
    description: Warning message.
    types:
    - uid: string
  - name: targetRef
    description: A JSON pointer reference indicating the target object.
    types:
    - uid: string
- name: DocumentStatistics
  description: if showStats=true was specified in the request this field will contain information about the document payload.
  kind: object
  properties:
  - name: charactersCount
    description: Number of text elements recognized in the document.
    types:
    - uid: integer
  - name: transactionsCount
    description: Number of transactions for the document.
    types:
    - uid: integer
- name: ErrorCodeValue
  description: Error code.
  kind: enum
  properties:
  - name: InvalidRequest
    types:
    - uid: string
  - name: InvalidArgument
    types:
    - uid: string
  - name: InternalServerError
    types:
    - uid: string
  - name: ServiceUnavailable
    types:
    - uid: string
  - name: NotFound
    types:
    - uid: string
- name: InnerError
  kind: object
  properties:
  - name: code
    description: Error code.
    types:
    - uid: InnerErrorCodeValue
  - name: message
    description: Error message.
    types:
    - uid: string
  - name: details
    description: Error details.
    types:
    - uid: object
      isDictionary: true
      additionalTypes:
      - uid: string
      - uid: string
  - name: target
    description: Error target.
    types:
    - uid: string
  - name: innererror
    description: Inner error contains more specific information.
    types:
    - uid: InnerError
- name: Match
  kind: object
  properties:
  - name: confidenceScore
    description: If a well known item is recognized, a decimal number denoting the confidence level between 0 and 1 will be returned.
    types:
    - uid: number
  - name: text
    description: Entity text as appears in the request.
    types:
    - uid: string
  - name: offset
    description: Start position for the entity match text.
    types:
    - uid: integer
  - name: length
    description: Length for the entity match text.
    types:
    - uid: integer
- name: WarningCodeValue
  description: Error code.
  kind: enum
  properties:
  - name: LongWordsInDocument
    types:
    - uid: string
  - name: DocumentTruncated
    types:
    - uid: string
- name: InnerErrorCodeValue
  description: Error code.
  kind: enum
  properties:
  - name: InvalidParameterValue
    types:
    - uid: string
  - name: InvalidRequestBodyFormat
    types:
    - uid: string
  - name: EmptyRequest
    types:
    - uid: string
  - name: MissingInputRecords
    types:
    - uid: string
  - name: InvalidDocument
    types:
    - uid: string
  - name: ModelVersionIncorrect
    types:
    - uid: string
  - name: InvalidDocumentBatch
    types:
    - uid: string
  - name: UnsupportedLanguageCode
    types:
    - uid: string
  - name: InvalidCountryHint
    types:
    - uid: string
examples:
- name: Successful Entity Linking request
  request:
    uri: POST {Endpoint}/text/analytics/v3.1-preview.4/entities/linking
    body: >-
      {
        "documents": [
          {
            "id": "1",
            "language": "en",
            "text": "Microsoft was founded by Bill Gates and Paul Allen."
          },
          {
            "id": "2",
            "language": "en",
            "text": "Pike place market is my favorite Seattle attraction."
          }
        ]
      }
    codeTab: |+
      # [HTTP](#tab/HTTP)
      ``` http
      POST {Endpoint}/text/analytics/v3.1-preview.4/entities/linking


      {
        "documents": [
          {
            "id": "1",
            "language": "en",
            "text": "Microsoft was founded by Bill Gates and Paul Allen."
          },
          {
            "id": "2",
            "language": "en",
            "text": "Pike place market is my favorite Seattle attraction."
          }
        ]
      }

      ```

    headers:
    - name: Ocp-Apim-Subscription-Key
      value: '{API key}'
  responses:
  - statusCode: "200"
    body: >-
      {
        "documents": [
          {
            "entities": [
              {
                "dataSource": "Wikipedia",
                "id": "Bill Gates",
                "language": "en",
                "matches": [
                  {
                    "confidenceScore": 0.52,
                    "length": 10,
                    "offset": 25,
                    "text": "Bill Gates"
                  }
                ],
                "name": "Bill Gates",
                "url": "https://en.wikipedia.org/wiki/Bill_Gates"
              },
              {
                "dataSource": "Wikipedia",
                "id": "Paul Allen",
                "language": "en",
                "matches": [
                  {
                    "confidenceScore": 0.54,
                    "length": 10,
                    "offset": 40,
                    "text": "Paul Allen"
                  }
                ],
                "name": "Paul Allen",
                "url": "https://en.wikipedia.org/wiki/Paul_Allen"
              },
              {
                "dataSource": "Wikipedia",
                "id": "Microsoft",
                "language": "en",
                "matches": [
                  {
                    "confidenceScore": 0.49,
                    "length": 9,
                    "offset": 0,
                    "text": "Microsoft"
                  }
                ],
                "name": "Microsoft",
                "url": "https://en.wikipedia.org/wiki/Microsoft"
              }
            ],
            "id": "1",
            "warnings": []
          },
          {
            "entities": [
              {
                "dataSource": "Wikipedia",
                "id": "Pike Place Market",
                "language": "en",
                "matches": [
                  {
                    "confidenceScore": 0.86,
                    "length": 17,
                    "offset": 0,
                    "text": "Pike place market"
                  }
                ],
                "name": "Pike Place Market",
                "url": "https://en.wikipedia.org/wiki/Pike_Place_Market"
              },
              {
                "dataSource": "Wikipedia",
                "id": "Seattle",
                "language": "en",
                "matches": [
                  {
                    "confidenceScore": 0.27,
                    "length": 7,
                    "offset": 33,
                    "text": "Seattle"
                  }
                ],
                "name": "Seattle",
                "url": "https://en.wikipedia.org/wiki/Seattle"
              }
            ],
            "id": "2",
            "warnings": []
          }
        ],
        "errors": [],
        "modelVersion": "2020-02-01"
      }
  - statusCode: "400"
    body: >-
      {
        "error": {
          "code": "InvalidRequest",
          "message": "Invalid Request.",
          "innererror": {
            "code": "MissingInputRecords",
            "message": "Missing input records."
          }
        }
      }
  - statusCode: "500"
    body: >-
      {
        "error": {
          "code": "InternalServerError",
          "message": "Internal Server Error"
        }
      }
security:
- name: Ocp-Apim-Subscription-Key
  type: apiKey
  in: header
metadata:
  description: "Linked entities from a well known knowledge base  \nThe API returns a list of recognized entities with links to a well known knowledge base."
errorCodes: []
