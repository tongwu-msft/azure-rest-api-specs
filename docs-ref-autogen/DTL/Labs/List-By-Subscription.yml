### YamlMime:RESTOperation
uid: management.azure.com.dtl.labs.listbysubscription
name: List By Subscription
service: Dev Test Labs
groupName: Labs
apiVersion: 2018-09-15
summary: List labs in a subscription.
consumes:
- application/json
produces:
- application/json
paths:
- content: GET https://management.azure.com/subscriptions/{subscriptionId}/providers/Microsoft.DevTestLab/labs?api-version=2018-09-15
- content: GET https://management.azure.com/subscriptions/{subscriptionId}/providers/Microsoft.DevTestLab/labs?$expand={$expand}&$filter={$filter}&$top={$top}&$orderby={$orderby}&api-version=2018-09-15
  isOptional: true
uriParameters:
- name: subscriptionId
  in: path
  isRequired: true
  description: The subscription ID.
  types:
  - uid: string
- name: $expand
  in: query
  description: "Specify the $expand query. Example: 'properties($select=defaultStorageAccount)'"
  types:
  - uid: string
- name: $filter
  in: query
  description: "The filter to apply to the operation. Example: '$filter=contains(name,'myName')"
  types:
  - uid: string
- name: $top
  in: query
  description: "The maximum number of resources to return from the operation. Example: '$top=10'"
  types:
  - uid: integer
  format: int32
- name: $orderby
  in: query
  description: "The ordering expression for the results, using OData notation. Example: '$orderby=name desc'"
  types:
  - uid: string
- name: api-version
  in: query
  isRequired: true
  description: Client API version.
  types:
  - uid: string
responses:
- name: 200 OK
  description: OK
  types:
  - uid: LabList
- name: Other Status Codes
  description: BadRequest
  types:
  - uid: CloudError
requestHeader: []
definitions:
- name: LabList
  description: The response of a list operation.
  kind: object
  properties:
  - name: value
    description: Results of the list operation.
    types:
    - uid: Lab
      isArray: true
  - name: nextLink
    description: Link for next set of results.
    types:
    - uid: string
- name: CloudError
  description: Error from a REST request.
  kind: object
  properties:
  - name: error
    description: The cloud error that occurred
    types:
    - uid: CloudErrorBody
- name: Lab
  description: A lab.
  kind: object
  properties:
  - name: properties.defaultStorageAccount
    isReadyOnly: true
    description: The lab's default storage account.
    types:
    - uid: string
  - name: properties.defaultPremiumStorageAccount
    isReadyOnly: true
    description: The lab's default premium storage account.
    types:
    - uid: string
  - name: properties.artifactsStorageAccount
    isReadyOnly: true
    description: The lab's artifact storage account.
    types:
    - uid: string
  - name: properties.premiumDataDiskStorageAccount
    isReadyOnly: true
    description: The lab's premium data disk storage account.
    types:
    - uid: string
  - name: properties.vaultName
    isReadyOnly: true
    description: The lab's Key vault.
    types:
    - uid: string
  - name: properties.labStorageType
    description: Type of storage used by the lab. It can be either Premium or Standard. Default is Premium.
    types:
    - uid: StorageType
    defaultValue: Premium
  - name: properties.mandatoryArtifactsResourceIdsLinux
    description: The ordered list of artifact resource IDs that should be applied on all Linux VM creations by default, prior to the artifacts specified by the user.
    types:
    - uid: string
      isArray: true
  - name: properties.mandatoryArtifactsResourceIdsWindows
    description: The ordered list of artifact resource IDs that should be applied on all Windows VM creations by default, prior to the artifacts specified by the user.
    types:
    - uid: string
      isArray: true
  - name: properties.createdDate
    isReadyOnly: true
    description: The creation date of the lab.
    types:
    - uid: string
  - name: properties.premiumDataDisks
    description: >-
      The setting to enable usage of premium data disks.

      When its value is 'Enabled', creation of standard or premium data disks is allowed.

      When its value is 'Disabled', only creation of standard data disks is allowed.
    types:
    - uid: PremiumDataDisk
  - name: properties.environmentPermission
    description: The access rights to be granted to the user when provisioning an environment
    types:
    - uid: EnvironmentPermission
  - name: properties.announcement
    description: The properties of any lab announcement associated with this lab
    types:
    - uid: LabAnnouncementProperties
  - name: properties.support
    description: The properties of any lab support message associated with this lab
    types:
    - uid: LabSupportProperties
  - name: properties.vmCreationResourceGroup
    isReadyOnly: true
    description: The resource group in which all new lab virtual machines will be created. To let DevTest Labs manage resource group creation, set this value to null.
    types:
    - uid: string
  - name: properties.publicIpId
    isReadyOnly: true
    description: The public IP address for the lab's load balancer.
    types:
    - uid: string
  - name: properties.loadBalancerId
    isReadyOnly: true
    description: The load balancer used to for lab VMs that use shared IP address.
    types:
    - uid: string
  - name: properties.networkSecurityGroupId
    isReadyOnly: true
    description: The Network Security Group attached to the lab VMs Network interfaces to restrict open ports.
    types:
    - uid: string
  - name: properties.extendedProperties
    description: Extended properties of the lab used for experimental features
    types:
    - uid: object
      isDictionary: true
      additionalTypes:
      - uid: string
      - uid: string
  - name: properties.provisioningState
    isReadyOnly: true
    description: The provisioning status of the resource.
    types:
    - uid: string
  - name: properties.uniqueIdentifier
    isReadyOnly: true
    description: The unique immutable identifier of a resource (Guid).
    types:
    - uid: string
  - name: id
    isReadyOnly: true
    description: The identifier of the resource.
    types:
    - uid: string
  - name: name
    isReadyOnly: true
    description: The name of the resource.
    types:
    - uid: string
  - name: type
    isReadyOnly: true
    description: The type of the resource.
    types:
    - uid: string
  - name: location
    description: The location of the resource.
    types:
    - uid: string
  - name: tags
    description: The tags of the resource.
    types:
    - uid: object
      isDictionary: true
      additionalTypes:
      - uid: string
      - uid: string
- name: CloudErrorBody
  description: Body of an error from a REST request.
  kind: object
  properties:
  - name: code
    description: The error code.
    types:
    - uid: string
  - name: message
    description: The error message.
    types:
    - uid: string
  - name: target
    description: The error target.
    types:
    - uid: string
  - name: details
    description: Inner errors.
    types:
    - uid: CloudErrorBody
      isArray: true
- name: StorageType
  description: The storage type for the disk (i.e. Standard, Premium).
  kind: enum
  properties:
  - name: Standard
    types:
    - uid: string
  - name: Premium
    types:
    - uid: string
  - name: StandardSSD
    types:
    - uid: string
- name: PremiumDataDisk
  description: >-
    The setting to enable usage of premium data disks.

    When its value is 'Enabled', creation of standard or premium data disks is allowed.

    When its value is 'Disabled', only creation of standard data disks is allowed.
  kind: enum
  properties:
  - name: Disabled
    types:
    - uid: string
  - name: Enabled
    types:
    - uid: string
- name: EnvironmentPermission
  description: The access rights to be granted to the user when provisioning an environment
  kind: enum
  properties:
  - name: Reader
    types:
    - uid: string
  - name: Contributor
    types:
    - uid: string
- name: LabAnnouncementProperties
  description: Properties of a lab's announcement banner
  kind: object
  properties:
  - name: title
    description: The plain text title for the lab announcement
    types:
    - uid: string
  - name: markdown
    description: The markdown text (if any) that this lab displays in the UI. If left empty/null, nothing will be shown.
    types:
    - uid: string
  - name: enabled
    description: Is the lab announcement active/enabled at this time?
    types:
    - uid: EnableStatus
  - name: expirationDate
    description: The time at which the announcement expires (null for never)
    types:
    - uid: string
  - name: expired
    description: Has this announcement expired?
    types:
    - uid: boolean
  - name: provisioningState
    isReadyOnly: true
    description: The provisioning status of the resource.
    types:
    - uid: string
  - name: uniqueIdentifier
    isReadyOnly: true
    description: The unique immutable identifier of a resource (Guid).
    types:
    - uid: string
- name: LabSupportProperties
  description: Properties of a lab's support banner
  kind: object
  properties:
  - name: enabled
    description: Is the lab support banner active/enabled at this time?
    types:
    - uid: EnableStatus
  - name: markdown
    description: The markdown text (if any) that this lab displays in the UI. If left empty/null, nothing will be shown.
    types:
    - uid: string
- name: EnableStatus
  description: The status of the schedule (i.e. Enabled, Disabled)
  kind: enum
  properties:
  - name: Enabled
    types:
    - uid: string
  - name: Disabled
    types:
    - uid: string
examples:
- name: Labs_ListBySubscription
  request:
    uri: GET https://management.azure.com/subscriptions/{subscriptionId}/providers/Microsoft.DevTestLab/labs?api-version=2018-09-15
    codeTab: |+
      # [HTTP](#tab/HTTP)
      ``` http
      GET https://management.azure.com/subscriptions/{subscriptionId}/providers/Microsoft.DevTestLab/labs?api-version=2018-09-15
      ```

      # [Go](#tab/Go)
      ``` go
      package armdevtestlabs_test

      import (
      	"context"
      	"log"

      	"github.com/Azure/azure-sdk-for-go/sdk/azidentity"
      	"github.com/Azure/azure-sdk-for-go/sdk/resourcemanager/devtestlabs/armdevtestlabs"
      )

      // Generated from example definition: https://github.com/Azure/azure-rest-api-specs/tree/main/specification/devtestlabs/resource-manager/Microsoft.DevTestLab/stable/2018-09-15/examples/Labs_ListBySubscription.json
      func ExampleLabsClient_NewListBySubscriptionPager() {
      	cred, err := azidentity.NewDefaultAzureCredential(nil)
      	if err != nil {
      		log.Fatalf("failed to obtain a credential: %v", err)
      	}
      	ctx := context.Background()
      	client, err := armdevtestlabs.NewLabsClient("{subscriptionId}", cred, nil)
      	if err != nil {
      		log.Fatalf("failed to create client: %v", err)
      	}
      	pager := client.NewListBySubscriptionPager(&armdevtestlabs.LabsClientListBySubscriptionOptions{Expand: nil,
      		Filter:  nil,
      		Top:     nil,
      		Orderby: nil,
      	})
      	for pager.More() {
      		nextResult, err := pager.NextPage(ctx)
      		if err != nil {
      			log.Fatalf("failed to advance page: %v", err)
      		}
      		for _, v := range nextResult.Value {
      			// TODO: use page item
      			_ = v
      		}
      	}
      }

      ```
      Read this [SDK documentation](https://github.com/Azure/azure-sdk-for-go/blob/sdk%2Fresourcemanager%2Fdevtestlabs%2Farmdevtestlabs%2Fv1.0.0/sdk/resourcemanager/devtestlabs/armdevtestlabs/README.md) on how to add the SDK to your project and authenticate.
      # [JavaScript](#tab/JavaScript)
      ``` js
      const { DevTestLabsClient } = require("@azure/arm-devtestlabs");
      const { DefaultAzureCredential } = require("@azure/identity");

      /**
       * This sample demonstrates how to List labs in a subscription.
       *
       * @summary List labs in a subscription.
       * x-ms-original-file: specification/devtestlabs/resource-manager/Microsoft.DevTestLab/stable/2018-09-15/examples/Labs_ListBySubscription.json
       */
      async function labsListBySubscription() {
        const subscriptionId = "{subscriptionId}";
        const credential = new DefaultAzureCredential();
        const client = new DevTestLabsClient(credential, subscriptionId);
        const resArray = new Array();
        for await (let item of client.labs.listBySubscription()) {
          resArray.push(item);
        }
        console.log(resArray);
      }

      labsListBySubscription().catch(console.error);

      ```
      Read this [SDK documentation](https://github.com/Azure/azure-sdk-for-js/blob/%40azure%2Farm-devtestlabs_4.0.1/sdk/devtestlabs/arm-devtestlabs/README.md) on how to add the SDK to your project and authenticate.
  responses:
  - statusCode: "200"
    body: >-
      {
        "value": [
          {
            "properties": {
              "defaultStorageAccount": "/subscriptions/{subscriptionId}/resourceGroups/resourceGroupName/providers/Microsoft.Storage/storageAccounts/{storageAccountName}",
              "defaultPremiumStorageAccount": "/subscriptions/{subscriptionId}/resourceGroups/resourceGroupName/providers/Microsoft.Storage/storageAccounts/{storageAccountName}",
              "artifactsStorageAccount": "/subscriptions/{subscriptionId}/resourceGroups/resourceGroupName/providers/Microsoft.Storage/storageAccounts/{storageAccountName}",
              "premiumDataDiskStorageAccount": "/subscriptions/{subscriptionId}/resourceGroups/resourceGroupName/providers/Microsoft.Storage/storageAccounts/{storageAccountName}",
              "vaultName": "/subscriptions/{subscriptionId}/resourceGroups/resourceGroupName/providers/Microsoft.KeyVault/vaults/{keyVaultName}",
              "labStorageType": "Premium",
              "mandatoryArtifactsResourceIdsLinux": [],
              "mandatoryArtifactsResourceIdsWindows": [],
              "createdDate": "2018-09-30T08:38:13.1973609-07:00",
              "premiumDataDisks": "Disabled",
              "environmentPermission": "Reader",
              "announcement": {
                "title": "",
                "markdown": "",
                "enabled": "Disabled",
                "expired": false
              },
              "support": {
                "enabled": "Disabled",
                "markdown": ""
              },
              "provisioningState": "Succeeded",
              "uniqueIdentifier": "{uniqueIdentifier}"
            },
            "id": "/subscriptions/{subscriptionId}/resourcegroups/resourceGroupName/providers/microsoft.devtestlab/labs/{labName1}",
            "name": "{labName1}",
            "type": "Microsoft.DevTestLab/labs",
            "location": "westcentralus",
            "tags": {
              "tagName1": "tagValue1"
            }
          },
          {
            "properties": {
              "defaultStorageAccount": "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName2}/providers/Microsoft.Storage/storageAccounts/{storageAccountName2}",
              "defaultPremiumStorageAccount": "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName2}/providers/Microsoft.Storage/storageAccounts/{storageAccountName2}",
              "artifactsStorageAccount": "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName2}/providers/Microsoft.Storage/storageAccounts/{storageAccountName2}",
              "premiumDataDiskStorageAccount": "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName2}/providers/Microsoft.Storage/storageAccounts/{storageAccountName2}",
              "vaultName": "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName2}/providers/Microsoft.KeyVault/vaults/{keyVaultName2}",
              "labStorageType": "Premium",
              "mandatoryArtifactsResourceIdsLinux": [],
              "mandatoryArtifactsResourceIdsWindows": [],
              "createdDate": "2018-09-30T09:37:52.9675083-07:00",
              "premiumDataDisks": "Disabled",
              "environmentPermission": "Reader",
              "announcement": {
                "title": "",
                "markdown": "",
                "enabled": "Disabled",
                "expired": false
              },
              "support": {
                "enabled": "Disabled",
                "markdown": ""
              },
              "provisioningState": "Succeeded",
              "uniqueIdentifier": "{uniqueIdentifier}"
            },
            "id": "/subscriptions/{subscriptionId}/resourcegroups/{resourceGroupName2}/providers/microsoft.devtestlab/labs/{labName2}",
            "name": "{labName2}",
            "type": "Microsoft.DevTestLab/labs",
            "location": "japaneast",
            "tags": {
              "tagName1": "tagValue1"
            }
          }
        ]
      }
security:
- name: azure_auth
  type: oauth2
  description: OAuth2 Implicit Grant
  flow: implicit
  authorizationUrl: https://login.microsoftonline.com/common/oauth2/authorize
  scopes:
  - name: user_impersonation
    description: Access Microsoft Azure
metadata:
  description: >
    Learn more about Dev Test Labs service - List labs in a subscription.
errorCodes: []
