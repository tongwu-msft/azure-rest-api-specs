### YamlMime:RESTOperation
uid: machinelearning.runmetrics.getbyquery
name: Get By Query
service: Machine Learning
groupName: Run Metrics
apiVersion: 2019-08-01
summary: "Get all Run Metrics for the specific Experiment.  \nGet all Run Metrics for the specific Experiment with the specified query filters."
consumes:
- application/json
produces:
- application/json
paths:
- content: POST https:///history/v1.0/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.MachineLearningServices/workspaces/{workspaceName}/experiments/{experimentName}/metrics:query
- content: POST https:///history/v1.0/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.MachineLearningServices/workspaces/{workspaceName}/experiments/{experimentName}/metrics:query?MergeStrategyType={MergeStrategyType}&MergeStrategyOptions={MergeStrategyOptions}&MergeStrategySettings.Version={MergeStrategySettings.Version}&MergeStrategySettings.SelectMetrics={MergeStrategySettings.SelectMetrics}
  isOptional: true
uriParameters:
- name: subscriptionId
  in: path
  isRequired: true
  description: The Azure Subscription ID.
  types:
  - uid: string
  format: uuid
- name: resourceGroupName
  in: path
  isRequired: true
  description: The Name of the resource group in which the workspace is located.
  types:
  - uid: string
- name: workspaceName
  in: path
  isRequired: true
  description: The name of the workspace.
  types:
  - uid: string
- name: experimentName
  in: path
  isRequired: true
  description: The experiment name.
  types:
  - uid: string
- name: MergeStrategyType
  in: query
  description: >-
    The type of merge strategy. Currently supported strategies are:

    None - all logged values are returned as individual metrics.

    MergeToVector - merges multiple values into a vector of values.

    Default - the system determines the behavior.
  types:
  - uid: string
- name: MergeStrategyOptions
  in: query
  description: Controls behavior of the merge strategy in certain cases; e.g. when a metric is not merged.
  types:
  - uid: string
- name: MergeStrategySettings.Version
  in: query
  description: The strategy settings version.
  types:
  - uid: string
- name: MergeStrategySettings.SelectMetrics
  in: query
  description: Defines how to select metrics when merging them together.
  types:
  - uid: string
responses:
- name: 200 OK
  description: The Run Metrics are returned successfully.
  types:
  - uid: PaginatedRunMetricList
- name: Other Status Codes
  description: Error response describing why the operation failed.
  types:
  - uid: ErrorResponse
requestBody:
- name: default
  parameters:
  - name: filter
    in: body
    description: >-
      Allows for filtering the collection of resources.

      The expression specified is evaluated for each resource in the collection, and only items where the expression evaluates to true are included in the response.

      See https://docs.microsoft.com/en-us/azure/search/query-odata-filter-orderby-syntax for details on the expression syntax.
    types:
    - uid: string
  - name: continuationToken
    in: body
    description: The continuation token to use for getting the next set of resources.
    types:
    - uid: string
  - name: orderBy
    in: body
    description: >-
      The comma separated list of resource properties to use for sorting the requested resources.

      Optionally, can be followed by either 'asc' or 'desc'
    types:
    - uid: string
  - name: top
    in: body
    description: >-
      The maximum number of items in the resource collection to be included in the result.

      If not specified, all items are returned.
    types:
    - uid: integer
requestHeader: []
definitions:
- name: PaginatedRunMetricList
  description: A paginated list of RunMetrics.
  kind: object
  properties:
  - name: value
    description: An array of objects of type RunMetric.
    types:
    - uid: RunMetric
      isArray: true
  - name: continuationToken
    description: The token used in retrieving the next page.  If null, there are no additional pages.
    types:
    - uid: string
  - name: nextLink
    description: The link to the next page constructed using the continuationToken.  If null, there are no additional pages.
    types:
    - uid: string
- name: ErrorResponse
  description: The error response.
  kind: object
  properties:
  - name: error
    description: The top level error that occurred.
    types:
    - uid: RootError
  - name: correlation
    description: Dictionary containing correlation details for the error.
    types:
    - uid: object
      isDictionary: true
      additionalTypes:
      - uid: string
      - uid: string
  - name: environment
    description: The hosting environment.
    types:
    - uid: string
  - name: location
    description: The Azure region.
    types:
    - uid: string
  - name: time
    description: The time in UTC.
    types:
    - uid: string
- name: QueryParams
  description: The set of supported filters.
  kind: object
  properties:
  - name: filter
    description: >-
      Allows for filtering the collection of resources.

      The expression specified is evaluated for each resource in the collection, and only items where the expression evaluates to true are included in the response.

      See https://docs.microsoft.com/en-us/azure/search/query-odata-filter-orderby-syntax for details on the expression syntax.
    types:
    - uid: string
  - name: continuationToken
    description: The continuation token to use for getting the next set of resources.
    types:
    - uid: string
  - name: orderBy
    description: >-
      The comma separated list of resource properties to use for sorting the requested resources.

      Optionally, can be followed by either 'asc' or 'desc'
    types:
    - uid: string
  - name: top
    description: >-
      The maximum number of items in the resource collection to be included in the result.

      If not specified, all items are returned.
    types:
    - uid: integer
- name: RunMetric
  kind: object
  properties:
  - name: runId
    description: ''
    types:
    - uid: string
  - name: metricId
    description: ''
    types:
    - uid: string
  - name: dataContainerId
    description: ''
    types:
    - uid: string
  - name: metricType
    description: ''
    types:
    - uid: string
  - name: createdUtc
    description: ''
    types:
    - uid: string
  - name: name
    description: ''
    types:
    - uid: string
  - name: description
    description: ''
    types:
    - uid: string
  - name: label
    description: ''
    types:
    - uid: string
  - name: numCells
    description: ''
    types:
    - uid: integer
  - name: dataLocation
    description: ''
    types:
    - uid: string
  - name: cells
    description: ''
    types:
    - uid: object
      isArray: true
  - name: schema
    description: ''
    types:
    - uid: MetricSchema
- name: RootError
  description: The root error.
  kind: object
  properties:
  - name: code
    description: 'The service-defined error code. Supported error codes: ServiceError, UserError, ValidationError, AzureStorageError, TransientError, RequestThrottled.'
    types:
    - uid: string
  - name: message
    description: A human-readable representation of the error.
    types:
    - uid: string
  - name: target
    description: The target of the error (e.g., the name of the property in error).
    types:
    - uid: string
  - name: details
    description: The related errors that occurred during the request.
    types:
    - uid: ErrorDetails
      isArray: true
  - name: innerError
    description: A nested list of inner errors. When evaluating errors, clients MUST traverse through all of the nested “innerErrors” and choose the deepest one that they understand.
    types:
    - uid: InnerErrorResponse
- name: MetricSchema
  kind: object
  properties:
  - name: numProperties
    description: ''
    types:
    - uid: integer
  - name: properties
    description: ''
    types:
    - uid: MetricSchemaProperty
      isArray: true
- name: ErrorDetails
  description: The error details.
  kind: object
  properties:
  - name: code
    description: The error code.
    types:
    - uid: string
  - name: message
    description: The error message.
    types:
    - uid: string
  - name: target
    description: The target of the error (e.g., the name of the property in error).
    types:
    - uid: string
- name: InnerErrorResponse
  description: A nested structure of errors.
  kind: object
  properties:
  - name: code
    description: The error code.
    types:
    - uid: string
  - name: innerError
    description: A nested list of inner errors. When evaluating errors, clients MUST traverse through all of the nested “innerErrors” and choose the deepest one that they understand.
    types:
    - uid: InnerErrorResponse
- name: MetricSchemaProperty
  kind: object
  properties:
  - name: propertyId
    description: ''
    types:
    - uid: string
  - name: name
    description: ''
    types:
    - uid: string
  - name: type
    description: ''
    types:
    - uid: string
examples: []
security:
- name: azure_auth
  type: oauth2
  flow: implicit
  authorizationUrl: https://login.microsoftonline.com/common/oauth2/authorize
  scopes:
  - name: user_impersonation
    description: impersonate your user account
errorCodes: []
