### YamlMime:RESTOperation
uid: management.azure.com.sql.2020-11-01-preview.databaseextensions.createorupdate
name: Create Or Update
service: SQL Database
groupName: Database Extensions
apiVersion: 2020-11-01-preview
summary: Perform a database extension operation, like polybase import
consumes:
- application/json
produces:
- application/json
paths:
- content: PUT https://management.azure.com/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Sql/servers/{serverName}/databases/{databaseName}/extensions/{extensionName}?api-version=2020-11-01-preview
uriParameters:
- name: subscriptionId
  in: path
  isRequired: true
  description: The subscription ID that identifies an Azure subscription.
  types:
  - uid: string
- name: resourceGroupName
  in: path
  isRequired: true
  description: The name of the resource group that contains the resource. You can obtain this value from the Azure Resource Manager API or the portal.
  types:
  - uid: string
- name: serverName
  in: path
  isRequired: true
  description: The name of the server.
  types:
  - uid: string
- name: databaseName
  in: path
  isRequired: true
  description: The name of the database.
  types:
  - uid: string
- name: extensionName
  in: path
  isRequired: true
  types:
  - uid: string
- name: api-version
  in: query
  isRequired: true
  description: The API version to use for the request.
  types:
  - uid: string
responses:
- name: 200 OK
  description: Successfully completed import/export operation.
  types:
  - uid: ImportExportExtensionsOperationResult
- name: Other Status Codes
  description: >-
    *** Error Responses: ***

     * 400 MissingImportExportInputParameters - Missing ImportExport input parameters.

     * 400 PolybaseImportAuthenticationTypeNotSupported - Authentication type parameter is not support for PolybaseImport operation.

     * 400 DatabaseExtensionsInvalidOperationMode - Invalid operationMode parameter for database extension.

     * 400 DatabaseExtensionsInvalidStorageKeyType - The storage key type must by 'StorageAccessKey'.

     * 400 DatabaseExtensionsMissingStorageUri - Storage URI cannot be empty.

     * 400 FeatureDisabledOnSelectedEdition - User attempted to use a feature which is disabled on current database edition.

     * 400 InvalidOperationType - Provide a valid operation type.

     * 400 ImportExportJobError - The ImportExport operation has failed.

     * 400 BlockedByOutboundFirewall - The outbound firewall rules blocked the request.

     * 404 ResourceNotFound - Invalid request specifying a non-existent resource.

     * 404 ServerNotInSubscriptionResourceGroup - Specified server does not exist in the specified resource group and subscription.

     * 404 ImportExportOperationIdNotFound - The operation Id for import or export cannot be found.

     * 404 ServerNotInSubscription - Specified server does not exist on the specified subscription.

     * 409 ImportExportOperationInProgress - There is an import or export operation in progress on the database.
- name: 202 Accepted
  description: Import/Export operation is in progress.
requestBody:
- name: default
  parameters:
  - name: properties.operationMode
    in: body
    isRequired: true
    description: Operation Mode.
    types:
    - uid: OperationMode
  - name: properties.storageKeyType
    in: body
    isRequired: true
    description: Storage key type.
    types:
    - uid: StorageKeyType
  - name: properties.storageKey
    in: body
    isRequired: true
    description: Storage key.
    types:
    - uid: string
  - name: properties.storageUri
    in: body
    isRequired: true
    description: Storage Uri.
    types:
    - uid: string
requestHeader: []
definitions:
- name: ImportExportExtensionsOperationResult
  description: An Extension operation result resource.
  kind: object
  properties:
  - name: properties.requestId
    isReadyOnly: true
    description: Request Id.
    types:
    - uid: string
  - name: properties.requestType
    isReadyOnly: true
    description: Request type.
    types:
    - uid: string
  - name: properties.lastModifiedTime
    isReadyOnly: true
    description: Last modified time.
    types:
    - uid: string
  - name: properties.serverName
    isReadyOnly: true
    description: Server name.
    types:
    - uid: string
  - name: properties.databaseName
    isReadyOnly: true
    description: Database name.
    types:
    - uid: string
  - name: properties.status
    isReadyOnly: true
    description: Operation status.
    types:
    - uid: string
  - name: properties.errorMessage
    isReadyOnly: true
    description: Error message.
    types:
    - uid: string
  - name: id
    isReadyOnly: true
    description: Resource ID.
    types:
    - uid: string
  - name: name
    isReadyOnly: true
    description: Resource name.
    types:
    - uid: string
  - name: type
    isReadyOnly: true
    description: Resource type.
    types:
    - uid: string
- name: DatabaseExtensions
  description: An export managed database operation result resource.
  kind: object
  properties:
  - name: properties.operationMode
    description: Operation Mode.
    types:
    - uid: OperationMode
  - name: properties.storageKeyType
    description: Storage key type.
    types:
    - uid: StorageKeyType
  - name: properties.storageKey
    description: Storage key.
    types:
    - uid: string
  - name: properties.storageUri
    description: Storage Uri.
    types:
    - uid: string
  - name: id
    isReadyOnly: true
    description: Resource ID.
    types:
    - uid: string
  - name: name
    isReadyOnly: true
    description: Resource name.
    types:
    - uid: string
  - name: type
    isReadyOnly: true
    description: Resource type.
    types:
    - uid: string
- name: OperationMode
  description: Operation Mode.
  kind: enum
  properties:
  - name: PolybaseImport
    types:
    - uid: string
- name: StorageKeyType
  description: Storage key type.
  kind: enum
  properties:
  - name: SharedAccessKey
    types:
    - uid: string
  - name: StorageAccessKey
    types:
    - uid: string
examples:
- name: Create or Update database extensions.
  request:
    uri: PUT https://management.azure.com/subscriptions/a1c0814d-3c18-4e1e-a247-c128c12b1677/resourceGroups/rg_20cbe0f0-c2d9-4522-9177-5469aad53029/providers/Microsoft.Sql/servers/srv_1ffd1cf8-9951-47fb-807d-a9c384763849/databases/878e303f-1ea0-4f17-aa3d-a22ac5e9da08/extensions/polybaseimport?api-version=2020-11-01-preview
    body: >-
      {
        "properties": {
          "operationMode": "PolybaseImport",
          "storageKeyType": "StorageAccessKey",
          "storageKey": "xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx",
          "storageUri": "https://teststorage.blob.core.windows.net/testcontainer/Manifest.xml"
        }
      }
    codeTab: |+
      # [HTTP](#tab/HTTP)
      ``` http
      PUT https://management.azure.com/subscriptions/a1c0814d-3c18-4e1e-a247-c128c12b1677/resourceGroups/rg_20cbe0f0-c2d9-4522-9177-5469aad53029/providers/Microsoft.Sql/servers/srv_1ffd1cf8-9951-47fb-807d-a9c384763849/databases/878e303f-1ea0-4f17-aa3d-a22ac5e9da08/extensions/polybaseimport?api-version=2020-11-01-preview

      {
        "properties": {
          "operationMode": "PolybaseImport",
          "storageKeyType": "StorageAccessKey",
          "storageKey": "xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx",
          "storageUri": "https://teststorage.blob.core.windows.net/testcontainer/Manifest.xml"
        }
      }

      ```

  responses:
  - statusCode: "202"
  - statusCode: "200"
    body: >-
      {
        "properties": {
          "requestId": "10000000-0000-0000-0000-000000000002",
          "requestType": "PolybaseImport",
          "lastModifiedTime": "lastModifiedTime",
          "serverName": "srv_1ffd1cf8-9951-47fb-807d-a9c384763849",
          "databaseName": "878e303f-1ea0-4f17-aa3d-a22ac5e9da08",
          "status": "succeeded"
        },
        "id": "10000000-0000-0000-0000-000000000002",
        "name": "10000000-0000-0000-0000-000000000002",
        "type": "Microsoft.Sql/servers/databases/extensions"
      }
security: []
metadata:
  description: >
    Learn more about SQL Database service - Perform a database extension operation, like polybase import
errorCodes: []
