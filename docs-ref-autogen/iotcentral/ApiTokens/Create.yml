### YamlMime:RESTOperation
uid: apps.azureiotcentral.com.api.preview.iotcentral.apitokens.create
name: Create
service: IoT Central
groupName: Api Tokens
apiVersion: preview
summary: Create a new API token in the application to use in the IoT Central public API. The token value will be returned in the response, and won't be returned again in subsequent requests.
consumes:
- application/json
produces:
- application/json
paths:
- content: PUT https://{subdomain}.{centralDnsSuffixInPath}/api/preview/apiTokens/{token_id}
uriParameters:
- name: subdomain
  in: path
  isRequired: true
  description: The application subdomain.
  types:
  - uid: string
- name: centralDnsSuffixInPath
  in: path
  isRequired: true
  skipUrlEncoding: true
  description: The DNS suffix used as the base for all Azure IoT Central service requests.
  types:
  - uid: string
- name: token_id
  in: path
  isRequired: true
  description: Unique ID for the API token.
  types:
  - uid: string
responses:
- name: 200 OK
  description: Success
  types:
  - uid: ApiToken
requestBody:
- name: default
  parameters:
  - name: roles
    in: body
    isRequired: true
    description: List of roles that specify the permissions to access the application.
    types:
    - uid: Roles
      isArray: true
  - name: expiry
    in: body
    description: String-formatted date representing the time when the token expires.
    types:
    - uid: string
requestHeader: []
definitions:
- name: Roles
  description: List of roles that specify the permissions to access the application.
  kind: object
  properties:
  - name: role
    description: ID that specifies the role assignment for this role.
    types:
    - uid: string
- name: ApiToken
  kind: object
  properties:
  - name: roles
    description: List of roles that specify the permissions to access the application.
    types:
    - uid: Roles
      isArray: true
  - name: id
    isReadyOnly: true
    description: Unique ID of the API token.
    types:
    - uid: string
  - name: token
    isReadyOnly: true
    description: Value of the API token.
    types:
    - uid: string
  - name: expiry
    description: String-formatted date representing the time when the token expires.
    types:
    - uid: string
examples:
- name: Create API token
  request:
    uri: PUT https://appsubdomain.azureiotcentral.com/api/preview/apiTokens/testtoken
    body: >-
      {
        "roles": [
          {
            "role": "ca310b8d-2f4a-44e0-a36e-957c202cd8d4"
          }
        ]
      }
  responses:
  - statusCode: "200"
    body: >-
      {
        "id": "testtoken",
        "roles": [
          {
            "role": "ca310b8d-2f4a-44e0-a36e-957c202cd8d4"
          }
        ],
        "expiry": "2020-10-18T18:30:40.227Z",
        "token": "SharedAccessSignature sr=..."
      }
security: []
errorCodes: []
