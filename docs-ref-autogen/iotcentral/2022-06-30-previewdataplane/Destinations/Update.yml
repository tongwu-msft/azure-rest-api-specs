### YamlMime:RESTOperation
uid: api.iotcentral.2022-06-30-previewdataplane.destinations.update
name: Update
service: IoT Central
groupName: Destinations
apiVersion: 2022-06-30-preview
summary: "Patch a destination.  \nPerform an incremental update to a destination."
consumes:
- application/json
- application/merge-patch+json
produces:
- application/json
paths:
- content: PATCH https://{subdomain}.{baseDomain}/api/dataExport/destinations/{destinationId}?api-version=2022-06-30-preview
uriParameters:
- name: subdomain
  in: path
  isRequired: true
  description: The application subdomain.
  types:
  - uid: string
- name: baseDomain
  in: path
  isRequired: true
  skipUrlEncoding: true
  description: The base domain for all Azure IoT Central service requests.
  types:
  - uid: string
- name: destinationId
  in: path
  isRequired: true
  description: Unique ID for the destination.
  types:
  - uid: string
- name: api-version
  in: query
  isRequired: true
  description: The version of the API being called.
  types:
  - uid: string
responses:
- name: 200 OK
  description: Success
  types:
  - uid: BlobStorageV1Destination
  - uid: DataExplorerV1Destination
  - uid: EventHubsV1Destination
  - uid: ServiceBusQueueV1Destination
  - uid: ServiceBusTopicV1Destination
  - uid: WebhookV1Destination
  typesTitle: Destination
- name: Other Status Codes
  headers:
  - name: x-ms-error-code
    value: string
  description: An error response received from the IoT Central Service.
  types:
  - uid: Error
requestBody:
- name: default
  parameters:
  - name: body
    in: body
    description: Destination patch body.
    types:
    - uid: object
requestHeader: []
definitions:
- name: Error
  description: The response error definition.
  kind: object
  properties:
  - name: error
    description: Error details for current request.
    types:
    - uid: ErrorDetails
- name: BlobStorageV1Destination
  description: The blob storage destination definition.
  kind: object
  properties:
  - name: authorization
    description: The authentication definition for blob storage destination.
    types:
    - uid: BlobStorageV1DestinationConnectionStringAuth
    - uid: BlobStorageV1DestinationSystemAssignedManagedIdentityAuth
    typesTitle: BlobStorageV1DestinationAuth
  - name: id
    isReadyOnly: true
    description: Unique ID of the destination.
    types:
    - uid: string
  - name: displayName
    description: Display name of the destination.
    types:
    - uid: string
  - name: type
    description: The type of destination configuration.
    types:
    - uid: blobstorage@v1
    typesTitle: string
  - name: status
    isReadyOnly: true
    description: Indication of the current health and operation of the export or destination.
    types:
    - uid: string
  - name: errors
    isReadyOnly: true
    description: Errors encountered by the export or destination.
    types:
    - uid: DataExportError
      isArray: true
  - name: lastExportTime
    isReadyOnly: true
    description: The timestamp of the last message that was sent to the export or destination.
    types:
    - uid: string
- name: DataExplorerV1Destination
  description: The azure data explorer destination definition.
  kind: object
  properties:
  - name: clusterUrl
    description: The resource URI of the Data Explorer instance.
    types:
    - uid: string
  - name: database
    description: Name Data Explorer database where data should be written.
    types:
    - uid: string
  - name: table
    description: The table within the Data Explorer database that will receive the data.
    types:
    - uid: string
  - name: authorization
    description: The authentication definition for azure data explorer destination.
    types:
    - uid: DataExplorerV1DestinationServicePrincipalAuth
    - uid: DataExplorerV1DestinationSystemAssignedManagedIdentityAuth
    typesTitle: DataExplorerV1DestinationAuth
  - name: id
    isReadyOnly: true
    description: Unique ID of the destination.
    types:
    - uid: string
  - name: displayName
    description: Display name of the destination.
    types:
    - uid: string
  - name: type
    description: The type of destination configuration.
    types:
    - uid: dataexplorer@v1
    typesTitle: string
  - name: status
    isReadyOnly: true
    description: Indication of the current health and operation of the export or destination.
    types:
    - uid: string
  - name: errors
    isReadyOnly: true
    description: Errors encountered by the export or destination.
    types:
    - uid: DataExportError
      isArray: true
  - name: lastExportTime
    isReadyOnly: true
    description: The timestamp of the last message that was sent to the export or destination.
    types:
    - uid: string
- name: EventHubsV1Destination
  description: the event hub destination definition.
  kind: object
  properties:
  - name: authorization
    description: The authentication definition for event hub destination.
    types:
    - uid: EventHubsV1DestinationConnectionStringAuth
    - uid: EventHubsV1DestinationSystemAssignedManagedIdentityAuth
    typesTitle: EventHubsV1DestinationAuth
  - name: id
    isReadyOnly: true
    description: Unique ID of the destination.
    types:
    - uid: string
  - name: displayName
    description: Display name of the destination.
    types:
    - uid: string
  - name: type
    description: The type of destination configuration.
    types:
    - uid: eventhubs@v1
    typesTitle: string
  - name: status
    isReadyOnly: true
    description: Indication of the current health and operation of the export or destination.
    types:
    - uid: string
  - name: errors
    isReadyOnly: true
    description: Errors encountered by the export or destination.
    types:
    - uid: DataExportError
      isArray: true
  - name: lastExportTime
    isReadyOnly: true
    description: The timestamp of the last message that was sent to the export or destination.
    types:
    - uid: string
- name: ServiceBusQueueV1Destination
  description: The service bus queue destination definition.
  kind: object
  properties:
  - name: authorization
    description: The authentication definition for service bus queue definition.
    types:
    - uid: ServiceBusQueueV1DestinationConnectionStringAuth
    - uid: ServiceBusQueueV1DestinationSystemAssignedManagedIdentityAuth
    typesTitle: ServiceBusQueueV1DestinationAuth
  - name: id
    isReadyOnly: true
    description: Unique ID of the destination.
    types:
    - uid: string
  - name: displayName
    description: Display name of the destination.
    types:
    - uid: string
  - name: type
    description: The type of destination configuration.
    types:
    - uid: servicebusqueue@v1
    typesTitle: string
  - name: status
    isReadyOnly: true
    description: Indication of the current health and operation of the export or destination.
    types:
    - uid: string
  - name: errors
    isReadyOnly: true
    description: Errors encountered by the export or destination.
    types:
    - uid: DataExportError
      isArray: true
  - name: lastExportTime
    isReadyOnly: true
    description: The timestamp of the last message that was sent to the export or destination.
    types:
    - uid: string
- name: ServiceBusTopicV1Destination
  description: The service bus topic destination definition.
  kind: object
  properties:
  - name: authorization
    description: The authentication definition for service bus topic destination.
    types:
    - uid: ServiceBusTopicV1DestinationConnectionStringAuth
    - uid: ServiceBusTopicV1DestinationSystemAssignedManagedIdentityAuth
    typesTitle: ServiceBusTopicV1DestinationAuth
  - name: id
    isReadyOnly: true
    description: Unique ID of the destination.
    types:
    - uid: string
  - name: displayName
    description: Display name of the destination.
    types:
    - uid: string
  - name: type
    description: The type of destination configuration.
    types:
    - uid: servicebustopic@v1
    typesTitle: string
  - name: status
    isReadyOnly: true
    description: Indication of the current health and operation of the export or destination.
    types:
    - uid: string
  - name: errors
    isReadyOnly: true
    description: Errors encountered by the export or destination.
    types:
    - uid: DataExportError
      isArray: true
  - name: lastExportTime
    isReadyOnly: true
    description: The timestamp of the last message that was sent to the export or destination.
    types:
    - uid: string
- name: WebhookV1Destination
  description: The webhook destination definition.
  kind: object
  properties:
  - name: url
    description: The URL to invoke when exporting data.
    types:
    - uid: string
  - name: queryCustomizations
    description: Additional query parameters that should be added to each request.
    types:
    - uid: object
      isDictionary: true
      additionalTypes:
      - uid: string
      - uid: WebhookV1DestinationCustomization
  - name: headerCustomizations
    description: Additional headers that should be added to each request.
    types:
    - uid: object
      isDictionary: true
      additionalTypes:
      - uid: string
      - uid: WebhookV1DestinationCustomization
  - name: authorization
    description: The authentication definition for webhook destination.
    types:
    - uid: WebhookV1DestinationHeaderAuth
    - uid: WebhookV1DestinationOAuthAuth
    typesTitle: WebhookV1DestinationAuth
  - name: id
    isReadyOnly: true
    description: Unique ID of the destination.
    types:
    - uid: string
  - name: displayName
    description: Display name of the destination.
    types:
    - uid: string
  - name: type
    description: The type of destination configuration.
    types:
    - uid: webhook@v1
    typesTitle: string
  - name: status
    isReadyOnly: true
    description: Indication of the current health and operation of the export or destination.
    types:
    - uid: string
  - name: errors
    isReadyOnly: true
    description: Errors encountered by the export or destination.
    types:
    - uid: DataExportError
      isArray: true
  - name: lastExportTime
    isReadyOnly: true
    description: The timestamp of the last message that was sent to the export or destination.
    types:
    - uid: string
- name: ErrorDetails
  description: The detail information of the error.
  kind: object
  properties:
  - name: code
    description: Error code.
    types:
    - uid: string
  - name: message
    description: Error message details.
    types:
    - uid: string
  - name: requestId
    description: Correlation Id for current request.
    types:
    - uid: string
  - name: time
    description: The time that error request failed.
    types:
    - uid: string
- name: DataExportError
  description: The data export error definition.
  kind: object
  properties:
  - name: code
    isReadyOnly: true
    description: The code for the error that occurred.
    types:
    - uid: string
  - name: message
    isReadyOnly: true
    description: The description of the error that occurred.
    types:
    - uid: string
- name: WebhookV1DestinationCustomization
  description: The customization definition for webhook destination.
  kind: object
  properties:
  - name: value
    description: The value to use for this webhook customization.
    types:
    - uid: string
  - name: secret
    description: Whether to consider the value to be a secret and hide it when retrieving the destination configuration.
    types:
    - uid: boolean
- name: BlobStorageV1DestinationConnectionStringAuth
  description: The authentication definition with connection string for blob storage destination.
  kind: object
  properties:
  - name: connectionString
    description: The connection string for accessing the blob storage account.
    types:
    - uid: string
  - name: containerName
    description: Name of the container where data should be written in the storage account.
    types:
    - uid: string
  - name: type
    description: The kind of authentication to use.
    types:
    - uid: connectionString
    typesTitle: string
- name: BlobStorageV1DestinationSystemAssignedManagedIdentityAuth
  description: The authentication definition with system assigned managed identity for blob storage destination.
  kind: object
  properties:
  - name: endpointUri
    description: The storage account's blob service endpoint URL.
    types:
    - uid: string
  - name: containerName
    description: Name of the container where data should be written in the storage account.
    types:
    - uid: string
  - name: type
    description: The kind of authentication to use.
    types:
    - uid: systemAssignedManagedIdentity
    typesTitle: string
- name: DataExplorerV1DestinationServicePrincipalAuth
  description: The authentication definition with service principal for azure data explorer destination.
  kind: object
  properties:
  - name: clientId
    description: Service Principal client ID.
    types:
    - uid: string
  - name: tenantId
    description: Service Principal tenant ID.
    types:
    - uid: string
  - name: clientSecret
    description: Service Principal client secret.
    types:
    - uid: string
  - name: type
    description: The kind of authentication to use.
    types:
    - uid: servicePrincipal
    typesTitle: string
- name: DataExplorerV1DestinationSystemAssignedManagedIdentityAuth
  description: The authentication definition with system assigned managed identity for azure data explorer destination.
  kind: object
  properties:
  - name: type
    description: The kind of authentication to use.
    types:
    - uid: systemAssignedManagedIdentity
    typesTitle: string
- name: EventHubsV1DestinationConnectionStringAuth
  description: The authentication definition with connection string for event hub destination.
  kind: object
  properties:
  - name: connectionString
    description: The connection string for accessing the Event Hubs namespace, including the `EntityPath` of the event hub.
    types:
    - uid: string
  - name: type
    description: The kind of authentication to use.
    types:
    - uid: connectionString
    typesTitle: string
- name: EventHubsV1DestinationSystemAssignedManagedIdentityAuth
  description: The authentication definition with system assigned managed identity for event hub destination.
  kind: object
  properties:
  - name: hostName
    description: The host name of the Event Hubs namespace.
    types:
    - uid: string
  - name: eventHubName
    description: The Event Hubs instance name.
    types:
    - uid: string
  - name: type
    description: The kind of authentication to use.
    types:
    - uid: systemAssignedManagedIdentity
    typesTitle: string
- name: ServiceBusQueueV1DestinationConnectionStringAuth
  description: The authentication definition with connection string for service bus queue definition.
  kind: object
  properties:
  - name: connectionString
    description: The connection string for accessing the Service Bus namespace, including the `EntityPath` of the queue.
    types:
    - uid: string
  - name: type
    description: The kind of authentication to use.
    types:
    - uid: connectionString
    typesTitle: string
- name: ServiceBusQueueV1DestinationSystemAssignedManagedIdentityAuth
  description: The authentication definition with system assigned managed identity for service bus queue definition.
  kind: object
  properties:
  - name: hostName
    description: The host name of the Service Bus namespace.
    types:
    - uid: string
  - name: queueName
    description: The Service Bus queue name.
    types:
    - uid: string
  - name: type
    description: The kind of authentication to use.
    types:
    - uid: systemAssignedManagedIdentity
    typesTitle: string
- name: ServiceBusTopicV1DestinationConnectionStringAuth
  description: The authentication definition with connection string for service bus topic destination.
  kind: object
  properties:
  - name: connectionString
    description: The connection string for accessing the Service Bus namespace, including the `EntityPath` of the topic.
    types:
    - uid: string
  - name: type
    description: The kind of authentication to use.
    types:
    - uid: connectionString
    typesTitle: string
- name: ServiceBusTopicV1DestinationSystemAssignedManagedIdentityAuth
  description: The authentication definition with system assigned managed identity for service bus topic destination.
  kind: object
  properties:
  - name: hostName
    description: The host name of the Service Bus namespace.
    types:
    - uid: string
  - name: topicName
    description: The Service Bus topic name.
    types:
    - uid: string
  - name: type
    description: The kind of authentication to use.
    types:
    - uid: systemAssignedManagedIdentity
    typesTitle: string
- name: WebhookV1DestinationHeaderAuth
  description: The authentication definition with header for webhook destination.
  kind: object
  properties:
  - name: value
    description: Value to use for the Authorization header when making requests.
    types:
    - uid: string
  - name: type
    description: The kind of authentication to use.
    types:
    - uid: header
    typesTitle: string
- name: WebhookV1DestinationOAuthAuth
  description: The authentication definition with OAuth for webhook destination.
  kind: object
  properties:
  - name: tokenUrl
    description: URL where an access token can be retrieved.
    types:
    - uid: string
  - name: clientId
    description: OAuth2 client ID used when retrieving the token.
    types:
    - uid: string
  - name: clientSecret
    description: OAuth2 client secret used to retrieve the token.
    types:
    - uid: string
  - name: audience
    description: OAuth2 audience.
    types:
    - uid: string
  - name: scope
    description: OAuth2 scope.
    types:
    - uid: string
  - name: requestType
    description: Content-Type for the token request.
    types:
    - uid: OAuthRequestType
  - name: type
    description: The kind of authentication to use.
    types:
    - uid: oauth
    typesTitle: string
- name: OAuthRequestType
  description: Content-Type for the token request.
  kind: enum
  properties:
  - name: auto
    description: Use automatic Content-Type for token request
    types:
    - uid: string
  - name: json
    description: Content-Type as JSON for token request
    types:
    - uid: string
  - name: urlencoded
    description: Content-Type as UrlEncoded for token request
    types:
    - uid: string
examples:
- name: Update an webhook destination
  request:
    uri: PATCH https://appsubdomain.azureiotcentral.com/api/dataExport/destinations/destination1?api-version=2022-06-30-preview
    body: >-
      {
        "headerCustomizations": {
          "x-custom-region": {
            "value": "eastus",
            "secret": false
          }
        }
      }
    codeTab: |+
      # [HTTP](#tab/HTTP)
      ``` http
      PATCH https://appsubdomain.azureiotcentral.com/api/dataExport/destinations/destination1?api-version=2022-06-30-preview

      {
        "headerCustomizations": {
          "x-custom-region": {
            "value": "eastus",
            "secret": false
          }
        }
      }

      ```

  responses:
  - statusCode: "200"
    body: >-
      {
        "id": "destination1",
        "displayName": "Webhook No Auth",
        "type": "webhook@v1",
        "url": "https://webhook.site/9bda8769-d540-4d92-946b-48c5a01e59bd",
        "headerCustomizations": {
          "x-custom-region": {
            "value": "eastus",
            "secret": false
          }
        },
        "status": "waiting"
      }
security:
- name: azure_auth
  type: oauth2
  description: Azure Active Directory OAuth2 Flow
  flow: implicit
  authorizationUrl: https://login.microsoftonline.com/common/oauth2/authorize
  scopes:
  - name: user_impersonation
    description: impersonate your user account
metadata:
  description: >
    Learn more about IoT Central service - Patch a destination.

    Perform an incremental update to a destination.
errorCodes: []
