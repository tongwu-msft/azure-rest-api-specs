### YamlMime:RESTOperation
uid: api.iotcentral.2022-06-30-previewdataplane.destinations.list
name: List
service: IoT Central
groupName: Destinations
apiVersion: 2022-06-30-preview
summary: Get the list of destinations in an application.
consumes:
- application/json
produces:
- application/json
paths:
- content: GET https://{subdomain}.{baseDomain}/api/dataExport/destinations?api-version=2022-06-30-preview
uriParameters:
- name: subdomain
  in: path
  isRequired: true
  description: The application subdomain.
  types:
  - uid: string
- name: baseDomain
  in: path
  isRequired: true
  skipUrlEncoding: true
  description: The base domain for all Azure IoT Central service requests.
  types:
  - uid: string
- name: api-version
  in: query
  isRequired: true
  description: The version of the API being called.
  types:
  - uid: string
responses:
- name: 200 OK
  description: Success
  types:
  - uid: DestinationCollection
- name: Other Status Codes
  headers:
  - name: x-ms-error-code
    value: string
  description: An error response received from the IoT Central Service.
  types:
  - uid: Error
requestHeader: []
definitions:
- name: DestinationCollection
  description: The paged results of destinations.
  kind: object
  properties:
  - name: value
    description: The collection of destinations.
    types:
    - uid: BlobStorageV1Destination
      isArray: true
    - uid: DataExplorerV1Destination
      isArray: true
    - uid: EventHubsV1Destination
      isArray: true
    - uid: ServiceBusQueueV1Destination
      isArray: true
    - uid: ServiceBusTopicV1Destination
      isArray: true
    - uid: WebhookV1Destination
      isArray: true
    typesTitle: Destination[]
  - name: nextLink
    description: URL to get the next page of destinations.
    types:
    - uid: string
- name: Error
  description: The response error definition.
  kind: object
  properties:
  - name: error
    description: Error details for current request.
    types:
    - uid: ErrorDetails
- name: ErrorDetails
  description: The detail information of the error.
  kind: object
  properties:
  - name: code
    description: Error code.
    types:
    - uid: string
  - name: message
    description: Error message details.
    types:
    - uid: string
  - name: requestId
    description: Correlation Id for current request.
    types:
    - uid: string
  - name: time
    description: The time that error request failed.
    types:
    - uid: string
- name: BlobStorageV1Destination
  description: The blob storage destination definition.
  kind: object
  properties:
  - name: authorization
    description: The authentication definition for blob storage destination.
    types:
    - uid: BlobStorageV1DestinationConnectionStringAuth
    - uid: BlobStorageV1DestinationSystemAssignedManagedIdentityAuth
    typesTitle: BlobStorageV1DestinationAuth
  - name: id
    isReadyOnly: true
    description: Unique ID of the destination.
    types:
    - uid: string
  - name: displayName
    description: Display name of the destination.
    types:
    - uid: string
  - name: type
    description: The type of destination configuration.
    types:
    - uid: blobstorage@v1
    typesTitle: string
  - name: status
    isReadyOnly: true
    description: Indication of the current health and operation of the export or destination.
    types:
    - uid: string
  - name: errors
    isReadyOnly: true
    description: Errors encountered by the export or destination.
    types:
    - uid: DataExportError
      isArray: true
  - name: lastExportTime
    isReadyOnly: true
    description: The timestamp of the last message that was sent to the export or destination.
    types:
    - uid: string
- name: DataExplorerV1Destination
  description: The azure data explorer destination definition.
  kind: object
  properties:
  - name: clusterUrl
    description: The resource URI of the Data Explorer instance.
    types:
    - uid: string
  - name: database
    description: Name Data Explorer database where data should be written.
    types:
    - uid: string
  - name: table
    description: The table within the Data Explorer database that will receive the data.
    types:
    - uid: string
  - name: authorization
    description: The authentication definition for azure data explorer destination.
    types:
    - uid: DataExplorerV1DestinationServicePrincipalAuth
    - uid: DataExplorerV1DestinationSystemAssignedManagedIdentityAuth
    typesTitle: DataExplorerV1DestinationAuth
  - name: id
    isReadyOnly: true
    description: Unique ID of the destination.
    types:
    - uid: string
  - name: displayName
    description: Display name of the destination.
    types:
    - uid: string
  - name: type
    description: The type of destination configuration.
    types:
    - uid: dataexplorer@v1
    typesTitle: string
  - name: status
    isReadyOnly: true
    description: Indication of the current health and operation of the export or destination.
    types:
    - uid: string
  - name: errors
    isReadyOnly: true
    description: Errors encountered by the export or destination.
    types:
    - uid: DataExportError
      isArray: true
  - name: lastExportTime
    isReadyOnly: true
    description: The timestamp of the last message that was sent to the export or destination.
    types:
    - uid: string
- name: EventHubsV1Destination
  description: the event hub destination definition.
  kind: object
  properties:
  - name: authorization
    description: The authentication definition for event hub destination.
    types:
    - uid: EventHubsV1DestinationConnectionStringAuth
    - uid: EventHubsV1DestinationSystemAssignedManagedIdentityAuth
    typesTitle: EventHubsV1DestinationAuth
  - name: id
    isReadyOnly: true
    description: Unique ID of the destination.
    types:
    - uid: string
  - name: displayName
    description: Display name of the destination.
    types:
    - uid: string
  - name: type
    description: The type of destination configuration.
    types:
    - uid: eventhubs@v1
    typesTitle: string
  - name: status
    isReadyOnly: true
    description: Indication of the current health and operation of the export or destination.
    types:
    - uid: string
  - name: errors
    isReadyOnly: true
    description: Errors encountered by the export or destination.
    types:
    - uid: DataExportError
      isArray: true
  - name: lastExportTime
    isReadyOnly: true
    description: The timestamp of the last message that was sent to the export or destination.
    types:
    - uid: string
- name: ServiceBusQueueV1Destination
  description: The service bus queue destination definition.
  kind: object
  properties:
  - name: authorization
    description: The authentication definition for service bus queue definition.
    types:
    - uid: ServiceBusQueueV1DestinationConnectionStringAuth
    - uid: ServiceBusQueueV1DestinationSystemAssignedManagedIdentityAuth
    typesTitle: ServiceBusQueueV1DestinationAuth
  - name: id
    isReadyOnly: true
    description: Unique ID of the destination.
    types:
    - uid: string
  - name: displayName
    description: Display name of the destination.
    types:
    - uid: string
  - name: type
    description: The type of destination configuration.
    types:
    - uid: servicebusqueue@v1
    typesTitle: string
  - name: status
    isReadyOnly: true
    description: Indication of the current health and operation of the export or destination.
    types:
    - uid: string
  - name: errors
    isReadyOnly: true
    description: Errors encountered by the export or destination.
    types:
    - uid: DataExportError
      isArray: true
  - name: lastExportTime
    isReadyOnly: true
    description: The timestamp of the last message that was sent to the export or destination.
    types:
    - uid: string
- name: ServiceBusTopicV1Destination
  description: The service bus topic destination definition.
  kind: object
  properties:
  - name: authorization
    description: The authentication definition for service bus topic destination.
    types:
    - uid: ServiceBusTopicV1DestinationConnectionStringAuth
    - uid: ServiceBusTopicV1DestinationSystemAssignedManagedIdentityAuth
    typesTitle: ServiceBusTopicV1DestinationAuth
  - name: id
    isReadyOnly: true
    description: Unique ID of the destination.
    types:
    - uid: string
  - name: displayName
    description: Display name of the destination.
    types:
    - uid: string
  - name: type
    description: The type of destination configuration.
    types:
    - uid: servicebustopic@v1
    typesTitle: string
  - name: status
    isReadyOnly: true
    description: Indication of the current health and operation of the export or destination.
    types:
    - uid: string
  - name: errors
    isReadyOnly: true
    description: Errors encountered by the export or destination.
    types:
    - uid: DataExportError
      isArray: true
  - name: lastExportTime
    isReadyOnly: true
    description: The timestamp of the last message that was sent to the export or destination.
    types:
    - uid: string
- name: WebhookV1Destination
  description: The webhook destination definition.
  kind: object
  properties:
  - name: url
    description: The URL to invoke when exporting data.
    types:
    - uid: string
  - name: queryCustomizations
    description: Additional query parameters that should be added to each request.
    types:
    - uid: object
      isDictionary: true
      additionalTypes:
      - uid: string
      - uid: WebhookV1DestinationCustomization
  - name: headerCustomizations
    description: Additional headers that should be added to each request.
    types:
    - uid: object
      isDictionary: true
      additionalTypes:
      - uid: string
      - uid: WebhookV1DestinationCustomization
  - name: authorization
    description: The authentication definition for webhook destination.
    types:
    - uid: WebhookV1DestinationHeaderAuth
    - uid: WebhookV1DestinationOAuthAuth
    typesTitle: WebhookV1DestinationAuth
  - name: id
    isReadyOnly: true
    description: Unique ID of the destination.
    types:
    - uid: string
  - name: displayName
    description: Display name of the destination.
    types:
    - uid: string
  - name: type
    description: The type of destination configuration.
    types:
    - uid: webhook@v1
    typesTitle: string
  - name: status
    isReadyOnly: true
    description: Indication of the current health and operation of the export or destination.
    types:
    - uid: string
  - name: errors
    isReadyOnly: true
    description: Errors encountered by the export or destination.
    types:
    - uid: DataExportError
      isArray: true
  - name: lastExportTime
    isReadyOnly: true
    description: The timestamp of the last message that was sent to the export or destination.
    types:
    - uid: string
- name: DataExportError
  description: The data export error definition.
  kind: object
  properties:
  - name: code
    isReadyOnly: true
    description: The code for the error that occurred.
    types:
    - uid: string
  - name: message
    isReadyOnly: true
    description: The description of the error that occurred.
    types:
    - uid: string
- name: WebhookV1DestinationCustomization
  description: The customization definition for webhook destination.
  kind: object
  properties:
  - name: value
    description: The value to use for this webhook customization.
    types:
    - uid: string
  - name: secret
    description: Whether to consider the value to be a secret and hide it when retrieving the destination configuration.
    types:
    - uid: boolean
- name: BlobStorageV1DestinationConnectionStringAuth
  description: The authentication definition with connection string for blob storage destination.
  kind: object
  properties:
  - name: connectionString
    description: The connection string for accessing the blob storage account.
    types:
    - uid: string
  - name: containerName
    description: Name of the container where data should be written in the storage account.
    types:
    - uid: string
  - name: type
    description: The kind of authentication to use.
    types:
    - uid: connectionString
    typesTitle: string
- name: BlobStorageV1DestinationSystemAssignedManagedIdentityAuth
  description: The authentication definition with system assigned managed identity for blob storage destination.
  kind: object
  properties:
  - name: endpointUri
    description: The storage account's blob service endpoint URL.
    types:
    - uid: string
  - name: containerName
    description: Name of the container where data should be written in the storage account.
    types:
    - uid: string
  - name: type
    description: The kind of authentication to use.
    types:
    - uid: systemAssignedManagedIdentity
    typesTitle: string
- name: DataExplorerV1DestinationServicePrincipalAuth
  description: The authentication definition with service principal for azure data explorer destination.
  kind: object
  properties:
  - name: clientId
    description: Service Principal client ID.
    types:
    - uid: string
  - name: tenantId
    description: Service Principal tenant ID.
    types:
    - uid: string
  - name: clientSecret
    description: Service Principal client secret.
    types:
    - uid: string
  - name: type
    description: The kind of authentication to use.
    types:
    - uid: servicePrincipal
    typesTitle: string
- name: DataExplorerV1DestinationSystemAssignedManagedIdentityAuth
  description: The authentication definition with system assigned managed identity for azure data explorer destination.
  kind: object
  properties:
  - name: type
    description: The kind of authentication to use.
    types:
    - uid: systemAssignedManagedIdentity
    typesTitle: string
- name: EventHubsV1DestinationConnectionStringAuth
  description: The authentication definition with connection string for event hub destination.
  kind: object
  properties:
  - name: connectionString
    description: The connection string for accessing the Event Hubs namespace, including the `EntityPath` of the event hub.
    types:
    - uid: string
  - name: type
    description: The kind of authentication to use.
    types:
    - uid: connectionString
    typesTitle: string
- name: EventHubsV1DestinationSystemAssignedManagedIdentityAuth
  description: The authentication definition with system assigned managed identity for event hub destination.
  kind: object
  properties:
  - name: hostName
    description: The host name of the Event Hubs namespace.
    types:
    - uid: string
  - name: eventHubName
    description: The Event Hubs instance name.
    types:
    - uid: string
  - name: type
    description: The kind of authentication to use.
    types:
    - uid: systemAssignedManagedIdentity
    typesTitle: string
- name: ServiceBusQueueV1DestinationConnectionStringAuth
  description: The authentication definition with connection string for service bus queue definition.
  kind: object
  properties:
  - name: connectionString
    description: The connection string for accessing the Service Bus namespace, including the `EntityPath` of the queue.
    types:
    - uid: string
  - name: type
    description: The kind of authentication to use.
    types:
    - uid: connectionString
    typesTitle: string
- name: ServiceBusQueueV1DestinationSystemAssignedManagedIdentityAuth
  description: The authentication definition with system assigned managed identity for service bus queue definition.
  kind: object
  properties:
  - name: hostName
    description: The host name of the Service Bus namespace.
    types:
    - uid: string
  - name: queueName
    description: The Service Bus queue name.
    types:
    - uid: string
  - name: type
    description: The kind of authentication to use.
    types:
    - uid: systemAssignedManagedIdentity
    typesTitle: string
- name: ServiceBusTopicV1DestinationConnectionStringAuth
  description: The authentication definition with connection string for service bus topic destination.
  kind: object
  properties:
  - name: connectionString
    description: The connection string for accessing the Service Bus namespace, including the `EntityPath` of the topic.
    types:
    - uid: string
  - name: type
    description: The kind of authentication to use.
    types:
    - uid: connectionString
    typesTitle: string
- name: ServiceBusTopicV1DestinationSystemAssignedManagedIdentityAuth
  description: The authentication definition with system assigned managed identity for service bus topic destination.
  kind: object
  properties:
  - name: hostName
    description: The host name of the Service Bus namespace.
    types:
    - uid: string
  - name: topicName
    description: The Service Bus topic name.
    types:
    - uid: string
  - name: type
    description: The kind of authentication to use.
    types:
    - uid: systemAssignedManagedIdentity
    typesTitle: string
- name: WebhookV1DestinationHeaderAuth
  description: The authentication definition with header for webhook destination.
  kind: object
  properties:
  - name: value
    description: Value to use for the Authorization header when making requests.
    types:
    - uid: string
  - name: type
    description: The kind of authentication to use.
    types:
    - uid: header
    typesTitle: string
- name: WebhookV1DestinationOAuthAuth
  description: The authentication definition with OAuth for webhook destination.
  kind: object
  properties:
  - name: tokenUrl
    description: URL where an access token can be retrieved.
    types:
    - uid: string
  - name: clientId
    description: OAuth2 client ID used when retrieving the token.
    types:
    - uid: string
  - name: clientSecret
    description: OAuth2 client secret used to retrieve the token.
    types:
    - uid: string
  - name: audience
    description: OAuth2 audience.
    types:
    - uid: string
  - name: scope
    description: OAuth2 scope.
    types:
    - uid: string
  - name: requestType
    description: Content-Type for the token request.
    types:
    - uid: OAuthRequestType
  - name: type
    description: The kind of authentication to use.
    types:
    - uid: oauth
    typesTitle: string
- name: OAuthRequestType
  description: Content-Type for the token request.
  kind: enum
  properties:
  - name: auto
    description: Use automatic Content-Type for token request
    types:
    - uid: string
  - name: json
    description: Content-Type as JSON for token request
    types:
    - uid: string
  - name: urlencoded
    description: Content-Type as UrlEncoded for token request
    types:
    - uid: string
examples:
- name: List data export destinations
  request:
    uri: GET https://appsubdomain.azureiotcentral.com/api/dataExport/destinations?api-version=2022-06-30-preview
  responses:
  - statusCode: "200"
    body: >-
      {
        "value": [
          {
            "id": "1021f12a-6969-4eff-8518-57cac5f128ab",
            "displayName": "Webhook No Auth",
            "type": "webhook@v1",
            "url": "https://webhook.site/9bda8769-d540-4d92-946b-48c5a01e59bd",
            "headerCustomizations": {
              "x-custom-region": {
                "value": "westcentralus",
                "secret": false
              }
            },
            "status": "waiting"
          },
          {
            "id": "70bb70e7-e308-4628-95aa-706596646f02",
            "displayName": "Service Bus Queue",
            "type": "servicebusqueue@v1",
            "authorization": {
              "type": "connectionString",
              "connectionString": "Endpoint=sb://[namespace].servicebus.windows.net/;SharedAccessKeyName=xxx;SharedAccessKey=*****;EntityPath=[queue name]"
            },
            "status": "waiting"
          },
          {
            "id": "7308456f-c72b-43d8-99ba-22a49ea5d51a",
            "displayName": "Service Bus Topic",
            "type": "servicebustopic@v1",
            "authorization": {
              "type": "connectionString",
              "connectionString": "Endpoint=sb://[namespace].servicebus.windows.net/;SharedAccessKeyName=xxx;SharedAccessKey=*****;EntityPath=[topic name]"
            },
            "status": "waiting"
          },
          {
            "id": "b3bfe8f0-ea63-42f9-82e1-bbade5250aba",
            "displayName": "Azure Data Explorer",
            "type": "dataexplorer@v1",
            "clusterUrl": "https://[clusterName].westus2.kusto.windows.net",
            "database": "iiot",
            "table": "demo",
            "authorization": {
              "type": "servicePrincipal",
              "clientId": "5b420743-2020-44c6-9b70-cc42f945db0c",
              "tenantId": "72f988bf-86f1-41af-91ab-2d7cd011db47",
              "clientSecret": "*****"
            },
            "status": "waiting"
          },
          {
            "id": "beb083d0-cec9-4e7e-8e4b-22b88e8e3479",
            "displayName": "Azure Blob Storage",
            "type": "blobstorage@v1",
            "authorization": {
              "type": "connectionString",
              "connectionString": "DefaultEndpointsProtocol=https;AccountName=[accountName];AccountKey=*****;EndpointSuffix=core.windows.net",
              "containerName": "test"
            },
            "status": "waiting"
          },
          {
            "id": "c0e2a49f-6d5b-4bc1-b448-069806b72781",
            "displayName": "Event Hub",
            "type": "eventhubs@v1",
            "authorization": {
              "type": "connectionString",
              "connectionString": "Endpoint=sb://[namespace].servicebus.windows.net/;SharedAccessKeyName=RootManageSharedAccessKey;SharedAccessKey=*****;EntityPath=[hub name]"
            },
            "status": "waiting"
          }
        ]
      }
security:
- name: azure_auth
  type: oauth2
  description: Azure Active Directory OAuth2 Flow
  flow: implicit
  authorizationUrl: https://login.microsoftonline.com/common/oauth2/authorize
  scopes:
  - name: user_impersonation
    description: impersonate your user account
metadata:
  description: Learn more about IoT Central service - Get the list of destinations in an application.
errorCodes: []
