### YamlMime:RESTOperation
uid: api.iotcentral.2022-07-31dataplane.devices.listrelationships
name: List Relationships
service: IoT Central
groupName: Devices
apiVersion: 2022-07-31
summary: "Given the ID for an upstream device, will return the upstream and the downstream relationships associated with that gateway. These downstream relationships are only those associated with the direct downstream level (they donâ€™t work recursively).  \nList all relationships based on device ID"
consumes:
- application/json
produces:
- application/json
paths:
- content: GET https://{subdomain}.{baseDomain}/api/devices/{deviceId}/relationships?api-version=2022-07-31
uriParameters:
- name: subdomain
  in: path
  isRequired: true
  description: The application subdomain.
  types:
  - uid: string
- name: baseDomain
  in: path
  isRequired: true
  skipUrlEncoding: true
  description: The base domain for all Azure IoT Central service requests.
  types:
  - uid: string
- name: deviceId
  in: path
  isRequired: true
  description: Unique ID of the device.
  types:
  - uid: string
- name: api-version
  in: query
  isRequired: true
  description: The version of the API being called.
  types:
  - uid: string
responses:
- name: 200 OK
  description: Success
  types:
  - uid: DeviceRelationshipCollection
- name: Other Status Codes
  headers:
  - name: x-ms-error-code
    value: string
  description: An error response received from the IoT Central Service.
  types:
  - uid: Error
requestHeader: []
definitions:
- name: DeviceRelationshipCollection
  description: The paged results of device relationships.
  kind: object
  properties:
  - name: value
    description: The collection of device relationships.
    types:
    - uid: DeviceRelationship
      isArray: true
  - name: nextLink
    description: URL to get the next page of device relationships.
    types:
    - uid: string
- name: Error
  description: The response error definition.
  kind: object
  properties:
  - name: error
    description: Error details for current request.
    types:
    - uid: ErrorDetails
- name: DeviceRelationship
  description: An object representing the relationship between an upstream and a downstream device.
  kind: object
  properties:
  - name: id
    isReadyOnly: true
    description: The unique identifier of this relationship.
    types:
    - uid: string
  - name: source
    description: The device ID of the source (parent) device.
    types:
    - uid: string
  - name: target
    description: The device ID of the target (child) device.
    types:
    - uid: string
- name: ErrorDetails
  description: The detail information of the error.
  kind: object
  properties:
  - name: code
    description: Error code.
    types:
    - uid: string
  - name: message
    description: Error message details.
    types:
    - uid: string
  - name: requestId
    description: Correlation Id for current request.
    types:
    - uid: string
  - name: time
    description: The time that error request failed.
    types:
    - uid: string
examples:
- name: List device relationships
  request:
    uri: GET https://appsubdomain.azureiotcentral.com/api/devices/device1/relationships?api-version=2022-07-31
    codeTab: |+
      # [HTTP](#tab/HTTP)
      ``` http
      GET https://appsubdomain.azureiotcentral.com/api/devices/device1/relationships?api-version=2022-07-31
      ```

  responses:
  - statusCode: "200"
    body: >-
      {
        "value": [
          {
            "id": "relationship1",
            "source": "device1",
            "target": "device2"
          },
          {
            "id": "relationship2",
            "source": "device3",
            "target": "device1"
          },
          {
            "id": "relationship3",
            "source": "device1",
            "target": "device4"
          }
        ]
      }
security:
- name: azure_auth
  type: oauth2
  description: Azure Active Directory OAuth2 Flow
  flow: implicit
  authorizationUrl: https://login.microsoftonline.com/common/oauth2/authorize
  scopes:
  - name: user_impersonation
    description: impersonate your user account
metadata:
  description: Given the ID for an upstream device, will return the upstream and the downstream relationships associated with that gateway.
errorCodes: []
