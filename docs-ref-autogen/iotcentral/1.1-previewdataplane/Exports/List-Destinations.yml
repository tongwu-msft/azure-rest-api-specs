### YamlMime:RESTOperation
uid: api.iotcentral.1.1-previewdataplane.exports.listdestinations
name: List Destinations
service: IoT Central
groupName: Exports
apiVersion: 1.1-preview
summary: List all destinations connected to the given export.
consumes:
- application/json
produces:
- application/json
paths:
- content: GET https://{subdomain}.{baseDomain}/api/dataExport/exports/{exportId}/destinations?api-version=1.1-preview
uriParameters:
- name: subdomain
  in: path
  isRequired: true
  description: The application subdomain.
  types:
  - uid: string
- name: baseDomain
  in: path
  isRequired: true
  skipUrlEncoding: true
  description: The base domain for all Azure IoT Central service requests.
  types:
  - uid: string
- name: exportId
  in: path
  isRequired: true
  description: Unique ID for the export.
  types:
  - uid: string
- name: api-version
  in: query
  isRequired: true
  description: The version of the API being called.
  types:
  - uid: string
responses:
- name: 200 OK
  description: Success
  types:
  - uid: DestinationCollection
requestHeader: []
definitions:
- name: DestinationCollection
  kind: object
  properties:
  - name: value
    description: The collection of destinations.
    types:
    - uid: BlobStorageV1Destination
      isArray: true
    - uid: DataExplorerV1Destination
      isArray: true
    - uid: EventHubsV1Destination
      isArray: true
    - uid: ServiceBusQueueV1Destination
      isArray: true
    - uid: ServiceBusTopicV1Destination
      isArray: true
    - uid: WebhookV1Destination
      isArray: true
    typesTitle: Destination[]
  - name: nextLink
    description: URL to get the next page of destinations.
    types:
    - uid: string
- name: BlobStorageV1Destination
  kind: object
  properties:
  - name: authorization
    description: ''
    types:
    - uid: BlobStorageV1DestinationConnectionStringAuth
    - uid: BlobStorageV1DestinationSystemAssignedManagedIdentityAuth
    typesTitle: BlobStorageV1DestinationAuth
  - name: id
    isReadyOnly: true
    description: Unique ID of the destination.
    types:
    - uid: string
  - name: displayName
    description: Display name of the destination.
    types:
    - uid: string
  - name: type
    description: The type of destination configuration.
    types:
    - uid: blobstorage@v1
    typesTitle: string
  - name: status
    isReadyOnly: true
    description: Indication of the current health and operation of the export or destination.
    types:
    - uid: string
  - name: errors
    isReadyOnly: true
    description: Errors encountered by the export or destination.
    types:
    - uid: DataExportError
      isArray: true
  - name: lastExportTime
    isReadyOnly: true
    description: The timestamp of the last message that was sent to the export or destination.
    types:
    - uid: string
- name: DataExplorerV1Destination
  kind: object
  properties:
  - name: clusterUrl
    description: The resource URI of the Data Explorer instance.
    types:
    - uid: string
  - name: database
    description: Name Data Explorer database where data should be written.
    types:
    - uid: string
  - name: table
    description: The table within the Data Explorer database that will receive the data.
    types:
    - uid: string
  - name: authorization
    description: ''
    types:
    - uid: DataExplorerV1DestinationServicePrincipalAuth
    typesTitle: DataExplorerV1DestinationAuth
  - name: id
    isReadyOnly: true
    description: Unique ID of the destination.
    types:
    - uid: string
  - name: displayName
    description: Display name of the destination.
    types:
    - uid: string
  - name: type
    description: The type of destination configuration.
    types:
    - uid: dataexplorer@v1
    typesTitle: string
  - name: status
    isReadyOnly: true
    description: Indication of the current health and operation of the export or destination.
    types:
    - uid: string
  - name: errors
    isReadyOnly: true
    description: Errors encountered by the export or destination.
    types:
    - uid: DataExportError
      isArray: true
  - name: lastExportTime
    isReadyOnly: true
    description: The timestamp of the last message that was sent to the export or destination.
    types:
    - uid: string
- name: EventHubsV1Destination
  kind: object
  properties:
  - name: authorization
    description: ''
    types:
    - uid: EventHubsV1DestinationConnectionStringAuth
    - uid: EventHubsV1DestinationSystemAssignedManagedIdentityAuth
    typesTitle: EventHubsV1DestinationAuth
  - name: id
    isReadyOnly: true
    description: Unique ID of the destination.
    types:
    - uid: string
  - name: displayName
    description: Display name of the destination.
    types:
    - uid: string
  - name: type
    description: The type of destination configuration.
    types:
    - uid: eventhubs@v1
    typesTitle: string
  - name: status
    isReadyOnly: true
    description: Indication of the current health and operation of the export or destination.
    types:
    - uid: string
  - name: errors
    isReadyOnly: true
    description: Errors encountered by the export or destination.
    types:
    - uid: DataExportError
      isArray: true
  - name: lastExportTime
    isReadyOnly: true
    description: The timestamp of the last message that was sent to the export or destination.
    types:
    - uid: string
- name: ServiceBusQueueV1Destination
  kind: object
  properties:
  - name: authorization
    description: ''
    types:
    - uid: ServiceBusQueueV1DestinationConnectionStringAuth
    - uid: ServiceBusQueueV1DestinationSystemAssignedManagedIdentityAuth
    typesTitle: ServiceBusQueueV1DestinationAuth
  - name: id
    isReadyOnly: true
    description: Unique ID of the destination.
    types:
    - uid: string
  - name: displayName
    description: Display name of the destination.
    types:
    - uid: string
  - name: type
    description: The type of destination configuration.
    types:
    - uid: servicebusqueue@v1
    typesTitle: string
  - name: status
    isReadyOnly: true
    description: Indication of the current health and operation of the export or destination.
    types:
    - uid: string
  - name: errors
    isReadyOnly: true
    description: Errors encountered by the export or destination.
    types:
    - uid: DataExportError
      isArray: true
  - name: lastExportTime
    isReadyOnly: true
    description: The timestamp of the last message that was sent to the export or destination.
    types:
    - uid: string
- name: ServiceBusTopicV1Destination
  kind: object
  properties:
  - name: authorization
    description: ''
    types:
    - uid: ServiceBusTopicV1DestinationConnectionStringAuth
    - uid: ServiceBusTopicV1DestinationSystemAssignedManagedIdentityAuth
    typesTitle: ServiceBusTopicV1DestinationAuth
  - name: id
    isReadyOnly: true
    description: Unique ID of the destination.
    types:
    - uid: string
  - name: displayName
    description: Display name of the destination.
    types:
    - uid: string
  - name: type
    description: The type of destination configuration.
    types:
    - uid: servicebustopic@v1
    typesTitle: string
  - name: status
    isReadyOnly: true
    description: Indication of the current health and operation of the export or destination.
    types:
    - uid: string
  - name: errors
    isReadyOnly: true
    description: Errors encountered by the export or destination.
    types:
    - uid: DataExportError
      isArray: true
  - name: lastExportTime
    isReadyOnly: true
    description: The timestamp of the last message that was sent to the export or destination.
    types:
    - uid: string
- name: WebhookV1Destination
  kind: object
  properties:
  - name: url
    description: The URL to invoke when exporting data.
    types:
    - uid: string
  - name: queryCustomizations
    description: Additional query parameters that should be added to each request.
    types:
    - uid: object
      isDictionary: true
      additionalTypes:
      - uid: string
      - uid: WebhookV1DestinationCustomization
  - name: headerCustomizations
    description: Additional headers that should be added to each request.
    types:
    - uid: object
      isDictionary: true
      additionalTypes:
      - uid: string
      - uid: WebhookV1DestinationCustomization
  - name: authorization
    description: ''
    types:
    - uid: WebhookV1DestinationHeaderAuth
    - uid: WebhookV1DestinationOAuthAuth
    typesTitle: WebhookV1DestinationAuth
  - name: id
    isReadyOnly: true
    description: Unique ID of the destination.
    types:
    - uid: string
  - name: displayName
    description: Display name of the destination.
    types:
    - uid: string
  - name: type
    description: The type of destination configuration.
    types:
    - uid: webhook@v1
    typesTitle: string
  - name: status
    isReadyOnly: true
    description: Indication of the current health and operation of the export or destination.
    types:
    - uid: string
  - name: errors
    isReadyOnly: true
    description: Errors encountered by the export or destination.
    types:
    - uid: DataExportError
      isArray: true
  - name: lastExportTime
    isReadyOnly: true
    description: The timestamp of the last message that was sent to the export or destination.
    types:
    - uid: string
- name: DataExportError
  kind: object
  properties:
  - name: code
    isReadyOnly: true
    description: The code for the error that occurred.
    types:
    - uid: string
  - name: message
    isReadyOnly: true
    description: The description of the error that occurred.
    types:
    - uid: string
- name: WebhookV1DestinationCustomization
  kind: object
  properties:
  - name: value
    description: The value to use for this webhook customization.
    types:
    - uid: string
  - name: secret
    description: Whether to consider the value to be a secret and hide it when retrieving the destination configuration.
    types:
    - uid: boolean
- name: BlobStorageV1DestinationConnectionStringAuth
  kind: object
  properties:
  - name: connectionString
    description: The connection string for accessing the blob storage account.
    types:
    - uid: string
  - name: containerName
    description: Name of the container where data should be written in the storage account.
    types:
    - uid: string
  - name: type
    description: The kind of authentication to use.
    types:
    - uid: connectionString
    typesTitle: string
- name: BlobStorageV1DestinationSystemAssignedManagedIdentityAuth
  kind: object
  properties:
  - name: endpointUri
    description: The storage account's blob service endpoint URL.
    types:
    - uid: string
  - name: containerName
    description: Name of the container where data should be written in the storage account.
    types:
    - uid: string
  - name: type
    description: The kind of authentication to use.
    types:
    - uid: systemAssignedManagedIdentity
    typesTitle: string
- name: DataExplorerV1DestinationServicePrincipalAuth
  kind: object
  properties:
  - name: clientId
    description: Service Principal client ID.
    types:
    - uid: string
  - name: tenantId
    description: Service Principal tenant ID.
    types:
    - uid: string
  - name: clientSecret
    description: Service Principal client secret.
    types:
    - uid: string
  - name: type
    description: The kind of authentication to use.
    types:
    - uid: servicePrincipal
    typesTitle: string
- name: EventHubsV1DestinationConnectionStringAuth
  kind: object
  properties:
  - name: connectionString
    description: The connection string for accessing the Event Hubs namespace, including the `EntityPath` of the event hub.
    types:
    - uid: string
  - name: type
    description: The kind of authentication to use.
    types:
    - uid: connectionString
    typesTitle: string
- name: EventHubsV1DestinationSystemAssignedManagedIdentityAuth
  kind: object
  properties:
  - name: hostName
    description: The host name of the Event Hubs namespace.
    types:
    - uid: string
  - name: eventHubName
    description: The Event Hubs instance name.
    types:
    - uid: string
  - name: type
    description: The kind of authentication to use.
    types:
    - uid: systemAssignedManagedIdentity
    typesTitle: string
- name: ServiceBusQueueV1DestinationConnectionStringAuth
  kind: object
  properties:
  - name: connectionString
    description: The connection string for accessing the Service Bus namespace, including the `EntityPath` of the queue.
    types:
    - uid: string
  - name: type
    description: The kind of authentication to use.
    types:
    - uid: connectionString
    typesTitle: string
- name: ServiceBusQueueV1DestinationSystemAssignedManagedIdentityAuth
  kind: object
  properties:
  - name: hostName
    description: The host name of the Service Bus namespace.
    types:
    - uid: string
  - name: queueName
    description: The Service Bus queue name.
    types:
    - uid: string
  - name: type
    description: The kind of authentication to use.
    types:
    - uid: systemAssignedManagedIdentity
    typesTitle: string
- name: ServiceBusTopicV1DestinationConnectionStringAuth
  kind: object
  properties:
  - name: connectionString
    description: The connection string for accessing the Service Bus namespace, including the `EntityPath` of the topic.
    types:
    - uid: string
  - name: type
    description: The kind of authentication to use.
    types:
    - uid: connectionString
    typesTitle: string
- name: ServiceBusTopicV1DestinationSystemAssignedManagedIdentityAuth
  kind: object
  properties:
  - name: hostName
    description: The host name of the Service Bus namespace.
    types:
    - uid: string
  - name: topicName
    description: The Service Bus topic name.
    types:
    - uid: string
  - name: type
    description: The kind of authentication to use.
    types:
    - uid: systemAssignedManagedIdentity
    typesTitle: string
- name: WebhookV1DestinationHeaderAuth
  kind: object
  properties:
  - name: value
    description: Value to use for the Authorization header when making requests.
    types:
    - uid: string
  - name: type
    description: The kind of authentication to use.
    types:
    - uid: header
    typesTitle: string
- name: WebhookV1DestinationOAuthAuth
  kind: object
  properties:
  - name: tokenUrl
    description: URL where an access token can be retrieved.
    types:
    - uid: string
  - name: clientId
    description: OAuth2 client ID used when retrieving the token.
    types:
    - uid: string
  - name: clientSecret
    description: OAuth2 client secret used to retrieve the token.
    types:
    - uid: string
  - name: audience
    description: OAuth2 audience.
    types:
    - uid: string
  - name: scope
    description: OAuth2 scope.
    types:
    - uid: string
  - name: requestType
    description: Content-Type for the token request.
    types:
    - uid: OAuthRequestType
  - name: type
    description: The kind of authentication to use.
    types:
    - uid: oauth
    typesTitle: string
- name: OAuthRequestType
  description: Content-Type for the token request.
  kind: enum
  properties:
  - name: auto
    description: Use automatic Content-Type for token request
    types:
    - uid: string
  - name: json
    description: Content-Type as JSON for token request
    types:
    - uid: string
  - name: urlencoded
    description: Content-Type as UrlEncoded for token request
    types:
    - uid: string
examples:
- name: List all destinations in given export
  request:
    uri: GET https://appsubdomain.azureiotcentral.com/api/dataExport/exports/export1/destinations?api-version=1.1-preview
  responses:
  - statusCode: "200"
    body: >-
      {
        "value": [
          {
            "id": "fa5792a4-ead3-41dc-a972-fbeed33d46ae",
            "displayName": "Web Hook",
            "type": "webhook@v1",
            "url": "https://webhook.site/9bda8769-d540-4d92-946b-48c5a01e59bd",
            "headerCustomizations": {},
            "status": "healthy"
          }
        ]
      }
security: []
metadata:
  description: Learn more about IoT Central service - List all destinations connected to the given export.
errorCodes: []
