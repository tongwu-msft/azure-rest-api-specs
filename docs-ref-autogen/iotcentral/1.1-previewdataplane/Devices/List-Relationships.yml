### YamlMime:RESTOperation
uid: api.iotcentral.1.1-previewdataplane.devices.listrelationships
name: List Relationships
service: IoT Central
groupName: Devices
apiVersion: 1.1-preview
summary: "Given the ID for an upstream device, will return the upstream and the downstream relationships associated with that gateway. These downstream relationships are only those associated with the direct downstream level (they donâ€™t work recursively).  \nList all relationships based on device ID"
consumes:
- application/json
produces:
- application/json
paths:
- content: GET https://{subdomain}.{baseDomain}/api/devices/{deviceId}/relationships/?api-version=1.1-preview
uriParameters:
- name: subdomain
  in: path
  isRequired: true
  description: The application subdomain.
  types:
  - uid: string
- name: baseDomain
  in: path
  isRequired: true
  skipUrlEncoding: true
  description: The base domain for all Azure IoT Central service requests.
  types:
  - uid: string
- name: deviceId
  in: path
  isRequired: true
  description: Unique ID of the device.
  types:
  - uid: string
- name: api-version
  in: query
  isRequired: true
  description: The version of the API being called.
  types:
  - uid: string
responses:
- name: 200 OK
  description: Success
  types:
  - uid: DeviceRelationshipCollection
requestHeader: []
definitions:
- name: DeviceRelationshipCollection
  kind: object
  properties:
  - name: value
    description: The collection of device relationships.
    types:
    - uid: DeviceRelationship
      isArray: true
  - name: nextLink
    description: URL to get the next page of device relationships.
    types:
    - uid: string
- name: DeviceRelationship
  description: An object representing the relationship between an upstream and a downstream device.
  kind: object
  properties:
  - name: id
    isReadyOnly: true
    description: The unique identifier of this relationship.
    types:
    - uid: string
  - name: name
    description: The name which describes this relationship between given devices from source device template.
    types:
    - uid: string
  - name: source
    description: The device ID of the source (parent) device.
    types:
    - uid: string
  - name: target
    description: The device ID of the target (child) device.
    types:
    - uid: string
examples:
- name: List device relationships
  request:
    uri: GET https://appsubdomain.azureiotcentral.com/api/devices/device1/relationships/?api-version=1.1-preview
  responses:
  - statusCode: "200"
    body: >-
      {
        "value": [
          {
            "id": "relationship1",
            "name": "Relationship1",
            "source": "device1",
            "target": "device2"
          },
          {
            "id": "relationship2",
            "name": "Relationship2",
            "source": "device3",
            "target": "device1"
          },
          {
            "id": "relationship3",
            "name": "Relationship3",
            "source": "device1",
            "target": "device4"
          }
        ]
      }
security: []
metadata:
  description: Given the ID for an upstream device, will return the upstream and the downstream relationships associated with that gateway.
errorCodes: []
