### YamlMime:RESTOperation
uid: management.azure.com.loganalytics.clusters.listbyresourcegroup
name: List By Resource Group
service: Log Analytics
groupName: Clusters
apiVersion: 2021-06-01
summary: Gets Log Analytics clusters in a resource group.
consumes:
- application/json
produces:
- application/json
paths:
- content: GET https://management.azure.com/subscriptions/{subscriptionId}/resourcegroups/{resourceGroupName}/providers/Microsoft.OperationalInsights/clusters?api-version=2021-06-01
uriParameters:
- name: subscriptionId
  in: path
  isRequired: true
  description: The ID of the target subscription.
  types:
  - uid: string
- name: resourceGroupName
  in: path
  isRequired: true
  description: The name of the resource group. The name is case insensitive.
  types:
  - uid: string
- name: api-version
  in: query
  isRequired: true
  description: The API version to use for this operation.
  types:
  - uid: string
responses:
- name: 200 OK
  description: OK response definition.
  types:
  - uid: ClusterListResult
- name: Other Status Codes
  description: Error response describing why the operation failed.
  types:
  - uid: ErrorResponse
requestHeader: []
definitions:
- name: ClusterListResult
  description: The list clusters operation response.
  kind: object
  properties:
  - name: nextLink
    description: The link used to get the next page of recommendations.
    types:
    - uid: string
  - name: value
    description: A list of Log Analytics clusters.
    types:
    - uid: Cluster
      isArray: true
- name: ErrorResponse
  description: Error response
  kind: object
  properties:
  - name: error
    description: The error object.
    types:
    - uid: ErrorDetail
- name: Cluster
  description: The top level Log Analytics cluster resource container.
  kind: object
  properties:
  - name: identity
    description: The identity of the resource.
    types:
    - uid: Identity
  - name: sku
    description: The sku properties.
    types:
    - uid: ClusterSku
  - name: properties.clusterId
    isReadyOnly: true
    description: The ID associated with the cluster.
    types:
    - uid: string
  - name: properties.provisioningState
    isReadyOnly: true
    description: The provisioning state of the cluster.
    types:
    - uid: ClusterEntityStatus
  - name: properties.isDoubleEncryptionEnabled
    description: Configures whether cluster will use double encryption. This Property can not be modified after cluster creation. Default value is 'true'
    types:
    - uid: boolean
  - name: properties.isAvailabilityZonesEnabled
    description: Sets whether the cluster will support availability zones. This can be set as true only in regions where Azure Data Explorer support Availability Zones. This Property can not be modified after cluster creation. Default value is 'true' if region supports Availability Zones.
    types:
    - uid: boolean
  - name: properties.billingType
    description: The cluster's billing type.
    types:
    - uid: BillingType
  - name: properties.keyVaultProperties
    description: The associated key properties.
    types:
    - uid: keyVaultProperties
  - name: properties.lastModifiedDate
    isReadyOnly: true
    description: The last time the cluster was updated.
    types:
    - uid: string
  - name: properties.createdDate
    isReadyOnly: true
    description: The cluster creation time
    types:
    - uid: string
  - name: properties.associatedWorkspaces
    description: The list of Log Analytics workspaces associated with the cluster
    types:
    - uid: AssociatedWorkspace
      isArray: true
  - name: properties.capacityReservationProperties
    description: Additional properties for capacity reservation
    types:
    - uid: CapacityReservationProperties
  - name: tags
    description: Resource tags.
    types:
    - uid: object
      isDictionary: true
      additionalTypes:
      - uid: string
      - uid: string
  - name: location
    description: The geo-location where the resource lives
    types:
    - uid: string
  - name: id
    isReadyOnly: true
    description: Fully qualified resource ID for the resource. Ex - /subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/{resourceProviderNamespace}/{resourceType}/{resourceName}
    types:
    - uid: string
  - name: name
    isReadyOnly: true
    description: The name of the resource
    types:
    - uid: string
  - name: type
    isReadyOnly: true
    description: The type of the resource. E.g. "Microsoft.Compute/virtualMachines" or "Microsoft.Storage/storageAccounts"
    types:
    - uid: string
- name: ErrorDetail
  description: The error detail.
  kind: object
  properties:
  - name: code
    isReadyOnly: true
    description: The error code.
    types:
    - uid: string
  - name: message
    isReadyOnly: true
    description: The error message.
    types:
    - uid: string
  - name: target
    isReadyOnly: true
    description: The error target.
    types:
    - uid: string
  - name: details
    isReadyOnly: true
    description: The error details.
    types:
    - uid: ErrorDetail
      isArray: true
  - name: additionalInfo
    isReadyOnly: true
    description: The error additional info.
    types:
    - uid: ErrorAdditionalInfo
      isArray: true
- name: Identity
  description: Identity for the resource.
  kind: object
  properties:
  - name: principalId
    isReadyOnly: true
    description: The principal ID of resource identity.
    types:
    - uid: string
  - name: tenantId
    isReadyOnly: true
    description: The tenant ID of resource.
    types:
    - uid: string
  - name: type
    description: Type of managed service identity.
    types:
    - uid: IdentityType
  - name: userAssignedIdentities
    description: "The list of user identities associated with the resource. The user identity dictionary key references will be ARM resource ids in the form: '/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.ManagedIdentity/userAssignedIdentities/{identityName}'."
    types:
    - uid: object
      isDictionary: true
      additionalTypes:
      - uid: string
      - uid: UserIdentityProperties
- name: ClusterSku
  description: The cluster sku definition.
  kind: object
  properties:
  - name: capacity
    description: The capacity value
    types:
    - uid: Capacity
  - name: name
    description: The name of the SKU.
    types:
    - uid: ClusterSkuNameEnum
- name: ClusterEntityStatus
  description: The provisioning state of the cluster.
  kind: enum
  properties:
  - name: Creating
    types:
    - uid: string
  - name: Succeeded
    types:
    - uid: string
  - name: Failed
    types:
    - uid: string
  - name: Canceled
    types:
    - uid: string
  - name: Deleting
    types:
    - uid: string
  - name: ProvisioningAccount
    types:
    - uid: string
  - name: Updating
    types:
    - uid: string
- name: BillingType
  description: The cluster's billing type.
  kind: enum
  properties:
  - name: Cluster
    types:
    - uid: string
  - name: Workspaces
    types:
    - uid: string
- name: keyVaultProperties
  description: The key vault properties.
  kind: object
  properties:
  - name: keyVaultUri
    description: The Key Vault uri which holds they key associated with the Log Analytics cluster.
    types:
    - uid: string
  - name: keyName
    description: The name of the key associated with the Log Analytics cluster.
    types:
    - uid: string
  - name: keyVersion
    description: The version of the key associated with the Log Analytics cluster.
    types:
    - uid: string
  - name: keyRsaSize
    description: Selected key minimum required size.
    types:
    - uid: integer
- name: AssociatedWorkspace
  description: The list of Log Analytics workspaces associated with the cluster.
  kind: object
  properties:
  - name: workspaceId
    isReadyOnly: true
    description: The id of the assigned workspace.
    types:
    - uid: string
  - name: workspaceName
    isReadyOnly: true
    description: The name id the assigned workspace.
    types:
    - uid: string
  - name: resourceId
    isReadyOnly: true
    description: The ResourceId id the assigned workspace.
    types:
    - uid: string
  - name: associateDate
    isReadyOnly: true
    description: The time of workspace association.
    types:
    - uid: string
- name: CapacityReservationProperties
  description: The Capacity Reservation properties.
  kind: object
  properties:
  - name: lastSkuUpdate
    isReadyOnly: true
    description: The last time Sku was updated.
    types:
    - uid: string
  - name: minCapacity
    isReadyOnly: true
    description: Minimum CapacityReservation value in GB.
    types:
    - uid: integer
- name: ErrorAdditionalInfo
  description: The resource management error additional info.
  kind: object
  properties:
  - name: type
    isReadyOnly: true
    description: The additional info type.
    types:
    - uid: string
  - name: info
    isReadyOnly: true
    description: The additional info.
    types:
    - uid: object
- name: IdentityType
  description: Type of managed service identity.
  kind: enum
  properties:
  - name: SystemAssigned
    types:
    - uid: string
  - name: UserAssigned
    types:
    - uid: string
  - name: None
    types:
    - uid: string
- name: UserIdentityProperties
  description: User assigned identity properties.
  kind: object
  properties:
  - name: principalId
    isReadyOnly: true
    description: The principal id of user assigned identity.
    types:
    - uid: string
  - name: clientId
    isReadyOnly: true
    description: The client id of user assigned identity.
    types:
    - uid: string
- name: Capacity
  description: The capacity value
  kind: enum
  properties:
  - name: "500"
    types:
    - uid: Integer
  - name: "1000"
    types:
    - uid: Integer
  - name: "2000"
    types:
    - uid: Integer
  - name: "5000"
    types:
    - uid: Integer
- name: ClusterSkuNameEnum
  description: The name of the SKU.
  kind: enum
  properties:
  - name: CapacityReservation
    types:
    - uid: string
examples:
- name: ClustersGet
  request:
    uri: GET https://management.azure.com/subscriptions/00000000-0000-0000-0000-00000000000/resourcegroups/oiautorest6685/providers/Microsoft.OperationalInsights/clusters?api-version=2021-06-01
    codeTab: |+
      # [HTTP](#tab/HTTP)
      ``` http
      GET https://management.azure.com/subscriptions/00000000-0000-0000-0000-00000000000/resourcegroups/oiautorest6685/providers/Microsoft.OperationalInsights/clusters?api-version=2021-06-01
      ```

      # [Java](#tab/Java)
      ``` java
      import com.azure.core.util.Context;

      /** Samples for Clusters ListByResourceGroup. */
      public final class Main {
          /*
           * x-ms-original-file: specification/operationalinsights/resource-manager/Microsoft.OperationalInsights/stable/2021-06-01/examples/ClustersListByResourceGroup.json
           */
          /**
           * Sample code: ClustersGet.
           *
           * @param manager Entry point to LogAnalyticsManager.
           */
          public static void clustersGet(com.azure.resourcemanager.loganalytics.LogAnalyticsManager manager) {
              manager.clusters().listByResourceGroup("oiautorest6685", Context.NONE);
          }
      }

      ```
      Read this [SDK documentation](https://github.com/Azure/azure-sdk-for-java/blob/azure-resourcemanager-loganalytics_1.0.0-beta.3/sdk/loganalytics/azure-resourcemanager-loganalytics/README.md) on how to add the SDK to your project and authenticate.
      # [Go](#tab/Go)
      ``` go
      package armoperationalinsights_test

      import (
      	"context"
      	"log"

      	"github.com/Azure/azure-sdk-for-go/sdk/azidentity"
      	"github.com/Azure/azure-sdk-for-go/sdk/resourcemanager/operationalinsights/armoperationalinsights/v2"
      )

      // Generated from example definition: https://github.com/Azure/azure-rest-api-specs/tree/main/specification/operationalinsights/resource-manager/Microsoft.OperationalInsights/stable/2021-06-01/examples/ClustersListByResourceGroup.json
      func ExampleClustersClient_NewListByResourceGroupPager() {
      	cred, err := azidentity.NewDefaultAzureCredential(nil)
      	if err != nil {
      		log.Fatalf("failed to obtain a credential: %v", err)
      	}
      	ctx := context.Background()
      	client, err := armoperationalinsights.NewClustersClient("00000000-0000-0000-0000-00000000000", cred, nil)
      	if err != nil {
      		log.Fatalf("failed to create client: %v", err)
      	}
      	pager := client.NewListByResourceGroupPager("oiautorest6685",
      		nil)
      	for pager.More() {
      		nextResult, err := pager.NextPage(ctx)
      		if err != nil {
      			log.Fatalf("failed to advance page: %v", err)
      		}
      		for _, v := range nextResult.Value {
      			// TODO: use page item
      			_ = v
      		}
      	}
      }

      ```
      Read this [SDK documentation](https://github.com/Azure/azure-sdk-for-go/blob/sdk%2Fresourcemanager%2Foperationalinsights%2Farmoperationalinsights%2Fv2.0.0-beta.2/sdk/resourcemanager/operationalinsights/armoperationalinsights/README.md) on how to add the SDK to your project and authenticate.
      # [JavsScirpt](#tab/JavsScirpt)
      ``` js
      const { OperationalInsightsManagementClient } = require("@azure/arm-operationalinsights");
      const { DefaultAzureCredential } = require("@azure/identity");

      /**
       * This sample demonstrates how to Gets Log Analytics clusters in a resource group.
       *
       * @summary Gets Log Analytics clusters in a resource group.
       * x-ms-original-file: specification/operationalinsights/resource-manager/Microsoft.OperationalInsights/stable/2021-06-01/examples/ClustersListByResourceGroup.json
       */
      async function clustersGet() {
        const subscriptionId = "00000000-0000-0000-0000-00000000000";
        const resourceGroupName = "oiautorest6685";
        const credential = new DefaultAzureCredential();
        const client = new OperationalInsightsManagementClient(credential, subscriptionId);
        const resArray = new Array();
        for await (let item of client.clusters.listByResourceGroup(resourceGroupName)) {
          resArray.push(item);
        }
        console.log(resArray);
      }

      clustersGet().catch(console.error);

      ```
      Read this [SDK documentation](https://github.com/Azure/azure-sdk-for-js/blob/%40azure%2Farm-operationalinsights_8.0.1/sdk/operationalinsights/arm-operationalinsights/README.md) on how to add the SDK to your project and authenticate.
  responses:
  - statusCode: "200"
    body: >-
      {
        "value": [
          {
            "properties": {
              "keyVaultProperties": {
                "keyVaultUri": "https://aztest2170.vault.azure.net",
                "keyName": "aztest2170cert",
                "keyVersion": "654ft6c4e63845cbb50fd6fg51540429"
              },
              "provisioningState": "Succeeded",
              "clusterId": "5b02755b-5bf4-430c-9487-45502a2a7e62"
            },
            "sku": {
              "name": "CapacityReservation",
              "capacity": 1000
            },
            "id": "/subscriptions/594038b5-1093-476e-a366-482775671c11/resourcegroups/calbot-rg/providers/microsoft.operationalinsights/clusters/testresourcelock",
            "identity": {
              "principalId": "356d057d-cba5-44dd-8a30-b2e547bc416b",
              "tenantId": "72f988bf-86f1-41af-91ab-2d7cd011db47",
              "type": "SystemAssigned"
            },
            "name": "TestResourceLock",
            "type": "Microsoft.OperationalInsights/clusters",
            "location": "eastus"
          }
        ]
      }
security:
- name: azure_auth
  type: oauth2
  description: Azure Active Directory OAuth2 Flow
  flow: implicit
  authorizationUrl: https://login.microsoftonline.com/common/oauth2/authorize
  scopes:
  - name: user_impersonation
    description: impersonate your user account
metadata:
  description: Learn more about Log Analytics service - Gets Log Analytics clusters in a resource group.
errorCodes: []
