### YamlMime:RESTOperation
uid: management.azure.com.batchmanagement.batchaccount.listoutboundnetworkdependenciesendpoints
name: List Outbound Network Dependencies Endpoints
service: Batch Management
groupName: Batch Account
apiVersion: 2022-06-01
summary: Lists the endpoints that a Batch Compute Node under this Batch Account may call as part of Batch service administration. If you are deploying a Pool inside of a virtual network that you specify, you must make sure your network allows outbound access to these endpoints. Failure to allow access to these endpoints may cause Batch to mark the affected nodes as unusable. For more information about creating a pool inside of a virtual network, see https://docs.microsoft.com/azure/batch/batch-virtual-network
consumes:
- application/json
produces:
- application/json
paths:
- content: GET https://management.azure.com/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Batch/batchAccounts/{accountName}/outboundNetworkDependenciesEndpoints?api-version=2022-06-01
uriParameters:
- name: subscriptionId
  in: path
  isRequired: true
  description: The Azure subscription ID. This is a GUID-formatted string (e.g. 00000000-0000-0000-0000-000000000000)
  types:
  - uid: string
- name: resourceGroupName
  in: path
  isRequired: true
  description: The name of the resource group that contains the Batch account.
  types:
  - uid: string
- name: accountName
  in: path
  isRequired: true
  description: The name of the Batch account.
  types:
  - uid: string
  pattern: ^[a-zA-Z0-9]+$
- name: api-version
  in: query
  isRequired: true
  description: The API version to be used with the HTTP request.
  types:
  - uid: string
responses:
- name: 200 OK
  description: The operation was successful. The response contains a list of outbound network dependencies.
  types:
  - uid: OutboundEnvironmentEndpointCollection
- name: Other Status Codes
  description: Error response describing why the operation failed.
  types:
  - uid: CloudError
requestHeader: []
definitions:
- name: OutboundEnvironmentEndpointCollection
  description: Values returned by the List operation.
  kind: object
  properties:
  - name: value
    isReadyOnly: true
    description: The collection of outbound network dependency endpoints returned by the listing operation.
    types:
    - uid: OutboundEnvironmentEndpoint
      isArray: true
  - name: nextLink
    description: The continuation token.
    types:
    - uid: string
- name: CloudError
  description: An error response from the Batch service.
  kind: object
  properties:
  - name: error
    description: The body of the error response.
    types:
    - uid: CloudErrorBody
- name: OutboundEnvironmentEndpoint
  description: A collection of related endpoints from the same service for which the Batch service requires outbound access.
  kind: object
  properties:
  - name: category
    isReadyOnly: true
    description: The type of service that the Batch service connects to.
    types:
    - uid: string
  - name: endpoints
    isReadyOnly: true
    description: The endpoints for this service to which the Batch service makes outbound calls.
    types:
    - uid: EndpointDependency
      isArray: true
- name: CloudErrorBody
  description: An error response from the Batch service.
  kind: object
  properties:
  - name: code
    description: An identifier for the error. Codes are invariant and are intended to be consumed programmatically.
    types:
    - uid: string
  - name: message
    description: A message describing the error, intended to be suitable for display in a user interface.
    types:
    - uid: string
  - name: target
    description: The target of the particular error. For example, the name of the property in error.
    types:
    - uid: string
  - name: details
    description: A list of additional details about the error.
    types:
    - uid: CloudErrorBody
      isArray: true
- name: EndpointDependency
  description: A domain name and connection details used to access a dependency.
  kind: object
  properties:
  - name: domainName
    isReadyOnly: true
    description: The domain name of the dependency. Domain names may be fully qualified or may contain a * wildcard.
    types:
    - uid: string
  - name: description
    isReadyOnly: true
    description: Human-readable supplemental information about the dependency and when it is applicable.
    types:
    - uid: string
  - name: endpointDetails
    isReadyOnly: true
    description: The list of connection details for this endpoint.
    types:
    - uid: EndpointDetail
      isArray: true
- name: EndpointDetail
  description: Details about the connection between the Batch service and the endpoint.
  kind: object
  properties:
  - name: port
    isReadyOnly: true
    description: The port an endpoint is connected to.
    types:
    - uid: integer
examples:
- name: ListOutboundNetworkDependencies
  request:
    uri: GET https://management.azure.com/subscriptions/subid/resourceGroups/default-azurebatch-japaneast/providers/Microsoft.Batch/batchAccounts/sampleacct/outboundNetworkDependenciesEndpoints?api-version=2022-06-01
    codeTab: |+
      # [HTTP](#tab/HTTP)
      ``` http
      GET https://management.azure.com/subscriptions/subid/resourceGroups/default-azurebatch-japaneast/providers/Microsoft.Batch/batchAccounts/sampleacct/outboundNetworkDependenciesEndpoints?api-version=2022-06-01
      ```

      # [JavaScript](#tab/JavaScript)
      ``` js
      const { BatchManagementClient } = require("@azure/arm-batch");
      const { DefaultAzureCredential } = require("@azure/identity");

      /**
       * This sample demonstrates how to Lists the endpoints that a Batch Compute Node under this Batch Account may call as part of Batch service administration. If you are deploying a Pool inside of a virtual network that you specify, you must make sure your network allows outbound access to these endpoints. Failure to allow access to these endpoints may cause Batch to mark the affected nodes as unusable. For more information about creating a pool inside of a virtual network, see https://docs.microsoft.com/azure/batch/batch-virtual-network
       *
       * @summary Lists the endpoints that a Batch Compute Node under this Batch Account may call as part of Batch service administration. If you are deploying a Pool inside of a virtual network that you specify, you must make sure your network allows outbound access to these endpoints. Failure to allow access to these endpoints may cause Batch to mark the affected nodes as unusable. For more information about creating a pool inside of a virtual network, see https://docs.microsoft.com/azure/batch/batch-virtual-network
       * x-ms-original-file: specification/batch/resource-manager/Microsoft.Batch/stable/2022-06-01/examples/BatchAccountListOutboundNetworkDependenciesEndpoints.json
       */
      async function listOutboundNetworkDependencies() {
        const subscriptionId = "subid";
        const resourceGroupName = "default-azurebatch-japaneast";
        const accountName = "sampleacct";
        const credential = new DefaultAzureCredential();
        const client = new BatchManagementClient(credential, subscriptionId);
        const resArray = new Array();
        for await (let item of client.batchAccountOperations.listOutboundNetworkDependenciesEndpoints(
          resourceGroupName,
          accountName
        )) {
          resArray.push(item);
        }
        console.log(resArray);
      }

      listOutboundNetworkDependencies().catch(console.error);

      ```
      Read this [SDK documentation](https://github.com/Azure/azure-sdk-for-js/blob/%40azure%2Farm-batch_7.2.0/sdk/batch/arm-batch/README.md) on how to add the SDK to your project and authenticate.
  responses:
  - statusCode: "200"
    body: >-
      {
        "value": [
          {
            "category": "Azure Batch",
            "endpoints": [
              {
                "domainName": "sampleacct.japaneast.batch.azure.com",
                "description": "Applicable to job manager tasks, tasks that use job scoped authentication, or any task that makes calls to Batch.",
                "endpointDetails": [
                  {
                    "port": 443
                  }
                ]
              },
              {
                "domainName": "japaneast.service.batch.azure.com",
                "description": "Applicable to all Azure Batch pools.",
                "endpointDetails": [
                  {
                    "port": 443
                  }
                ]
              }
            ]
          },
          {
            "category": "Azure Storage",
            "endpoints": [
              {
                "domainName": "autostorageaccountname.blob.core.windows.net",
                "description": "AutoStorage endpoint for this Batch account. Applicable to all Azure Batch pools under this account.",
                "endpointDetails": [
                  {
                    "port": 443
                  }
                ]
              },
              {
                "domainName": "*.blob.core.windows.net",
                "description": "Applicable to all Azure Batch pools.",
                "endpointDetails": [
                  {
                    "port": 443
                  }
                ]
              },
              {
                "domainName": "*.table.core.windows.net",
                "description": "Applicable to all Azure Batch pools.",
                "endpointDetails": [
                  {
                    "port": 443
                  }
                ]
              },
              {
                "domainName": "*.queue.core.windows.net",
                "description": "Applicable to all Azure Batch pools.",
                "endpointDetails": [
                  {
                    "port": 443
                  }
                ]
              }
            ]
          },
          {
            "category": "Microsoft Package Repository",
            "endpoints": [
              {
                "domainName": "packages.microsoft.com",
                "description": "Only applicable to pools containing a Mount Configuration. Learn about Mount Configurations in Batch at https://docs.microsoft.com/azure/batch/virtual-file-mount.",
                "endpointDetails": [
                  {
                    "port": 443
                  }
                ]
              }
            ]
          },
          {
            "category": "Azure Key Vault",
            "endpoints": [
              {
                "domainName": "*.vault.azure.net",
                "description": "Only applicable to pools containing a Disk Encryption Configuration and whose VM size does not support encryption at host. Learn more about disk encryption in Azure Batch at https://docs.microsoft.com/azure/batch/disk-encryption. Learn more about encryption at host and supported VM sizes at https://docs.microsoft.com/azure/virtual-machines/disks-enable-host-based-encryption-portal.",
                "endpointDetails": [
                  {
                    "port": 443
                  }
                ]
              }
            ]
          }
        ]
      }
security:
- name: azure_auth
  type: oauth2
  description: Azure Active Directory OAuth2 Flow
  flow: implicit
  authorizationUrl: https://login.microsoftonline.com/common/oauth2/authorize
  scopes:
  - name: user_impersonation
    description: impersonate your user account
metadata:
  description: Lists the endpoints that a Batch Compute Node under this Batch Account may call as part of Batch service administration.
errorCodes: []
