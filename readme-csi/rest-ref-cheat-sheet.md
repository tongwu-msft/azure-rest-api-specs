## REST API content developer cheat sheet

Being a collection of guidance assembled throughout the migration of REST API documentation from ACOM to [docs.microsoft.com](http://docs.microsoft.com).

* [Repo layout](#azure-docs-rest-apis-repo-layout)
* [Linking](#linking)
* [Metadata](#metadata)
* [Definitions](#definitions)

## azure-docs-rest-apis repo layout

| Directory | Contents | Editable by/contact | Notes/intended usage |
| --------- | -------- | -------------------- | -------------------- |
| breadcrumb | toc.yml | Jessie Huang (jehuan) | Defines the breadcrumbing at top-left above the "Filter" box. |
| docs-ref-autogen   | generated API reference (*.yml) | continuous integration (generated--**do not manually edit**) | You can [link](#linking) to these, but **do not edit** them. These are generated by continuous integration (CI) when a Swagger spec is modified in the [azure-rest-api-specs](https://github.com/Azure/azure-rest-api-specs) repo.
| docs-ref-conceptual | index.md, toc.md, ref conceptual (*.md) | content devs | Index (landing), ToC, and [ref conceptual topics](#definitions) for individual service APIs. |
| readme-csi | guidance for content devs | content devs | Guides, cheat sheets, style guides for working with REST API content on docs.microsoft.com. |
| scripts | CI scripts | Jessie Huang (jehuan) | Scripts used by continuous integration (CI). |
| .| index.md | Bryan Lamos (bryanla) | all-up index (landing page) for [Azure REST API](https://docs.microsoft.com/rest/api/index) |

## Linking

To link from [ref conceptual](#definitions) to REST operation or operation group, use either of the following two formats:

* `[text](xref:uid)`
* `@uid`

Examples:
* `[List Operations](xref:management.azure.com.advisor.operations.list)`
* `@management.azure.com.advisor.operations.list`

`uid` is defined in yaml:
```yaml
### YamlMime:RESTOperationGroup
uid: management.azure.com.batchmanagement.application
```

To link to the top-level node of a REST API, reference the `index.md` under `docs-ref-conceptual`.

Example:
* `[Azure Search Management REST](~/docs-ref-conceptual/searchmanagement/index.md)`

To link to a service landing page in azure-docs-pr, use the following syntax. The slash afterward is required. This will load, by default, the 'index.md' file residing in that directory.

Example:
* `/azure/service-directory/`

## Metadata

Each topic that you place in your service's directory in [/docs-ref-conceptual](../docs-ref-conceptual) needs a metadata section at the top. Include the the triple-hyphens (`---`) before/after the fields.

```yaml
---
ms.assetid: leave BLANK for now
ms.title: page title | Microsoft Docs
ms.prod: get from list
ms.service: get from list
author: githubalias
ms.author: msalias
ms.manager: msalias
---
```

* Use only *one* of `ms.prod` or `ms.service`, do not use both.
* You can find the **get from list** list of available metadata field values at [aka.ms/skyeye/meta](https://aka.ms/skyeye/meta).

## Definitions

* **ref conceptual** -- Markdown topics that are REST API-specific for a service, but are not generated by CI ([example 1](../docs-ref-conceptual/documentdb/restful-interactions-with-documentdb-resources.md), [example 2](../docs-ref-conceptual/batchservice/batch-status-and-error-codes.md)).
