# Slice Run

## Get run
Gets runs for a data slice of a table in a data factory.  
  
### Request  
 The Get Run request may be constructed as follows (HTTPS is recommended):  
  
|**HTTP Verb**|**Request URI**|**HTTP Version**|  
|-|-|-|  
|GET|https://management.azure.com/subscriptions/{SubscriptionID}/resourcegroups/{ResourceGroupName}/providers/Microsoft.DataFactory/datafactories/{DataFactoryName}/tables/{TableName}/sliceruns?start={StartDateTime}&api-version={api-version}|HTTP/1.1|  
  
#### URI Parameters  
  
|**URI Parameter**|**Required**|**Description**|  
|-|-|-|  
|SubscriptionID|Yes|Your Azure subscription ID.|  
|ResourceGroupName|Yes|A unique name for the resource group that hosts your Azure data factory.|  
|DataFactoryName|Yes|Name for the data factory that you want to find your table in.|  
|TableName|Yes|Name of table you want to find.|  
|StartDateTime|Yes|The datetime when slices start.|  
|Api-Version|Yes|Specifies the version of the protocol used to make this request.|  
  
#### Request Headers  
 The following table describes the request headers.  
  
|**Request Header**|**Required**|**Description**|  
|-|-|-|  
|x-ms-client-request-id|Yes|the operation id for this request.|  
  
#### Request Body  
 None.  
  
### Response  
 The response includes an HTTP status code, a set of response headers, and a response body.  
  
#### Status Code  
  
-   200 (OK) - if the request was completed successfully.  
  
-   400 (Bad Request) - if the request body fails validation.  
  
-   404 (NotFound) - if the subscription or resource group does not exist.  
  
#### Response Headers  
 The response for this operation includes the following headers. The response may also include additional standard HTTP headers. All standard headers conform to the [HTTP/1.1 protocol specification](http://go.microsoft.com/fwlink/?linkid=150478).  
  
|**Response Header**|**Description**|  
|-|-|  
|x-ms-request-id|A unique identifier for the current operation, service generated.|  
|x-ms-ratelimit-remaining-subscription-writes|The remaining limit for current subscription.|  
|x-ms-correlation-request-id|Specifies the tracing correlation Id for the request; the resource provider **must** log this so that end-to-end requests can be correlated across Azure.|  
|x-ms-routing-request-id|Location+DateTime+correlation-request-ID|  
|Date|A UTC date/time value generated by the service that indicates the time at which the response was initiated.|  
  
#### Response Body  
  
```  
  
{  
    "value": [  
    {  
        "id": <ID>,  
        "errorMessage": <ErrorMessage>,  
        "dataArtifactId": <DataArtifactID>,  
        "tableName": <TableName>,  
        "pipelineId": <PipelineID>,  
        "pipelineName": <PipelineName>,  
        "activityId": <ActivityID>,  
        "activityName": <ActivityName>,  
        "computeClusterName": <ComputeClusterName>  
        "status": <Status>,  
        "processingStartTime": <ProcessingStartTime>,  
        "processingEndTime": <ProcessingEndTime>,  
        "batchTime": <BatchTime>,  
        "percentComplete": 100,  
        "dataSliceStart": <SliceStartTime>,  
        "dataSliceEnd": <SliceEndTime>,  
        "timestamp": <TimeStamp>  
        "retryAttempt": 0,  
        "type": "<Type of activity>",  
        "hasLogs": true,  
        "activityRunId": "<ActivityRunID>",  
         "properties": {},  
         "executionEvents": null,  
         "inputRunRecordReferences": null,  
         "outputRunRecordReferences": null,  
         "activityInputProperties": {}  
    }  
    ]  
}  
  
```  
  
 The following table describes the elements of the response body.  
  
|**Element Name**|**Description**|  
|-|-|  
|ID|ID of this run.|  
|ErrorMessage|Any error message related to this run. If no errors occurred in this run, it would be **null**.|  
|RetryCount|The number indicates how many times the slices would be retried.|  
|DataArtifactID|ID of the table.|  
|TableName|Name of the table.|  
|PipelineID|ID of the pipeline.|  
|PipelineName|Name of the pipeline.|  
|ActivityID|ID of this activity.|  
|ActivityName|Name of this activity.|  
|ComputeClusterName|Name of the cluster which used to compute this activity, usually, name of the related linked service.|  
|Status|Current status of this activity.|  
|ProcessingStartTime|The time when process starts.|  
|ProcessingEndTime|The time when process ends.|  
|BatchTime|The time batched for this run.|  
|SliceStartTime|The time when this slice is scheduled to start.|  
|SliceEndTime|The time when this slice is scheduled to end.|  
|TimeStamp|The time when this slice actually starts to work.|  
  
### Sample Request and Response  
 Example URI:  
  
```  
GET:https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/ADF/providers/Microsoft.DataFactory/datafactories/SPRestDataFactory/datasets/EmpSQLTable/sliceruns?startTime=2015-12-09T12:00:00.0000000&api-version=2015-10-01  
  
```  
  
 The request is sent with the following headers.  
  
```  
x-ms-client-request-id        : 00000000-1111-1111-1111-000000000000  
```  
  
 After the request has been sent, the following response is returned.  
  
 Response header:  
  
```  
  
Status Code:  
OK  
  
Headers:  
Pragma                        : no-cache  
x-ms-request-id               : 00000000-1111-1111-1111-000000000000  
x-ms-ratelimit-remaining-subscription-writes: 799985  
x-ms-correlation-request-id   : 00000000-1111-2222-1111-000000000000  
x-ms-routing-request-id       : WESTUS:20141203T213307Z: 00000000-1111-2222-1111-000000000000  
Strict-Transport-Security     : max-age=31536000; includeSubDomains  
Cache-Control                 : no-cache  
Date                          : Wed, 03 Dec 2014 21:33:07 GMT  
Server                        : Microsoft-IIS/8.5  
X-Powered-By                  : ASP.NET  
  
```  
  
 The response includes the following XML body.  
  
```  
  
{  
  "value": [  
    {  
      "id": "b61bd003-8d96-4cff-a704-6d97619ff95c_000000000000000000_635852628000000000_EmpSQLTable",  
      "errorMessage": null,  
      "dataArtifactId": "376389aa-cef0-4418-8c80-4a8f2af3a84b",  
      "tableName": "EmpSQLTable",  
      "pipelineId": "c5326985-fd60-4f46-bbae-130d318759c6",  
      "pipelineName": "ADFTutorialPipeline",  
      "activityId": "5d130359-17e9-b0a6-65bc-4902bd2881e8",  
      "activityName": "CopyFromBlobToSQL",  
      "computeClusterName": null,  
      "status": "Succeeded",  
      "processingStartTime": "2016-02-22T22:53:18.0323409Z",  
      "processingEndTime": "2016-02-22T22:54:20.6254421Z",  
      "batchTime": "2015-12-09T13:00:00Z",  
      "percentComplete": 100,  
      "dataSliceStart": "2015-12-09T12:00:00Z",  
      "dataSliceEnd": "2015-12-09T13:00:00Z",  
      "timestamp": "2016-02-22T22:53:18.0323409Z",  
      "retryAttempt": 0,  
      "type": "Copy",  
      "hasLogs": false,  
      "activityRunId": "00000000-0000-0000-0000-000000000000",  
      "properties": {},  
      "executionEvents": null,  
      "inputRunRecordReferences": null,  
      "outputRunRecordReferences": null,  
      "activityInputProperties": {}  
    }  
  ]  
}  
  
```  
  
  
## Save run log
Downloads log files from HDInsight processing.  
  
### Request  
 The Save Log request may be constructed as follows (HTTPS is recommended):  
  
|**HTTP Verb**|**Request URI**|**HTTP Version**|  
|-|-|-|  
|GET|https://management.azure.com/subscriptions/{SubscriptionID}/resourcegroups/{ResourceGroupName}/providers/Microsoft.DataFactory/datafactories/{DataFactoryName}/runs/{RunID}/logInfo?start={StartDateTime}&api-version={api-version}|HTTP/1.1|  
  
#### URI Parameters  
  
|**URI Parameter**|**Required**|**Description**|  
|-|-|-|  
|SubscriptionID|Yes|Your Azure subscription ID.|  
|ResourceGroupName|Yes|A unique name for the resource group that hosts your Azure data factory.|  
|DataFactoryName|Yes|Name for the data factory that you want to create your table in.|  
|RunID|Yes|The unique ID of the run.|  
|StartDateTime|Yes|The date and time when slices start.|  
|Api-Version|Yes|Specifies the version of the protocol used to make this request.|  
  
#### Request Headers  
 The following table describes the request headers.  
  
|**Request Header**|**Required**|**Description**|  
|-|-|-|  
|x-ms-client-request-id|Yes|The operation id for this request.|  
  
#### Request Body  
 None.  
  
### Response  
 The response includes an HTTP status code, a set of response headers, and a response body.  
  
#### Status Code  
  
-   200 (OK) - if the request completed successfully.  
  
-   400 (Bad Request) - if the request body fails validation.  
  
-   404 (NotFound) - if the subscription or resource group does not exist.  
  
#### Response Headers  
 The response for this operation includes the following headers. The response may also include additional standard HTTP headers. All standard headers conform to the [HTTP/1.1 protocol specification](http://go.microsoft.com/fwlink/?linkid=150478).  
  
|**Response Header**|**Description**|  
|-|-|  
|x-ms-request-id|A unique identifier for the current operation, service generated.|  
|x-ms-ratelimit-remaining-subscription-writes|The remaining limit for current subscription.|  
|x-ms-correlation-request-id|Specifies the tracing correlation Id for the request. The resource provider must log this so that end-to-end requests can be correlated across Azure.|  
|x-ms-routing-request-id|Location+DateTime+correlation-request-ID|  
|Date|A UTC date/time value generated by the service that indicates the time at which the response was initiated.|  
  
#### Response Body  
 The response body is a URI address which points to the full log information of the run.  
  
```  
  
{  
    https://{StorageAccountName>.blob.core.windows.net/{RunID>?<RunInfo>   
}  
  
```  
  
 The following table describes the elements of the response body.  
  
|**Element Name**|**Description**|  
|-|-|  
|StorageAccountName|ID of this run.|  
|RunID|First part of your full RunID.|  
|RunInfo|Include start date time and end date time of this run.|  
  
### Sample Request and Response  
 Example URI:  
  
```  
GET: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/adf/providers/Microsoft.DataFactory/datafactories/test/runs/fb7cd921-ea00-4bb8-8cb3-77cdc28d5dd3_635536800000000000_635537664000000000_tabletest/logInfo?api-version=2015-10-01  
```  
  
 The request is sent with the following headers.  
  
```  
x-ms-client-request-id        : 00000000-1111-1111-1111-000000000000  
```  
  
 After the request has been sent, the following response is returned.  
  
```  
  
Status Code:  
OK  
  
Headers:  
Pragma                        : no-cache  
x-ms-request-id               : 00000000-1111-1111-1111-000000000000  
x-ms-ratelimit-remaining-subscription-writes: 799999  
x-ms-correlation-request-id   : 00000000-1111-2222-1111-000000000000  
x-ms-routing-request-id       : WESTUS:20141203T213307Z: 00000000-1111-2222-1111-000000000000  
Strict-Transport-Security     : max-age=31536000; includeSubDomains  
Cache-Control                 : no-cache  
Date                          : Wed, 03 Dec 2014 21:33:07 GMT  
Server                        : Microsoft-IIS/8.5  
X-Powered-By                  : ASP.NET  
  
```  
  
 The response includes the following XML body.  
  
```  
https://SampleTest.blob.core.windows.net/fb7cd921-ea00-4bb8-8cb3-77cdc28d5dd3?sv=2015-02-14&sr=c&sig=caUttHryqvL%2BaEntTWG4kIOsMpUkgM2EkD7nG2Aikqg%3D&st=2015-12-10T16%3A44%3A19Z&se=2015-12-10T18%3A44%3A19Z&sp=rl  
```  
  