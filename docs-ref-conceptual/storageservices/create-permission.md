---
title: Create Permission (REST) - Azure Storage
description: The Create Permission operation creates a permission (a security descriptor) at the share level. The created security descriptor can be used for the files/directories in the share. 
author: pemari-msft

ms.date: 09/23/2019
ms.service: storage
ms.topic: reference
ms.author: pemari
---

# Create Permission

The `Create Permission` operation creates a permission (a security descriptor) at the share level. The created security descriptor can be used for the files/directories in the share. This API is available starting in version 2019-02-02.
  
## Request  
The `Create Permission` request may be constructed as follows. HTTPS is recommended.  
  
|Method|Request URI|HTTP Version|  
|------------|-----------------|------------------|  
|`PUT`|`https://myaccount.file.core.windows.net/myshare?restype=share&comp=filepermission`|HTTP/1.1|  
  
Replace the path components shown in the request URI with your own, as follows:  
  
|Path Component|Description|  
|--------------------|-----------------|  
|*myaccount*|The name of your storage account.|  
|*myshare*|The name of your file share. It may include only lower-case characters.|  
  
For details on path naming restrictions, see [Naming and Referencing Shares, Directories, Files, and Metadata](Naming-and-Referencing-Shares--Directories--Files--and-Metadata.md).  
  
### URI parameters
  
The following additional parameters may be specified on the request URI.  
  
|Parameter|Description|  
|---------------|-----------------|  
|`timeout`|Optional. The `timeout` parameter is expressed in seconds. For more information, see [Setting Timeouts for Queue Service Operations](Setting-Timeouts-for-Queue-Service-Operations.md).|  

### Request Headers  
 The following table describes required and optional request headers.  
  
|Request Header|Description|  
|--------------------|-----------------|  
| `Authorization` | Required. Specifies the authorization scheme, storage account name, and signature. For more information, see [Authorize requests to Azure Storage](authorize-requests-to-azure-storage.md)
|`Date` or `x-ms-date`|Required. Specifies the Coordinated Universal Time (UTC) for the request. For more information, see [Authorize requests to Azure Storage](authorize-requests-to-azure-storage.md).|  
|`x-ms-version`|Optional. Specifies the version of the operation to use for this request. For more information, see [Versioning for the Azure Storage Services](Versioning-for-the-Azure-Storage-Services.md).|  
  
### Request Body  
To create a security descriptor, the request body is a JSON document that describes permission in the [Security Descriptor Definition Language (SDDL)](https://docs.microsoft.com/windows/win32/secauthz/security-descriptor-definition-language). SDDL must have an owner, group, and [discretionary access control list (DACL)](https://docs.microsoft.com/windows/win32/secauthz/access-control-lists). The provided SDDL string format of the security descriptor should not have domain relative identifier (like 'DU', 'DA', 'DD' etc.) in it.

```
{
    "Permission": "SDDL"
}
```
  
### Sample Request  
  
```   
PUT https://myaccount.file.core.windows.net/myshare?restype=share&comp=filepermission HTTP/1.1  

Request Headers:  
x-ms-date: Mon, 27 Jan 2014 22:15:50 GMT  
x-ms-version: 2014-02-14  
Authorization: SharedKey myaccount:4KdWDiTdA9HmIF9+WF/8WfYOpUrFhieGIT7f0av+GEI=  

Request Body:
{"permission": "O:S-1-5-21-2127521184-1604012920-1887927527-21560751G:S-1-5-21-2127521184-1604012920-1887927527-513D:AI(A;;FA;;;SY)(A;;FA;;;BA)(A;;0x1200a9;;;S-1-5-21-397955417-626881126-188441444-3053964)"}
```  
  
## Response  
The response includes an HTTP status code and a set of response headers.  
  
### Status Code
A successful operation returns status code 201 (Created).
  
For information about status codes, see [Status and Error Codes](Status-and-Error-Codes2.md).
  
### Response Headers  
The response for this operation includes the following headers. The response may also include additional standard HTTP headers. All standard headers conform to the [HTTP/1.1 protocol specification](https://go.microsoft.com/fwlink/?linkid=150478).  
  
|Response Header|Description|  
|---------------------|-----------------|  
| `x-ms-request-id` | This header uniquely identifies the request that was made and can be used for troubleshooting the request. |
| `x-ms-version` | Indicates the version of the File service used to execute the request. |
| `Date` | A UTC date/time value generated by the service that indicates the time at which the response was initiated. |
| `x-ms-file-permission-key` | Key of the permission created. |
  
### Response Body  
None.  
  
## Authorization  
Only the account owner or a caller having share level SAS with write and delete authorization may call this operation.

## Remarks

To make the SSDL format portable across domain and non-domain joined machines, the caller can use the ConvertSecurityDescriptorToStringSecurityDescriptor() Windows function to get the base SDDL string for the security descriptor and then replace the SDDL notation mentioned in the below table with their SID values.

| Name | SDDL notation | SID value | Description |
|------|---------------|-----------|-------------|
| Local Administrator | LA | S-1-5-21domain-500 | A user account for the system administrator. By default, it is the only user account that is given full control over the system. |
| Local Guests | LG | S-1-5-21domain-501 | A user account for people who do not have individual accounts. This user account does not require a password. By default, the Guest account is disabled. |
| Certificate publishers | CA | S-1-5-21domain-517 | A global group that includes all computers that are running an enterprise certification authority. Cert Publishers are authorized to publish certificates for User objects in Active Directory. |
| Domain Admins | DA | S-1-5-21domain-512 | A global group whose members are authorized to administer the domain. By default, the Domain Admins group is a member of the Administrators group on all computers that have joined a domain, including the domain controllers. Domain Admins is the default owner of any object that is created by any member of the group. |
| Domain Controllers | DD | S-1-5-21domain-516 | A global group that includes all domain controllers in the domain. New domain controllers are added to this group by default. |
| Domain Users | DU | S-1-5-21domain-513 | A global group that, by default, includes all user accounts in a domain. When you create a user account in a domain, it is added to this group by default. |
| Domain Guests | DG | S-1-5-21domain-514 | A global group that, by default, has only one member, the domain's built-in Guest account. |
| Domain Computers | DC | S-1-5-21domain-515 | A global group that includes all clients and servers that have joined the domain. |
| Schema Admins | SA | S-1-5-21root domain-518 | A universal group in a native-mode domain; a global group in a mixed-mode domain. The group is authorized to make schema changes in Active Directory. By default, the only member of the group is the Administrator account for the forest root domain. |
| Enterprise Admins | EA | S-1-5-21root domain-519 | A universal group in a native-mode domain; a global group in a mixed-mode domain. The group is authorized to make forest-wide changes in Active Directory, such as adding child domains. By default, the only member of the group is the Administrator account for the forest root domain. |
| Group Policy Creator Owners | PA | S-1-5-21domain-520 | A global group that is authorized to create new Group Policy objects in Active Directory. |
| RAS and IAS Servers | RS | S-1-5-21domain-553 | A domain local group. By default, this group has no members. Servers in this group have Read Account Restrictions and Read Logon Information access to User objects in the Active Directory domain local group. |
| Enterprise Read-only Domain Controllers | ED | S-1-5-21domain-498 | A Universal group. Members of this group are Read-Only Domain Controllers in the enterprise. |
| Read-only Domain Controllers | RO | S-1-5-21domain-521 | A Global group. Members of this group are Read-Only Domain Controllers in the domain. |

