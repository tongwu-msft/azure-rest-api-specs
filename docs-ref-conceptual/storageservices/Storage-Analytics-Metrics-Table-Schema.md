---
title: "Storage Analytics Metrics Table Schema (classic)"
ms.date: 05/15/2019
ms.prod: azure
ms.service: storage
ms.topic: reference
author: tamram
translation.priority.mt:
  - de-de
  - es-es
  - fr-fr
  - it-it
  - ja-jp
  - ko-kr
  - pt-br
  - ru-ru
  - zh-cn
  - zh-tw
---

# Storage Analytics Metrics Table Schema (classic)

> [!NOTE]
>  Storage Analytics metrics are now Classic metrics. Microsoft recommends using [Storage Metrics in Azure Monitor](/azure/storage/common/storage-metrics-in-azure-monitor) instead of Storage Analytics metrics.

Storage Analytics Metrics aggregates transaction data and capacity data for a storage account. Transactions metrics are recorded for the Blob, Table, Queue, and File services. Currently, capacity metrics are only recorded for the Blob service. Transaction data and capacity data is stored in well-known tables, as described in the following table:  

|Metrics Level|Table Names|Supported for Versions|  
|-------------------|-----------------|----------------------------|  
|Hourly transactions|- $MetricsTransactionsBlob<br /><br /> - $MetricsTransactionsTable<br /><br /> - $MetricsTransactionsQueue|Versions prior to 2013-08-15 only. While these names are still supported, it’s recommended that you switch to using the tables listed below.|  
|Hourly transactions|- $MetricsHourPrimaryTransactionsBlob<br /><br /> - $MetricsHourPrimaryTransactionsTable<br /><br /> - $MetricsHourPrimaryTransactionsQueue<br /><br /> - $MetricsHourPrimaryTransactionsFile|For the Blob, Table, and Queue services,  supported for all versions.<br /><br /> For the File service, supported for version 2015-04-05 and later only.|  
|Minute transactions|- $MetricsMinutePrimaryTransactionsBlob<br /><br /> - $MetricsMinutePrimaryTransactionsTable<br /><br /> - $MetricsMinutePrimaryTransactionsQueue<br /><br /> - $MetricsMinutePrimaryTransactionsFile|For the Blob, Table, and Queue services,  supported for all versions.<br /><br /> For the File service, supported for version 2015-04-05 and later only.|  
|Hourly metrics, secondary location|- $MetricsHourSecondaryTransactionsBlob<br /><br /> - $MetricsHourSecondaryTransactionsTable<br /><br /> - $MetricsHourSecondaryTransactionsQueue|All versions. Read-access geo-redundant replication (RA-GRS) must be enabled.<br /><br /> Note that RA-GRS is not yet available for the File service.|  
|Minute metrics, secondary location|- $MetricsMinuteSecondaryTransactionsBlob<br /><br /> - $MetricsMinuteSecondaryTransactionsTable<br /><br /> - $MetricsMinuteSecondaryTransactionsQueue|All versions. Read-access geo-redundant replication (RA-GRS) must be enabled.<br /><br /> Note that RA-GRS is not yet available for the File service.|  
|Capacity (Blob service only)|$MetricsCapacityBlob|All versions.|  

> [!NOTE]
>  The above metrics tables are not displayed when a table listing operation is performed. Each metrics table must be accessed directly based on its name.  

 The schema for these tables is defined in the following sections. For more information about Metrics, see [About Storage Analytics Metrics](About-Storage-Analytics-Metrics.md).  

## $MetricsCapacityBlob Table Schema  

 Two entities are stored in the *$MetricsCapacityBlob* table each day, one summarizing storage account blob and container size details and the other summarizing size details of the `$logs` container.  

|Column Name|Type|Description|Example|  
|-----------------|----------|-----------------|-------------|  
|**PartitionKey**|string|A timestamp in UTC that represents the starting hour for metrics, in the following format: `YYYYMMddThhmm`. Because data is only reported once per day, `hhmm` (hour and minutes) will always be `0000`. This value is the *PartitionKey* for all entries in the table.|`20110809T0000`|  
|**RowKey**|string|Indicates whether the capacity table entity applies to user data or Storage Analytics data, in the following format: `<data&#124;analytics>`. If the value is `data`, this table entity indicates capacity metrics for user data only. If the value is `analytics`, this table entity indicates capacity metrics for Storage Analytics data only, specifically the capacity consumed by the `$logs` blob container.|`data`|  
|**Capacity**|long|The amount of storage used by the storage account’s Blob service, in bytes.|`488920186`|  
|**ContainerCount**|long|The number of blob containers in the storage account’s Blob service.|`237`|  
|**ObjectCount**|long|The number of committed and uncommitted blobs in the storage account’s Blob service.|`8441`|  

## Transactions Table Schema  

 Each table that stores transaction data, whether by hour or by minute, uses the same schema. Additionally, each table writes two kinds of summary data:  

-   Service-level summary data, which contains hourly aggregates for a storage service.  
-   API-level summary data, which contains hourly aggregates for a specific API.  

> [!NOTE]
>  Each entry in a table entity only applies to transactions that occurred during the hour (for hourly metrics) or minute (for minute metrics) specified by **Time** (*PartitionKey*).  

|Column Name|Type|Description|Example|  
|-----------------|----------|-----------------|-------------|  
|**Time** (*PartitionKey*)|string|For hour metrics, a timestamp in UTC that represents the starting hour for metrics, in the following format: `YYYYMMddThhmm`. This value is the partition key for all entries in the table.  For minute metrics, the format is the same, but the minute value is an approximate indication of the time when the transactions were executed. Transactions from earlier minutes may be aggregated into the transaction for the current minute if they were missed in the previous interval.|`20110809T0800`|  
|**AccessType** and **TransactionType** (*RowKey*)|string|A combination of **AccessType** and **TransactionType**, in the following format: `<user&#124;system>;<all&#124;api-name>`. These values comprise the *RowKey* for an individual table entity. The following list describes the values of each type:<br /><br /> - `user` is specified for all user requests, including anonymous, authenticated, and SAS requests.<br /><br /> - `system` is specified only for requests from Storage Analytics.<br /><br /> -                      `all` is specified if the table entity is a summary of all requests made to the storage service.<br /><br /> - `api-name` indicates the applicable operation for the summary entity. For a list of possible operations, see [Storage Analytics Logged Operations and Status Messages](Storage-Analytics-Logged-Operations-and-Status-Messages.md).|`user;GetBlob`|  
|**TotalIngress**|long|The amount of ingress data, in bytes. This number includes ingress from an external client into Azure Storage as well as ingress within Azure.|`28395`|  
|**TotalEgress**|long|The amount of egress data, in bytes. This number includes egress from an external client into Azure Storage as well as egress within Azure. As a result, this number does not reflect billable egress.|`8021`|  
|**TotalRequests**|long|The number of requests made to a storage service or the specified API operation. This number includes successful and failed requests, as well as requests which produced errors. Requests that produce the following status messages are included in this number:<br /><br /> **Status Messages (Blob, Queue, Table, File)**<br /><br /> - Success<br /><br /> - AnonymousSuccess<br /><br /> - SASSuccess<br /><br /> - ThrottlingError<br /><br /> - AnonymousThrottlingError<br /><br /> - SASThrottlingError<br /><br /> - NetworkError<br /><br /> - AnonymousNetworkError<br /><br /> - SASNetworkError<br /><br /> - ClientOtherError<br /><br /> - AnonymousClientOtherError<br /><br /> - SASClientOtherError<br /><br /> - ServerOtherError<br /><br /> - AnonymousServerOtherError<br /><br /> - SASServerOtherError<br /><br /> - ClientTimeoutError<br /><br /> - AnonymousClientTimeoutError<br /><br /> - SASClientTimeoutError<br /><br /> - ServerTimeoutError<br /><br /> - AnonymousServerTimeoutError<br /><br /> - SASServerTimeoutError<br /><br /> - AuthorizationError<br /><br /> - AnonymousAuthorizationError<br /><br /> - SASAuthorizationError<br /><br /> **Status Messages (File SMB)**<br /><br /> - Negotiate<br /><br /> - SessionSetup<br /><br /> - Logoff<br /><br /> - TreeConnect<br /><br /> - TreeDisconnect<br /><br /> - Create<br /><br /> - Close<br /><br /> - Flush<br /><br /> - Read<br /><br /> - Write<br /><br /> - Lock<br /><br /> - Ioctl<br /><br /> - Cancel<br /><br /> - Echo<br /><br /> - QueryDirectory<br /><br /> - ChangeNotify<br /><br /> - QueryInfo<br /><br /> - SetInfo<br /><br /> - OplockBreak<br /><br /> For more information on these status messages, see [Storage Analytics Logged Operations and Status Messages](Storage-Analytics-Logged-Operations-and-Status-Messages.md).|`20914`|  
|**TotalBillableRequests**|long|The number of billable requests. Requests that produce the following status messages are included in this number:<br /><br /> **Status Messages (Blob, Queue, Table, File)**<br /><br /> - Success<br /><br /> - AnonymousSuccess<br /><br /> - SASSuccess<br /><br /> - NetworkError<br /><br /> - AnonymousNetworkError<br /><br /> - SASNetworkError<br /><br /> - ClientOtherError<br /><br /> - AnonymousClientOtherError<br /><br /> - SASClientOtherError<br /><br /> - ClientTimeoutError<br /><br /> - AnonymousClientTimeoutError<br /><br /> - SASClientTimeoutError<br /><br /> - AuthorizationError<br /><br /> - SASAuthorizationError<br /><br /> **Status Messages (File SMB)**<br /><br /> - Negotiate<br /><br /> - SessionSetup<br /><br /> - Logoff<br /><br /> - TreeConnect<br /><br /> - TreeDisconnect<br /><br /> - Create<br /><br /> - Close<br /><br /> - Flush<br /><br /> - Read<br /><br /> - Write<br /><br /> - Lock<br /><br /> - Ioctl<br /><br /> - Cancel<br /><br /> - Echo<br /><br /> - QueryDirectory<br /><br /> - ChangeNotify<br /><br /> - QueryInfo<br /><br /> - SetInfo<br /><br /> - OplockBreak<br /><br /> For more information on these status messages, see [Storage Analytics Logged Operations and Status Messages](Storage-Analytics-Logged-Operations-and-Status-Messages.md). For more information on how billing is provisioned in Azure Storage, see [Understanding Azure Storage Billing - Bandwidth, Transactions, and Capacity](http://blogs.msdn.com/b/windowsazurestorage/archive/2010/07/09/understanding-windows-azure-storage-billing-bandwidth-transactions-and-capacity.aspx).|`14297`|  
|**Availability**|double|The percentage of availability for the storage service or the specified API operation. **Availability** is calculated by taking the **TotalBillableRequests** value and dividing it by the number of applicable requests, including those that produced unexpected errors. All unexpected errors result in reduced availability for the storage service or the specified API operation. Requests that produce the following status messages are included in this percentage:<br /><br /> **Status Messages (Blob, Queue, Table, File)**<br /><br /> - Success<br /><br /> - AnonymousSuccess<br /><br /> - SASSuccess<br /><br /> - NetworkError<br /><br /> - AnonymousNetworkError<br /><br /> - SASNetworkError<br /><br /> - ClientOtherError<br /><br /> - AnonymousClientOtherError<br /><br /> - SASClientOtherError<br /><br /> - ServerOtherError<br /><br /> - AnonymousServerOtherError<br /><br /> - SASServerOtherError<br /><br /> - ClientTimeoutError<br /><br /> - AnonymousClientTimeoutError<br /><br /> - SASClientTimeoutError<br /><br /> - ServerTimeoutError<br /><br /> - AnonymousServerTimeoutError<br /><br /> - SASServerTimeoutError<br /><br /> - AuthorizationError<br /><br /> - SASAuthorizationError<br /><br /> **Status Messages (File SMB)**<br /><br /> - Negotiate<br /><br /> - SessionSetup<br /><br /> - Logoff<br /><br /> - TreeConnect<br /><br /> - TreeDisconnect<br /><br /> - Create<br /><br /> - Close<br /><br /> - Flush<br /><br /> - Read<br /><br /> - Write<br /><br /> - Lock<br /><br /> - Ioctl<br /><br /> - Cancel<br /><br /> - Echo<br /><br /> - QueryDirectory<br /><br /> - ChangeNotify<br /><br /> - QueryInfo<br /><br /> - SetInfo<br /><br /> - OplockBreak<br /><br /> For more information on these status messages, see [Storage Analytics Logged Operations and Status Messages](Storage-Analytics-Logged-Operations-and-Status-Messages.md).|`99.99`|  
|**AverageE2ELatency**|double|The average end-to-end latency of successful requests made to a storage service or the specified API operation, in milliseconds. This value includes the required processing time within Azure Storage to read the request, send the response, and receive acknowledgment of the response.|`19.333333`|  
|**AverageServerLatency**|double|The average latency used by Azure Storage to process a successful request, in milliseconds. This value does not include the network latency specified in **AverageE2ELatency**.|`11.4`|  
|**PercentSuccess**|double|The percentage of successful requests.<br /><br /> Note that if there are no requests made against storage, the value of the **PercentSuccess** metric will  be zero. If you are monitoring **PercentSuccess**, you will also want to ensure that the value of the **TotalRequests** metric is greater than zero.|`68`|  
|**PercentThrottlingError**|double|The percentage of requests that failed with a throttling error.|`0`|  
|**PercentTimeoutError**|double|The percentage of requests that failed with a timeout error. This number includes both client and server timeouts.|`0`|  
|**PercentServerOtherError**|double|The percentage of requests that failed with a ServerOtherError. For more information on this status message, see [Storage Analytics Logged Operations and Status Messages](Storage-Analytics-Logged-Operations-and-Status-Messages.md).|`0`|  
|**PercentClientOtherError**|double|The percentage of requests that failed with a ClientOtherError. For more details about this status message, see [Storage Analytics Logged Operations and Status Messages](Storage-Analytics-Logged-Operations-and-Status-Messages.md).|`0`|  
|**PercentAuthorizationError**|double|The percentage of requests that failed with an AuthorizationError. For more details about this status message, see [Storage Analytics Logged Operations and Status Messages](Storage-Analytics-Logged-Operations-and-Status-Messages.md).|`0`|  
|**PercentNetworkError**|double|The percentage of requests that failed with a NetworkError. For more details about this status message, see [Storage Analytics Logged Operations and Status Messages](Storage-Analytics-Logged-Operations-and-Status-Messages.md).|`0`|  
|**Success**|long|The number of successful requests made to a storage service or the specified API operation. For more details about this status message, see [Storage Analytics Logged Operations and Status Messages](Storage-Analytics-Logged-Operations-and-Status-Messages.md).|`10239`|  
|**AnonymousSuccess**|long|The number of successful anonymous requests made to a storage service or the specified API operation. For more details about this status message, see [Storage Analytics Logged Operations and Status Messages](Storage-Analytics-Logged-Operations-and-Status-Messages.md).|`8239`|  
|**SASSuccess**|long|The number of successful Shared Access Signature (SAS) requests made to a storage service or the specified API operation. For more details about this status message, see [Storage Analytics Logged Operations and Status Messages](Storage-Analytics-Logged-Operations-and-Status-Messages.md).|`432`|  
|**ThrottlingError**|long|The number of authenticated requests to a storage service or the specified API operation that returned a ThrottlingError. For more details about this status message, see [Storage Analytics Logged Operations and Status Messages](Storage-Analytics-Logged-Operations-and-Status-Messages.md).|`0`|  
|**AnonymousThrottlingError**|long|The number of anonymous requests to a storage service or the specified API operation that returned an AnonymousThrottlingError. For more details about this status message, see [Storage Analytics Logged Operations and Status Messages](Storage-Analytics-Logged-Operations-and-Status-Messages.md).|`0`|  
|**SASThrottlingError**|long|The number of SAS requests to a storage service or the specified API operation that returned a SASThrottlingError. For more details about this status message, see [Storage Analytics Logged Operations and Status Messages](Storage-Analytics-Logged-Operations-and-Status-Messages.md).|`0`|  
|**ClientTimeoutError**|long|The number of authenticated requests to a storage service or the specified API operation that returned a ClientTimeoutError. For more details about this status message, see [Storage Analytics Logged Operations and Status Messages](Storage-Analytics-Logged-Operations-and-Status-Messages.md).|`0`|  
|**AnonymousClientTimeoutError**|long|The number of anonymous requests to a storage service or the specified API operation that returned an AnonymousClientTimeoutError. For more details about this status message, see [Storage Analytics Logged Operations and Status Messages](Storage-Analytics-Logged-Operations-and-Status-Messages.md).|`0`|  
|**SASClientTimeoutError**|long|The number of SAS requests to a storage service or the specified API operation that returned an SASClientTimeoutError. For more details about this status message, see [Storage Analytics Logged Operations and Status Messages](Storage-Analytics-Logged-Operations-and-Status-Messages.md).|`0`|  
|**ServerTimeoutError**|long|The number of authenticated requests to a storage service or the specified API operation that returned a ServerTimeoutError. For more details about this status message, see [Storage Analytics Logged Operations and Status Messages](Storage-Analytics-Logged-Operations-and-Status-Messages.md).|`0`|  
|**AnonymousServerTimeoutError**|long|The number of anonymous requests to a storage service or the specified API operation that returned an AnonymousServerTimeoutError. For more details about this status message, see [Storage Analytics Logged Operations and Status Messages](Storage-Analytics-Logged-Operations-and-Status-Messages.md).|`0`|  
|**SASServerTimeoutError**|long|The number of SAS requests to a storage service or the specified API operation that returned an SASServerTimeoutError. For more details about this status message, see [Storage Analytics Logged Operations and Status Messages](Storage-Analytics-Logged-Operations-and-Status-Messages.md).|`0`|  
|**ClientOtherError**|long|The number of authenticated requests to a storage service or the specified API operation that returned a ClientOtherError. For more details about this status message, see [Storage Analytics Logged Operations and Status Messages](Storage-Analytics-Logged-Operations-and-Status-Messages.md).|`0`|  
|**SASClientOtherError**|long|The number of SAS requests to a storage service or the specified API operation that returned an SASClientOtherError. For more details about this status message, see [Storage Analytics Logged Operations and Status Messages](Storage-Analytics-Logged-Operations-and-Status-Messages.md).|`0`|  
|**AnonymousClientOtherError**|long|The number of anonymous requests to a storage service or the specified API operation that returned an AnonymousClientOtherError. For more details about this status message, see [Storage Analytics Logged Operations and Status Messages](Storage-Analytics-Logged-Operations-and-Status-Messages.md).|`0`|  
|**ServerOtherError**|long|The number of authenticated requests to a storage service or the specified API operation that returned a ServerOtherError. For more details about this status message, see [Storage Analytics Logged Operations and Status Messages](Storage-Analytics-Logged-Operations-and-Status-Messages.md).|`0`|  
|**AnonymousServerOtherError**|long|The number of anonymous requests to a storage service or the specified API operation that returned an AnonymousServerOtherError. For more details about this status message, see [Storage Analytics Logged Operations and Status Messages](Storage-Analytics-Logged-Operations-and-Status-Messages.md).|`0`|  
|**SASServerOtherError**|long|The number of SAS requests to a storage service or the specified API operation that returned an SASServerOtherError. For more details about this status message, see [Storage Analytics Logged Operations and Status Messages](Storage-Analytics-Logged-Operations-and-Status-Messages.md).|`0`|  
|**AuthorizationError**|long|The number of authenticated requests to a storage service or the specified API operation that returned an AuthorizationError. For more details about this status message, see [Storage Analytics Logged Operations and Status Messages](Storage-Analytics-Logged-Operations-and-Status-Messages.md).|`0`|  
|**AnonymousAuthorizationError**|long|The number of anonymous requests to a storage service or the specified API operation that returned an AnonymousAuthorizationError. For more details about this status message, see [Storage Analytics Logged Operations and Status Messages](Storage-Analytics-Logged-Operations-and-Status-Messages.md).|`0`|  
|**SASAuthorizationError**|long|The number of SAS requests to a storage service or the specified API operation that returned an SASAuthorizationError. For more details about this status message, see [Storage Analytics Logged Operations and Status Messages](Storage-Analytics-Logged-Operations-and-Status-Messages.md).|`0`|  
|**NetworkError**|long|The number of authenticated requests to a storage service or the specified API operation that returned a NetworkError. For more details about this status message, see [Storage Analytics Logged Operations and Status Messages](Storage-Analytics-Logged-Operations-and-Status-Messages.md).|`0`|  
|**AnonymousNetworkError**|long|The number of anonymous requests to a storage service or the specified API operation that returned an AnonymousNetworkError. For more details about this status message, see [Storage Analytics Logged Operations and Status Messages](Storage-Analytics-Logged-Operations-and-Status-Messages.md).|`0`|  
|**SASNetworkError**|long|The number of SAS requests to a storage service or the specified API operation that returned a SASNetworkError. For more details about this status message, see [Storage Analytics Logged Operations and Status Messages](Storage-Analytics-Logged-Operations-and-Status-Messages.md).|`0`|  

## See Also  

* [Storage Analytics Logged Operations and Status Messages](Storage-Analytics-Logged-Operations-and-Status-Messages.md)
